This file contains the per-file change logs from the Descent I for PC,
Descent I for Mac, and Descent II source releases, converted to "cvs
log" style.

RCS file: /Smoke/miner/source/2d/bitmap.c,v
Working file: 2d/bitmap.c
head: 1.11
description: Graphical routines for manipulating grs_bitmaps.
----------------------------
revision 1.11
date: 1995/08/23 18:46:06;  author: allender;  state: Exp;
fixed compiler warning
----------------------------
revision 1.10
date: 1995/08/14 14:25:45;  author: allender;  state: Exp;
changed transparency color to 0
----------------------------
revision 1.9
date: 1995/07/05 16:04:51;  author: allender;  state: Exp;
transparency/game kitchen changes
----------------------------
revision 1.8
date: 1995/06/15 09:50:48;  author: allender;  state: Exp;
new malloc to align bitmap on 8 byte bountry
----------------------------
revision 1.7
date: 1995/05/12 11:52:19;  author: allender;  state: Exp;
changed memory stuff again
----------------------------
revision 1.6
date: 1995/05/11 12:48:34;  author: allender;  state: Exp;
nge transparency color
----------------------------
revision 1.5
date: 1995/05/04 19:59:21;  author: allender;  state: Exp;
use NewPtr instead of malloc
----------------------------
revision 1.4
date: 1995/04/27 07:33:04;  author: allender;  state: Exp;
rearrange functions
----------------------------
revision 1.3
date: 1995/04/19 14:37:17;  author: allender;  state: Exp;
removed dead asm code
----------------------------
revision 1.2
date: 1995/04/18 12:04:51;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 08:48:06;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.17
date: 1994/11/18 22:50:25;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.16
date: 1994/11/10 15:59:46;  author: john;  state: Exp;
Fixed bugs with canvas's being created with bogus bm_flags.
----------------------------
revision 1.15
date: 1994/10/26 23:55:53;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.14
date: 1994/09/19 14:40:21;  author: john;  state: Exp;
Changed dpmi stuff.
----------------------------
revision 1.13
date: 1994/09/19 11:44:04;  author: john;  state: Exp;
Changed call to allocate selector to the dpmi module.
----------------------------
revision 1.12
date: 1994/06/09 13:14:57;  author: john;  state: Exp;
Made selectors zero our
out, I meant.
----------------------------
revision 1.11
date: 1994/05/06 12:50:07;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.10
date: 1994/04/08 16:59:39;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.9
date: 1994/03/16 17:21:09;  author: john;  state: Exp;
Added slow palette searching options.
----------------------------
revision 1.8
date: 1994/03/14 17:59:35;  author: john;  state: Exp;
Added function to check bitmap's transparency.
----------------------------
revision 1.7
date: 1994/03/14 17:16:21;  author: john;  state: Exp;
fixed bug with counting freq of pixels.
----------------------------
revision 1.6
date: 1994/03/14 16:55:47;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.5
date: 1994/02/18 15:32:22;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/10/15 16:22:49;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/09/08 17:37:11;  author: john;  state: Exp;
Checking for errors with Yuan...
----------------------------
revision 1.2
date: 1993/09/08 14:46:27;  author: john;  state: Exp;
looking for possible bugs...
----------------------------
revision 1.1
date: 1993/09/08 11:43:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/box.c,v
Working file: 2d/box.c
head: 1.1
description: Graphical routines for drawing boxes.
----------------------------
revision 1.1
date: 1995/03/09 08:49:05;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1994/11/18 22:50:19;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.2
date: 1993/10/15 16:23:31;  author: john;  state: Exp;
y
----------------------------
revision 1.1
date: 1993/09/08 11:43:11;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/canvas.c,v
Working file: 2d/canvas.c
head: 1.7
description: Graphical routines for manipulating grs_canvas's.
----------------------------
revision 1.7
date: 1995/06/15 09:51:01;  author: allender;  state: Exp;
new malloc to align canvas on 8 byte boundry
----------------------------
revision 1.6
date: 1995/05/12 11:52:30;  author: allender;  state: Exp;
changed memory stuff again
----------------------------
revision 1.5
date: 1995/05/04 19:59:49;  author: allender;  state: Exp;
use NewPtr instead of malloc
----------------------------
revision 1.4
date: 1995/05/01 08:38:16;  author: allender;  state: Exp;
work on malloc stuff and other things
----------------------------
revision 1.3
date: 1995/04/27 07:39:33;  author: allender;  state: Exp;
fix variable
----------------------------
revision 1.2
date: 1995/04/19 14:40:14;  author: allender;  state: Exp;
removed pragma
----------------------------
revision 1.1
date: 1995/03/09 08:50:27;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.12
date: 1994/11/28 17:08:29;  author: john;  state: Exp;
Took out some unused functions in linear.asm, moved
gr_linear_movsd from linear.asm to bitblt.c, made sure that
the code in ibiblt.c sets the direction flags before rep movsing.
----------------------------
revision 1.11
date: 1994/11/18 22:50:24;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.10
date: 1994/11/10 15:59:33;  author: john;  state: Exp;
Fixed bugs with canvas's being created with bogus bm_flags.
----------------------------
revision 1.9
date: 1994/06/24 17:26:34;  author: john;  state: Exp;
Made rowsizes bigger than actual screen work with SVGA.
----------------------------
revision 1.8
date: 1994/05/06 12:50:41;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.7
date: 1993/12/08 16:41:26;  author: john;  state: Exp;
fixed color = -1 bug
----------------------------
revision 1.6
date: 1993/10/15 16:22:25;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/09/29 16:14:07;  author: john;  state: Exp;
added globol variables describing current canvas
----------------------------
revision 1.4
date: 1993/09/14 16:03:40;  author: matt;  state: Exp;
Added new function, gr_clear_canvas()
----------------------------
revision 1.3
date: 1993/09/14 13:51:38;  author: matt;  state: Exp;
in gr_init_sub_canvas(), copy bm_rowsize from source canvas
----------------------------
revision 1.2
date: 1993/09/08 17:37:34;  author: john;  state: Exp;
Checking for potential errors
----------------------------
revision 1.1
date: 1993/09/08 11:43:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/2d/clip.h,v
Working file: 2d/clip.h
head: 1.1
description: Macros used for clipping
----------------------------
revision 1.1
date: 1995/03/09 08:51:39;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1993/10/15 16:22:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/09/29 16:14:31;  author: john;  state: Exp;
made work with fix point
----------------------------
revision 1.1
date: 1993/09/08 11:40:53;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/disc.c,v
Working file: 2d/disc.c
head: 1.1
description: Graphical routines for drawing a disk.
----------------------------
revision 1.1
date: 1995/03/09 08:52:14;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.5
date: 1994/11/18 22:50:16;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.4
date: 1994/05/06 12:50:12;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.3
date: 1994/04/22 11:16:04;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/15 16:22:24;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 11:43:24;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/effect2d.h,v
Working file: 2d/effect2d.h
head: 1.1
description: .
----------------------------
revision 1.1
date: 1995/05/05 09:26:41;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1994/02/01 13:18:47;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/01/28 11:59:37;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/effects.c,v
Working file: 2d/effects.c
head: 1.1
description: special effects stuff
----------------------------
revision 1.1
date: 1995/03/09 08:53:09;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1993/10/26 13:18:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/10/25 14:56:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/2d/effects.h,v
Working file: 2d/effects.h
head: 1.1
description: Special effects stuff.
----------------------------
revision 1.1
date: 1995/03/09 08:53:43;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1993/10/26 13:17:58;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/10/25 14:56:02;  author: john;  state: Exp;
Initial revision
head: 1.14
description: Graphical routines for drawing fonts.
----------------------------
revision 1.14
date: 1995/10/03 13:08:31;  author: allender;  state: Exp;
new font code that doesn't use & as underline marker
----------------------------
revision 1.13
date: 1995/09/24 10:50:23;  author: allender;  state: Exp;
fixed signed/unsigned problem causing incorrect character widths
to be generated
----------------------------
revision 1.12
date: 1995/08/14 14:26:01;  author: allender;  state: Exp;
changed transparency color to 0
----------------------------
revision 1.11
date: 1995/07/05 16:05:32;  author: allender;  state: Exp;
transparency/kitchen changes
----------------------------
revision 1.10
date: 1995/05/12 11:52:45;  author: allender;  state: Exp;
changed memory stuff again
----------------------------
revision 1.9
date: 1995/05/11 13:42:00;  author: allender;  state: Exp;
changed char to ubyte in some cases to get extended characters
----------------------------
revision 1.8
date: 1995/05/11 12:48:42;  author: allender;  state: Exp;
change transparency color
----------------------------
revision 1.7
date: 1995/05/04 20:00:07;  author: allender;  state: Exp;
use NewPtr instead of malloc
----------------------------
revision 1.6
date: 1995/05/01 08:38:34;  author: allender;  state: Exp;
memory stuff and other things
----------------------------
revision 1.5
date: 1995/04/27 07:39:06;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1995/04/19 14:38:01;  author: allender;  state: Exp;
changed asm code to C
----------------------------
revision 1.3
date: 1995/04/04 11:40:52;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1995/03/30 15:07:06;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 08:55:04;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.28
date: 1994/11/27 23:08:22;  author: matt;  state: Exp;
Changes for new mprintf calling convention
----------------------------
revision 1.27
date: 1994/11/18 23:54:50;  author: john;  state: Exp;
Made centering work on x = 0x8000 not -0x8000.
----------------------------
revision 1.26
date: 1994/11/18 22:50:23;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.25
date: 1994/11/04 11:10:31;  author: john;  state: Exp;
Took the & out of string sizing.
----------------------------
revision 1.24
date: 1994/11/04 10:06:36;  author: john;  state: Exp;
Added fade table for fading fonts. Made font that partially clips
not print a warning message.
----------------------------
revision 1.23
date: 1994/09/29 10:09:06;  author: john;  state: Exp;
Added real clipping to text.
----------------------------
revision 1.22
date: 1994/09/12 19:27:51;  author: john;  state: Exp;
Fixed bug with unclipped fonts clipping.
----------------------------
revision 1.21
date: 1994/09/12 17:16:59;  author: john;  state: Exp;
Added clipping.
----------------------------
revision 1.20
date: 1994/08/28 16:43:01;  author: matt;  state: Exp;
Added centering if x==0x8000
----------------------------
revision 1.19
date: 1994/08/15 15:01:11;  author: matt;  state: Exp;
Close font file after reading
----------------------------
revision 1.18
date: 1994/08/12 18:17:42;  author: matt;  state: Exp;
Fixed stupid bug that cause first char in font not to print
----------------------------
revision 1.17
date: 1994/08/11 18:00:17;  author: matt;  state: Exp;
Cleaned up code, fixed string width bug.
----------------------------
revision 1.16
date: 1994/08/10 18:46:11;  author: matt;  state: Exp;
Fixed a couple of little things
----------------------------
revision 1.15
date: 1994/08/10 18:36:20;  author: matt;  state: Exp;
Changed font file format.  Made chars not in font plot as spaces.  Font file
now stores palette for color font & remaps on load.
----------------------------
revision 1.14
date: 1994/08/10 12:27:27;  author: matt;  state: Exp;
Took out unneeded int3
----------------------------
revision 1.13
date: 1994/08/10 12:25:26;  author: matt;  state: Exp;
Added support for colors fonts & kerned fonts
Made our own font file format
----------------------------
revision 1.12
date: 1994/07/22 17:19:00;  author: john;  state: Exp;
made proportional font width be the max width.
----------------------------
revision 1.11
date: 1994/05/06 12:50:26;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.10
date: 1994/01/31 11:08:12;  author: john;  state: Exp;
fixed bug with order of frees.
----------------------------
revision 1.9
date: 1994/01/31 10:36:40;  author: john;  state: Exp;
Free'd variable size font data.
----------------------------
revision 1.8
date: 1994/01/27 17:17:40;  author: john;  state: Exp;
Made error if font file doesn't exist.
----------------------------
revision 1.7
date: 1993/10/26 13:17:48;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1993/10/15 16:23:25;  author: john;  state: Exp;
y
----------------------------
revision 1.5
date: 1993/09/28 19:05:50;  author: john;  state: Exp;
added support for \n in gr_string and gr_get_string_size
----------------------------
revision 1.4
date: 1993/09/28 12:46:49;  author: matt;  state: Exp;
On error, now call Error() instead of exit().
----------------------------
revision 1.3
date: 1993/09/20 11:35:31;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/09/08 15:54:39;  author: john;  state: Exp;
renamed ReadFile to readfontfile to prevent conflicts with others.
----------------------------
revision 1.1
date: 1993/09/08 11:43:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/gpixel.c,v
Working file: 2d/gpixel.c
head: 1.1
description: Graphical routines for getting a pixel's value.
----------------------------
revision 1.1
date: 1995/03/09 08:55:42;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.5
date: 1994/11/18 22:50:20;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.4
date: 1994/05/06 12:50:08;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.3
date: 1993/10/15 16:22:50;  author: john;  state: Exp;
y
----------------------------
revision 1.2
date: 1993/09/29 16:15:00;  author: john;  state: Exp;
optimized
----------------------------
revision 1.1
date: 1993/09/08 11:43:40;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/gr.c,v
Working file: 2d/gr.c
head: 1.12
description: Graphical routines for setting video modes, etc.
----------------------------
revision 1.12
date: 1995/12/01 09:14:18;  author: allender;  state: Exp;
stupid comment to check PC rcs
----------------------------
revision 1.11
date: 1995/10/21 23:45:45;  author: allender;  state: Exp;
clear screen to black at close
----------------------------
revision 1.10
date: 1995/10/18 01:08:14;  author: allender;  state: Exp;
call gr_palette_gamma functionc
----------------------------
revision 1.9
date: 1995/09/22 14:29:15;  author: allender;  state: Exp;
fixed aspect at F1_0
----------------------------
revision 1.8
date: 1995/08/18 15:49:45;  author: allender;  state: Exp;
call function to build gamma table
----------------------------
revision 1.7
date: 1995/08/14 14:58:45;  author: allender;  state: Exp;
removed call to white_window()
----------------------------
revision 1.6
date: 1995/08/02 20:03:46;  author: allender;  state: Exp;
center game screen on mac screen on release
----------------------------
revision 1.5
date: 1995/06/13 13:03:32;  author: allender;  state: Exp;
overhauled the windowing system.  Put back in gr_set_mode to change window
size
----------------------------
revision 1.4
date: 1995/05/12 11:52:57;  author: allender;  state: Exp;
changed memory stuff again
----------------------------
revision 1.3
date: 1995/04/18 09:50:29;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1995/04/07 07:31:20;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 08:56:44;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.49
date: 1994/11/30 20:16:05;  author: john;  state: Exp;
Fixed bug that the grd_curscreen flags were never initialized.
----------------------------
revision 1.48
date: 1994/11/24 13:24:43;  author: john;  state: Exp;
Made sure that some rep movs had the cld set first.
Took some unused functions out.
----------------------------
revision 1.47
date: 1994/11/18 22:50:20;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.46
date: 1994/11/15 18:28:36;  author: john;  state: Exp;
Made text screen fade in.
----------------------------
revision 1.45
date: 1994/11/15 17:55:11;  author: john;  state: Exp;
Made text palette fade in when game over.
----------------------------
revision 1.44
date: 1994/11/07 12:07:30;  author: john;  state: Exp;
Made save/restore cursor work a bit better.
----------------------------
revision 1.43
date: 1994/11/05 12:46:44;  author: john;  state: Exp;
Changed palette stuff a bit.
----------------------------
revision 1.42
date: 1994/10/26 23:55:50;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.41
date: 1994/10/10 13:59:50;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.40
date: 1994/10/10 13:58:50;  author: john;  state: Exp;
Added better VGA detection scheme.
----------------------------
revision 1.39
date: 1994/09/29 10:09:15;  author: john;  state: Exp;
Hacked out VGA card detection for now.
----------------------------
revision 1.38
date: 1994/09/22 17:35:35;  author: john;  state: Exp;
Fixed bug with palette not reloading in
gr_set_mode
----------------------------
revision 1.37
date: 1994/09/22 16:08:42;  author: john;  state: Exp;
Fixed some palette stuff.
----------------------------
revision 1.36
date: 1994/09/19 11:44:23;  author: john;  state: Exp;
Changed call to allocate selector to the dpmi module.
----------------------------
revision 1.35
date: 1994/09/12 19:28:11;  author: john;  state: Exp;
Fixed bug with unclipped fonts clipping.
----------------------------
revision 1.34
date: 1994/09/12 18:20:18;  author: john;  state: Exp;
Made text fade out
----------------------------
revision 1.33
date: 1994/09/12 14:40:15;  author: john;  state: Exp;
Neatend.
----------------------------
revision 1.32
date: 1994/08/15 15:01:01;  author: matt;  state: Exp;
Set ptr to NULL after freeing
----------------------------
revision 1.31
date: 1994/07/27 18:30:28;  author: john;  state: Exp;
Took away the blending table.
----------------------------
revision 1.30
date: 1994/06/24 17:26:59;  author: john;  state: Exp;
Made rowsizes bigger than actual screen work with SVGA.
----------------------------
revision 1.29
date: 1994/05/12 17:33:16;  author: john;  state: Exp;
Added circle code.
----------------------------
revision 1.28
date: 1994/05/10 19:51:49;  author: john;  state: Exp;
Added 320x100 mode.
----------------------------
revision 1.27
date: 1994/05/06 12:50:23;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.26
date: 1994/05/03 19:39:00;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.25
date: 1994/04/08 16:59:34;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.24
date: 1994/03/14 16:56:16;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.23
date: 1994/02/18 15:32:27;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.22
date: 1994/01/25 11:40:44;  author: john;  state: Exp;
Added gr_check_mode function.
----------------------------
revision 1.21
date: 1993/12/21 19:57:48;  author: john;  state: Exp;
added selector stuff.
----------------------------
revision 1.20
date: 1993/12/21 11:40:32;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.19
date: 1993/12/09 15:02:13;  author: john;  state: Exp;
Changed palette stuff majorly
----------------------------
revision 1.18
date: 1993/11/16 11:28:36;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.17
date: 1993/10/26 13:17:53;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1993/10/15 16:23:42;  author: john;  state: Exp;
y
----------------------------
revision 1.15
date: 1993/09/29 16:15:21;  author: john;  state: Exp;
optimized
----------------------------
revision 1.14
date: 1993/09/28 19:06:51;  author: john;  state: Exp;
made gr_set_mode change the grd_cursreen->sc_mode variable.
----------------------------
revision 1.13
date: 1993/09/28 12:52:12;  author: matt;  state: Exp;
Set aspect ratio of current screen in gr_init() and gr_set_mode().
----------------------------
revision 1.12
date: 1993/09/27 13:00:24;  author: john;  state: Exp;
made gr_set_mode not call mode_reset on fail
----------------------------
revision 1.11
date: 1993/09/27 12:51:27;  author: john;  state: Exp;
fixed gr_set_mode to return values
----------------------------
revision 1.10
date: 1993/09/26 18:59:12;  author: john;  state: Exp;
fade in/out stuff
----------------------------
revision 1.9
date: 1993/09/21 14:00:41;  author: john;  state: Exp;
added code to save 43/50 line modes.
----------------------------
revision 1.8
date: 1993/09/20 14:48:48;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1993/09/16 17:27:48;  author: john;  state: Exp;
Added code to save/restore video mode.
----------------------------
revision 1.6
date: 1993/09/16 16:30:15;  author: john;  state: Exp;
Made gr_close retore Mode 3 always.
----------------------------
revision 1.5
date: 1993/09/14 18:40:07;  author: john;  state: Exp;
Made it so that gr_setmode doesn't change curcanv font and colors.
----------------------------
revision 1.4
date: 1993/09/14 16:27:01;  author: matt;  state: Exp;
Changes gr_change_mode() to be gr_set_mode()
After gr_set_mode(), grd_curcanv is the canvas of the new screen
Made gr_set_mode() work with the new grd_curcanv, not the old one
----------------------------
revision 1.3
date: 1993/09/14 13:08:37;  author: john;  state: Exp;
Added gr_changemode
----------------------------
revision 1.2
date: 1993/09/08 17:36:37;  author: john;  state: Exp;
Looking for error for Yuan... Neatened the nested ifs in setmode.
----------------------------
revision 1.1
date: 1993/09/08 11:43:51;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/gr.h,v
Working file: 2d/gr.h
head: 1.7
description: Definitions for graphics lib.
----------------------------
revision 1.7
date: 1995/09/13 08:39:44;  author: allender;  state: Exp;
added prototype for gr_bitblt_cockpit
----------------------------
revision 1.6
date: 1995/08/23 18:47:01;  author: allender;  state: Exp;
fixed compiler warnings on mcc
----------------------------
revision 1.5
date: 1995/08/14 15:51:01;  author: allender;  state: Exp;
added #define for transparency color
----------------------------
revision 1.4
date: 1995/06/13 13:03:55;  author: allender;  state: Exp;
added graphics mode
----------------------------
revision 1.3
date: 1995/04/18 09:50:16;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1995/04/07 07:32:33;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:04:16;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.45
date: 1994/11/18 22:50:21;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.44
date: 1994/11/13 13:04:07;  author: john;  state: Exp;
Added paged out bit in bitmap structure.  Commented out the
poly code that is never used.
----------------------------
revision 1.43
date: 1994/11/09 23:04:56;  author: mike;  state: Exp;
Add avg_color field.
----------------------------
revision 1.42
date: 1994/10/27 00:53:35;  author: john;  state: Exp;
Added RLE Flag to bitmap structere.
----------------------------
revision 1.41
date: 1994/10/26 23:55:52;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.40
date: 1994/08/11 17:59:12;  author: mike;  state: Exp;
Assembler merge functions written for 3 rotations of bitmaps.
----------------------------
revision 1.39
date: 1994/08/10 12:24:56;  author: matt;  state: Exp;
Added support for colors fonts & kerned fonts
Made our own font file format
----------------------------
revision 1.38
date: 1994/07/27 18:30:18;  author: john;  state: Exp;
Took away the blending table.
----------------------------
revision 1.37
date: 1994/06/16 15:25:06;  author: mike;  state: Exp;
Add flag BM_FLAG_NO_LIGHTING.
----------------------------
revision 1.36
date: 1994/05/31 10:01:22;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.35
date: 1994/05/31 07:53:34;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/05/14 17:19:41;  author: matt;  state: Exp;
Added externs
----------------------------
revision 1.33
date: 1994/05/12 17:33:09;  author: john;  state: Exp;
Added circle code.
----------------------------
revision 1.32
date: 1994/05/06 12:50:16;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.31
date: 1994/05/04 10:06:06;  author: john;  state: Exp;
Added flag for bitmap super-transparency.
----------------------------
revision 1.30
date: 1994/05/03 19:38:56;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.29
date: 1994/04/22 11:16:05;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.28
date: 1994/04/08 16:59:32;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.27
date: 1994/03/16 17:29:52;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.26
date: 1994/03/16 17:20:51;  author: john;  state: Exp;
Added slow palette searching options.
----------------------------
revision 1.25
date: 1994/03/14 17:59:20;  author: john;  state: Exp;
Added function to check bitmap's transparency.
----------------------------
revision 1.24
date: 1994/03/14 16:56:26;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.23
date: 1994/02/18 15:32:30;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.22
date: 1994/01/25 11:40:48;  author: john;  state: Exp;
Added gr_check_mode function.
----------------------------
revision 1.21
date: 1994/01/12 13:45:24;  author: john;  state: Exp;
Added scaler.
----------------------------
revision 1.20
date: 1993/12/21 19:58:24;  author: john;  state: Exp;
added selector stuff
----------------------------
revision 1.19
date: 1993/12/21 11:40:40;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.18
date: 1993/12/09 15:02:08;  author: john;  state: Exp;
Changed palette stuff majorly
----------------------------
revision 1.17
date: 1993/12/07 12:32:05;  author: john;  state: Exp;
moved bmd_palette to gr_palette
----------------------------
revision 1.16
date: 1993/11/28 12:08:06;  author: mike;  state: Exp;
Change prototype for rotate_bitmap.
----------------------------
revision 1.15
date: 1993/11/18 14:22:51;  author: mike;  state: Exp;
Add prototype for rotate_bitmap.
----------------------------
revision 1.14
date: 1993/11/17 19:00:59;  author: mike;  state: Exp;
Add prototype for test_rotate_bitmap
----------------------------
revision 1.13
date: 1993/11/16 11:28:58;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1993/10/26 13:17:43;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1993/10/15 16:23:37;  author: john;  state: Exp;
y
----------------------------
revision 1.10
date: 1993/09/28 15:32:33;  author: john;  state: Exp;
added def for save/restore vidmode
----------------------------
revision 1.9
date: 1993/09/28 12:51:46;  author: matt;  state: Exp;
Added aspect ratio to grs_screen structure
----------------------------
revision 1.8
date: 1993/09/26 22:45:12;  author: matt;  state: Exp;
Changed prototypes for line functions to take fixes, not ints.
----------------------------
revision 1.7
date: 1993/09/26 18:58:16;  author: john;  state: Exp;
fadein/out stuff
----------------------------
revision 1.6
date: 1993/09/14 16:26:44;  author: matt;  state: Exp;
Changed gr_change_mode() to be gr_set_mode()
----------------------------
revision 1.4
date: 1993/09/14 13:08:45;  author: john;  state: Exp;
added gr_change_mode
----------------------------
revision 1.3
date: 1993/09/08 13:56:03;  author: matt;  state: Exp;
Put 'if' block around body of file; added bitmap type BM_RGB15
----------------------------
revision 1.2
date: 1993/09/08 13:02:14;  author: john;  state: Exp;
Changed structure definitions a bit.
----------------------------
revision 1.1
date: 1993/09/08 11:25:15;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/grdef.h,v
Working file: 2d/grdef.h
head: 1.5
description: Internal definitions for graphics lib.
----------------------------
revision 1.5
date: 1995/09/14 15:36:33;  author: allender;  state: Exp;
added stuff for 68k version
----------------------------
revision 1.4
date: 1995/07/05 16:10:57;  author: allender;  state: Exp;
gr_linear_movsd prototype changes
----------------------------
revision 1.3
date: 1995/04/19 14:39:28;  author: allender;  state: Exp;
changed function prototype
----------------------------
revision 1.2
date: 1995/04/18 09:49:53;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:04:56;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.8
date: 1994/05/06 12:50:09;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.7
date: 1994/01/25 11:40:29;  author: john;  state: Exp;
Added gr_check_mode function.
----------------------------
revision 1.6
date: 1993/10/15 16:22:53;  author: john;  state: Exp;
y
----------------------------
revision 1.5
date: 1993/09/29 17:31:00;  author: john;  state: Exp;
added gr_vesa_pixel
----------------------------
revision 1.4
date: 1993/09/29 16:14:43;  author: john;  state: Exp;
added global canvas descriptors.
----------------------------
revision 1.3
date: 1993/09/08 17:38:02;  author: john;  state: Exp;
Looking for errors
----------------------------
revision 1.2
date: 1993/09/08 15:54:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 11:37:57;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/ibitblt.c,v
Working file: 2d/ibitblt.c
head: 1.3
description:  Routines to to inverse bitblitting -- well not really.
 We don't inverse bitblt like in the PC, but this code
 does set up a structure that blits around the cockpit
----------------------------
revision 1.3
date: 1995/09/13 11:43:22;  author: allender;  state: Exp;
start on optimizing cockpit copy code
----------------------------
revision 1.2
date: 1995/09/07 10:16:57;  author: allender;  state: Exp;
fixed up cockpit and rearview hole blitting
----------------------------
revision 1.1
date: 1995/08/18 15:50:48;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/ibitblt.h,v
Working file: 2d/ibitblt.h
head: 1.1
description:  Header prototypes for inverse bitblt funcitons
----------------------------
revision 1.1
date: 1995/08/18 15:50:57;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/line.c,v
Working file: 2d/line.c
head: 1.2
description: Graphical routines for drawing lines.
----------------------------
revision 1.2
date: 1995/09/14 13:45:24;  author: allender;  state: Exp;
optimizations from Dave Denhart
----------------------------
revision 1.1
date: 1995/03/09 09:09:46;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.10
date: 1994/11/18 22:50:02;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.9
date: 1994/07/13 12:03:04;  author: john;  state: Exp;
Added assembly modex line-drawer.
----------------------------
revision 1.8
date: 1993/12/06 18:18:03;  author: john;  state: Exp;
took out aaline.
----------------------------
revision 1.7
date: 1993/12/03 12:11:17;  author: john;  state: Exp;
,
----------------------------
revision 1.6
date: 1993/11/18 09:40:22;  author: john;  state: Exp;
Added laser-line
----------------------------
revision 1.5
date: 1993/10/15 16:23:36;  author: john;  state: Exp;
y
----------------------------
revision 1.4
date: 1993/09/29 16:13:58;  author: john;  state: Exp;
optimized
----------------------------
revision 1.3
date: 1993/09/26 18:44:12;  author: matt;  state: Exp;
Added gr_uline(), which just calls gr_line(), and made both take
fixes, and shift down themselves.
----------------------------
revision 1.2
date: 1993/09/11 19:50:15;  author: matt;  state: Exp;
In gr_vline() & gr_hline(), check for start > end, and EXCHG if so
----------------------------
revision 1.1
date: 1993/09/08 11:43:54;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/palette.c,v
Working file: 2d/palette.c
head: 1.20
description: Graphical routines for setting the palette
----------------------------
revision 1.20
date: 1995/11/07 13:57:52;  author: allender;  state: Exp;
set gr_palette_gamma_param to 4 as default
----------------------------
revision 1.19
date: 1995/10/18 01:07:55;  author: allender;  state: Exp;
new gamma correction stuff
----------------------------
revision 1.18
date: 1995/10/13 14:39:46;  author: allender;  state: Exp;
chance to appropriate GDevice when changing palette
----------------------------
revision 1.17
date: 1995/09/13 08:39:19;  author: allender;  state: Exp;
added gamma correction table instead of on the fly calculation
----------------------------
revision 1.16
date: 1995/09/05 08:48:57;  author: allender;  state: Exp;
changed palette gamme value to 1.5
----------------------------
revision 1.15
date: 1995/09/04 11:41:36;  author: allender;  state: Exp;
added back the debug_mode to set video mode to b/w on
error in case screen is faded.
----------------------------
revision 1.14
date: 1995/08/18 15:49:20;  author: allender;  state: Exp;
added gamma correction value for PC palette entries
----------------------------
revision 1.13
date: 1995/08/14 14:26:20;  author: allender;  state: Exp;
changed transparency color to 0
----------------------------
revision 1.12
date: 1995/07/17 10:41:57;  author: allender;  state: Exp;
get palette read function working
----------------------------
revision 1.11
date: 1995/07/13 13:32:03;  author: allender;  state: Exp;
change init_computed colors back to original form
----------------------------
revision 1.10
date: 1995/07/05 16:06:13;  author: allender;  state: Exp;
don't use palette manager anymore -- directly use the color manager
move transparency color back to entry 255 -- what a pain!!!
----------------------------
revision 1.9
date: 1995/06/23 12:28:21;  author: allender;  state: Exp;
fixed gamma step up problems
----------------------------
revision 1.8
date: 1995/06/22 16:58:41;  author: allender;  state: Exp;
moved check in gr_palette_fade_in to return immediatly if palette
already faded in
----------------------------
revision 1.7
date: 1995/06/13 13:04:07;  author: allender;  state: Exp;
modfied GWorld changes to execute only if GWorld is defined
----------------------------
revision 1.6
date: 1995/06/06 16:02:38;  author: allender;  state: Exp;
fixed gr_palette_set_up to work more correctly
----------------------------
revision 1.5
date: 1995/05/11 12:49:01;  author: allender;  state: Exp;
change transparency color -- fix up fade tables to reflect this
----------------------------
revision 1.4
date: 1995/04/27 07:38:52;  author: allender;  state: Exp;
use animate palette to do fade in and out's
----------------------------
revision 1.3
date: 1995/04/18 09:49:39;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1995/04/07 13:15:01;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:20:08;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.39
date: 1994/12/01 11:23:27;  author: john;  state: Exp;
Limited Gamma from 0-8.
----------------------------
revision 1.38
date: 1994/11/28 01:31:08;  author: mike;  state: Exp;
optimize color lookup function, caching recently used colors.
----------------------------
revision 1.37
date: 1994/11/18 22:50:18;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.36
date: 1994/11/15 17:54:59;  author: john;  state: Exp;
Made text palette fade in when game over.
----------------------------
revision 1.35
date: 1994/11/10 19:53:14;  author: matt;  state: Exp;
Fixed error handling is gr_use_palette_table()
----------------------------
revision 1.34
date: 1994/11/07 13:53:48;  author: john;  state: Exp;
Added better gamma stufff.
----------------------------
revision 1.33
date: 1994/11/07 13:37:56;  author: john;  state: Exp;
Added gamma correction stuff.
----------------------------
revision 1.32
date: 1994/11/05 13:20:14;  author: john;  state: Exp;
Fixed bug with find_closest_color_current not working.
----------------------------
revision 1.31
date: 1994/11/05 13:08:09;  author: john;  state: Exp;
MAde it return 0 when palette already faded out.
----------------------------
revision 1.30
date: 1994/11/05 13:05:34;  author: john;  state: Exp;
Added back in code to allow keys during fade.
----------------------------
revision 1.29
date: 1994/11/05 12:49:50;  author: john;  state: Exp;
Fixed bug with previous comment..
----------------------------
revision 1.28
date: 1994/11/05 12:48:46;  author: john;  state: Exp;
Made palette only fade in / out when its supposed to.
----------------------------
revision 1.27
date: 1994/11/05 12:46:43;  author: john;  state: Exp;
Changed palette stuff a bit.
----------------------------
revision 1.26
date: 1994/11/01 12:59:35;  author: john;  state: Exp;
Reduced palette.256 size.
----------------------------
revision 1.25
date: 1994/10/26 23:55:35;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.24
date: 1994/10/04 22:03:05;  author: matt;  state: Exp;
Fixed bug: palette wasn't fading all the way out or in
----------------------------
revision 1.23
date: 1994/09/22 16:08:40;  author: john;  state: Exp;
Fixed some palette stuff.
----------------------------
revision 1.22
date: 1994/09/19 11:44:31;  author: john;  state: Exp;
Changed call to allocate selector to the dpmi module.
----------------------------
revision 1.21
date: 1994/09/12 19:28:09;  author: john;  state: Exp;
Fixed bug with unclipped fonts clipping.
----------------------------
revision 1.20
date: 1994/09/12 18:18:39;  author: john;  state: Exp;
Set 254 and 255 to fade to themselves in fadetable
----------------------------
revision 1.19
date: 1994/09/12 14:40:10;  author: john;  state: Exp;
Neatend.
----------------------------
revision 1.18
date: 1994/09/09 09:31:55;  author: john;  state: Exp;
Made find_closest_color not look at superx spot of 254
----------------------------
revision 1.17
date: 1994/08/09 11:27:08;  author: john;  state: Exp;
Add cthru stuff.
----------------------------
revision 1.16
date: 1994/08/01 11:03:51;  author: john;  state: Exp;
MAde it read in old/new palette.256
----------------------------
revision 1.15
date: 1994/07/27 18:30:27;  author: john;  state: Exp;
Took away the blending table.
----------------------------
revision 1.14
date: 1994/06/09 10:39:52;  author: john;  state: Exp;
In fade out.in functions, returned 1 if key was pressed...
----------------------------
revision 1.13
date: 1994/05/31 19:04:16;  author: john;  state: Exp;
Added key to stop fade if desired.
----------------------------
revision 1.12
date: 1994/05/06 12:50:20;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.11
date: 1994/05/03 19:39:02;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/04/22 11:16:07;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1994/04/08 16:59:40;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.8
date: 1994/03/16 17:21:17;  author: john;  state: Exp;
Added slow palette searching options.
----------------------------
revision 1.7
date: 1994/01/07 11:47:33;  author: john;  state: Exp;
made use cflib
----------------------------
revision 1.6
date: 1993/12/21 11:41:04;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/12/09 15:02:47;  author: john;  state: Exp;
Changed palette stuff majorly
----------------------------
revision 1.4
date: 1993/12/07 12:31:41;  author: john;  state: Exp;
moved bmd_palette to gr_palette
----------------------------
revision 1.3
date: 1993/10/15 16:22:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/09/26 18:59:46;  author: john;  state: Exp;
fade stuff
----------------------------
revision 1.1
date: 1993/09/08 11:44:03;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/2d/palette.h,v
Working file: 2d/palette.h
head: 1.1
description: Protoypes for palette functions
----------------------------
revision 1.1
date: 1995/03/09 09:20:45;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.11
date: 1994/11/15 17:55:10;  author: john;  state: Exp;
Made text palette fade in when game over.
----------------------------
revision 1.10
date: 1994/11/07 13:53:42;  author: john;  state: Exp;
Added better gamma stufff.
----------------------------
revision 1.9
date: 1994/11/07 13:38:03;  author: john;  state: Exp;
Added gamma correction stuff.
----------------------------
revision 1.8
date: 1994/11/05 13:05:59;  author: john;  state: Exp;
Added back in code to allow keys during fade.
----------------------------
revision 1.7
date: 1994/11/05 12:46:37;  author: john;  state: Exp;
Changed palette stuff a bit.
----------------------------
revision 1.6
date: 1994/09/22 16:08:37;  author: john;  state: Exp;
Fixed some palette stuff.
----------------------------
revision 1.5
date: 1994/08/09 11:27:04;  author: john;  state: Exp;
Add cthru stuff.
----------------------------
revision 1.4
date: 1994/06/09 10:39:33;  author: john;  state: Exp;
In fade out.in functions, returned 1 if key was pressed...
----------------------------
revision 1.3
date: 1994/05/31 19:04:24;  author: john;  state: Exp;
Added key to stop fade if desired.
----------------------------
revision 1.2
date: 1994/05/06 12:50:42;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.1
date: 1994/05/04 14:59:57;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/pcx.c,v
Working file: 2d/pcx.c
head: 1.11
description: Routines to read/write pcx images.
----------------------------
revision 1.11
date: 1995/11/02 14:11:35;  author: allender;  state: Exp;
shareware only code
----------------------------
revision 1.10
date: 1995/10/30 11:12:13;  author: allender;  state: Exp;
added new pcx code
----------------------------
revision 1.9
date: 1995/10/21 00:14:35;  author: allender;  state: Exp;
sped up pcx reading code
----------------------------
revision 1.8
date: 1995/07/17 10:41:21;  author: allender;  state: Exp;
get pcx writting working
----------------------------
revision 1.7
date: 1995/07/05 16:07:05;  author: allender;  state: Exp;
transparency/kitchen changes
----------------------------
revision 1.6
date: 1995/05/12 11:53:06;  author: allender;  state: Exp;
changed memory stuff again
----------------------------
revision 1.5
date: 1995/04/27 07:38:35;  author: allender;  state: Exp;
switch last and first palette entries when reading pcx file
----------------------------
revision 1.4
date: 1995/04/19 14:38:38;  author: allender;  state: Exp;
rearranged some functions
----------------------------
revision 1.3
date: 1995/04/04 11:41:11;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1995/03/30 15:06:41;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/23 12:40:05;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.6
date: 1995/03/01 15:38:12;  author: john;  state: Exp;
Better ModeX support.
----------------------------
revision 1.5
date: 1995/01/21 17:54:17;  author: john;  state: Exp;
Added pcx reader for modes other than modex.
----------------------------
revision 1.4
date: 1994/12/08 19:03:56;  author: john;  state: Exp;
Made functions use cfile.
----------------------------
revision 1.3
date: 1994/11/29 02:53:24;  author: john;  state: Exp;
Added error messages; made call be more similiar to iff.
----------------------------
revision 1.2
date: 1994/11/28 20:03:50;  author: john;  state: Exp;
Added PCX functions.
----------------------------
revision 1.1
date: 1994/11/28 19:57:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/pcx.h,v
Working file: 2d/pcx.h
head: 1.1
description: Routines to read/write pcx images.
----------------------------
revision 1.1
date: 1995/05/05 09:26:22;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.4
date: 1995/01/21 17:07:34;  author: john;  state: Exp;
Added out of memory error.
----------------------------
revision 1.3
date: 1994/11/29 02:53:10;  author: john;  state: Exp;
Added error messages; made call be more similiar to iff.
----------------------------
revision 1.2
date: 1994/11/28 20:03:48;  author: john;  state: Exp;
Added PCX functions.
----------------------------
revision 1.1
date: 1994/11/28 19:57:45;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/2d/pixel.c,v
Working file: 2d/pixel.c
head: 1.1
description: Graphical routines for setting a pixel.
----------------------------
revision 1.1
date: 1995/03/09 09:21:17;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.5
date: 1994/11/18 22:50:26;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.4
date: 1993/10/15 16:22:26;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/09/29 17:31:27;  author: john;  state: Exp;
optimized vesa pixel stuff
----------------------------
revision 1.2
date: 1993/09/29 16:15:15;  author: john;  state: Exp;
optimized
----------------------------
revision 1.1
date: 1993/09/08 11:44:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/2d/poly.c,v
Working file: 2d/poly.c
head: 1.1
description: Graphical routines for drawing polygons.
----------------------------
revision 1.1
date: 1995/03/09 09:21:47;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.5
date: 1994/11/13 13:03:43;  author: john;  state: Exp;
Added paged out bit in bitmap structure.  Commented out the
poly code that is never used.
----------------------------
revision 1.4
date: 1994/03/14 16:56:13;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.3
date: 1993/10/15 16:23:14;  author: john;  state: Exp;
y
----------------------------
revision 1.2
date: 1993/10/08 14:30:39;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 11:44:13;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/2d/rect.c,v
Working file: 2d/rect.c
head: 1.1
description: Graphical routines for drawing rectangles.
----------------------------
revision 1.1
date: 1995/03/09 09:22:22;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1994/11/18 22:50:19;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.2
date: 1993/10/15 16:23:27;  author: john;  state: Exp;
y
----------------------------
revision 1.1
date: 1993/09/08 11:44:22;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/rle.c,v
Working file: 2d/rle.c
head: 1.10
description: Routines to do run length encoding/decoding
on bitmaps.
----------------------------
revision 1.10
date: 1995/08/14 14:26:34;  author: allender;  state: Exp;
changed transparency color to 0
----------------------------
revision 1.9
date: 1995/07/05 16:07:49;  author: allender;  state: Exp;
transparency/kitchen chagnes
----------------------------
revision 1.8
date: 1995/05/12 11:54:03;  author: allender;  state: Exp;
changed memory stuff again
----------------------------
revision 1.7
date: 1995/05/11 12:49:19;  author: allender;  state: Exp;
change transparency color
----------------------------
revision 1.6
date: 1995/05/04 20:00:30;  author: allender;  state: Exp;
use NewPtr instead of malloc.  Fix gr_rle_scanline (which caused me
*many* hours of frustration!!!!)
----------------------------
revision 1.5
date: 1995/05/01 08:40:32;  author: allender;  state: Exp;
trying to find memory bug....this stuff works -- it's johns code
----------------------------
revision 1.4
date: 1995/04/27 07:38:24;  author: allender;  state: Exp;
new rle code ala John
----------------------------
revision 1.3
date: 1995/04/19 14:36:06;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1995/04/18 12:08:30;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:23:04;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.16
date: 1994/11/30 00:55:03;  author: mike;  state: Exp;
optimization
----------------------------
revision 1.15
date: 1994/11/24 13:24:44;  author: john;  state: Exp;
Made sure that some rep movs had the cld set first.
Took some unused functions out.
----------------------------
revision 1.14
date: 1994/11/23 16:03:46;  author: john;  state: Exp;
Fixed generic rle'ing to use new bit method.
----------------------------
revision 1.13
date: 1994/11/23 15:45:51;  author: john;  state: Exp;
Changed to a 3 bit rle scheme.
----------------------------
revision 1.12
date: 1994/11/18 22:50:24;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.11
date: 1994/11/14 17:06:13;  author: john;  state: Exp;
Took out Key_f12.
----------------------------
revision 1.10
date: 1994/11/14 15:54:09;  author: john;  state: Exp;
Put code in for maybe checking bogus rle data.
----------------------------
revision 1.9
date: 1994/11/14 15:51:58;  author: john;  state: Exp;
Added rle_disable_caching variable to prove the stability of my rle caching code
to any non-believers.
----------------------------
revision 1.8
date: 1994/11/10 10:31:20;  author: john;  state: Exp;
Reduce cache buffers to 16.
----------------------------
revision 1.7
date: 1994/11/09 19:53:43;  author: john;  state: Exp;
Added texture rle caching.
----------------------------
revision 1.6
date: 1994/11/09 17:41:44;  author: john;  state: Exp;
Made a slow version of rle bitblt to svga, modex.
----------------------------
revision 1.5
date: 1994/11/09 17:07:50;  author: john;  state: Exp;
Fixed bug with bitmap that gets bigger with rle.
----------------------------
revision 1.4
date: 1994/11/09 16:35:17;  author: john;  state: Exp;
First version with working RLE bitmaps.
----------------------------
revision 1.3
date: 1994/10/26 12:54:47;  author: john;  state: Exp;
Fixed bug with decode that used rep movsd instead of 
rep stosd.
----------------------------
revision 1.2
date: 1994/10/06 17:05:25;  author: john;  state: Exp;
First version of rle stuff.
----------------------------
revision 1.1
date: 1994/10/06 16:53:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/rle.h,v
Working file: 2d/rle.h
head: 1.2
description: Protypes for rle functions.
----------------------------
revision 1.2
date: 1995/05/05 16:34:54;  author: allender;  state: Exp;
changed types.h to dtypes.h
----------------------------
revision 1.1
date: 1995/03/09 09:23:32;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.4
date: 1994/11/10 13:16:01;  author: matt;  state: Exp;
Added includes
----------------------------
revision 1.3
date: 1994/11/09 19:53:51;  author: john;  state: Exp;
Added texture rle caching.
----------------------------
revision 1.2
date: 1994/11/09 16:35:18;  author: john;  state: Exp;
First version with working RLE bitmaps.
----------------------------
revision 1.1
date: 1994/11/09 12:40:17;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/2d/scanline.c,v
Working file: 2d/scanline.c
head: 1.6
description: Graphical routines for drawing solid scanlines.
----------------------------
revision 1.6
date: 1995/09/14 14:24:03;  author: allender;  state: Exp;
fixed MW compile error
----------------------------
revision 1.5
date: 1995/09/14 13:45:17;  author: allender;  state: Exp;
quick optimization for scanline
----------------------------
revision 1.4
date: 1995/04/27 07:36:05;  author: allender;  state: Exp;
remove some memsets since all old is here now
----------------------------
revision 1.3
date: 1995/04/19 14:35:33;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1995/04/18 12:03:40;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:24:06;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.7
date: 1994/11/18 22:50:48;  author: john;  state: Exp;
Changed a bunch of shorts to ints in calls.
----------------------------
revision 1.6
date: 1994/09/02 11:40:32;  author: john;  state: Exp;
fixed bug with urect scanline drakening still
only using 16 levels of fade.
----------------------------
revision 1.5
date: 1994/04/08 16:59:12;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.4
date: 1994/03/22 18:36:27;  author: john;  state: Exp;
Added darkening scanlines
----------------------------
revision 1.3
date: 1993/10/15 16:22:52;  author: john;  state: Exp;
y
----------------------------
revision 1.2
date: 1993/09/08 11:56:29;  author: john;  state: Exp;
neatened
----------------------------
revision 1.1
date: 1993/09/08 11:44:27;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/3d/3d.h,v
Working file: 3d/3d.h
head: 1.2
description: Header file for 3d library
----------------------------
revision 1.2
date: 1995/09/14 14:08:58;  author: allender;  state: Exp;
return value for g3_draw_sphere
----------------------------
revision 1.1
date: 1995/05/05 08:48:41;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/3d/clipper.h,v
Working file: 3d/clipper.h
head: 1.1
description: Header for clipper.c
----------------------------
revision 1.1
date: 1995/05/05 08:50:13;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/17 19:56:58;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/3d/draw.c,v
Working file: 3d/draw.c
head: 1.5
description: Drawing routines
----------------------------
revision 1.5
date: 1995/10/11 00:27:17;  author: allender;  state: Exp;
remove free_num_point settings to 0
----------------------------
revision 1.4
date: 1995/09/14 14:08:27;  author: allender;  state: Exp;
co -l 3d.h
g3_draw_sphere need to return value in new PPC stuff
----------------------------
revision 1.3
date: 1995/09/13 11:30:35;  author: allender;  state: Exp;
removed checkmuldiv in PPC implementation
----------------------------
revision 1.2
date: 1995/06/25 21:57:41;  author: allender;  state: Exp;
free_point_num problem
----------------------------
revision 1.1
date: 1995/05/05 08:50:26;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/17 05:13:45;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/3d/globvars.c,v
Working file: 3d/globvars.c
head: 1.2
description: Global variables for 3d
----------------------------
revision 1.2
date: 1995/09/13 11:30:47;  author: allender;  state: Exp;
added fCanv_w2 and vCanv_h2 for PPC implementation
----------------------------
revision 1.1
date: 1995/05/05 08:50:48;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/17 04:24:57;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/3d/globvars.h,v
Working file: 3d/globvars.h
head: 1.2
description: Private (internal) header for 3d library
----------------------------
revision 1.2
date: 1995/09/13 11:31:19;  author: allender;  state: Exp;
added fCanv_w2 and vCanv_h2 for PPC implementation
----------------------------
revision 1.1
date: 1995/05/05 08:51:02;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/17 04:07:58;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/3d/horizon.c,v
Working file: 3d/horizon.c
head: 1.1
description: Horizon drawer
----------------------------
revision 1.1
date: 1995/05/05 08:51:14;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/17 06:38:57;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/3d/instance.c,v
Working file: 3d/instance.c
head: 1.2
description: Instancing routines
----------------------------
revision 1.2
date: 1995/06/12 12:36:57;  author: allender;  state: Exp;
fixed bug where g3_start_instance_angles recursively called itself
----------------------------
revision 1.1
date: 1995/05/05 08:51:27;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/17 06:43:29;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/3d/interp.c,v
Working file: 3d/interp.c
head: 1.4
description: Polygon object interpreter
----------------------------
revision 1.4
date: 1995/10/10 22:20:09;  author: allender;  state: Exp;
new morphing code from Matt
----------------------------
revision 1.3
date: 1995/08/31 15:40:24;  author: allender;  state: Exp;
swap color data correctly
----------------------------
revision 1.2
date: 1995/05/11 13:06:38;  author: allender;  state: Exp;
fix int --> short problem
----------------------------
revision 1.1
date: 1995/05/05 08:51:41;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/17 06:44:33;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/3d/matrix.c,v
Working file: 3d/matrix.c
head: 1.1
description: Matrix setup & manipulation routines
----------------------------
revision 1.1
date: 1995/05/05 08:52:11;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/17 04:14:34;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/3d/points.c,v
Working file: 3d/points.c
head: 1.3
description: Routines for point definition, rotation, etc.
----------------------------
revision 1.3
date: 1995/09/21 17:29:40;  author: allender;  state: Exp;
changed project_point to overflow if z <= 0
----------------------------
revision 1.2
date: 1995/09/13 11:31:28;  author: allender;  state: Exp;
removed checkmuldiv from g3_project_point
----------------------------
revision 1.1
date: 1995/05/05 08:52:35;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/17 04:32:25;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/3d/rod.c,v
Working file: 3d/rod.c
head: 1.2
description: Rod routines
----------------------------
revision 1.2
date: 1995/09/13 11:31:46;  author: allender;  state: Exp;
removed checkmuldiv in PPC implemenation
----------------------------
revision 1.1
date: 1995/05/05 08:52:45;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/17 06:42:08;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/3d/setup.c,v
Working file: 3d/setup.c
head: 1.4
description: Setup for 3d library
----------------------------
revision 1.4
date: 1995/10/11 00:27:04;  author: allender;  state: Exp;
bash free_num_points to 0
----------------------------
revision 1.3
date: 1995/09/13 11:31:58;  author: allender;  state: Exp;
calc for fCanv_w2 and fCanv_h2
----------------------------
revision 1.2
date: 1995/06/25 21:57:57;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/05/05 08:52:54;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/17 03:59:01;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/appltalk/appltalk.c,v
Working file: appltalk/appltalk.c
head: 1.17
description: Appletalk code for initialization, sending, receiving, etc.
----------------------------
revision 1.17
date: 1995/10/18 17:13:12;  author: allender;  state: Exp;
lock down all appletalk stuff
----------------------------
revision 1.16
date: 1995/10/11 01:00:10;  author: allender;  state: Exp;
new implementation of get_zone_names
----------------------------
revision 1.15
date: 1995/10/05 09:28:44;  author: allender;  state: Exp;
increased the MAX_APPLETALK_BUFS to 128...there appeared to be crashes
related to running out of queue elements in the free queue for the
socket listener
----------------------------
revision 1.14
date: 1995/09/23 09:37:16;  author: allender;  state: Exp;
removed 'free' call on string that didn't need to be freed
try and handle NULL zone names properly...does this happen?
----------------------------
revision 1.13
date: 1995/09/21 14:30:58;  author: allender;  state: Exp;
attemp to release NBP binding when registering new game
----------------------------
revision 1.12
date: 1995/09/21 12:57:29;  author: allender;  state: Exp;
use two sockets for appletalk: reading and writing to try
and reduce time spent in socket code.  Added DDP packet type
for Descent appletalk packets
----------------------------
revision 1.11
date: 1995/09/19 11:45:36;  author: allender;  state: Exp;
don't free pointer after c2pstr
----------------------------
revision 1.10
date: 1995/09/18 08:04:33;  author: allender;  state: Exp;
fixed problem with getting zone names (duplictates
and missing ones).  Added function to get my zone name
----------------------------
revision 1.9
date: 1995/09/13 08:40:52;  author: allender;  state: Exp;
removed Warning statements, and beefed up return values.  Call routine
...use variable instead of function to check for vm
----------------------------
revision 1.8
date: 1995/08/31 11:49:29;  author: allender;  state: Exp;
close socket in appletalk_close()  (DOH!!!)
----------------------------
revision 1.7
date: 1995/08/31 10:33:57;  author: allender;  state: Exp;
do_make
cd ::network
open network.c
open network.c
----------------------------
revision 1.6
date: 1995/08/31 10:02:38;  author: allender;  state: Exp;
create seperate data area for queue buffers as opposed
to packet buffers to fix nasty bug.
----------------------------
revision 1.5
date: 1995/08/31 07:50:14;  author: allender;  state: Exp;
put in Int3's for debugging
----------------------------
revision 1.4
date: 1995/08/30 19:56:59;  author: allender;  state: Exp;
fixed possible signed/unsigned problem with GetNodeAddress
----------------------------
revision 1.3
date: 1995/08/30 17:13:59;  author: allender;  state: Exp;
fix up packet pitching again!!!
----------------------------
revision 1.2
date: 1995/08/30 16:58:08;  author: allender;  state: Exp;
fix packet get to pitch packets sent from myself.  NPBExtract
needs indices from 1, not 0
----------------------------
revision 1.1
date: 1995/08/30 16:10:48;  author: allender;  state: Exp;
Initial revision
 Initialize appletalk.  Make the appropriate checks to be sure that the correct
 version of appletalk is available, and that appletalk is active.  Returns 0 if
 appletalk initialized okay, -1 if something is amuk.
=============================================================================
RCS file: /Smoke/miner/source/appltalk/appltalk.h,v
Working file: appltalk/appltalk.h
head: 1.5
description:  header file which defines appletalk constants and structures
----------------------------
revision 1.5
date: 1995/10/11 01:00:31;  author: allender;  state: Exp;
changed prototype for get_zone_names
----------------------------
revision 1.4
date: 1995/09/18 08:05:06;  author: allender;  state: Exp;
added function to get my zone name
----------------------------
revision 1.3
date: 1995/09/12 09:19:36;  author: allender;  state: Exp;
added value to register netgame to help avoid name conflicts
----------------------------
revision 1.2
date: 1995/09/08 17:14:15;  author: allender;  state: Exp;
fixed typedefs for 68K build
----------------------------
revision 1.1
date: 1995/08/30 16:10:54;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/bios/debug.c,v
Working file: bios/debug.c
head: 1.2
description: Header for monochrome/mprintf functions
----------------------------
revision 1.2
date: 1995/06/16 15:28:57;  author: allender;  state: Exp;
fixed "unused" pragma
----------------------------
revision 1.1
date: 1995/05/05 09:54:14;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/bios/gtimer.h,v
Working file: bios/gtimer.h
head: 1.2
description: Header for timer functions
----------------------------
revision 1.2
date: 1995/05/11 13:04:25;  author: allender;  state: Exp;
no a5 references if under powerPC code
----------------------------
revision 1.1
date: 1995/05/05 09:31:09;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/03/21 13:32:43;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.5
date: 1994/11/15 12:04:15;  author: john;  state: Exp;
Cleaned up timer code a bit... took out unused functions
like timer_get_milliseconds, etc.
----------------------------
revision 1.4
date: 1994/04/28 23:50:08;  author: john;  state: Exp;
Changed calling for init_timer.  Made the function that the
timer calls be a far function. All of this was done to make
our timer system compatible with the HMI sound stuff.
----------------------------
revision 1.3
date: 1994/02/17 15:57:12;  author: john;  state: Exp;
Changed key libary to C.
----------------------------
revision 1.2
date: 1994/01/18 10:58:34;  author: john;  state: Exp;
Added timer_get_fixed_seconds
----------------------------
revision 1.1
date: 1993/07/10 13:10:41;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/bios/joy.h,v
Working file: bios/joy.h
head: 1.4
description: Headers for joystick functions
----------------------------
revision 1.4
date: 1995/10/17 15:36:25;  author: allender;  state: Exp;
flightstick pro code removed
----------------------------
revision 1.3
date: 1995/08/18 10:17:25;  author: allender;  state: Exp;
new functions and structures for joystick reading
----------------------------
revision 1.2
date: 1995/05/05 16:34:05;  author: allender;  state: Exp;
changes types.h to dtypes.h
----------------------------
revision 1.1
date: 1995/05/05 09:30:03;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.16
date: 1995/02/14 11:17:13;  author: john;  state: Exp;
Added BIOS readings for stick.
----------------------------
revision 1.15
date: 1995/02/14 10:09:58;  author: john;  state: Exp;
Added OS2 switch.
----------------------------
revision 1.14
date: 1994/12/28 13:49:20;  author: john;  state: Exp;
Added function to set joystick for slow reading
----------------------------
revision 1.13
date: 1994/10/13 11:36:06;  author: john;  state: Exp;
Made joy_down_time be kept track of in fixed seconds,
not ticks.
----------------------------
revision 1.12
date: 1994/10/12 17:03:16;  author: john;  state: Exp;
Added prototype for joy_get_scaled_reading.
----------------------------
revision 1.11
date: 1994/10/12 16:57:55;  author: john;  state: Exp;
Added function to set a joystick button's state.
----------------------------
revision 1.10
date: 1994/09/22 16:09:00;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.9
date: 1994/08/31 09:54:57;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1994/08/29 21:02:24;  author: john;  state: Exp;
Added joy_set_cal_values...
----------------------------
revision 1.7
date: 1994/08/29 20:51:52;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.6
date: 1994/07/01 10:55:44;  author: john;  state: Exp;
Fixed some bugs... added support for 4 axis.
----------------------------
revision 1.5
date: 1994/06/30 20:36:51;  author: john;  state: Exp;
Revamped joystick code.
----------------------------
revision 1.4
date: 1994/04/22 12:52:10;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/01/18 13:53:39;  author: john;  state: Exp;
Made all joystick functions return int's instead of
shorts.  Also made the stick reading be CPU speed
independant by using the timer_get_Stamp_64 
function.
----------------------------
revision 1.2
date: 1994/01/18 10:58:42;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/07/10 13:10:39;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/bios/joyc.c,v
Working file: bios/joyc.c
head: 1.6
description: Routines for joystick reading.
----------------------------
revision 1.6
date: 1995/10/30 11:10:44;  author: allender;  state: Exp;
lock down adb structures for stick info to try and get by
VM bug in 7.5 -- not quite yet though
----------------------------
revision 1.5
date: 1995/10/17 15:36:05;  author: allender;  state: Exp;
new joystick code ala Dave D w/o Flightstick pro support
----------------------------
revision 1.4
date: 1995/08/18 10:16:48;  author: allender;  state: Exp;
put back in some joystick functions -- added support
for thrustmaster stick direct reading of axis
----------------------------
revision 1.3
date: 1995/07/26 16:58:17;  author: allender;  state: Exp;
get coords right for joystick
----------------------------
revision 1.2
date: 1995/06/25 21:56:04;  author: allender;  state: Exp;
removed and modified joy handling routines for the mac
----------------------------
revision 1.1
date: 1995/05/05 09:55:34;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.32
date: 1995/01/12 13:16:40;  author: john;  state: Exp;
Made it so that joystick can't lose an axis
by 1 weird reading. Reading has to occurr during
calibration for this to happen.
----------------------------
revision 1.31
date: 1994/12/28 15:56:03;  author: john;  state: Exp;
Fixed bug that refused to read joysticks whose 
min,cen,max were less than 100 apart.
----------------------------
revision 1.30
date: 1994/12/28 15:31:53;  author: john;  state: Exp;
Added code to read joystick axis not all at one time.
----------------------------
revision 1.29
date: 1994/12/27 15:44:36;  author: john;  state: Exp;
Made the joystick timeout be at 1/100th of a second, 
regardless of CPU speed.
----------------------------
revision 1.28
date: 1994/12/04 11:54:54;  author: john;  state: Exp;
Made stick read at whatever rate the clock is at, not
at 18.2 times/second.
----------------------------
revision 1.27
date: 1994/11/29 02:25:40;  author: john;  state: Exp;
Made it so that the scaled reading returns 0 
if the calibration factors look funny..
----------------------------
revision 1.26
date: 1994/11/22 11:08:07;  author: john;  state: Exp;
Commented out the ARCADE joystick.
----------------------------
revision 1.25
date: 1994/11/14 19:40:26;  author: john;  state: Exp;
Fixed bug with no joystick being detected.
----------------------------
revision 1.24
date: 1994/11/14 19:36:40;  author: john;  state: Exp;
Took out initial cheapy calibration.
----------------------------
revision 1.23
date: 1994/11/14 19:13:27;  author: john;  state: Exp;
Took out the calibration in joy_init
----------------------------
revision 1.22
date: 1994/10/17 10:09:57;  author: john;  state: Exp;
Made the state look at last_State, so that a joy_flush
doesn't cause a new down state to be added next reading.
----------------------------
revision 1.21
date: 1994/10/13 11:36:23;  author: john;  state: Exp;
Made joy_down_time be kept track of in fixed seconds,
not ticks.
----------------------------
revision 1.20
date: 1994/10/12 16:58:50;  author: john;  state: Exp;
Fixed bug w/ previous comment.
----------------------------
revision 1.19
date: 1994/10/12 16:57:44;  author: john;  state: Exp;
Added function to set a joystick button's state.
----------------------------
revision 1.18
date: 1994/10/11 10:20:13;  author: john;  state: Exp;
Fixed Flightstick Pro/
..
----------------------------
revision 1.17
date: 1994/09/29 18:29:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/09/27 19:17:23;  author: john;  state: Exp;
Added code so that is joy_init is never called, joystick is not
used at all.
----------------------------
revision 1.15
date: 1994/09/22 16:09:23;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.14
date: 1994/09/16 11:44:42;  author: john;  state: Exp;
Fixed bug with slow joystick.
----------------------------
revision 1.13
date: 1994/09/16 11:36:15;  author: john;  state: Exp;
Fixed bug with reading non-present channels.
----------------------------
revision 1.12
date: 1994/09/15 20:52:48;  author: john;  state: Exp;
rme john
Added support for the Arcade style joystick.
----------------------------
revision 1.11
date: 1994/09/13 20:04:49;  author: john;  state: Exp;
Fixed bug with joystick button down_time.
----------------------------
revision 1.10
date: 1994/09/10 13:48:07;  author: john;  state: Exp;
Made all 20 buttons read.
----------------------------
revision 1.9
date: 1994/08/31 09:55:02;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1994/08/29 21:02:14;  author: john;  state: Exp;
Added joy_set_cal_values...
----------------------------
revision 1.7
date: 1994/08/29 20:52:17;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.6
date: 1994/08/24 18:53:12;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.5
date: 1994/07/14 22:12:23;  author: john;  state: Exp;
Used intrinsic forms of outp to fix vmm error.
----------------------------
revision 1.4
date: 1994/07/07 19:52:59;  author: matt;  state: Exp;
Made joy_init() return success/fail flag
Made joy_init() properly detect a stick if one is plugged in after joy_init()
was called the first time.
----------------------------
revision 1.3
date: 1994/07/01 10:55:55;  author: john;  state: Exp;
Fixed some bugs... added support for 4 axis.
----------------------------
revision 1.2
date: 1994/06/30 20:36:55;  author: john;  state: Exp;
Revamped joystick code.
----------------------------
revision 1.1
date: 1994/06/30 15:42:15;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/bios/key.c,v
Working file: bios/key.c
head: 1.19
description: Functions for keyboard handler.
----------------------------
revision 1.19
date: 1995/11/14 14:23:17;  author: allender;  state: Exp;
reallocate UPP when initing keyboard
----------------------------
revision 1.18
date: 1995/10/21 23:47:49;  author: allender;  state: Exp;
call GetOSEvent with all events -- screwed up thrustmaster stuff
----------------------------
revision 1.17
date: 1995/10/17 15:35:45;  author: allender;  state: Exp;
only get keyup and keydown events in GetOSEvent
----------------------------
revision 1.16
date: 1995/09/06 13:08:31;  author: allender;  state: Exp;
fixed command modifier for keys
----------------------------
revision 1.15
date: 1995/08/25 11:06:43;  author: allender;  state: Exp;
changed handler to key apprpriate track of time keys held down
----------------------------
revision 1.14
date: 1995/08/25 09:38:36;  author: allender;  state: Exp;
installed handler in key_inkey_time when not installed
----------------------------
revision 1.13
date: 1995/08/18 10:15:52;  author: allender;  state: Exp;
use vbl interrupt for keyboard handler to get keystrokes
more often because of high frame rate
----------------------------
revision 1.12
date: 1995/07/26 16:57:35;  author: allender;  state: Exp;
new style keyboard handler using getOSEvent ala DF
----------------------------
revision 1.11
date: 1995/07/13 15:11:25;  author: allender;  state: Exp;
fixed totally bogus key_shifted array
----------------------------
revision 1.10
date: 1995/07/13 11:24:23;  author: allender;  state: Exp;
trap checking for scancodes at 128 and not 256
----------------------------
revision 1.9
date: 1995/05/15 13:55:40;  author: allender;  state: Exp;
change prototypes for keyboard_proc
----------------------------
revision 1.8
date: 1995/05/12 14:54:09;  author: allender;  state: Exp;
make key_to_ascii returned unsigned char instead of char
----------------------------
revision 1.7
date: 1995/05/12 12:19:13;  author: allender;  state: Exp;
added call to mouse handler to get button pressed during
interrupt time
----------------------------
revision 1.6
date: 1995/05/11 13:04:44;  author: allender;  state: Exp;
fixed keyboard handling.   Removed gestalt handing -- should be in
macinit
----------------------------
revision 1.5
date: 1995/05/04 20:02:43;  author: allender;  state: Exp;
still working
----------------------------
revision 1.4
date: 1995/04/05 13:49:48;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1995/03/21 13:39:51;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1995/03/21 13:28:11;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:32:25;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.34
date: 1995/01/14 19:19:31;  author: john;  state: Exp;
Made so when you press Shift+Baskspace, it release keys autmatically.
----------------------------
revision 1.33
date: 1994/12/13 09:21:48;  author: john;  state: Exp;
Took out keyd_editor_mode, and KEY_DEBUGGED stuff for NDEBUG versions.
----------------------------
revision 1.32
date: 1994/11/12 13:52:01;  author: john;  state: Exp;
Fixed bug with code that cleared bios buffer.
----------------------------
revision 1.31
date: 1994/10/24 15:16:16;  author: john;  state: Exp;
Added code to detect KEY_PAUSE.
----------------------------
revision 1.30
date: 1994/10/24 13:57:53;  author: john;  state: Exp;
Hacked in support for pause key onto code 0x61.
----------------------------
revision 1.29
date: 1994/10/21 15:18:13;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.28
date: 1994/10/21 15:17:24;  author: john;  state: Exp;
Made LSHIFT+BACKSPACE do what PrtScr used to.
----------------------------
revision 1.27
date: 1994/09/22 16:09:18;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.26
date: 1994/09/15 21:32:47;  author: john;  state: Exp;
Added bounds checking for down_count scancode
parameter.
----------------------------
revision 1.25
date: 1994/08/31 12:22:20;  author: john;  state: Exp;
Added KEY_DEBUGGED
----------------------------
revision 1.24
date: 1994/08/24 18:53:48;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.23
date: 1994/08/18 15:17:51;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.22
date: 1994/08/18 15:16:38;  author: john;  state: Exp;
fixed some bugs with clear_key_times and then
removed it because i fixed key_flush to do the
same.
----------------------------
revision 1.21
date: 1994/08/17 19:01:25;  author: john;  state: Exp;
Attempted to fix a bug with a key being held down
key_flush called, then the key released having too 
long of a time.
----------------------------
revision 1.20
date: 1994/08/08 10:43:48;  author: john;  state: Exp;
Recorded when a key was pressed for key_inkey_time.
----------------------------
revision 1.19
date: 1994/06/22 15:00:03;  author: john;  state: Exp;
Made keyboard close automatically on exit.
----------------------------
revision 1.18
date: 1994/06/21 09:16:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.17
date: 1994/06/21 09:08:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/06/21 09:05:01;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.15
date: 1994/06/21 09:04:24;  author: john;  state: Exp;
Made PrtScreen do an int5
----------------------------
revision 1.14
date: 1994/06/17 17:17:06;  author: john;  state: Exp;
Added keyd_time_last_key_was_pressed or something like that.
----------------------------
revision 1.13
date: 1994/05/14 13:55:16;  author: matt;  state: Exp;
Added #define to control key passing to bios
----------------------------
revision 1.12
date: 1994/05/05 18:09:39;  author: john;  state: Exp;
Took out BIOS to prevent stuck keys.
----------------------------
revision 1.11
date: 1994/05/03 17:39:12;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/04/29 12:14:20;  author: john;  state: Exp;
Locked all memory used during interrupts so that program
won't hang when using virtual memory.
----------------------------
revision 1.9
date: 1994/04/28 23:49:41;  author: john;  state: Exp;
Made key_flush flush more keys and also did something else but i forget what.
----------------------------
revision 1.8
date: 1994/04/22 12:52:12;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/04/01 10:44:59;  author: mike;  state: Exp;
Change key_getch() to call getch() if our interrupt hasn't been installed.
----------------------------
revision 1.6
date: 1994/03/09 10:45:48;  author: john;  state: Exp;
Neatend code a bit.
----------------------------
revision 1.5
date: 1994/02/17 17:24:16;  author: john;  state: Exp;
Neatened up a bit.
----------------------------
revision 1.4
date: 1994/02/17 16:30:29;  author: john;  state: Exp;
Put in code to pass keys when in debugger.
----------------------------
revision 1.3
date: 1994/02/17 15:57:59;  author: john;  state: Exp;
Made handler not chain to BIOS handler.
----------------------------
revision 1.2
date: 1994/02/17 15:56:06;  author: john;  state: Exp;
Initial version.
----------------------------
revision 1.1
date: 1994/02/17 15:54:07;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/bios/key.h,v
Working file: bios/key.h
head: 1.9
description: Header for keyboard functions
----------------------------
revision 1.9
date: 1995/09/06 13:08:42;  author: allender;  state: Exp;
fixed command modifier
----------------------------
revision 1.8
date: 1995/07/26 16:57:57;  author: allender;  state: Exp;
added command key to key list
----------------------------
revision 1.7
date: 1995/05/12 14:53:58;  author: allender;  state: Exp;
changed key_to_ascii to return unsigned char now!
----------------------------
revision 1.6
date: 1995/05/12 14:49:38;  author: allender;  state: Exp;
changed prototype of key_to_ascii to return int instead of
char
----------------------------
revision 1.5
date: 1995/05/11 13:05:09;  author: allender;  state: Exp;
remove a5 references for powerPC
----------------------------
revision 1.4
date: 1995/05/05 16:34:32;  author: allender;  state: Exp;
hanges types.h to dtypes.h
----------------------------
revision 1.3
date: 1995/04/05 11:41:13;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1995/03/27 14:53:26;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:32:51;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.19
date: 1994/10/24 13:58:12;  author: john;  state: Exp;
Hacked in support for pause key onto code 0x61.
----------------------------
revision 1.18
date: 1994/10/21 15:17:10;  author: john;  state: Exp;
Added KEY_PRINT_SCREEN
----------------------------
revision 1.17
date: 1994/08/31 12:22:13;  author: john;  state: Exp;
Added KEY_DEBUGGED
----------------------------
revision 1.16
date: 1994/08/24 18:53:50;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.15
date: 1994/08/18 14:56:16;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.14
date: 1994/08/08 10:43:24;  author: john;  state: Exp;
Recorded when a key was pressed for key_inkey_time.
----------------------------
revision 1.13
date: 1994/06/17 17:17:28;  author: john;  state: Exp;
Added keyd_time_last_key_was_pressed or something like that.
----------------------------
revision 1.12
date: 1994/04/29 12:14:19;  author: john;  state: Exp;
Locked all memory used during interrupts so that program
won't hang when using virtual memory.
----------------------------
revision 1.11
date: 1994/02/17 15:57:14;  author: john;  state: Exp;
Changed key libary to C.
----------------------------
revision 1.10
date: 1994/01/31 08:34:09;  author: john;  state: Exp;
Fixed reversed lshift/rshift keys.
----------------------------
revision 1.9
date: 1994/01/18 10:58:17;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1993/10/16 19:24:43;  author: matt;  state: Exp;
Added new function key_clear_times() & key_clear_counts()
----------------------------
revision 1.7
date: 1993/10/15 10:17:09;  author: john;  state: Exp;
added keyd_last_key_pressed and released for use with recorder.
----------------------------
revision 1.6
date: 1993/10/06 16:20:37;  author: john;  state: Exp;
fixed down arrow bug
----------------------------
revision 1.5
date: 1993/10/04 13:26:42;  author: john;  state: Exp;
changed the #defines for scan codes.
----------------------------
revision 1.4
date: 1993/09/28 11:35:20;  author: john;  state: Exp;
added key_peekkey
----------------------------
revision 1.3
date: 1993/09/20 18:36:43;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/07/10 13:10:39;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/bios/key.c,v
Working file: bios/key.c
head: 1.11
description: Functions for keyboard handler.
----------------------------
revision 1.11
date: 1995/07/13 15:11:25;  author: allender;  state: Exp;
fixed totally bogus key_shifted array
----------------------------
revision 1.10
date: 1995/07/13 11:24:23;  author: allender;  state: Exp;
trap checking for scancodes at 128 and not 256
----------------------------
revision 1.9
date: 1995/05/15 13:55:40;  author: allender;  state: Exp;
change prototypes for keyboard_proc
----------------------------
revision 1.8
date: 1995/05/12 14:54:09;  author: allender;  state: Exp;
make key_to_ascii returned unsigned char instead of char
----------------------------
revision 1.7
date: 1995/05/12 12:19:13;  author: allender;  state: Exp;
added call to mouse handler to get button pressed during
interrupt time
----------------------------
revision 1.6
date: 1995/05/11 13:04:44;  author: allender;  state: Exp;
fixed keyboard handling.   Removed gestalt handing -- should be in
macinit
----------------------------
revision 1.5
date: 1995/05/04 20:02:43;  author: allender;  state: Exp;
still working
----------------------------
revision 1.4
date: 1995/04/05 13:49:48;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1995/03/21 13:39:51;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1995/03/21 13:28:11;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:32:25;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.34
date: 1995/01/14 19:19:31;  author: john;  state: Exp;
Made so when you press Shift+Baskspace, it release keys autmatically.
----------------------------
revision 1.33
date: 1994/12/13 09:21:48;  author: john;  state: Exp;
Took out keyd_editor_mode, and KEY_DEBUGGED stuff for NDEBUG versions.
----------------------------
revision 1.32
date: 1994/11/12 13:52:01;  author: john;  state: Exp;
Fixed bug with code that cleared bios buffer.
----------------------------
revision 1.31
date: 1994/10/24 15:16:16;  author: john;  state: Exp;
Added code to detect KEY_PAUSE.
----------------------------
revision 1.30
date: 1994/10/24 13:57:53;  author: john;  state: Exp;
Hacked in support for pause key onto code 0x61.
----------------------------
revision 1.29
date: 1994/10/21 15:18:13;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.28
date: 1994/10/21 15:17:24;  author: john;  state: Exp;
Made LSHIFT+BACKSPACE do what PrtScr used to.
----------------------------
revision 1.27
date: 1994/09/22 16:09:18;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.26
date: 1994/09/15 21:32:47;  author: john;  state: Exp;
Added bounds checking for down_count scancode
parameter.
----------------------------
revision 1.25
date: 1994/08/31 12:22:20;  author: john;  state: Exp;
Added KEY_DEBUGGED
----------------------------
revision 1.24
date: 1994/08/24 18:53:48;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.23
date: 1994/08/18 15:17:51;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.22
date: 1994/08/18 15:16:38;  author: john;  state: Exp;
fixed some bugs with clear_key_times and then
removed it because i fixed key_flush to do the
same.
----------------------------
revision 1.21
date: 1994/08/17 19:01:25;  author: john;  state: Exp;
Attempted to fix a bug with a key being held down
key_flush called, then the key released having too 
long of a time.
----------------------------
revision 1.20
date: 1994/08/08 10:43:48;  author: john;  state: Exp;
Recorded when a key was pressed for key_inkey_time.
----------------------------
revision 1.19
date: 1994/06/22 15:00:03;  author: john;  state: Exp;
Made keyboard close automatically on exit.
----------------------------
revision 1.18
date: 1994/06/21 09:16:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.17
date: 1994/06/21 09:08:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/06/21 09:05:01;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.15
date: 1994/06/21 09:04:24;  author: john;  state: Exp;
Made PrtScreen do an int5
----------------------------
revision 1.14
date: 1994/06/17 17:17:06;  author: john;  state: Exp;
Added keyd_time_last_key_was_pressed or something like that.
----------------------------
revision 1.13
date: 1994/05/14 13:55:16;  author: matt;  state: Exp;
Added #define to control key passing to bios
----------------------------
revision 1.12
date: 1994/05/05 18:09:39;  author: john;  state: Exp;
Took out BIOS to prevent stuck keys.
----------------------------
revision 1.11
date: 1994/05/03 17:39:12;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/04/29 12:14:20;  author: john;  state: Exp;
Locked all memory used during interrupts so that program
won't hang when using virtual memory.
----------------------------
revision 1.9
date: 1994/04/28 23:49:41;  author: john;  state: Exp;
Made key_flush flush more keys and also did something else but i forget what.
----------------------------
revision 1.8
date: 1994/04/22 12:52:12;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/04/01 10:44:59;  author: mike;  state: Exp;
Change key_getch() to call getch() if our interrupt hasn't been installed.
----------------------------
revision 1.6
date: 1994/03/09 10:45:48;  author: john;  state: Exp;
Neatend code a bit.
----------------------------
revision 1.5
date: 1994/02/17 17:24:16;  author: john;  state: Exp;
Neatened up a bit.
----------------------------
revision 1.4
date: 1994/02/17 16:30:29;  author: john;  state: Exp;
Put in code to pass keys when in debugger.
----------------------------
revision 1.3
date: 1994/02/17 15:57:59;  author: john;  state: Exp;
Made handler not chain to BIOS handler.
----------------------------
revision 1.2
date: 1994/02/17 15:56:06;  author: john;  state: Exp;
Initial version.
----------------------------
revision 1.1
date: 1994/02/17 15:54:07;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/bios/mono.h,v
Working file: bios/mono.h
head: 1.1
description: Header for monochrome/mprintf functions
----------------------------
revision 1.1
date: 1995/05/05 09:30:23;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.6
date: 1994/12/03 17:07:37;  author: matt;  state: Exp;
Made mono code turn off with either NDEBUG or NMONO
----------------------------
revision 1.5
date: 1994/11/27 23:07:28;  author: matt;  state: Exp;
Made changes needed to be able to compile out monochrome debugging code
----------------------------
revision 1.4
date: 1993/12/07 12:33:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/09/14 20:54:50;  author: matt;  state: Exp;
Made minit() check for mono card, return -1 if present, 0 if not
----------------------------
revision 1.2
date: 1993/07/22 13:05:40;  author: john;  state: Exp;
added macros to print variables
----------------------------
revision 1.1
date: 1993/07/10 13:10:40;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/bios/mouse.c,v
Working file: bios/mouse.c
head: 1.8
description: Functions to access Mouse and Cyberman...
----------------------------
revision 1.8
date: 1996/02/21 13:57:36;  author: allender;  state: Exp;
cursor device manager stuff added here so as not to
rely on InterfaceLib anymore
----------------------------
revision 1.7
date: 1995/10/17 15:42:21;  author: allender;  state: Exp;
new mouse function to determine single button press
----------------------------
revision 1.6
date: 1995/10/03 11:27:31;  author: allender;  state: Exp;
fixed up hotspot problems with the mouse on multiple monitors
----------------------------
revision 1.5
date: 1995/07/13 11:27:08;  author: allender;  state: Exp;
trap button checks at MAX_MOUSE_BUTTONS
----------------------------
revision 1.4
date: 1995/06/25 21:56:53;  author: allender;  state: Exp;
added events include
----------------------------
revision 1.3
date: 1995/05/11 17:06:38;  author: allender;  state: Exp;
fixed up mouse routines
----------------------------
revision 1.2
date: 1995/05/11 13:05:53;  author: allender;  state: Exp;
of mouse handler code
----------------------------
revision 1.1
date: 1995/05/05 09:54:45;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.9
date: 1995/01/14 19:19:52;  author: john;  state: Exp;
Fixed signed short error cmp with -1 that caused mouse
to break under Watcom 10.0
----------------------------
revision 1.8
date: 1994/12/27 12:38:23;  author: john;  state: Exp;
Made mouse use temporary dos buffer instead of
allocating its own.
----------------------------
revision 1.7
date: 1994/12/05 23:54:53;  author: john;  state: Exp;
Fixed bug with mouse_get_delta only returning positive numbers..
----------------------------
revision 1.6
date: 1994/11/18 23:18:18;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.5
date: 1994/09/13 12:34:02;  author: john;  state: Exp;
Added functions to get down count and state.
----------------------------
revision 1.4
date: 1994/08/29 20:52:19;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.3
date: 1994/08/24 18:54:32;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/08/24 18:53:46;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.1
date: 1994/08/24 13:56:37;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/bios/mouse.h,v
Working file: bios/mouse.h
head: 1.2
description: Header for mouse functions
----------------------------
revision 1.2
date: 1995/10/17 11:31:57;  author: allender;  state: Exp;
added new function to return mouse button state
----------------------------
revision 1.1
date: 1995/05/05 09:30:33;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.9
date: 1994/11/18 23:18:09;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.8
date: 1994/09/13 12:33:49;  author: john;  state: Exp;
Added functions to get down count and state.
----------------------------
revision 1.7
date: 1994/08/29 20:52:20;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.6
date: 1994/08/24 17:54:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/08/24 17:51:43;  author: john;  state: Exp;
Added transparent cyberman support
----------------------------
revision 1.4
date: 1993/07/27 09:32:22;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/07/26 10:46:44;  author: john;  state: Exp;
added definition for mouse_set_pos
----------------------------
revision 1.2
date: 1993/07/22 13:07:59;  author: john;  state: Exp;
added header for mousesetlimts
----------------------------
revision 1.1
date: 1993/07/10 13:10:40;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/bios/timer.c,v
Working file: bios/timer.c
head: 1.7
description: Functions for timers.
----------------------------
revision 1.7
date: 1995/09/13 08:38:08;  author: allender;  state: Exp;
added control macros and put in correct support for 68k
----------------------------
revision 1.6
date: 1995/08/31 14:40:09;  author: allender;  state: Exp;
multiply by F1_0/160 instead of dividing
----------------------------
revision 1.5
date: 1995/05/15 13:55:52;  author: allender;  state: Exp;
change prototype for timer_proc
----------------------------
revision 1.4
date: 1995/05/11 13:06:07;  author: allender;  state: Exp;
remove a5 references under PowerPC code
----------------------------
revision 1.3
date: 1995/05/04 20:03:03;  author: allender;  state: Exp;
added two functions, timer_approx_seconds, and delay
----------------------------
revision 1.2
date: 1995/03/21 13:40:01;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/21 13:31:33;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/cfile/cfile.c,v
Working file: cfile/cfile.c
head: 1.7
description: Functions for accessing compressed files.
----------------------------
revision 1.7
date: 1995/10/27 15:18:20;  author: allender;  state: Exp;
get back to descent directory before trying to read a hog file
----------------------------
revision 1.6
date: 1995/10/21 23:48:24;  author: allender;  state: Exp;
hogfile(s) are now in :Data: folder
----------------------------
revision 1.5
date: 1995/08/14 09:27:31;  author: allender;  state: Exp;
added byteswap header
----------------------------
revision 1.4
date: 1995/05/12 11:54:33;  author: allender;  state: Exp;
changed memory stuff again
----------------------------
revision 1.3
date: 1995/05/04 20:03:38;  author: allender;  state: Exp;
added code that was missing...use NewPtr instead of malloc
----------------------------
revision 1.2
date: 1995/04/03 09:59:49;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/30 10:25:02;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.24
date: 1995/03/15 14:20:27;  author: john;  state: Exp;
Added critical error checker.
----------------------------
revision 1.23
date: 1995/03/13 15:16:53;  author: john;  state: Exp;
Added alternate directory stuff.
----------------------------
revision 1.22
date: 1995/02/09 23:08:47;  author: matt;  state: Exp;
Increased the max number of files in hogfile to 250
----------------------------
revision 1.21
date: 1995/02/01 20:56:47;  author: john;  state: Exp;
Added cfexist function
----------------------------
revision 1.20
date: 1995/01/21 17:53:48;  author: john;  state: Exp;
Added alternate pig file thing.
----------------------------
revision 1.19
date: 1994/12/29 15:10:02;  author: john;  state: Exp;
Increased hogfile max files to 200.
----------------------------
revision 1.18
date: 1994/12/12 13:20:57;  author: john;  state: Exp;
Made cfile work with fiellentth.
----------------------------
revision 1.17
date: 1994/12/12 13:14:25;  author: john;  state: Exp;
Made cfiles prefer non-hog files.
----------------------------
revision 1.16
date: 1994/12/09 18:53:26;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.15
date: 1994/12/09 18:52:56;  author: john;  state: Exp;
Took out mem, error checking.
----------------------------
revision 1.14
date: 1994/12/09 18:10:31;  author: john;  state: Exp;
Speed up cfgets, which was slowing down the reading of
bitmaps.tbl, which was making POF loading look slow.
----------------------------
revision 1.13
date: 1994/12/09 17:53:51;  author: john;  state: Exp;
Added error checking to number of hogfiles..
----------------------------
revision 1.12
date: 1994/12/08 19:02:55;  author: john;  state: Exp;
Added cfgets.
----------------------------
revision 1.11
date: 1994/12/07 21:57:48;  author: john;  state: Exp;
Took out data dir.
----------------------------
revision 1.10
date: 1994/12/07 21:38:02;  author: john;  state: Exp;
Made cfile not return error..
----------------------------
revision 1.9
date: 1994/12/07 21:35:34;  author: john;  state: Exp;
Made it read from data directory.
----------------------------
revision 1.8
date: 1994/12/07 21:33:55;  author: john;  state: Exp;
Stripped out compression stuff...
----------------------------
revision 1.7
date: 1994/04/13 23:44:59;  author: matt;  state: Exp;
When file cannot be opened, free up the buffer for that file.
----------------------------
revision 1.6
date: 1994/02/18 12:38:20;  author: john;  state: Exp;
Optimized a bit
----------------------------
revision 1.5
date: 1994/02/15 18:13:20;  author: john;  state: Exp;
Fixed more bugs.
----------------------------
revision 1.4
date: 1994/02/15 13:27:58;  author: john;  state: Exp;
Works ok...
----------------------------
revision 1.3
date: 1994/02/15 12:51:57;  author: john;  state: Exp;
Crappy inbetween version
----------------------------
revision 1.2
date: 1994/02/14 20:12:29;  author: john;  state: Exp;
First version working with new cfile stuff.
----------------------------
revision 1.1
date: 1994/02/14 15:51:33;  author: john;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1994/02/10 15:45:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/cfile/cfile.h,v
Working file: cfile/cfile.h
head: 1.1
description: Prototypes for compressed file functions...
----------------------------
revision 1.1
date: 1995/03/30 10:25:08;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.9
date: 1995/02/01 20:56:40;  author: john;  state: Exp;
Added cfexist function
----------------------------
revision 1.8
date: 1995/01/21 17:53:41;  author: john;  state: Exp;
Added alternate pig file thing.
----------------------------
revision 1.7
date: 1994/12/12 13:19:47;  author: john;  state: Exp;
Made cfile work with fiellentth.
----------------------------
revision 1.6
date: 1994/12/08 19:02:52;  author: john;  state: Exp;
Added cfgets.
----------------------------
revision 1.5
date: 1994/12/07 21:34:07;  author: john;  state: Exp;
Stripped out compression stuff...
----------------------------
revision 1.4
date: 1994/07/13 00:16:53;  author: matt;  state: Exp;
Added include
----------------------------
revision 1.3
date: 1994/02/17 17:36:19;  author: john;  state: Exp;
Added CF_READ_MODE and CF_WRITE_MODE constants.
----------------------------
revision 1.2
date: 1994/02/15 12:52:08;  author: john;  state: Exp;
Crappy inbetween version
----------------------------
revision 1.1
date: 1994/02/15 10:54:23;  author: john;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1994/02/10 15:50:54;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/cfile/nocfile.h,v
Working file: cfile/nocfile.h
head: 1.1
description: Prototypes to *NOT* use cfile, but use cfile calling parameters.
For debugging.
----------------------------
revision 1.1
date: 1995/05/05 09:32:06;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.4
date: 1994/12/09 17:53:52;  author: john;  state: Exp;
Added error checking to number of hogfiles..
----------------------------
revision 1.3
date: 1994/02/17 17:36:34;  author: john;  state: Exp;
Added CF_READ_MODE and CF_WRITE_MODE constants.
----------------------------
revision 1.2
date: 1994/02/15 12:52:08;  author: john;  state: Exp;
Crappy inbetween version
----------------------------
revision 1.1
date: 1994/02/15 09:51:00;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/fix/fix.c,v
Working file: fix/fix.c
head: 1.7
description: C version of fixed point library
----------------------------
revision 1.7
date: 1995/09/22 14:08:16;  author: allender;  state: Exp;
fixed fix_atan2 to work correctly with doubles
----------------------------
revision 1.6
date: 1995/08/31 15:43:49;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1995/07/05 16:15:15;  author: allender;  state: Exp;
make fixmuldiv use doubles for PPC implementation
----------------------------
revision 1.4
date: 1995/05/15 13:57:36;  author: allender;  state: Exp;
make fixmuldiv compile when compiling under 68k
----------------------------
revision 1.3
date: 1995/05/11 13:02:59;  author: allender;  state: Exp;
some routines are now in assembly
----------------------------
revision 1.2
date: 1995/05/04 20:04:45;  author: allender;  state: Exp;
use MPW fixdiv if compiling with MPW (why did I do this?)
----------------------------
revision 1.1
date: 1995/04/17 11:37:54;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/03/08 18:55:09;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/fix/fix.h,v
Working file: fix/fix.h
head: 1.2
description: FIX.H - prototypes and macros for fixed-point functions
Copyright (c) 1993  Matt Toschlog & Mike Kulas
----------------------------
revision 1.2
date: 1995/08/31 15:44:01;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/04/17 11:37:59;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.13
date: 1994/12/06 13:52:34;  author: matt;  state: Exp;
Added f2ir(), which is fix-to-int with rounding
----------------------------
revision 1.12
date: 1994/05/18 21:45:16;  author: matt;  state: Exp;
Added comments
----------------------------
revision 1.11
date: 1994/01/19 23:12:02;  author: matt;  state: Exp;
Made fix_atan2() left-handed, like our coordinate system
----------------------------
revision 1.10
date: 1993/10/20 01:09:00;  author: matt;  state: Exp;
Add fix_asin(), improved fix_atan2()
----------------------------
revision 1.9
date: 1993/10/19 23:53:46;  author: matt;  state: Exp;
Added fix_atan2()
----------------------------
revision 1.8
date: 1993/10/19 22:22:40;  author: matt;  state: Exp;
Added fix_acos()
----------------------------
revision 1.7
date: 1993/09/17 11:37:01;  author: mike;  state: Exp;
Add capitalized versions of "some handy constants", eg:
#define F1_0 f1_0
----------------------------
revision 1.6
date: 1993/08/24 13:00:48;  author: matt;  state: Exp;
Adopted new standard, and made assembly-callable routines not trash any regs
----------------------------
revision 1.5
date: 1993/08/12 13:12:45;  author: matt;  state: Exp;
Changed fixmul() to use SHRD instead of shl,shr,or
----------------------------
revision 1.4
date: 1993/08/04 19:57:18;  author: matt;  state: Exp;
Added parens in fix/float conversion macros
----------------------------
revision 1.3
date: 1993/08/04 11:41:45;  author: matt;  state: Exp;
Fixed bogus constants
----------------------------
revision 1.2
date: 1993/08/04 09:30:11;  author: matt;  state: Exp;
Added more constants
----------------------------
revision 1.1
date: 1993/08/03 17:45:53;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/fix/tables.c,v
Working file: fix/tables.c
head: 1.2
description: C version of fixed point library
----------------------------
revision 1.2
date: 1995/08/31 15:44:36;  author: allender;  state: Exp;
..
----------------------------
revision 1.1
date: 1995/04/17 11:38:04;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/iff/iff.c,v
Working file: iff/iff.c
head: 1.2
description: Routines for reading and writing IFF files
----------------------------
revision 1.2
date: 1995/05/12 11:54:43;  author: allender;  state: Exp;
changed memory stuff again
----------------------------
revision 1.1
date: 1995/05/05 08:59:41;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.43
date: 1994/12/08 19:03:17;  author: john;  state: Exp;
Added code to use cfile.
----------------------------
revision 1.42
date: 1994/12/08 17:45:32;  author: john;  state: Exp;
Put back in cfile stuff.
----------------------------
revision 1.41
date: 1994/11/19 16:41:06;  author: matt;  state: Exp;
Took out unused code
----------------------------
revision 1.40
date: 1994/11/07 21:26:39;  author: matt;  state: Exp;
Added new function iff_read_into_bitmap()
----------------------------
revision 1.39
date: 1994/10/27 00:12:03;  author: john;  state: Exp;
Used nocfile
----------------------------
revision 1.38
date: 1994/08/10 19:49:58;  author: matt;  state: Exp;
Fixed bitmaps in ILBM format with masking (stencil) on.
----------------------------
revision 1.37
date: 1994/06/02 18:53:17;  author: matt;  state: Exp;
Clear flags & selector in new bitmap structure
----------------------------
revision 1.36
date: 1994/05/17 14:00:33;  author: matt;  state: Exp;
Fixed bug with odd-width deltas & odd-length body chunks
----------------------------
revision 1.35
date: 1994/05/16 20:38:55;  author: matt;  state: Exp;
Made anim brushes work when odd width
----------------------------
revision 1.34
date: 1994/05/06 19:37:26;  author: matt;  state: Exp;
Improved error handling and checking
----------------------------
revision 1.33
date: 1994/04/27 20:57:07;  author: matt;  state: Exp;
Fixed problem with RLE decompression and odd-width bitmap
Added more error checking
----------------------------
revision 1.32
date: 1994/04/16 21:44:19;  author: matt;  state: Exp;
Fixed bug introduced last version
----------------------------
revision 1.31
date: 1994/04/16 20:12:40;  author: matt;  state: Exp;
Made masked (stenciled) bitmaps work
----------------------------
revision 1.30
date: 1994/04/13 23:46:16;  author: matt;  state: Exp;
Added function, iff_errormsg(), which returns ptr to error message.
----------------------------
revision 1.29
date: 1994/04/13 23:27:25;  author: matt;  state: Exp;
Put in support for anim brushes (.abm files)
----------------------------
revision 1.28
date: 1994/04/13 16:33:31;  author: matt;  state: Exp;
Cleaned up file read code, adding fake_file structure (FFILE), which
cleanly implements reading the entire file into a buffer and then reading
out of that buffer.
----------------------------
revision 1.27
date: 1994/04/06 23:07:43;  author: matt;  state: Exp;
Cleaned up code; added prototype (but no new code) for anim brush read
----------------------------
revision 1.26
date: 1994/03/19 02:51:52;  author: matt;  state: Exp;
Really did what I said I did last revision.
----------------------------
revision 1.25
date: 1994/03/19 02:16:07;  author: matt;  state: Exp;
Made work ILBMs which didn't have 8 planes
----------------------------
revision 1.24
date: 1994/03/15 14:45:26;  author: matt;  state: Exp;
When error, only free memory if has been allocated
----------------------------
revision 1.23
date: 1994/02/18 12:39:05;  author: john;  state: Exp;
Made code read from buffer.
----------------------------
revision 1.22
date: 1994/02/15 18:15:26;  author: john;  state: Exp;
Took out cfile attempt (too slow)
----------------------------
revision 1.21
date: 1994/02/15 13:17:48;  author: john;  state: Exp;
added assert to cfseek.
----------------------------
revision 1.20
date: 1994/02/15 13:13:11;  author: john;  state: Exp;
Made iff code work normally.
----------------------------
revision 1.19
date: 1994/02/15 12:51:07;  author: john;  state: Exp;
crappy inbetween version.
----------------------------
revision 1.18
date: 1994/02/10 18:31:32;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.17
date: 1994/01/24 11:51:26;  author: john;  state: Exp;
Made write routine write transparency info.
----------------------------
revision 1.16
date: 1994/01/22 14:41:11;  author: john;  state: Exp;
Fixed bug with declareations.
----------------------------
revision 1.15
date: 1994/01/22 14:23:00;  author: john;  state: Exp;
Added global vars to check transparency
----------------------------
revision 1.14
date: 1993/12/08 19:00:42;  author: matt;  state: Exp;
Changed while loop to memset
----------------------------
revision 1.13
date: 1993/12/08 17:23:51;  author: mike;  state: Exp;
Speedup by converting while...getc to fread.
----------------------------
revision 1.12
date: 1993/12/08 12:37:35;  author: mike;  state: Exp;
Optimize parse_body.
----------------------------
revision 1.11
date: 1993/12/05 17:30:14;  author: matt;  state: Exp;
Made bitmaps with width <= 64 not compress
----------------------------
revision 1.10
date: 1993/12/03 12:24:51;  author: matt;  state: Exp;
Fixed TINY chunk when bitmap was part of a larger bitmap
----------------------------
revision 1.9
date: 1993/11/22 17:26:43;  author: matt;  state: Exp;
iff write now writes out a tiny chunk
----------------------------
revision 1.8
date: 1993/11/21 22:04:13;  author: matt;  state: Exp;
Fixed error with non-compressed bitmaps
Added Yuan's code to free raw data if we get an error parsing the body
----------------------------
revision 1.7
date: 1993/11/11 12:12:12;  author: yuan;  state: Exp;
Changed mallocs to MALLOCs.
----------------------------
revision 1.6
date: 1993/11/01 19:02:23;  author: matt;  state: Exp;
Fixed a couple bugs in rle compression
----------------------------
revision 1.5
date: 1993/10/27 12:47:39;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/10/27 12:37:31;  author: yuan;  state: Exp;
Added mem.h
----------------------------
revision 1.3
date: 1993/09/22 19:16:57;  author: matt;  state: Exp;
Added new error type, IFF_CORRUPT, for internally bad IFF files.
----------------------------
revision 1.2
date: 1993/09/08 19:24:16;  author: matt;  state: Exp;
Fixed bug in RLE compression
Changed a bunch of unimportant values like aspect and page size when writing
Added new error condition, IFF_BAD_BM_TYPE
Make sub-bitmaps work correctly
Added compile flag to turn compression off (COMPRESS)
----------------------------
revision 1.1
date: 1993/09/08 14:24:15;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/iff/iff.h,v
Working file: iff/iff.h
head: 1.2
description: Header for IFF routines
----------------------------
revision 1.2
date: 1995/05/05 16:33:22;  author: allender;  state: Exp;
changed types.h to dtypes.h
----------------------------
revision 1.1
date: 1995/05/05 08:59:45;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.12
date: 1994/11/07 21:26:53;  author: matt;  state: Exp;
Added new function iff_read_into_bitmap()
----------------------------
revision 1.11
date: 1994/05/06 19:37:38;  author: matt;  state: Exp;
Improved error handling and checking
----------------------------
revision 1.10
date: 1994/04/16 20:12:54;  author: matt;  state: Exp;
Made masked (stenciled) bitmaps work
----------------------------
revision 1.9
date: 1994/04/13 23:46:00;  author: matt;  state: Exp;
Added function, iff_errormsg(), which returns ptr to error message.
----------------------------
revision 1.8
date: 1994/04/13 23:27:10;  author: matt;  state: Exp;
Put in support for anim brushes (.abm files)
----------------------------
revision 1.7
date: 1994/04/06 23:08:02;  author: matt;  state: Exp;
Cleaned up code; added prototype (but no new code) for anim brush read
----------------------------
revision 1.6
date: 1994/01/22 14:40:59;  author: john;  state: Exp;
Fixed bug with declareations.
----------------------------
revision 1.5
date: 1994/01/22 14:23:13;  author: john;  state: Exp;
Added global vars to check transparency
----------------------------
revision 1.4
date: 1993/10/27 12:47:42;  author: john;  state: Exp;
Extended the comments
----------------------------
revision 1.3
date: 1993/09/22 19:17:20;  author: matt;  state: Exp;
Fixed handling of pad byte in ILBM/PPB body - was writing pad byte to
destination buffer.
----------------------------
revision 1.2
date: 1993/09/08 19:23:25;  author: matt;  state: Exp;
Added additional return code, IFF_BAD_BM_TYPE
----------------------------
revision 1.1
date: 1993/09/08 14:24:21;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/includes/types.h,v
Working file: includes/types.h
head: 1.2
description: Common types for use in Miner
----------------------------
revision 1.2
date: 1993/09/14 12:12:30;  author: matt;  state: Exp;
Added #define for NULL
----------------------------
revision 1.1
date: 1993/08/24 12:50:40;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/macsys/backgrnd.c,v
Working file: macsys/backgrnd.c
head: 1.1
description: Routines to deal with blacking out the background
----------------------------
revision 1.1
date: 1995/04/07 13:18:00;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/macsys/macinit.c,v
Working file: macsys/macinit.c
head: 1.21
description: $Log: not supported by cvs2svn $
----------------------------
revision 1.21
date: 1995/11/02 14:13:23;  author: allender;  state: Exp;
cd checking only on registered version
----------------------------
revision 1.20
date: 1995/10/28 22:51:12;  author: allender;  state: Exp;
#ifdef RELEASE for cd checking
----------------------------
revision 1.19
date: 1995/10/28 22:22:39;  author: allender;  state: Exp;
added stuff to check for Descent CD at startup
----------------------------
revision 1.18
date: 1995/10/24 18:13:01;  author: allender;  state: Exp;
do screen saver stuff
----------------------------
revision 1.17
date: 1995/10/21 04:54:12;  author: allender;  state: Exp;
low sounds and textures in virtual memory
----------------------------
revision 1.16
date: 1995/10/20 00:10:07;  author: allender;  state: Exp;
new memory stuff (only two possibilities), and fucking
correct checking of VM active
----------------------------
revision 1.15
date: 1995/10/15 22:47:53;  author: allender;  state: Exp;
call process_initial_events 4 times since I don't loop
there anymore
----------------------------
revision 1.14
date: 1995/10/13 14:41:58;  author: allender;  state: Exp;
tried hiding control strip on startup.  Code is commented
out because functions don't appear to exist anywhere
----------------------------
revision 1.13
date: 1995/10/11 13:56:16;  author: allender;  state: Exp;
removed a couple of functions that shouldn't be called here
----------------------------
revision 1.12
date: 1995/10/05 08:57:28;  author: allender;  state: Exp;
chedck to be sure GDevice is valid before performing close
operations (fixing up bbp and restoring clut)
----------------------------
revision 1.11
date: 1995/09/18 08:45:00;  author: allender;  state: Exp;
correctly restore device bitplane when done
----------------------------
revision 1.10
date: 1995/09/18 08:11:13;  author: allender;  state: Exp;
added memory stuff.  Descent should run in 5.5 w/VM on PPC
now.
----------------------------
revision 1.9
date: 1995/09/13 09:31:18;  author: allender;  state: Exp;
more memory stuff.  Put in mymkdir and mychdir functions
to account for some compilers not implementing the
normal functions
----------------------------
revision 1.8
date: 1995/09/01 14:14:14;  author: allender;  state: Exp;
determine in VM is on during init
----------------------------
revision 1.7
date: 1995/08/08 14:22:00;  author: allender;  state: Exp;
changed initialization code
----------------------------
revision 1.6
date: 1995/07/17 09:08:49;  author: allender;  state: Exp;
first attempt to change pixel depth of device
----------------------------
revision 1.5
date: 1995/06/13 10:22:50;  author: allender;  state: Exp;
overhauled screen manipulation stuff
----------------------------
revision 1.4
date: 1995/06/12 11:12:18;  author: allender;  state: Exp;
ifdef'ed qd global
----------------------------
revision 1.3
date: 1995/05/11 13:02:02;  author: allender;  state: Exp;
make define for stack size and change error message
----------------------------
revision 1.2
date: 1995/05/04 20:06:10;  author: allender;  state: Exp;
stack and heap handling -- needs work
----------------------------
revision 1.1
date: 1995/04/07 13:20:32;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/macsys/macinit.c,v
Working file: macsys/macinit.c
head: 1.21
description: $Log: not supported by cvs2svn $
----------------------------
revision 1.21
date: 1995/11/02 14:13:23;  author: allender;  state: Exp;
cd checking only on registered version
----------------------------
revision 1.20
date: 1995/10/28 22:51:12;  author: allender;  state: Exp;
#ifdef RELEASE for cd checking
----------------------------
revision 1.19
date: 1995/10/28 22:22:39;  author: allender;  state: Exp;
added stuff to check for Descent CD at startup
----------------------------
revision 1.18
date: 1995/10/24 18:13:01;  author: allender;  state: Exp;
do screen saver stuff
----------------------------
revision 1.17
date: 1995/10/21 04:54:12;  author: allender;  state: Exp;
low sounds and textures in virtual memory
----------------------------
revision 1.16
date: 1995/10/20 00:10:07;  author: allender;  state: Exp;
new memory stuff (only two possibilities), and fucking
correct checking of VM active
----------------------------
revision 1.15
date: 1995/10/15 22:47:53;  author: allender;  state: Exp;
call process_initial_events 4 times since I don't loop
there anymore
----------------------------
revision 1.14
date: 1995/10/13 14:41:58;  author: allender;  state: Exp;
tried hiding control strip on startup.  Code is commented
out because functions don't appear to exist anywhere
----------------------------
revision 1.13
date: 1995/10/11 13:56:16;  author: allender;  state: Exp;
removed a couple of functions that shouldn't be called here
----------------------------
revision 1.12
date: 1995/10/05 08:57:28;  author: allender;  state: Exp;
chedck to be sure GDevice is valid before performing close
operations (fixing up bbp and restoring clut)
----------------------------
revision 1.11
date: 1995/09/18 08:45:00;  author: allender;  state: Exp;
correctly restore device bitplane when done
----------------------------
revision 1.10
date: 1995/09/18 08:11:13;  author: allender;  state: Exp;
added memory stuff.  Descent should run in 5.5 w/VM on PPC
now.
----------------------------
revision 1.9
date: 1995/09/13 09:31:18;  author: allender;  state: Exp;
more memory stuff.  Put in mymkdir and mychdir functions
to account for some compilers not implementing the
normal functions
----------------------------
revision 1.8
date: 1995/09/01 14:14:14;  author: allender;  state: Exp;
determine in VM is on during init
----------------------------
revision 1.7
date: 1995/08/08 14:22:00;  author: allender;  state: Exp;
changed initialization code
----------------------------
revision 1.6
date: 1995/07/17 09:08:49;  author: allender;  state: Exp;
first attempt to change pixel depth of device
----------------------------
revision 1.5
date: 1995/06/13 10:22:50;  author: allender;  state: Exp;
overhauled screen manipulation stuff
----------------------------
revision 1.4
date: 1995/06/12 11:12:18;  author: allender;  state: Exp;
ifdef'ed qd global
----------------------------
revision 1.3
date: 1995/05/11 13:02:02;  author: allender;  state: Exp;
make define for stack size and change error message
----------------------------
revision 1.2
date: 1995/05/04 20:06:10;  author: allender;  state: Exp;
stack and heap handling -- needs work
----------------------------
revision 1.1
date: 1995/04/07 13:20:32;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/macsys/macinit.c,v
Working file: macsys/macinit.c
head: 1.21
description: $Log: not supported by cvs2svn $
----------------------------
revision 1.21
date: 1995/11/02 14:13:23;  author: allender;  state: Exp;
cd checking only on registered version
----------------------------
revision 1.20
date: 1995/10/28 22:51:12;  author: allender;  state: Exp;
#ifdef RELEASE for cd checking
----------------------------
revision 1.19
date: 1995/10/28 22:22:39;  author: allender;  state: Exp;
added stuff to check for Descent CD at startup
----------------------------
revision 1.18
date: 1995/10/24 18:13:01;  author: allender;  state: Exp;
do screen saver stuff
----------------------------
revision 1.17
date: 1995/10/21 04:54:12;  author: allender;  state: Exp;
low sounds and textures in virtual memory
----------------------------
revision 1.16
date: 1995/10/20 00:10:07;  author: allender;  state: Exp;
new memory stuff (only two possibilities), and fucking
correct checking of VM active
----------------------------
revision 1.15
date: 1995/10/15 22:47:53;  author: allender;  state: Exp;
call process_initial_events 4 times since I don't loop
there anymore
----------------------------
revision 1.14
date: 1995/10/13 14:41:58;  author: allender;  state: Exp;
tried hiding control strip on startup.  Code is commented
out because functions don't appear to exist anywhere
----------------------------
revision 1.13
date: 1995/10/11 13:56:16;  author: allender;  state: Exp;
removed a couple of functions that shouldn't be called here
----------------------------
revision 1.12
date: 1995/10/05 08:57:28;  author: allender;  state: Exp;
chedck to be sure GDevice is valid before performing close
operations (fixing up bbp and restoring clut)
----------------------------
revision 1.11
date: 1995/09/18 08:45:00;  author: allender;  state: Exp;
correctly restore device bitplane when done
----------------------------
revision 1.10
date: 1995/09/18 08:11:13;  author: allender;  state: Exp;
added memory stuff.  Descent should run in 5.5 w/VM on PPC
now.
----------------------------
revision 1.9
date: 1995/09/13 09:31:18;  author: allender;  state: Exp;
more memory stuff.  Put in mymkdir and mychdir functions
to account for some compilers not implementing the
normal functions
----------------------------
revision 1.8
date: 1995/09/01 14:14:14;  author: allender;  state: Exp;
determine in VM is on during init
----------------------------
revision 1.7
date: 1995/08/08 14:22:00;  author: allender;  state: Exp;
changed initialization code
----------------------------
revision 1.6
date: 1995/07/17 09:08:49;  author: allender;  state: Exp;
first attempt to change pixel depth of device
----------------------------
revision 1.5
date: 1995/06/13 10:22:50;  author: allender;  state: Exp;
overhauled screen manipulation stuff
----------------------------
revision 1.4
date: 1995/06/12 11:12:18;  author: allender;  state: Exp;
ifdef'ed qd global
----------------------------
revision 1.3
date: 1995/05/11 13:02:02;  author: allender;  state: Exp;
make define for stack size and change error message
----------------------------
revision 1.2
date: 1995/05/04 20:06:10;  author: allender;  state: Exp;
stack and heap handling -- needs work
----------------------------
revision 1.1
date: 1995/04/07 13:20:32;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/macsys/macsys.h,v
Working file: macsys/macsys.h
head: 1.16
description: $Log: not supported by cvs2svn $
----------------------------
revision 1.16
date: 1995/10/25 09:19:11;  author: allender;  state: Exp;
end file with newline to get rid of warnings on compile
----------------------------
revision 1.15
date: 1995/10/23 10:46:06;  author: allender;  state: Exp;
removed drv_num from GetDiskInserted
----------------------------
revision 1.14
date: 1995/10/23 09:41:27;  author: allender;  state: Exp;
changed param to GetDiskInserted to be drv_num
----------------------------
revision 1.13
date: 1995/10/11 13:57:42;  author: allender;  state: Exp;
added prototype for GetDiskInserted
----------------------------
revision 1.12
date: 1995/09/24 11:00:11;  author: allender;  state: Exp;
extern do_appl_quit function
----------------------------
revision 1.11
date: 1995/09/19 10:38:02;  author: allender;  state: Exp;
start of compatibility stuff...added function prototype
----------------------------
revision 1.10
date: 1995/09/18 09:16:18;  author: allender;  state: Exp;
added Compatibility_mode variable
----------------------------
revision 1.9
date: 1995/09/15 13:43:32;  author: allender;  state: Exp;
changed parameter to SavePictScreen
----------------------------
revision 1.8
date: 1995/09/13 08:41:52;  author: allender;  state: Exp;
added two variable to control memory usage
----------------------------
revision 1.7
date: 1995/09/05 08:48:15;  author: allender;  state: Exp;
added prefs header stuff
----------------------------
revision 1.6
date: 1995/09/01 14:14:28;  author: allender;  state: Exp;
have_virtual_memory global variable added
----------------------------
revision 1.5
date: 1995/08/31 15:46:03;  author: allender;  state: Exp;
new headers and stuff
----------------------------
revision 1.4
date: 1995/07/10 20:39:59;  author: allender;  state: Exp;
added save_bbp as extern
----------------------------
revision 1.3
date: 1995/06/13 10:22:37;  author: allender;  state: Exp;
overhauled screen manipulation stuff
----------------------------
revision 1.2
date: 1995/06/13 09:08:29;  author: allender;  state: Exp;
changed window init code -- now called from gr_init
----------------------------
revision 1.1
date: 1995/04/07 13:19:04;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/macsys/macwin.c,v
Working file: macsys/macwin.c
head: 1.30
description: $Log: not supported by cvs2svn $
----------------------------
revision 1.30
date: 1995/11/02 14:13:09;  author: allender;  state: Exp;
cd checking only on registered version
----------------------------
revision 1.29
date: 1995/10/28 22:51:24;  author: allender;  state: Exp;
#ifdef RELEASE for CD checking and call do_appl_quit1 so
we don't do silly restore/save of monitor background
----------------------------
revision 1.28
date: 1995/10/28 22:22:24;  author: allender;  state: Exp;
added calls to check for Descent CD at startup
----------------------------
revision 1.27
date: 1995/10/24 18:13:13;  author: allender;  state: Exp;
cd back to Descent directory after saving screen shot
----------------------------
revision 1.26
date: 1995/10/20 22:18:05;  author: allender;  state: Exp;
change creator code for PICTS to 'ttxt'
----------------------------
revision 1.25
date: 1995/10/20 00:09:21;  author: allender;  state: Exp;
added correct creator code to PICT files, and now
call process_one_event in window code
----------------------------
revision 1.24
date: 1995/10/17 13:19:51;  author: allender;  state: Exp;
show and hide cursor when doing screen shot
----------------------------
revision 1.23
date: 1995/10/15 23:21:48;  author: allender;  state: Exp;
process events after getting game monitor
----------------------------
revision 1.22
date: 1995/10/13 14:40:57;  author: allender;  state: Exp;
don't change to GDevice when monitor is picked
----------------------------
revision 1.21
date: 1995/10/11 13:56:34;  author: allender;  state: Exp;
fixed up window processing -- background black window
now covers only game monitor
----------------------------
revision 1.20
date: 1995/10/05 08:54:46;  author: allender;  state: Exp;
close keyboard and show cursor always before bringing up
monitor selection box
----------------------------
revision 1.19
date: 1995/10/03 11:27:55;  author: allender;  state: Exp;
fixed multiple monitor problems with game window appearing
on wrong monitor
----------------------------
revision 1.18
date: 1995/09/24 10:59:19;  author: allender;  state: Exp;
canceling or cmd-q'ing out of pickamonitor will ask for quit game
----------------------------
revision 1.17
date: 1995/09/19 10:37:49;  author: allender;  state: Exp;
start of copybits compatibility stuff
----------------------------
revision 1.16
date: 1995/09/18 08:45:27;  author: allender;  state: Exp;
bitplane restoration stuff on exit
----------------------------
revision 1.15
date: 1995/09/18 08:10:39;  author: allender;  state: Exp;
handled NULL returned from PickaMonitor.
----------------------------
revision 1.14
date: 1995/09/15 15:52:53;  author: allender;  state: Exp;
better handling of dumping of PICT files
----------------------------
revision 1.13
date: 1995/09/13 09:08:20;  author: allender;  state: Exp;
added PICT screen dumps
----------------------------
revision 1.12
date: 1995/08/31 15:46:22;  author: allender;  state: Exp;
don't show game window
----------------------------
revision 1.11
date: 1995/08/14 14:30:52;  author: allender;  state: Exp;
removed white_window call
----------------------------
revision 1.10
date: 1995/08/08 14:22:23;  author: allender;  state: Exp;
new windowing code (i.e. white and black background windows)
plus new code for picking the monitor ala MacPlay
----------------------------
revision 1.9
date: 1995/07/17 09:08:33;  author: allender;  state: Exp;
first attempt to change pixel dpeth of device
----------------------------
revision 1.8
date: 1995/07/05 16:19:40;  author: allender;  state: Exp;
no more palette manager stuff
----------------------------
revision 1.7
date: 1995/06/13 10:23:09;  author: allender;  state: Exp;
overhauled screen manipulation stuff
----------------------------
revision 1.6
date: 1995/05/17 14:40:01;  author: allender;  state: Exp;
added some globals to speed up screen copy
----------------------------
revision 1.5
date: 1995/05/12 11:55:06;  author: allender;  state: Exp;
changed memory stuff again
----------------------------
revision 1.4
date: 1995/05/04 20:06:35;  author: allender;  state: Exp;
change palette stuff to be animated
----------------------------
revision 1.3
date: 1995/04/18 09:52:49;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1995/04/07 13:15:27;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:16:57;  author: allender;  state: Exp;
Initial revision
 Creates the window and GWorld.  We won't do any size information.  We will have
 seperate routines which will deal with setting the size of the window and GWorld.
=============================================================================
RCS file: /Smoke/miner/source/macsys/menubar.c,v
Working file: macsys/menubar.c
head: 1.4
description: Functions to deal with manipulating the macintosh menubar
----------------------------
revision 1.4
date: 1995/08/31 15:46:46;  author: allender;  state: Exp;
removed conditional compiles for functions
----------------------------
revision 1.3
date: 1995/06/12 10:33:43;  author: allender;  state: Exp;
change parameters to window fn's because of differnces between compiler
prototypes
----------------------------
revision 1.2
date: 1995/05/04 20:07:14;  author: allender;  state: Exp;
use proper prototypes on mac functions
----------------------------
revision 1.1
date: 1995/04/07 13:17:22;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/macsys/mevent.c,v
Working file: macsys/mevent.c
head: 1.15
description: $Log: not supported by cvs2svn $
----------------------------
revision 1.15
date: 1995/10/28 22:51:55;  author: allender;  state: Exp;
make do_appl_quit1 which doesn't save/restore monitor
background below quit dialog -- WHAT A HACK!!!!
----------------------------
revision 1.14
date: 1995/10/27 16:56:17;  author: allender;  state: Exp;
fix up the quit thing restoring correctly
----------------------------
revision 1.13
date: 1995/10/27 15:18:55;  author: allender;  state: Exp;
go back to descent dir after events, and make sure
that screen behind quit box refreshes correctly on
higher than 640x480 mode
----------------------------
revision 1.12
date: 1995/10/27 11:06:55;  author: allender;  state: Exp;
cd back to Descent dir after any event processing
----------------------------
revision 1.11
date: 1995/10/24 15:41:12;  author: allender;  state: Exp;
new quit dialog stuff -- use dialog so that background
can be saved and restored easily
----------------------------
revision 1.10
date: 1995/10/20 00:11:02;  author: allender;  state: Exp;
new event code
----------------------------
revision 1.9
date: 1995/10/15 22:48:16;  author: allender;  state: Exp;
don't loop in process_initial_events
----------------------------
revision 1.8
date: 1995/10/13 14:41:37;  author: allender;  state: Exp;
tried putting in standard dialog filter
----------------------------
revision 1.7
date: 1995/10/11 13:57:59;  author: allender;  state: Exp;
added GetDiskInserted for mounting CD's.  Killed
the finder
----------------------------
revision 1.6
date: 1995/10/07 16:46:00;  author: allender;  state: Exp;
ode for single event processing
----------------------------
revision 1.5
date: 1995/09/24 11:00:43;  author: allender;  state: Exp;
fixed up do_qppl_quit to get to basic black and white if screen
is faded out
----------------------------
revision 1.4
date: 1995/09/18 08:47:42;  author: allender;  state: Exp;
restore back to 8 bits when exiting back to Descent from
menubar
----------------------------
revision 1.3
date: 1995/08/31 15:47:48;  author: allender;  state: Exp;
add silly return at eof
----------------------------
revision 1.2
date: 1995/08/31 15:47:26;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/04/07 13:19:41;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/macsys/mouse.c,v
Working file: macsys/mouse.c
head: 1.1
description: $Log: not supported by cvs2svn $
----------------------------
revision 1.1
date: 1995/04/07 13:17:09;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/macsys/scrncpy.c,v
Working file: macsys/scrncpy.c
head: 1.3
description: $Log: not supported by cvs2svn $
----------------------------
revision 1.3
date: 1995/06/12 15:10:58;  author: allender;  state: Exp;
no more direct to screen.  This is handled through normal gr (2d) calls
----------------------------
revision 1.2
date: 1995/05/17 13:18:18;  author: allender;  state: Exp;
for PPC, call specialized memory copy routine which moves 8 bytes at a time
----------------------------
revision 1.1
date: 1995/05/05 12:40:33;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/04/07 13:18:30;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/ai.c,v
Working file: main/ai.c
head: 1.1
description: Autonomous Individual movement.
----------------------------
revision 1.1
date: 1995/12/05 14:15:37;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.10
date: 1995/11/09 09:36:12;  author: allender;  state: Exp;
cheats not active during demo playback
----------------------------
revision 1.9
date: 1995/11/03 12:51:55;  author: allender;  state: Exp;
shareware changes
----------------------------
revision 1.8
date: 1995/10/31 10:25:07;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.7
date: 1995/10/26 14:01:38;  author: allender;  state: Exp;
optimization for doing robot stuff only if anim angles done last frame
----------------------------
revision 1.6
date: 1995/10/25 09:35:43;  author: allender;  state: Exp;
prototype some functions causing mcc problems
----------------------------
revision 1.5
date: 1995/10/17 13:11:40;  author: allender;  state: Exp;
fix in ai code that makes bots only look for you every so often
----------------------------
revision 1.4
date: 1995/10/10 11:48:10;  author: allender;  state: Exp;
PC ai code
----------------------------
revision 2.11
date: 1995/07/09 11:15:48;  author: john;  state: Exp;
Put in Mike's code to fix bug where bosses don't gate in bots after
32767 seconds of playing.
----------------------------
revision 2.10
date: 1995/06/15 12:31:08;  author: john;  state: Exp;
Fixed bug with cheats getting enabled when you type
the whole alphabet.
----------------------------
revision 2.9
date: 1995/05/26 16:16:18;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.8
date: 1995/04/06 15:12:27;  author: john;  state: Exp;
Fixed bug with insane not working.
----------------------------
revision 2.7
date: 1995/03/30 16:36:44;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.6
date: 1995/03/28 11:22:24;  author: john;  state: Exp;
Added cheats to save file. Changed lunacy text.
----------------------------
revision 2.5
date: 1995/03/27 16:45:07;  author: john;  state: Exp;
Fixed some cheat bugs.  Added astral cheat.
----------------------------
revision 2.4
date: 1995/03/24 15:29:17;  author: mike;  state: Exp;
add new cheats.
----------------------------
revision 2.3
date: 1995/03/21 14:39:45;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.2
date: 1995/03/14 18:24:39;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.1
date: 1995/03/06 16:47:14;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.0
date: 1995/02/27 11:30:01;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.295
date: 1995/02/22 13:23:04;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.294
date: 1995/02/13 11:00:43;  author: rob;  state: Exp;
Make brain guys high enough to get an open slot.
----------------------------
revision 1.293
date: 1995/02/13 10:31:55;  author: mike;  state: Exp;
Make brains understand they can't open locked doors.
----------------------------
revision 1.292
date: 1995/02/13 10:18:01;  author: rob;  state: Exp;
Reduced brain guy's level of awareness to keep him from hogging slots.
----------------------------
revision 1.291
date: 1995/02/11 12:27:12;  author: mike;  state: Exp;
fix path-to-exit cheat.
----------------------------
revision 1.290
date: 1995/02/11 01:56:30;  author: mike;  state: Exp;
robots don't fire cheat.
----------------------------
revision 1.289
date: 1995/02/10 17:15:09;  author: rob;  state: Exp;
Fixed some stuff with 64 awareness stuff.
----------------------------
revision 1.288
date: 1995/02/10 16:31:32;  author: mike;  state: Exp;
oops.
----------------------------
revision 1.287
date: 1995/02/10 16:24:45;  author: mike;  state: Exp;
fix the network follow path fix.
----------------------------
revision 1.286
date: 1995/02/10 16:11:40;  author: mike;  state: Exp;
in serial or modem games, follow path guys don't move if far away and
can't see player.
----------------------------
revision 1.285
date: 1995/02/09 13:11:35;  author: mike;  state: Exp;
comment out a bunch of mprintfs.
add toaster (drops prox bombs, runs away) to boss gate list.
----------------------------
revision 1.284
date: 1995/02/08 22:44:53;  author: rob;  state: Exp;
Lowerd anger level for follow path of any sort.
----------------------------
revision 1.283
date: 1995/02/08 22:30:43;  author: mike;  state: Exp;
lower awareness on station guys if they are returning home (multiplayer).
----------------------------
revision 1.282
date: 1995/02/08 17:01:06;  author: rob;  state: Exp;
Fixed problem with toasters dropping of proximity bombs.
----------------------------
revision 1.281
date: 1995/02/08 11:49:35;  author: rob;  state: Exp;
Reduce Green-guy attack awareness level so we don't let him attack us too.
----------------------------
revision 1.280
date: 1995/02/08 11:37:52;  author: mike;  state: Exp;
Check for failures in call to obj_create.
----------------------------
revision 1.279
date: 1995/02/07 20:38:46;  author: mike;  state: Exp;
fix toasters in multiplayer
----------------------------
revision 1.278
date: 1995/02/07 16:51:07;  author: mike;  state: Exp;
fix sound time play bug.
----------------------------
revision 1.277
date: 1995/02/06 22:33:04;  author: mike;  state: Exp;
make robots follow path better in cooperative/roboarchy.
----------------------------
revision 1.276
date: 1995/02/06 18:15:42;  author: rob;  state: Exp;
Added forced sends for evasion movemnet.
----------------------------
revision 1.275
date: 1995/02/06 16:41:22;  author: rob;  state: Exp;
Change some positioning calls.
----------------------------
revision 1.274
date: 1995/02/06 11:40:33;  author: mike;  state: Exp;
replace some lint-related hacks with clean, proper code.
----------------------------
revision 1.273
date: 1995/02/04 17:28:19;  author: mike;  state: Exp;
make station guys return better.
----------------------------
revision 1.272
date: 1995/02/03 17:40:55;  author: mike;  state: Exp;
fix problem with robots falling asleep if you sit in game overnight, not in pause...bah.
----------------------------
revision 1.271
date: 1995/02/02 21:11:25;  author: rob;  state: Exp;
Tweaking stuff for multiplayer ai.
----------------------------
revision 1.270
date: 1995/02/02 17:32:06;  author: john;  state: Exp;
Added Hack for Assert that Mike put in after using Lint to find
uninitialized variables.
----------------------------
revision 1.269
date: 1995/02/02 16:46:31;  author: mike;  state: Exp;
fix boss gating.
----------------------------
revision 1.268
date: 1995/02/02 16:27:29;  author: mike;  state: Exp;
make boss not put out infinite robots.
----------------------------
revision 1.267
date: 1995/02/01 21:10:02;  author: mike;  state: Exp;
lint found bug! player_visibility not initialized!
----------------------------
revision 1.266
date: 1995/02/01 20:51:27;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.265
date: 1995/02/01 17:14:05;  author: mike;  state: Exp;
fix robot sounds.
----------------------------
revision 1.264
date: 1995/01/31 16:16:40;  author: mike;  state: Exp;
Comment out "Darn you, John" Int3().
----------------------------
revision 1.263
date: 1995/01/30 20:55:04;  author: mike;  state: Exp;
fix nonsense in robot firing when a player is cloaked.
----------------------------
revision 1.262
date: 1995/01/30 17:15:10;  author: rob;  state: Exp;
Fixed problems with bigboss eclip messages.
Tweaked robot position sending for modem purposes.
----------------------------
revision 1.261
date: 1995/01/30 15:30:31;  author: rob;  state: Exp;
Prevent non-master players from gating in robots.
----------------------------
revision 1.260
date: 1995/01/30 13:30:55;  author: mike;  state: Exp;
new cases for firing at other players were bogus, could send position
without permission.
----------------------------
revision 1.259
date: 1995/01/30 13:01:17;  author: mike;  state: Exp;
Make robots fire at player other than one they are controlled by sometimes.
----------------------------
revision 1.258
date: 1995/01/29 16:09:17;  author: rob;  state: Exp;
Trying to get robots to shoot at non-controlling players.
----------------------------
revision 1.257
date: 1995/01/29 13:47:05;  author: mike;  state: Exp;
Make boss have more fireballs on death, have until end (though silent at end).
Fix bug which was preventing him from teleporting until hit, so he'd always
be in the same place when the player enters the room.
----------------------------
revision 1.256
date: 1995/01/28 17:40:18;  author: mike;  state: Exp;
make boss teleport & gate before you see him.
----------------------------
revision 1.255
date: 1995/01/27 17:02:08;  author: mike;  state: Exp;
move code around, was sending one frame (or worse!) old robot information.
----------------------------
revision 1.254
date: 1995/01/26 17:02:43;  author: mike;  state: Exp;
make fusion cannon have more chrome, make fusion, mega rock you!
----------------------------
revision 1.253
date: 1995/01/26 15:11:17;  author: rob;  state: Exp;
Shutup!  I fixed it!
----------------------------
revision 1.252
date: 1995/01/26 15:08:55;  author: rob;  state: Exp;
Changed robot gating to accomodate multiplayer.
----------------------------
revision 1.251
date: 1995/01/26 14:49:04;  author: rob;  state: Exp;
Increase awareness level for firing to 94.
----------------------------
revision 1.250
date: 1995/01/26 12:41:20;  author: mike;  state: Exp;
fix bogus multiplayer code, would send permission without getting permission.
----------------------------
revision 1.249
date: 1995/01/26 12:23:23;  author: rob;  state: Exp;
Removed defines that were moved to ai.h
----------------------------
revision 1.248
date: 1995/01/25 23:38:48;  author: mike;  state: Exp;
modify list of robots gated in by super boss.
----------------------------
revision 1.247
date: 1995/01/25 21:21:13;  author: rob;  state: Exp;
Trying to let robots fire at a player even if they're not in control.
----------------------------
revision 1.246
date: 1995/01/25 13:50:37;  author: mike;  state: Exp;
Robots make angry sounds.
----------------------------
revision 1.245
date: 1995/01/25 10:53:47;  author: mike;  state: Exp;
better handling of robots which poke out of mine and try to recover.
----------------------------
revision 1.244
date: 1995/01/24 22:03:02;  author: mike;  state: Exp;
Tricky code to move a robot to a legal position if he is poking out of
the mine, even if it means moving him to another segment.
----------------------------
revision 1.243
date: 1995/01/24 20:12:06;  author: rob;  state: Exp;
Changed robot fire awareness level from 74 to 94.
----------------------------
revision 1.242
date: 1995/01/24 13:22:32;  author: mike;  state: Exp;
make robots accelerate faster, and Difficulty_level dependent.
----------------------------
revision 1.241
date: 1995/01/24 12:09:39;  author: mike;  state: Exp;
make robots animate in multiplayer.
----------------------------
revision 1.240
date: 1995/01/21 21:21:10;  author: mike;  state: Exp;
Make boss only gate robots into specified segments.
----------------------------
revision 1.239
date: 1995/01/20 20:21:26;  author: mike;  state: Exp;
prevent unnecessary boss cloaking.
=============================================================================
RCS file: /Smoke/miner/source/main/ai.h,v
Working file: main/ai.h
head: 1.3
description: Header file for AI system.
----------------------------
revision 1.3
date: 1995/10/15 16:28:07;  author: allender;  state: Exp;
added flag to player_is_visible function
----------------------------
revision 1.2
date: 1995/10/10 11:48:32;  author: allender;  state: Exp;
PC ai header
----------------------------
revision 1.1
date: 1995/05/16 15:54:00;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:33:07;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.57
date: 1995/02/04 17:28:31;  author: mike;  state: Exp;
make station guys return better.
----------------------------
revision 1.56
date: 1995/02/04 10:03:23;  author: mike;  state: Exp;
Fly to exit cheat.
----------------------------
revision 1.55
date: 1995/02/01 19:23:52;  author: rob;  state: Exp;
Externed a boss var.
----------------------------
revision 1.54
date: 1995/01/30 13:00:58;  author: mike;  state: Exp;
Make robots fire at player other than one they are controlled by sometimes.
----------------------------
revision 1.53
date: 1995/01/26 15:09:16;  author: rob;  state: Exp;
Changed robot gating to accomodate multiplayer.
----------------------------
revision 1.52
date: 1995/01/26 12:23:12;  author: rob;  state: Exp;
Added new externs needed for multiplayer.
----------------------------
revision 1.51
date: 1995/01/21 21:22:14;  author: mike;  state: Exp;
Kill prototype of init_boss_segments, which didn't need to be public
and had changed.
----------------------------
revision 1.50
date: 1995/01/16 19:24:29;  author: mike;  state: Exp;
Publicize BOSS_GATE_MATCEN_NUM and Boss_been_hit.
----------------------------
revision 1.49
date: 1995/01/02 16:17:35;  author: mike;  state: Exp;
prototype some super boss function for gameseq.
----------------------------
revision 1.48
date: 1994/12/19 17:08:06;  author: mike;  state: Exp;
deal with new ai_multiplayer_awareness which returns a value saying whether this object can be moved by this player.
----------------------------
revision 1.47
date: 1994/12/12 17:18:04;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.46
date: 1994/12/08 15:46:16;  author: mike;  state: Exp;
better robot behavior.
----------------------------
revision 1.45
date: 1994/11/27 23:16:08;  author: matt;  state: Exp;
Made debug code go away when debugging turned off
----------------------------
revision 1.44
date: 1994/11/16 23:38:41;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.43
date: 1994/11/10 17:45:11;  author: mike;  state: Exp;
debugging.
----------------------------
revision 1.42
date: 1994/11/07 10:37:42;  author: mike;  state: Exp;
hooks for rob's network code.
----------------------------
revision 1.41
date: 1994/11/06 15:10:50;  author: mike;  state: Exp;
prototype a debug function for dumping ai info.
----------------------------
revision 1.40
date: 1994/11/02 17:57:30;  author: rob;  state: Exp;
Added extern of Believe_player_pos needed to get control centers
locating people.
----------------------------
revision 1.39
date: 1994/10/28 19:43:39;  author: mike;  state: Exp;
Prototype Boss_cloak_start_time, Boss_cloak_end_time.
----------------------------
revision 1.38
date: 1994/10/22 14:14:42;  author: mike;  state: Exp;
Prototype ai_reset_all_paths.
----------------------------
revision 1.37
date: 1994/10/21 20:42:01;  author: mike;  state: Exp;
Define MAX_PATH_LENGTH: maximum allowed length of a path.
----------------------------
revision 1.36
date: 1994/10/20 09:49:18;  author: mike;  state: Exp;
Prototype something.
----------------------------
revision 1.35
date: 1994/10/18 15:37:52;  author: mike;  state: Exp;
Define ROBOT_BOSS1.
----------------------------
revision 1.34
date: 1994/10/13 11:12:25;  author: mike;  state: Exp;
Prototype some door functions.
----------------------------
revision 1.33
date: 1994/10/12 21:28:51;  author: mike;  state: Exp;
Prototype create_n_segment_path_to_door
Prototype ai_open_doors_in_segment
Prototype ai_door_is_openable.
----------------------------
revision 1.32
date: 1994/10/11 15:59:41;  author: mike;  state: Exp;
Prototype Robot_firing_enabled.
----------------------------
revision 1.31
date: 1994/10/09 22:02:48;  author: mike;  state: Exp;
Adapt create_path_points and create_n_segment_path prototypes to use avoid_seg for player evasion.
----------------------------
revision 1.30
date: 1994/09/18 18:07:44;  author: mike;  state: Exp;
Update prototypes for create_path_points and create_path_to_player.
----------------------------
revision 1.29
date: 1994/09/15 16:34:08;  author: mike;  state: Exp;
Prototype do_ai_robot_hit_attack.
----------------------------
revision 1.28
date: 1994/09/12 19:12:35;  author: mike;  state: Exp;
Prototype attempt_to_resume_path.
----------------------------
revision 1.27
date: 1994/08/25 21:55:32;  author: mike;  state: Exp;
Add some prototypes.
----------------------------
revision 1.26
date: 1994/08/10 19:53:24;  author: mike;  state: Exp;
Prototype create_path_to_player and init_robots_for_level.
----------------------------
revision 1.25
date: 1994/08/04 16:32:58;  author: mike;  state: Exp;
prototype create_path_to_player.
----------------------------
revision 1.24
date: 1994/08/03 15:17:20;  author: mike;  state: Exp;
Prototype make_random_vector.
----------------------------
revision 1.23
date: 1994/07/31 18:10:34;  author: mike;  state: Exp;
Update prototype for create_path_points.
----------------------------
revision 1.22
date: 1994/07/28 12:36:14;  author: matt;  state: Exp;
Cleaned up object bumping code
=============================================================================
RCS file: /Smoke/miner/source/main/aipath.c,v
Working file: main/aipath.c
head: 1.5
description: AI path forming stuff.
----------------------------
revision 1.5
date: 1995/10/26 14:12:03;  author: allender;  state: Exp;
prototype functions for mcc compiler
----------------------------
revision 1.4
date: 1995/10/25 09:38:22;  author: allender;  state: Exp;
prototype some functions causing mcc grief
----------------------------
revision 1.3
date: 1995/10/10 11:48:43;  author: allender;  state: Exp;
PC ai code
----------------------------
revision 2.0
date: 1995/02/27 11:30:48;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.101
date: 1995/02/22 13:42:44;  author: allender;  state: Exp;
remove anonymous unions for object structure
----------------------------
revision 1.100
date: 1995/02/10 16:20:04;  author: mike;  state: Exp;
fix bogosity in create_path_points, assumed all objects were robots.
----------------------------
revision 1.99
date: 1995/02/07 21:09:30;  author: mike;  state: Exp;
make run_from guys have diff level based speed.
----------------------------
revision 1.98
date: 1995/02/04 17:28:29;  author: mike;  state: Exp;
make station guys return better.
----------------------------
revision 1.97
date: 1995/02/04 10:28:39;  author: mike;  state: Exp;
fix compile error!
----------------------------
revision 1.96
date: 1995/02/04 10:03:37;  author: mike;  state: Exp;
Fly to exit cheat.
----------------------------
revision 1.95
date: 1995/02/01 21:10:36;  author: mike;  state: Exp;
Array name was dereferenced.  Not a bug, but unclean.
----------------------------
revision 1.94
date: 1995/02/01 17:14:12;  author: mike;  state: Exp;
comment out some common mprintfs which didn't matter.
----------------------------
revision 1.93
date: 1995/01/30 13:01:23;  author: mike;  state: Exp;
Make robots fire at player other than one they are controlled by sometimes.
----------------------------
revision 1.92
date: 1995/01/29 22:29:32;  author: mike;  state: Exp;
add more debug info for guys that get lost.
----------------------------
revision 1.91
date: 1995/01/20 16:56:05;  author: mike;  state: Exp;
station stuff.
----------------------------
revision 1.90
date: 1995/01/18 10:59:45;  author: mike;  state: Exp;
comment out some mprintfs.
----------------------------
revision 1.89
date: 1995/01/17 16:58:34;  author: mike;  state: Exp;
make path following work for multiplayer.
----------------------------
revision 1.88
date: 1995/01/17 14:21:44;  author: mike;  state: Exp;
make run_from guys run better.
----------------------------
revision 1.87
date: 1995/01/14 17:09:04;  author: mike;  state: Exp;
playing with crazy josh, he's kinda slow and dumb now.
----------------------------
revision 1.86
date: 1995/01/13 18:52:28;  author: mike;  state: Exp;
comment out int3.
----------------------------
revision 1.85
date: 1995/01/05 09:42:11;  author: mike;  state: Exp;
compile out code based on SHAREWARE.
----------------------------
revision 1.84
date: 1995/01/02 12:38:32;  author: mike;  state: Exp;
make crazy josh turn faster, therefore evade player better.
----------------------------
revision 1.83
date: 1994/12/27 15:59:40;  author: mike;  state: Exp;
tweak ai_multiplayer_awareness constants.
----------------------------
revision 1.82
date: 1994/12/19 17:07:10;  author: mike;  state: Exp;
deal with new ai_multiplayer_awareness which returns a value saying whether this object can be moved by this player.
----------------------------
revision 1.81
date: 1994/12/15 13:04:30;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.80
date: 1994/12/09 16:13:23;  author: mike;  state: Exp;
remove debug code.
----------------------------
revision 1.79
date: 1994/12/07 00:36:54;  author: mike;  state: Exp;
make robots get out of matcens better and be aware of player.
----------------------------
revision 1.78
date: 1994/11/30 00:59:05;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.77
date: 1994/11/27 23:13:39;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.76
date: 1994/11/23 21:59:34;  author: mike;  state: Exp;
comment out some mprintfs.
----------------------------
revision 1.75
date: 1994/11/21 16:07:14;  author: mike;  state: Exp;
flip PARALLAX flag, prevent annoying debug information.
----------------------------
revision 1.74
date: 1994/11/19 15:13:28;  author: mike;  state: Exp;
remove unused code and data.
----------------------------
revision 1.73
date: 1994/11/17 14:53:15;  author: mike;  state: Exp;
segment validation functions moved from editor to main.
----------------------------
revision 1.72
date: 1994/11/16 23:38:42;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.71
date: 1994/11/13 17:18:30;  author: mike;  state: Exp;
debug code, then comment it out.
----------------------------
revision 1.70
date: 1994/11/11 16:41:43;  author: mike;  state: Exp;
flip the PARALLAX flag.
----------------------------
revision 1.69
date: 1994/11/11 16:33:45;  author: mike;  state: Exp;
twiddle the PARALLAX flag.
----------------------------
revision 1.68
date: 1994/11/10 21:32:29;  author: mike;  state: Exp;
debug code.
----------------------------
revision 1.67
date: 1994/11/10 20:15:07;  author: mike;  state: Exp;
fix stupid bug: uninitialized pointer.
----------------------------
revision 1.66
date: 1994/11/10 17:45:15;  author: mike;  state: Exp;
debugging.
----------------------------
revision 1.65
date: 1994/11/10 17:28:10;  author: mike;  state: Exp;
debugging.
=============================================================================
RCS file: /Smoke/miner/source/main/aistruct.h,v
Working file: main/aistruct.h
head: 1.2
description: Structs and constants for AI system.
object.h depends on this.
ai.h depends on object.h.
Get it?
----------------------------
revision 1.2
date: 1995/10/10 11:49:04;  author: allender;  state: Exp;
PC ai code
----------------------------
revision 1.1
date: 1995/05/16 15:54:08;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:30:19;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.34
date: 1995/01/25 13:50:46;  author: mike;  state: Exp;
Robots make angry sounds.
----------------------------
revision 1.33
date: 1994/12/29 12:44:56;  author: rob;  state: Exp;
Added new coop robot flag.
----------------------------
revision 1.32
date: 1994/12/20 20:41:54;  author: rob;  state: Exp;
Added new ai flag for multiplayer robots.
----------------------------
revision 1.31
date: 1994/12/19 16:37:39;  author: rob;  state: Exp;
Added a new flag for remote controlled objects.
----------------------------
revision 1.30
date: 1994/12/07 00:36:07;  author: mike;  state: Exp;
fix phys_apply_rot for robots -- ai was bashing effect in next frame.
----------------------------
revision 1.29
date: 1994/12/02 22:06:28;  author: mike;  state: Exp;
add fields to allow robots to make awareness sounds every so often, not every damn blasted frame
----------------------------
revision 1.28
date: 1994/11/04 17:18:35;  author: yuan;  state: Exp;
Increased MAX_SEG_POINTS to 2500.
----------------------------
revision 1.27
date: 1994/10/17 21:19:22;  author: mike;  state: Exp;
robot cloaking.
----------------------------
revision 1.26
date: 1994/10/12 21:28:38;  author: mike;  state: Exp;
Add new ai mode: AIM_OPEN_DOOR.
Add GOALSIDE to aip.
----------------------------
revision 1.25
date: 1994/09/25 23:41:08;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.24
date: 1994/09/21 12:28:11;  author: mike;  state: Exp;
Change AI behavior for when player cloaked
----------------------------
revision 1.23
date: 1994/09/19 21:43:00;  author: mike;  state: Exp;
Add follow_path_start_seg and follow_path_end_seg to aistruct.h.
----------------------------
revision 1.22
date: 1994/09/18 18:06:14;  author: mike;  state: Exp;
Add Last_uncloaked_time and Last_uncloaked_position variables.
----------------------------
revision 1.21
date: 1994/09/15 16:31:38;  author: mike;  state: Exp;
Define GREEN_GUY
Add previous_visibility to ai_local struct.
----------------------------
revision 1.20
date: 1994/09/12 19:12:45;  author: mike;  state: Exp;
Change some bytes to ints in ai_local so I could set watchpoints.
----------------------------
revision 1.19
date: 1994/08/25 21:53:31;  author: mike;  state: Exp;
Add behavior, taking place of what used to be mode.
----------------------------
revision 1.18
date: 1994/08/23 16:38:09;  author: mike;  state: Exp;
rapidfire_count in ai_local.
----------------------------
revision 1.17
date: 1994/08/19 17:38:23;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/08/17 22:18:58;  author: mike;  state: Exp;
add time_since_processed to ai_local.
----------------------------
revision 1.15
date: 1994/08/10 19:52:25;  author: mike;  state: Exp;
Add Overall_agitation.
----------------------------
revision 1.14
date: 1994/08/04 16:32:32;  author: mike;  state: Exp;
Add time_player_seen.
----------------------------
revision 1.13
date: 1994/07/28 16:58:11;  author: mike;  state: Exp;
Move constants from ai.c
----------------------------
revision 1.12
date: 1994/07/19 15:26:24;  author: mike;  state: Exp;
New ai_static and ai_local structures.
----------------------------
revision 1.11
date: 1994/07/15 15:17:19;  author: matt;  state: Exp;
Changes MAX_AI_FLAGS for better alignment
=============================================================================
RCS file: /Smoke/miner/source/main/arcade.h,v
Working file: main/arcade.h
head: 1.1
description: Routines for arcade version.
----------------------------
revision 1.1
date: 1995/05/16 15:54:16;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:27;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/09/16 21:44:06;  author: matt;  state: Exp;
Made arcade code based on #define
----------------------------
revision 1.3
date: 1994/09/16 16:14:52;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.2
date: 1994/09/16 11:51:01;  author: john;  state: Exp;
Added first version of arcade joystick support;
Also fixed some bugs in kconfig.c, such as reading non-present
joysticks, which killed frame rate, and not reading key_down_time
when in slide mode or bank mode.
----------------------------
revision 1.1
date: 1994/09/16 09:59:29;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/args.c,v
Working file: main/args.c
head: 1.1
description: Functions for accessing arguments.
----------------------------
revision 1.1
date: 1995/05/16 15:22:52;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:22;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.9
date: 1994/11/29 01:07:57;  author: john;  state: Exp;
Took out some unused vars.
----------------------------
revision 1.8
date: 1994/11/29 01:04:30;  author: john;  state: Exp;
Took out descent.ini stuff.
----------------------------
revision 1.7
date: 1994/09/20 19:29:15;  author: matt;  state: Exp;
Made args require exact (not substring), though still case insensitive.
----------------------------
revision 1.6
date: 1994/07/25 12:33:11;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.5
date: 1994/06/17 18:07:50;  author: matt;  state: Exp;
Took out printf
----------------------------
revision 1.4
date: 1994/05/11 19:45:33;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/05/11 18:42:11;  author: john;  state: Exp;
Added Descent.ini config file.
----------------------------
revision 1.2
date: 1994/05/09 17:03:30;  author: john;  state: Exp;
Split command line parameters into arg.c and arg.h.
Also added /dma, /port, /irq to digi.c
----------------------------
revision 1.1
date: 1994/05/09 16:49:11;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/args.h,v
Working file: main/args.h
head: 1.1
description: Prototypes for accessing arguments.
----------------------------
revision 1.1
date: 1995/05/16 15:54:24;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:33:09;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/07/11 16:27:28;  author: matt;  state: Exp;
Took out prototypes for netipx funcs
----------------------------
revision 1.3
date: 1994/05/11 19:45:34;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/05/09 17:02:55;  author: john;  state: Exp;
Split command line parameters into arg.c and arg.h.
Also added /dma, /port, /irq to digi.c
----------------------------
revision 1.1
date: 1994/05/09 16:47:49;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/automap.c,v
Working file: main/automap.c
head: 1.8
description: Routines for displaying the auto-map.
----------------------------
revision 1.8
date: 1995/10/31 10:24:54;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.7
date: 1995/10/21 16:18:20;  author: allender;  state: Exp;
blit pcx background directly to Page canvas instead of creating
seperate bitmap for it -- hope to solve VM bug on some macs
----------------------------
revision 1.6
date: 1995/10/20 00:49:16;  author: allender;  state: Exp;
added redbook check during automap
----------------------------
revision 1.5
date: 1995/09/13 08:44:07;  author: allender;  state: Exp;
Dave Denhart's changes to speed up the automap
----------------------------
revision 1.4
date: 1995/08/18 15:46:00;  author: allender;  state: Exp;
put text all on upper bar -- and fixed background since
changing xparency color
----------------------------
revision 1.3
date: 1995/08/03 15:15:18;  author: allender;  state: Exp;
fixed edge hashing problem causing automap to crash
----------------------------
revision 1.2
date: 1995/07/12 12:49:27;  author: allender;  state: Exp;
works in 640x480 mode
----------------------------
revision 1.1
date: 1995/05/16 15:22:59;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/21 08:41:26;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.1
date: 1995/03/20 18:16:06;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:32:55;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.117
date: 1995/02/22 14:11:31;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.116
date: 1995/02/22 13:24:39;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.115
date: 1995/02/09 14:57:02;  author: john;  state: Exp;
Reduced mem usage. Made automap slide farther.
----------------------------
revision 1.114
date: 1995/02/07 20:40:44;  author: rob;  state: Exp;
Allow for anarchy automap of player pos by option.
----------------------------
revision 1.113
date: 1995/02/07 15:45:33;  author: john;  state: Exp;
Made automap memory be static.
----------------------------
revision 1.112
date: 1995/02/02 12:24:00;  author: adam;  state: Exp;
played with automap labels
----------------------------
revision 1.111
date: 1995/02/02 01:52:52;  author: john;  state: Exp;
Made the automap use small font.
----------------------------
revision 1.110
date: 1995/02/02 01:34:34;  author: john;  state: Exp;
Made Reset in automap not change segmentlimit.
----------------------------
revision 1.109
date: 1995/02/02 01:23:11;  author: john;  state: Exp;
Finalized the new automap partial viewer.
----------------------------
revision 1.108
date: 1995/02/02 00:49:45;  author: mike;  state: Exp;
new automap segment-depth functionality.
----------------------------
revision 1.107
date: 1995/02/02 00:23:04;  author: john;  state: Exp;
Half of the code for new connected distance stuff in automap.
----------------------------
revision 1.106
date: 1995/02/01 22:54:00;  author: john;  state: Exp;
Made colored doors not fade in automap. Made default
viewing area be maxxed.
----------------------------
revision 1.105
date: 1995/02/01 13:16:13;  author: john;  state: Exp;
Added great grates. 
----------------------------
revision 1.104
date: 1995/01/31 12:47:06;  author: john;  state: Exp;
Made Alt+F only work with cheats enabled.
----------------------------
revision 1.103
date: 1995/01/31 12:41:23;  author: john;  state: Exp;
Working with new controls.
----------------------------
revision 1.102
date: 1995/01/31 12:04:19;  author: john;  state: Exp;
Version 2 of new key control.
----------------------------
revision 1.101
date: 1995/01/31 11:32:00;  author: john;  state: Exp;
First version of new automap system.
----------------------------
revision 1.100
date: 1995/01/28 16:55:48;  author: john;  state: Exp;
Made keys draw in automap in the segments that you have
visited.
----------------------------
revision 1.99
date: 1995/01/28 14:44:51;  author: john;  state: Exp;
Made hostage doors show up on automap.
----------------------------
revision 1.98
date: 1995/01/22 17:03:49;  author: rob;  state: Exp;
Fixed problem drawing playerships in automap coop/team mode
----------------------------
revision 1.97
date: 1995/01/21 17:23:11;  author: john;  state: Exp;
Limited S movement in map. Made map bitmap load from disk
and then freed it.
----------------------------
revision 1.96
date: 1995/01/19 18:55:38;  author: john;  state: Exp;
Don't draw players in automap if not obj_player.
----------------------------
revision 1.95
date: 1995/01/19 18:48:13;  author: john;  state: Exp;
Made player colors better in automap.
----------------------------
revision 1.94
date: 1995/01/19 17:34:52;  author: rob;  state: Exp;
Added team colorizations in automap.
----------------------------
revision 1.93
date: 1995/01/19 17:15:36;  author: rob;  state: Exp;
Trying to add player ships into map for coop and team mode.
----------------------------
revision 1.92
date: 1995/01/19 17:11:09;  author: john;  state: Exp;
Added code for Rob to draw Multiplayer ships in automap.
----------------------------
revision 1.91
date: 1995/01/12 13:35:20;  author: john;  state: Exp;
Fixed bug with Segment 0 not getting displayed 
in automap if you have EDITOR compiled in.
----------------------------
revision 1.90
date: 1995/01/08 16:17:14;  author: john;  state: Exp;
Added code to draw player's up vector while in automap.
----------------------------
revision 1.89
date: 1995/01/08 16:09:41;  author: john;  state: Exp;
Fixed problems with grate.
----------------------------
revision 1.88
date: 1994/12/14 22:54:17;  author: john;  state: Exp;
Fixed bug that didn't show hostages in automap.
----------------------------
revision 1.87
date: 1994/12/09 00:41:03;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.86
date: 1994/12/05 23:37:15;  author: matt;  state: Exp;
Took out calls to warning() function
----------------------------
revision 1.85
date: 1994/12/03 22:35:28;  author: yuan;  state: Exp;
Localization 412
----------------------------
revision 1.84
date: 1994/12/02 15:05:45;  author: matt;  state: Exp;
Added new "official" cheats
----------------------------
revision 1.83
date: 1994/11/30 12:10:49;  author: adam;  state: Exp;
added support for PCX titles/brief screens
----------------------------
revision 1.82
date: 1994/11/27 23:15:12;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.81
date: 1994/11/27 15:35:52;  author: matt;  state: Exp;
Enable screen shots even when debugging is turned off
----------------------------
revision 1.80
date: 1994/11/26 22:51:43;  author: matt;  state: Exp;
Removed editor-only fields from segment structure when editor is compiled
out, and padded segment structure to even multiple of 4 bytes.
----------------------------
revision 1.79
date: 1994/11/26 16:22:48;  author: matt;  state: Exp;
Reduced leave_time
----------------------------
revision 1.78
date: 1994/11/23 22:00:10;  author: mike;  state: Exp;
show level number.
----------------------------
revision 1.77
date: 1994/11/21 11:40:33;  author: rob;  state: Exp;
Tweaked the game-loop for automap in multiplayer games.
----------------------------
revision 1.76
date: 1994/11/18 16:42:06;  author: adam;  state: Exp;
removed a font
----------------------------
revision 1.75
date: 1994/11/17 13:06:48;  author: adam;  state: Exp;
changed font
----------------------------
revision 1.74
date: 1994/11/14 20:47:17;  author: john;  state: Exp;
Attempted to strip out all the code in the game 
directory that uses any ui code.
=============================================================================
RCS file: /Smoke/miner/source/main/automap.h,v
Working file: main/automap.h
head: 1.2
description: Prototypes for auto-map stuff.
----------------------------
revision 1.2
date: 1995/07/12 12:48:33;  author: allender;  state: Exp;
moved edge_list structure into here for mallocing in mglobal
----------------------------
revision 1.1
date: 1995/05/16 15:54:31;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:29:35;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/09 00:41:21;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.4
date: 1994/07/14 11:25:29;  author: john;  state: Exp;
Made control centers destroy better; made automap use Tab key.
----------------------------
revision 1.3
date: 1994/07/12 15:45:51;  author: john;  state: Exp;
Made paritial map.
----------------------------
revision 1.2
date: 1994/07/07 18:35:05;  author: john;  state: Exp;
First version of automap
----------------------------
revision 1.1
date: 1994/07/07 15:12:13;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/main/bm.c,v
Working file: main/bm.c
head: 1.1
description: Bitmap and palette loading functions.
----------------------------
revision 1.1
date: 1995/05/16 15:23:08;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.3
date: 1995/03/14 16:22:04;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.2
date: 1995/03/07 16:51:48;  author: john;  state: Exp;
Fixed robots not moving without edtiro bug.
----------------------------
revision 2.1
date: 1995/03/06 15:23:06;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:27:05;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
=============================================================================
RCS file: /Smoke/miner/source/main/bm.h,v
Working file: main/bm.h
head: 1.1
description: Bitmap and Palette loading functions.
----------------------------
revision 1.1
date: 1995/05/16 15:54:39;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.60
date: 1994/12/06 13:24:58;  author: matt;  state: Exp;
Made exit model come out of bitmaps.tbl
----------------------------
revision 1.59
date: 1994/11/10 14:02:48;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.58
date: 1994/10/27 13:32:17;  author: john;  state: Exp;
Made TmapList only be in if editor
----------------------------
revision 1.57
date: 1994/10/11 12:25:20;  author: matt;  state: Exp;
Added "hot rocks" that create badass explosion when hit by weapons
----------------------------
revision 1.56
date: 1994/09/29 12:38:13;  author: matt;  state: Exp;
Took out include of digi.h, saving hours of unneeded compiles
----------------------------
revision 1.55
date: 1994/09/25 00:39:51;  author: matt;  state: Exp;
Added the ability to make eclips (monitors, fans) which can be blown up
----------------------------
revision 1.54
date: 1994/09/17 01:40:59;  author: matt;  state: Exp;
Added status bar/sizable window mode, and in the process revamped the
whole cockpit mode system.
----------------------------
revision 1.53
date: 1994/09/08 16:20:48;  author: matt;  state: Exp;
Gave textures the ability to cause damage when scraped
----------------------------
revision 1.52
date: 1994/08/30 22:23:43;  author: matt;  state: Exp;
Added cabability for player ship to have alternate model to use to
create debris.
----------------------------
revision 1.51
date: 1994/08/26 15:35:57;  author: matt;  state: Exp;
Made eclips usable on more than one object at a time
----------------------------
revision 1.50
date: 1994/08/23 16:59:51;  author: john;  state: Exp;
Added 3 cockpuits
----------------------------
revision 1.49
date: 1994/08/19 20:09:43;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.48
date: 1994/08/12 22:20:45;  author: matt;  state: Exp;
Generalized polygon objects (such as control center)
----------------------------
revision 1.47
date: 1994/08/09 16:04:21;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.46
date: 1994/08/09 09:01:31;  author: john;  state: Exp;
Increase MAX_TEXTURES
----------------------------
revision 1.45
date: 1994/07/13 00:14:57;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.44
date: 1994/06/20 21:33:15;  author: matt;  state: Exp;
Made bm.h not include sounds.h, to reduce dependencies
----------------------------
revision 1.43
date: 1994/06/15 11:55:58;  author: matt;  state: Exp;
Added 3d model for player
----------------------------
revision 1.42
date: 1994/06/13 16:09:11;  author: adam;  state: Exp;
increased max textures to 600
----------------------------
revision 1.41
date: 1994/06/06 15:38:58;  author: john;  state: Exp;
Made fullscreen view be just another cockpit, but the "hole"
in the cockpit is just bigger.
----------------------------
revision 1.40
date: 1994/05/26 21:08:59;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.39
date: 1994/05/18 11:00:05;  author: mike;  state: Exp;
Add robot_info stuff.
----------------------------
revision 1.38
date: 1994/05/17 14:44:56;  author: mike;  state: Exp;
Get object type and id from ObjType and ObjId.
----------------------------
revision 1.37
date: 1994/05/17 12:04:45;  author: mike;  state: Exp;
Deal with little known fact that polygon object != robot.
----------------------------
revision 1.36
date: 1994/05/16 16:17:35;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.35
date: 1994/04/27 11:43:42;  author: john;  state: Exp;
First version of sound! Yay!
----------------------------
revision 1.34
date: 1994/04/22 10:53:48;  author: john;  state: Exp;
Increased MAX_TEXTURES to 500.
----------------------------
revision 1.33
date: 1994/04/01 11:15:05;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.32
date: 1994/03/25 17:30:37;  author: yuan;  state: Exp;
Checking in hostage stuff.
----------------------------
revision 1.31
date: 1994/03/17 18:07:28;  author: yuan;  state: Exp;
Removed switch code... Now we just have Walls, Triggers, and Links...
----------------------------
revision 1.30
date: 1994/03/15 17:03:51;  author: yuan;  state: Exp;
Added Robot/object bitmap capability
----------------------------
revision 1.29
date: 1994/03/15 16:32:58;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(Fixed structures too)
----------------------------
revision 1.28
date: 1994/03/04 17:09:13;  author: yuan;  state: Exp;
New door stuff.
----------------------------
revision 1.27
date: 1994/01/31 14:50:09;  author: yuan;  state: Exp;
Added Robotex
----------------------------
revision 1.26
date: 1994/01/31 12:27:14;  author: yuan;  state: Exp;
Added demo stuff (menu, etc.)
----------------------------
revision 1.25
date: 1994/01/25 17:11:43;  author: john;  state: Exp;
New texmaped lasers.
----------------------------
revision 1.24
date: 1994/01/24 11:48:06;  author: yuan;  state: Exp;
Lighting stuff
----------------------------
revision 1.23
date: 1994/01/22 13:40:15;  author: yuan;  state: Exp;
Modified the bmd_bitmap structure a bit.
(Saves some memory, and added reflection)
----------------------------
revision 1.22
date: 1994/01/11 10:58:38;  author: yuan;  state: Exp;
Added effects system
----------------------------
revision 1.21
date: 1994/01/06 17:13:12;  author: john;  state: Exp;
Added Video clip functionality
----------------------------
revision 1.20
date: 1993/12/21 20:00:15;  author: john;  state: Exp;
moved selector stuff to grs_bitmap
----------------------------
revision 1.19
date: 1993/12/21 19:33:58;  author: john;  state: Exp;
Added selector to bmd_bitmap.
----------------------------
revision 1.18
date: 1993/12/07 12:28:48;  author: john;  state: Exp;
moved bmd_palette to gr_palette
----------------------------
revision 1.17
date: 1993/12/06 18:40:37;  author: matt;  state: Exp;
Changed object loading & handling
----------------------------
revision 1.16
date: 1993/12/05 23:05:03;  author: matt;  state: Exp;
Added include of gr.h
----------------------------
revision 1.15
date: 1993/12/03 17:38:04;  author: yuan;  state: Exp;
Ooops. meant to say:
Moved MAX variables to bm.c, Arrays left open.
----------------------------
revision 1.14
date: 1993/12/03 17:37:26;  author: yuan;  state: Exp;
Added Asserts.
----------------------------
revision 1.13
date: 1993/12/02 17:22:54;  author: yuan;  state: Exp;
New global var. Num_object_types
----------------------------
revision 1.12
date: 1993/12/02 16:34:39;  author: yuan;  state: Exp;
Added fireball hack stuff.
----------------------------
revision 1.11
date: 1993/12/02 15:45:14;  author: yuan;  state: Exp;
Added a buncha constants, variables, and function prototypes
for the new bitmaps.tbl format.
----------------------------
revision 1.10
date: 1993/12/01 11:25:11;  author: yuan;  state: Exp;
Changed MALLOC'd buffers for filename and type in
the bmd_bitmap structure into arrays... Saves time
at load up.
----------------------------
revision 1.9
date: 1993/12/01 00:28:09;  author: yuan;  state: Exp;
New bitmap system structure.
----------------------------
revision 1.8
date: 1993/11/03 11:34:08;  author: john;  state: Exp;
made it use bitmaps.tbl
----------------------------
revision 1.7
date: 1993/10/26 18:11:03;  author: john;  state: Exp;
made all palette data be statically allocated
----------------------------
revision 1.6
date: 1993/10/19 12:17:51;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/10/16 20:02:41;  author: matt;  state: Exp;
Changed name of backdrop bitmap file
----------------------------
revision 1.4
date: 1993/10/12 15:08:52;  author: matt;  state: Exp;
Added a bunch of new textures
----------------------------
revision 1.3
date: 1993/10/12 12:30:41;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/12 11:27:58;  author: john;  state: Exp;
added more bitmaps
----------------------------
revision 1.1
date: 1993/09/23 13:09:10;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/bmread.c,v
Working file: main/bmread.c
head: 1.1
description: Routines to parse bitmaps.tbl
----------------------------
revision 1.1
date: 1995/05/16 15:23:16;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.4
date: 1995/03/28 18:05:29;  author: john;  state: Exp;
Fixed it so you don't have to delete pig after changing bitmaps.tbl
----------------------------
revision 2.3
date: 1995/03/07 16:52:03;  author: john;  state: Exp;
Fixed robots not moving without edtiro bug.
----------------------------
revision 2.2
date: 1995/03/06 16:10:20;  author: mike;  state: Exp;
Fix compile errors if building without editor.
----------------------------
revision 2.1
date: 1995/03/02 14:55:40;  author: john;  state: Exp;
Fixed bug with EDITOR never defined.
----------------------------
revision 2.0
date: 1995/02/27 11:33:10;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.1
date: 1995/02/25 14:02:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/cdrom.h,v
Working file: main/cdrom.h
head: 1.1
description: Prototypes for cdrom.c
----------------------------
revision 1.1
date: 1995/05/16 15:54:46;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1995/03/20 09:01:12;  author: john;  state: Exp;
Initial revision.
----------------------------
revision 1.1
date: 1995/03/14 17:01:37;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/cntrlcen.c,v
Working file: main/cntrlcen.c
head: 1.2
description: Code for the control center
----------------------------
revision 1.2
date: 1995/10/17 13:12:13;  author: allender;  state: Exp;
added param to ai call
----------------------------
revision 1.1
date: 1995/05/16 15:23:27;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/21 08:40:25;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:31:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.22
date: 1995/02/11 01:56:14;  author: mike;  state: Exp;
robots don't fire cheat.
----------------------------
revision 1.21
date: 1995/02/05 13:39:39;  author: mike;  state: Exp;
fix stupid bug in control center firing timing.
----------------------------
revision 1.20
date: 1995/02/03 17:41:21;  author: mike;  state: Exp;
fix control cen next fire time in multiplayer.
----------------------------
revision 1.19
date: 1995/01/29 13:46:41;  author: mike;  state: Exp;
adapt to new create_small_fireball_on_object prototype.
----------------------------
revision 1.18
date: 1995/01/18 16:12:13;  author: mike;  state: Exp;
Make control center aware of a cloaked playerr when he fires.
----------------------------
revision 1.17
date: 1995/01/12 12:53:44;  author: rob;  state: Exp;
Trying to fix a bug with having cntrlcen in robotarchy games.
----------------------------
revision 1.16
date: 1994/12/11 12:37:22;  author: mike;  state: Exp;
make control center smarter about firing at cloaked player, don't fire through self, though
it still looks that way due to prioritization problems.
----------------------------
revision 1.15
date: 1994/12/01 11:34:33;  author: mike;  state: Exp;
fix control center shield strength in multiplayer team games.
----------------------------
revision 1.14
date: 1994/11/30 15:44:29;  author: mike;  state: Exp;
make cntrlcen harder at higher levels.
----------------------------
revision 1.13
date: 1994/11/29 22:26:23;  author: yuan;  state: Exp;
Fixed boss bug.
----------------------------
revision 1.12
date: 1994/11/27 23:12:31;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.11
date: 1994/11/23 17:29:38;  author: mike;  state: Exp;
deal with peculiarities going between net and regular game on boss level.
----------------------------
revision 1.10
date: 1994/11/18 18:27:15;  author: rob;  state: Exp;
Fixed some bugs with the last version.
----------------------------
revision 1.9
date: 1994/11/18 17:13:59;  author: mike;  state: Exp;
special case handling for level 8.
----------------------------
revision 1.8
date: 1994/11/15 12:45:28;  author: mike;  state: Exp;
don't let cntrlcen know where a cloaked player is.
----------------------------
revision 1.7
date: 1994/11/08 12:18:37;  author: mike;  state: Exp;
small explosions on control center.
----------------------------
revision 1.6
date: 1994/11/02 17:59:18;  author: rob;  state: Exp;
Changed control centers so they can find people in network games.
Side effect of this is that control centers can find cloaked players.
(see in-code comments for explanation).  
Also added network hooks so control center shots 'sync up'.
----------------------------
revision 1.5
date: 1994/10/22 14:13:21;  author: mike;  state: Exp;
Make control center stop firing shortly after player dies.
Fix bug: If play from editor and die, tries to initialize non-control center object.
----------------------------
revision 1.4
date: 1994/10/20 15:17:30;  author: mike;  state: Exp;
Hack for control center inside boss robot.
----------------------------
revision 1.3
date: 1994/10/20 09:47:46;  author: mike;  state: Exp;
lots stuff.
----------------------------
revision 1.2
date: 1994/10/17 21:35:09;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.1
date: 1994/10/17 20:24:01;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/cntrlcen.h,v
Working file: main/cntrlcen.h
head: 1.1
description: Header for cntrlcen.c
----------------------------
revision 1.1
date: 1995/05/16 15:54:54;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:30:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.7
date: 1995/02/01 16:34:14;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.6
date: 1995/01/03 20:19:14;  author: john;  state: Exp;
Pretty good working version of game save.
----------------------------
revision 1.5
date: 1994/11/08 12:18:28;  author: mike;  state: Exp;
small explosions on control center.
----------------------------
revision 1.4
date: 1994/11/02 18:00:12;  author: rob;  state: Exp;
Added extern for Gun_pos array for network hooks.
----------------------------
revision 1.3
date: 1994/10/20 09:47:37;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/10/17 21:35:10;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.1
date: 1994/10/17 20:24:28;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/coindev.h,v
Working file: main/coindev.h
head: 1.1
description: Routines to read the coin counter.
----------------------------
revision 1.1
date: 1995/05/16 15:55:01;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:30:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/09/16 16:15:10;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.1
date: 1994/09/16 12:56:24;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/collide.c,v
Working file: main/collide.c
head: 1.3
description: ----------------------------
revision 1.3
date: 1995/11/08 17:15:21;  author: allender;  state: Exp;
make collide_player_and_weapon play player_hit_sound if
shareware and not my playernum
----------------------------
revision 1.2
date: 1995/10/31 10:24:37;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.1
date: 1995/05/16 15:23:34;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.4
date: 1995/03/30 16:36:09;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.3
date: 1995/03/24 15:11:13;  author: john;  state: Exp;
Added ugly robot cheat.
----------------------------
revision 2.2
date: 1995/03/21 14:41:04;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.1
date: 1995/03/20 18:16:02;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:32:20;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.289
date: 1995/02/22 13:56:06;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.288
date: 1995/02/11 15:52:45;  author: rob;  state: Exp;
Included text.h.
----------------------------
revision 1.287
date: 1995/02/11 15:04:11;  author: rob;  state: Exp;
Localized a string.
----------------------------
revision 1.286
date: 1995/02/11 14:25:41;  author: rob;  state: Exp;
Added invul. controlcen option.
----------------------------
revision 1.285
date: 1995/02/06 15:53:00;  author: mike;  state: Exp;
create awareness event for player:wall collision.
----------------------------
revision 1.284
date: 1995/02/05 23:18:17;  author: matt;  state: Exp;
Deal with objects (such as fusion blobs) that get created already
poking through a wall
----------------------------
revision 1.283
date: 1995/02/01 17:51:33;  author: mike;  state: Exp;
fusion bolt can now toast multiple proximity bombs.
----------------------------
revision 1.282
date: 1995/02/01 17:29:20;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.281
date: 1995/02/01 15:04:00;  author: rob;  state: Exp;
Changed sound of weapons hitting invulnerable players.
----------------------------
revision 1.280
date: 1995/01/31 16:16:35;  author: mike;  state: Exp;
Separate smart blobs for robot and player.
----------------------------
revision 1.279
date: 1995/01/29 15:57:10;  author: rob;  state: Exp;
Fixed another bug with robot_request_change calls.
----------------------------
revision 1.278
date: 1995/01/28 18:15:06;  author: rob;  state: Exp;
Fixed a bug in multi_request_robot_change.
----------------------------
revision 1.277
date: 1995/01/27 15:15:44;  author: rob;  state: Exp;
Fixing problems with controlcen damage.
----------------------------
revision 1.276
date: 1995/01/27 15:13:10;  author: mike;  state: Exp;
comment out mprintf.
----------------------------
revision 1.275
date: 1995/01/26 22:11:51;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.274
date: 1995/01/26 18:57:55;  author: rob;  state: Exp;
Changed two uses of digi_play_sample to digi_link_sound_to_pos which
made more sense.
----------------------------
revision 1.273
date: 1995/01/25 23:37:58;  author: mike;  state: Exp;
make persistent objects not hit player more than once.
Also, make them hit player before degrading them, else they often did 0 damage.
----------------------------
revision 1.272
date: 1995/01/25 18:23:54;  author: rob;  state: Exp;
Don't let players pick up powerups in exit tunnel.
----------------------------
revision 1.271
date: 1995/01/25 13:43:18;  author: rob;  state: Exp;
Added robot transfer for player collisions.
Removed mprintf from collide.c on Mike's request.
----------------------------
revision 1.270
date: 1995/01/25 10:24:01;  author: mike;  state: Exp;
Make sizzle and rock happen in lava even if you're invulnerable.
----------------------------
revision 1.269
date: 1995/01/22 17:05:33;  author: mike;  state: Exp;
Call multi_robot_request_change when a robot gets whacked by a player or
player weapon, if player_num != Player_num
----------------------------
revision 1.268
date: 1995/01/21 21:20:28;  author: matt;  state: Exp;
Fixed stupid bug
----------------------------
revision 1.267
date: 1995/01/21 18:47:47;  author: rob;  state: Exp;
Fixed a really dumb bug with player keys.
----------------------------
revision 1.266
date: 1995/01/21 17:39:30;  author: matt;  state: Exp;
Cleaned up laser/player hit wall confusions
----------------------------
revision 1.265
date: 1995/01/19 17:44:42;  author: mike;  state: Exp;
damage_force removed, that information coming from strength field.
----------------------------
revision 1.264
date: 1995/01/18 17:12:56;  author: rob;  state: Exp;
Fixed control stuff for multiplayer.
----------------------------
revision 1.263
date: 1995/01/18 16:12:33;  author: mike;  state: Exp;
Make control center aware of a cloaked playerr when he fires.
----------------------------
revision 1.262
date: 1995/01/17 17:48:42;  author: rob;  state: Exp;
Added key syncing for coop players.
----------------------------
revision 1.261
date: 1995/01/16 19:30:28;  author: rob;  state: Exp;
Fixed an assert error in fireball.c
----------------------------
revision 1.260
date: 1995/01/16 19:23:51;  author: mike;  state: Exp;
Say Boss_been_hit if he been hit so he gates appropriately.
----------------------------
revision 1.259
date: 1995/01/16 11:55:16;  author: mike;  state: Exp;
make enemies become aware of player if he damages control center.
----------------------------
revision 1.258
date: 1995/01/15 16:42:00;  author: rob;  state: Exp;
Fixed problem with robot bumping damage.
----------------------------
revision 1.257
date: 1995/01/14 19:16:36;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.256
date: 1995/01/03 17:58:37;  author: rob;  state: Exp;
Fixed scoring problems.
----------------------------
revision 1.255
date: 1994/12/29 12:41:11;  author: rob;  state: Exp;
Tweaking robot exploding in coop.
----------------------------
revision 1.254
date: 1994/12/28 10:37:59;  author: rob;  state: Exp;
Fixed ifdef of multibot stuff.
----------------------------
revision 1.253
date: 1994/12/21 19:03:14;  author: rob;  state: Exp;
Fixing score accounting for multiplayer robots
----------------------------
revision 1.252
date: 1994/12/21 17:36:31;  author: rob;  state: Exp;
Fix hostage pickup problem in network.
tweaking robot powerup drops.
----------------------------
revision 1.251
date: 1994/12/19 20:32:34;  author: rob;  state: Exp;
Remove awareness events from player collisions and lasers that are not the console player.
----------------------------
revision 1.250
date: 1994/12/19 20:01:22;  author: rob;  state: Exp;
Added multibot.h include.
----------------------------
revision 1.249
date: 1994/12/19 16:36:41;  author: rob;  state: Exp;
Patches damaging of multiplayer robots.
----------------------------
revision 1.248
date: 1994/12/14 21:15:18;  author: rob;  state: Exp;
play lava hiss across network.
----------------------------
revision 1.247
date: 1994/12/14 17:09:09;  author: matt;  state: Exp;
Fixed problem with no sound when lasers hit closed walls, like grates.
----------------------------
revision 1.246
date: 1994/12/14 09:51:49;  author: mike;  state: Exp;
make any weapon cause proximity bomb detonation.
----------------------------
revision 1.245
date: 1994/12/13 12:55:25;  author: mike;  state: Exp;
change number of proximity bomb powerups which get dropped.
----------------------------
revision 1.244
date: 1994/12/12 17:17:53;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.243
date: 1994/12/12 12:07:51;  author: rob;  state: Exp;
Don't take damage if we're in endlevel sequence.
----------------------------
revision 1.242
date: 1994/12/11 23:44:52;  author: mike;  state: Exp;
less phys_apply_rot() at higher skill levels.
----------------------------
revision 1.241
date: 1994/12/11 12:37:02;  author: mike;  state: Exp;
remove stupid robot spinning code.  it was really stupid.  (actually, call here, code in ai.c).
----------------------------
revision 1.240
date: 1994/12/10 16:44:51;  author: matt;  state: Exp;
Added debugging code to track down door that turns into rock
----------------------------
revision 1.239
date: 1994/12/09 14:59:19;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.238
date: 1994/12/09 09:57:02;  author: mike;  state: Exp;
Don't allow robots or their weapons to pass through control center.
----------------------------
revision 1.237
date: 1994/12/08 15:46:03;  author: mike;  state: Exp;
better robot behavior.
----------------------------
revision 1.236
date: 1994/12/08 12:32:56;  author: mike;  state: Exp;
make boss dying more interesting.
----------------------------
revision 1.235
date: 1994/12/07 22:49:15;  author: mike;  state: Exp;
tweak rotation due to collision.
----------------------------
revision 1.234
date: 1994/12/07 16:44:50;  author: mike;  state: Exp;
make bump sound if supposed to, even if not taking damage.
----------------------------
revision 1.233
date: 1994/12/07 12:55:08;  author: mike;  state: Exp;
tweak rotvel applied from collisions.
----------------------------
revision 1.232
date: 1994/12/05 19:30:48;  author: matt;  state: Exp;
Fixed horrible segment over-dereferencing
----------------------------
revision 1.231
date: 1994/12/05 00:32:15;  author: mike;  state: Exp;
do rotvel on badass and bump collisions.
----------------------------
revision 1.230
date: 1994/12/03 12:49:22;  author: mike;  state: Exp;
don't play bonk sound when you collide with a volatile wall (like lava).
----------------------------
revision 1.229
date: 1994/12/02 16:51:09;  author: mike;  state: Exp;
make lava sound only happen at 4 Hz.
----------------------------
revision 1.228
date: 1994/11/30 23:55:27;  author: rob;  state: Exp;
Fixed a bug where a laser hitting a wall was making 2 sounds.
----------------------------
revision 1.227
date: 1994/11/30 20:11:00;  author: rob;  state: Exp;
Fixed # of dropped laser powerups.
----------------------------
revision 1.226
date: 1994/11/30 19:19:03;  author: rob;  state: Exp;
Transmit collission sounds for net games.
----------------------------
revision 1.225
date: 1994/11/30 16:33:01;  author: mike;  state: Exp;
new boss behavior.
----------------------------
revision 1.224
date: 1994/11/30 15:44:17;  author: mike;  state: Exp;
/2 on boss smart children damage.
----------------------------
revision 1.223
date: 1994/11/30 14:03:03;  author: mike;  state: Exp;
hook for claw sounds
----------------------------
revision 1.222
date: 1994/11/29 20:41:09;  author: matt;  state: Exp;
Deleted a bunch of commented-out lines
----------------------------
revision 1.221
date: 1994/11/27 23:15:08;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.220
date: 1994/11/19 16:11:28;  author: rob;  state: Exp;
Collision damage with walls or lava is counted as suicides in net games
----------------------------
revision 1.219
date: 1994/11/19 15:20:41;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.218
date: 1994/11/17 18:44:27;  author: rob;  state: Exp;
Added OBJ_GHOST to list of valid player types to create eggs.
----------------------------
revision 1.217
date: 1994/11/17 14:57:59;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.216
date: 1994/11/16 23:38:36;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.215
date: 1994/11/16 12:16:29;  author: mike;  state: Exp;
Enable collisions between robots.  A hack in fvi.c only does this for robots which lunge to attack (eg, green guy)
----------------------------
revision 1.214
date: 1994/11/15 16:51:50;  author: mike;  state: Exp;
bump player when he hits a volatile wall.
----------------------------
revision 1.213
date: 1994/11/12 16:38:44;  author: mike;  state: Exp;
allow flares to open doors.
----------------------------
revision 1.212
date: 1994/11/10 13:09:19;  author: matt;  state: Exp;
Added support for new run-length-encoded bitmaps
----------------------------
revision 1.211
date: 1994/11/09 17:05:43;  author: matt;  state: Exp;
Fixed problem with volatile walls
----------------------------
revision 1.210
date: 1994/11/09 12:11:46;  author: mike;  state: Exp;
only award points if ConsoleObject killed robot.
----------------------------
revision 1.209
date: 1994/11/09 11:11:03;  author: yuan;  state: Exp;
Made wall volatile if either tmap_num1 or tmap_num2 is a volatile wall.
----------------------------
revision 1.208
date: 1994/11/08 12:20:15;  author: mike;  state: Exp;
moved do_controlcen_destroyed_stuff from here to cntrlcen.c
----------------------------
revision 1.207
date: 1994/11/02 23:22:08;  author: mike;  state: Exp;
Make ` (backquote, KEY_LAPOSTRO) tell what wall was hit by laser.
----------------------------
revision 1.206
date: 1994/11/02 18:03:00;  author: rob;  state: Exp;
Fix control_center_been_hit logic so it only cares about the local player.
Other players take care of their own control center 'ai'.
----------------------------
revision 1.205
date: 1994/11/01 19:37:33;  author: rob;  state: Exp;
Changed the max # of consussion missiles to 4.
(cause they're lame and clutter things up)
----------------------------
revision 1.204
date: 1994/11/01 18:06:35;  author: john;  state: Exp;
Tweaked wall banging sound constant.
----------------------------
revision 1.203
date: 1994/11/01 18:01:40;  author: john;  state: Exp;
Made wall bang less obnoxious, but volume based.
----------------------------
revision 1.202
date: 1994/11/01 17:11:05;  author: rob;  state: Exp;
Changed some stuff in drop_player_eggs.
----------------------------
revision 1.201
date: 1994/11/01 12:18:23;  author: john;  state: Exp;
Added sound volume support. Made wall collisions be louder/softer.
----------------------------
revision 1.200
date: 1994/10/31 13:48:44;  author: rob;  state: Exp;
Fixed bug in opening doors over network/modem.  Added a new message
type to multi.c that communicates door openings across the net. 
Changed includes in multi.c and wall.c to accomplish this.
----------------------------
revision 1.199
date: 1994/10/28 14:42:52;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.198
date: 1994/10/27 16:58:37;  author: allender;  state: Exp;
added demo recording of monitors blowing up
----------------------------
revision 1.197
date: 1994/10/26 23:20:52;  author: matt;  state: Exp;
Tone down flash even more
----------------------------
revision 1.196
date: 1994/10/26 23:01:50;  author: matt;  state: Exp;
Toned down red flash when damaged
----------------------------
revision 1.195
date: 1994/10/26 15:56:29;  author: yuan;  state: Exp;
Tweaked some palette flashes.
----------------------------
revision 1.194
date: 1994/10/25 11:32:26;  author: matt;  state: Exp;
Fixed bugs with vulcan powerups in mutliplayer
----------------------------
revision 1.193
date: 1994/10/25 10:51:18;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.192
date: 1994/10/24 14:14:05;  author: matt;  state: Exp;
Fixed bug in bump_two_objects()
----------------------------
revision 1.191
date: 1994/10/23 19:17:04;  author: matt;  state: Exp;
Fixed bug with "no key" messages
----------------------------
revision 1.190
date: 1994/10/22 00:08:46;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.189
date: 1994/10/21 20:42:34;  author: mike;  state: Exp;
Clear number of hostages on board between levels.
----------------------------
revision 1.188
date: 1994/10/20 15:17:43;  author: mike;  state: Exp;
control center in boss handling.
----------------------------
revision 1.187
date: 1994/10/20 10:09:47;  author: mike;  state: Exp;
Only ever drop 1 shield powerup in multiplayer (as an egg).
----------------------------
revision 1.186
date: 1994/10/20 09:47:11;  author: mike;  state: Exp;
Fix bug in dropping vulcan ammo in multiplayer.
Also control center stuff.
----------------------------
revision 1.185
date: 1994/10/19 15:14:32;  author: john;  state: Exp;
Took % hits out of player structure, made %kills work properly.
----------------------------
revision 1.184
date: 1994/10/19 11:33:16;  author: john;  state: Exp;
Fixed hostage rescued percent.
----------------------------
revision 1.183
date: 1994/10/19 11:16:49;  author: mike;  state: Exp;
Don't allow crazy josh to open locked doors.
Don't allow weapons to harm parent.
----------------------------
revision 1.182
date: 1994/10/18 18:37:01;  author: mike;  state: Exp;
No more hostage killing.  Too much stuff to do to integrate into game.
----------------------------
revision 1.181
date: 1994/10/18 16:37:35;  author: mike;  state: Exp;
Debug function for Yuan: Show seg:side when hit by puny laser if Show_seg_and_side != 0.
----------------------------
revision 1.180
date: 1994/10/18 10:53:17;  author: mike;  state: Exp;
Support attack type as a property of a robot, not of being == GREEN_GUY.
----------------------------
revision 1.179
date: 1994/10/17 21:18:36;  author: mike;  state: Exp;
diminish damage player does to robot due to collision, only took 2-3 hits to kill a josh.
----------------------------
revision 1.178
date: 1994/10/17 20:30:40;  author: john;  state: Exp;
Made player_hostages_rescued or whatever count properly.
----------------------------
revision 1.177
date: 1994/10/16 12:42:56;  author: mike;  state: Exp;
Trap bogus amount of vulcan ammo dropping.
----------------------------
revision 1.176
date: 1994/10/15 19:06:51;  author: mike;  state: Exp;
Drop vulcan ammo if player has it, but no vulcan cannon (when he dies).
----------------------------
revision 1.175
date: 1994/10/13 15:42:06;  author: mike;  state: Exp;
Remove afterburner.
----------------------------
revision 1.174
date: 1994/10/13 11:12:57;  author: mike;  state: Exp;
Apply damage to robots.  I hosed it a couple weeks ago when I made the green guy special.
=============================================================================
RCS file: /Smoke/miner/source/main/collide.h,v
Working file: main/collide.h
head: 1.1
description: .
----------------------------
revision 1.1
date: 1995/05/16 15:55:09;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.23
date: 1995/01/26 22:11:47;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.22
date: 1994/12/21 19:03:24;  author: rob;  state: Exp;
Fixing score accounting for multiplayer robots
----------------------------
revision 1.21
date: 1994/12/21 11:34:56;  author: mike;  state: Exp;
make control center take badass damage.
----------------------------
revision 1.20
date: 1994/10/29 16:53:16;  author: allender;  state: Exp;
added check_effect_blowup for demo recording to record monitor explosions
----------------------------
revision 1.19
date: 1994/10/09 13:46:48;  author: mike;  state: Exp;
Make public collide_player_and_powerup.
----------------------------
revision 1.18
date: 1994/10/05 14:54:29;  author: rob;  state: Exp;
Added serial game support in control center sequence..
----------------------------
revision 1.17
date: 1994/09/15 16:32:12;  author: mike;  state: Exp;
Prototype collide_player_and_nasty_robot.
----------------------------
revision 1.16
date: 1994/09/11 15:49:04;  author: mike;  state: Exp;
Prototype for maybe_detonate_weapon.
----------------------------
revision 1.15
date: 1994/09/09 14:20:07;  author: matt;  state: Exp;
Added prototype for scrape function
----------------------------
revision 1.14
date: 1994/09/02 14:00:44;  author: matt;  state: Exp;
Simplified explode_object() & mutliple-stage explosions
----------------------------
revision 1.13
date: 1994/08/18 10:47:35;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.12
date: 1994/08/17 16:50:08;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.11
date: 1994/08/03 16:45:31;  author: mike;  state: Exp;
Prototype a function.
----------------------------
revision 1.10
date: 1994/08/03 15:17:41;  author: mike;  state: Exp;
make matcen whack on you if it's ready to make a robot.
----------------------------
revision 1.9
date: 1994/07/22 12:08:03;  author: mike;  state: Exp;
Make robot hit vclip and sound weapon-based until robot dies, then robot-based.
----------------------------
revision 1.8
date: 1994/07/09 17:36:31;  author: mike;  state: Exp;
Prototype apply_damage_to_robot.
----------------------------
revision 1.7
date: 1994/07/09 13:20:36;  author: mike;  state: Exp;
Prototype apply_damage_to_player.
----------------------------
revision 1.6
date: 1994/06/20 23:35:52;  author: john;  state: Exp;
Bunch of stuff.
----------------------------
revision 1.5
date: 1994/06/17 18:04:03;  author: yuan;  state: Exp;
Added Immaterialization...
Fixed Invulnerability to allow being hit.
----------------------------
revision 1.4
date: 1994/05/13 20:28:02;  author: john;  state: Exp;
Version II of John's new object code.
----------------------------
revision 1.3
date: 1994/05/13 12:20:35;  author: john;  state: Exp;
Fixed some potential problems with code using global variables
that are set in fvi. 
----------------------------
revision 1.2
date: 1994/05/12 23:20:32;  author: john;  state: Exp;
Moved all object collision handling into collide.c.
----------------------------
revision 1.1
date: 1994/05/12 20:39:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/compbit.h,v
Working file: main/compbit.h
head: 1.1
description: Contains encryption key for bitmaps.tbl
----------------------------
revision 1.1
date: 1995/05/16 15:55:16;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:46;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/12/05 15:10:28;  author: allender;  state: Exp;
changed extern prototype definition
----------------------------
revision 1.2
date: 1994/10/19 15:43:33;  author: allender;  state: Exp;
header file which contains the xor value which is used when encrypting
bitmaps.tbl
----------------------------
revision 1.1
date: 1994/10/19 13:22:19;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/config.c,v
Working file: main/config.c
head: 1.8
description: contains routine(s) to read in the configuration file which contains
game configuration stuff like detail level, sound card, etc
----------------------------
revision 1.8
date: 1995/10/27 10:52:20;  author: allender;  state: Exp;
call digi_set_master_volume when prefs are read in to
set the master volume of the mac
----------------------------
revision 1.7
date: 1995/10/24 17:08:39;  author: allender;  state: Exp;
Config_master_volume added for saving sound manager volume
across games
----------------------------
revision 1.6
date: 1995/10/20 00:49:31;  author: allender;  state: Exp;
use default values when no prefs file
----------------------------
revision 1.5
date: 1995/09/21 10:06:58;  author: allender;  state: Exp;
set digi and midi volume appropriately
----------------------------
revision 1.4
date: 1995/09/13 08:49:38;  author: allender;  state: Exp;
prefs file stuff
----------------------------
revision 1.3
date: 1995/09/05 08:47:37;  author: allender;  state: Exp;
prefs file working
----------------------------
revision 1.2
date: 1995/05/26 06:54:14;  author: allender;  state: Exp;
removed midi and digi references from config file
----------------------------
revision 1.1
date: 1995/05/16 15:23:45;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/27 09:42:59;  author: john;  state: Exp;
Added VR Settings in config file.
----------------------------
revision 2.1
date: 1995/03/16 11:20:40;  author: john;  state: Exp;
Put in support for Crystal Lake soundcard.
----------------------------
revision 2.0
date: 1995/02/27 11:30:13;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.14
date: 1995/02/11 16:19:36;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.13
date: 1995/01/18 13:23:24;  author: matt;  state: Exp;
Made curtom detail level vars initialize properly at load
----------------------------
revision 1.12
date: 1995/01/04 22:15:36;  author: matt;  state: Exp;
Fixed stupid bug using scanf() to read bytes
----------------------------
revision 1.11
date: 1995/01/04 13:14:21;  author: matt;  state: Exp;
Made custom detail level settings save in config file
----------------------------
revision 1.10
date: 1994/12/12 21:35:09;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1994/12/12 21:31:51;  author: john;  state: Exp;
Made volume work better by making sure volumes are valid
and set correctly at program startup.
----------------------------
revision 1.8
date: 1994/12/12 13:58:01;  author: john;  state: Exp;
MAde -nomusic work.
Fixed GUS hang at exit by deinitializing digi before midi.
----------------------------
revision 1.7
date: 1994/12/08 10:01:33;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.6
date: 1994/12/01 11:24:07;  author: john;  state: Exp;
Made volume/gamma/joystick sliders all be the same length.  0-->8.
----------------------------
revision 1.5
date: 1994/11/29 02:01:07;  author: john;  state: Exp;
Added code to look at -volume command line arg.
----------------------------
revision 1.4
date: 1994/11/14 20:14:11;  author: john;  state: Exp;
Fixed some warnings.
----------------------------
revision 1.3
date: 1994/11/14 19:51:01;  author: john;  state: Exp;
Added joystick cal values to descent.cfg.
----------------------------
revision 1.2
date: 1994/11/14 17:53:09;  author: allender;  state: Exp;
read and write descent.cfg file
----------------------------
revision 1.1
date: 1994/11/14 16:28:08;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/config.h,v
Working file: main/config.h
head: 1.3
description: prototype definitions for descent.cfg reading/writing
----------------------------
revision 1.3
date: 1995/09/08 17:12:26;  author: allender;  state: Exp;
added modem tool stuff for prefs file
----------------------------
revision 1.2
date: 1995/09/05 08:47:48;  author: allender;  state: Exp;
prefs file working
----------------------------
revision 1.1
date: 1995/05/16 15:55:23;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:48;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1995/02/11 16:20:06;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.3
date: 1994/12/08 10:01:41;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.2
date: 1994/11/14 17:53:17;  author: allender;  state: Exp;
extern definitions for ReadConfigFile and WriteConfigFile
----------------------------
revision 1.1
date: 1994/11/14 16:56:17;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/controls.c,v
Working file: main/controls.c
head: 1.3
description: Code for controlling player movement
----------------------------
revision 1.3
date: 1995/11/20 17:17:27;  author: allender;  state: Exp;
call fix_fastsincos with tmp variable to prevent
writing to NULL
----------------------------
revision 1.2
date: 1995/08/11 16:00:04;  author: allender;  state: Exp;
fixed bug we think we never saw (overflow on max_rotthrust
----------------------------
revision 1.1
date: 1995/05/16 15:23:53;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:11;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.50
date: 1995/02/22 14:11:19;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.49
date: 1994/12/15 13:04:10;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.48
date: 1994/11/27 23:12:13;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.47
date: 1994/11/25 22:15:54;  author: matt;  state: Exp;
Added asserts to try to trap frametime < 0 bug
----------------------------
revision 1.46
date: 1994/11/16 11:25:40;  author: matt;  state: Exp;
Took out int3's since I determined that the errors are caused by neg frametime
----------------------------
revision 1.45
date: 1994/11/15 13:07:23;  author: matt;  state: Exp;
Added int3's to try to trap bug
----------------------------
revision 1.44
date: 1994/10/14 16:18:12;  author: john;  state: Exp;
Made Assert that the object was player just nicely exit
the function.
----------------------------
revision 1.43
date: 1994/10/13 11:35:25;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.42
date: 1994/09/29 11:22:02;  author: mike;  state: Exp;
Zero thrust when player dies.
----------------------------
revision 1.41
date: 1994/09/16 13:10:30;  author: mike;  state: Exp;
Hook in afterburner stuff.
----------------------------
revision 1.40
date: 1994/09/14 22:21:54;  author: matt;  state: Exp;
Avoid post-death assert
----------------------------
revision 1.39
date: 1994/09/11 20:30:27;  author: matt;  state: Exp;
Cleaned up thrust vars, changing a few names
----------------------------
revision 1.38
date: 1994/09/10 15:46:31;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.37
date: 1994/09/07 15:58:12;  author: mike;  state: Exp;
Check for player dead in controls so you can't fire or move after dead, logical, huh?
----------------------------
revision 1.36
date: 1994/09/06 14:51:56;  author: john;  state: Exp;
Added sensitivity adjustment, fixed bug with joystick button not
staying down.
----------------------------
revision 1.35
date: 1994/09/01 15:43:26;  author: john;  state: Exp;
Put pitch bak like it was.
----------------------------
revision 1.34
date: 1994/08/31 18:59:35;  author: john;  state: Exp;
Made rotthrust back like it was.
----------------------------
revision 1.33
date: 1994/08/31 18:49:17;  author: john;  state: Exp;
Slowed Maxrothrust a bit,
..
----------------------------
revision 1.32
date: 1994/08/31 18:32:05;  author: john;  state: Exp;
Lower max rotational thrust
----------------------------
revision 1.31
date: 1994/08/29 21:18:27;  author: john;  state: Exp;
First version of new keyboard/oystick remapping stuff.
----------------------------
revision 1.30
date: 1994/08/29 16:18:30;  author: mike;  state: Exp;
trap divide overflow.
----------------------------
revision 1.29
date: 1994/08/26 14:40:45;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.28
date: 1994/08/26 12:23:50;  author: john;  state: Exp;
MAde joystick read up to 15 times per second max.
----------------------------
revision 1.27
date: 1994/08/26 10:50:59;  author: john;  state: Exp;
Took out Controls_always_stopped.
----------------------------
revision 1.26
date: 1994/08/26 10:47:27;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.25
date: 1994/08/26 10:46:50;  author: john;  state: Exp;
New version of controls.
----------------------------
revision 1.24
date: 1994/08/25 19:41:44;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/08/25 18:44:55;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.22
date: 1994/08/25 18:43:46;  author: john;  state: Exp;
First revision of new control code.
----------------------------
revision 1.21
date: 1994/08/24 20:02:46;  author: john;  state: Exp;
Added cyberman support; made keys work key_down_time
returning seconds instead of milliseconds,.
----------------------------
revision 1.20
date: 1994/08/24 19:00:27;  author: john;  state: Exp;
Changed key_down_time to return fixed seconds instead of
milliseconds.
----------------------------
revision 1.19
date: 1994/08/19 15:22:12;  author: mike;  state: Exp;
Fix divide overflow in sliding.
----------------------------
revision 1.18
date: 1994/08/19 14:42:50;  author: john;  state: Exp;
Added joystick sensitivity.
----------------------------
revision 1.17
date: 1994/08/17 16:50:01;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.16
date: 1994/08/12 22:41:54;  author: john;  state: Exp;
Took away Player_stats; added Players array.
----------------------------
revision 1.15
date: 1994/08/09 16:03:56;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.14
date: 1994/07/28 12:33:31;  author: matt;  state: Exp;
Made sliding use thrust, rather than changing velocity directly
----------------------------
revision 1.13
date: 1994/07/27 20:53:21;  author: matt;  state: Exp;
Added rotational drag & thrust, so turning now has momemtum like moving
----------------------------
revision 1.12
date: 1994/07/25 10:24:06;  author: john;  state: Exp;
Victor stuff.
----------------------------
revision 1.11
date: 1994/07/22 17:53:16;  author: john;  state: Exp;
Added better victormax support
----------------------------
revision 1.10
date: 1994/07/21 21:31:29;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.9
date: 1994/07/15 15:16:18;  author: john;  state: Exp;
Fixed some joystick stuff.
----------------------------
revision 1.8
date: 1994/07/15 09:32:09;  author: john;  state: Exp;
Changes player movement.
----------------------------
revision 1.7
date: 1994/07/13 00:14:58;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.6
date: 1994/07/12 12:40:14;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.5
date: 1994/07/02 13:50:39;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.4
date: 1994/07/01 10:55:25;  author: john;  state: Exp;
Added analog joystick throttle
----------------------------
revision 1.3
date: 1994/06/30 20:04:28;  author: john;  state: Exp;
Added -joydef support.
----------------------------
revision 1.2
date: 1994/06/30 19:01:58;  author: matt;  state: Exp;
Moved flying controls code from physics.c to controls.c
----------------------------
revision 1.1
date: 1994/06/30 18:41:25;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/controls.h,v
Working file: main/controls.h
head: 1.1
description: Header for controls.c
----------------------------
revision 1.1
date: 1995/05/16 15:55:31;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:17;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/07/21 18:15:33;  author: matt;  state: Exp;
Ripped out a bunch of unused stuff
----------------------------
revision 1.3
date: 1994/07/15 09:32:08;  author: john;  state: Exp;
Changes player movement.
----------------------------
revision 1.2
date: 1994/06/30 19:02:22;  author: matt;  state: Exp;
Moved flying controls code from physics.c to controls.c
----------------------------
revision 1.1
date: 1994/06/30 18:41:36;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/credits.c,v
Working file: main/credits.c
head: 1.8
description: Routines to display the credits.
----------------------------
revision 1.8
date: 1995/11/07 13:54:56;  author: allender;  state: Exp;
loop shareware song since it is too short
----------------------------
revision 1.7
date: 1995/10/31 10:24:25;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.6
date: 1995/10/27 15:17:57;  author: allender;  state: Exp;
minor fix to get them to look right at top and bottom
of screens
----------------------------
revision 1.5
date: 1995/10/21 22:50:49;  author: allender;  state: Exp;
credits is way cool!!!!
----------------------------
revision 1.3
date: 1995/08/08 13:45:26;  author: allender;  state: Exp;
added macsys header file
----------------------------
revision 1.2
date: 1995/07/17 08:49:48;  author: allender;  state: Exp;
make work in 640x480 -- still needs major work!!
----------------------------
revision 1.1
date: 1995/05/16 15:24:01;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/06 15:23:30;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:29:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.33
date: 1995/02/11 12:41:56;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.32
date: 1995/02/03 14:18:06;  author: john;  state: Exp;
Added columns.
----------------------------
revision 1.31
date: 1994/12/28 10:43:00;  author: john;  state: Exp;
More VFX tweaking.
----------------------------
revision 1.30
date: 1994/12/20 18:22:31;  author: john;  state: Exp;
Added code to support non-looping songs, and put
it in for endlevel and credits.
----------------------------
revision 1.29
date: 1994/12/15 14:23:00;  author: adam;  state: Exp;
fixed timing.
----------------------------
revision 1.28
date: 1994/12/14 16:56:33;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.27
date: 1994/12/14 12:18:11;  author: adam;  state: Exp;
messed w/timing
----------------------------
revision 1.26
date: 1994/12/12 22:52:59;  author: matt;  state: Exp;
Fixed little bug
----------------------------
revision 1.25
date: 1994/12/12 22:49:35;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.24
date: 1994/12/09 23:16:50;  author: john;  state: Exp;
Make credits.txb load.
----------------------------
revision 1.23
date: 1994/12/09 00:41:54;  author: mike;  state: Exp;
fix hang in automap print screen.
----------------------------
revision 1.22
date: 1994/12/09 00:34:22;  author: matt;  state: Exp;
Added support for half-height lines
----------------------------
revision 1.21
date: 1994/12/08 18:36:03;  author: yuan;  state: Exp;
More HOGfile support.
----------------------------
revision 1.20
date: 1994/12/04 14:48:17;  author: john;  state: Exp;
Made credits restore playing descent.hmp.
----------------------------
revision 1.19
date: 1994/12/04 14:30:20;  author: john;  state: Exp;
Added hooks for music..
----------------------------
revision 1.18
date: 1994/12/04 12:06:46;  author: matt;  state: Exp;
Put in support for large font
----------------------------
revision 1.17
date: 1994/12/01 10:47:27;  author: john;  state: Exp;
Took out code that allows keypresses to change scroll rate.
----------------------------
revision 1.16
date: 1994/11/30 12:10:52;  author: adam;  state: Exp;
added support for PCX titles/brief screens
----------------------------
revision 1.15
date: 1994/11/27 23:12:17;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.14
date: 1994/11/27 19:51:46;  author: matt;  state: Exp;
Made screen shots work in a few more places
----------------------------
revision 1.13
date: 1994/11/18 16:41:51;  author: adam;  state: Exp;
trimmed some more meat for shareware
----------------------------
revision 1.12
date: 1994/11/10 20:38:29;  author: john;  state: Exp;
Made credits not loop.
----------------------------
revision 1.11
date: 1994/11/05 15:04:06;  author: john;  state: Exp;
Added non-popup menu for the main menu, so that scores and credits don't have to save
the background.
----------------------------
revision 1.10
date: 1994/11/05 14:05:52;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.9
date: 1994/11/04 12:02:32;  author: john;  state: Exp;
Fixed fading transitions a bit more.
----------------------------
revision 1.8
date: 1994/11/04 11:30:44;  author: john;  state: Exp;
Fixed fade transitions between game/menu/credits.
----------------------------
revision 1.7
date: 1994/11/04 11:06:32;  author: john;  state: Exp;
Added code to support credit fade table.
----------------------------
revision 1.6
date: 1994/11/04 10:16:13;  author: john;  state: Exp;
Made the credits fade in/out smoothly on top of a bitmap background.
----------------------------
revision 1.5
date: 1994/11/03 21:24:12;  author: john;  state: Exp;
Made credits exit the instant a key is pressed.
Made it scroll a bit slower.
----------------------------
revision 1.4
date: 1994/11/03 21:20:28;  author: john;  state: Exp;
Working.
----------------------------
revision 1.3
date: 1994/11/03 21:01:24;  author: john;  state: Exp;
First version of credits that works.
----------------------------
revision 1.2
date: 1994/11/03 20:17:39;  author: john;  state: Exp;
Added initial code for showing credits.
----------------------------
revision 1.1
date: 1994/11/03 20:09:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/credits.h,v
Working file: main/credits.h
head: 1.1
description: Prototypes for the credit sequence.
----------------------------
revision 1.1
date: 1995/05/16 15:55:39;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:30;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/11/03 20:17:40;  author: john;  state: Exp;
Added initial code for showing credits.
----------------------------
revision 1.1
date: 1994/11/03 20:09:19;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/demo.h,v
Working file: main/demo.h
head: 1.1
description: Demo constants.
----------------------------
revision 1.1
date: 1995/05/16 15:55:46;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:03;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/05/14 17:16:10;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.4
date: 1994/02/02 09:40:49;  author: mike;  state: Exp;
prototypes, change MAX_DEMO_RECORDS.
----------------------------
revision 1.3
date: 1994/02/01 15:15:02;  author: mike;  state: Exp;
Self-running demo code.
----------------------------
revision 1.2
date: 1994/02/01 11:51:49;  author: mike;  state: Exp;
demo functions.
----------------------------
revision 1.1
date: 1994/01/31 19:15:05;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/desc_id.h,v
Working file: main/desc_id.h
head: 1.1
description: Header file which contains string for id and timestamp information
----------------------------
revision 1.1
date: 1995/05/16 15:55:53;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:29:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/10/19 09:52:57;  author: allender;  state: Exp;
Added variable for bogus error number return when game exits
----------------------------
revision 1.2
date: 1994/10/18 16:43:52;  author: allender;  state: Exp;
Added constants for id and time stamping
----------------------------
revision 1.1
date: 1994/10/17 09:56:47;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/digi.h,v
Working file: main/digi.h
head: 1.6
description: Include file for sound hardware.
----------------------------
revision 1.6
date: 1995/09/24 10:54:47;  author: allender;  state: Exp;
added master volume function
----------------------------
revision 1.5
date: 1995/09/13 08:44:34;  author: allender;  state: Exp;
removed commented out defines and added digi_load_sounds prototype
----------------------------
revision 1.4
date: 1995/08/18 10:25:57;  author: allender;  state: Exp;
added back digi_kill_sound object calls as real function
calls
----------------------------
revision 1.3
date: 1995/07/17 08:49:32;  author: allender;  state: Exp;
changed some prototypes
----------------------------
revision 1.2
date: 1995/05/26 06:52:49;  author: allender;  state: Exp;
new header file stuff for digi code
----------------------------
revision 1.1
date: 1995/05/16 09:49:03;  author: john;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.29
date: 1995/02/11 12:42:00;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.28
date: 1995/02/03 17:08:26;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.27
date: 1995/02/01 22:20:31;  author: john;  state: Exp;
Added digi_is_sound_playing.
----------------------------
revision 1.26
date: 1994/12/20 18:03:51;  author: john;  state: Exp;
Added loop midi flag.
----------------------------
revision 1.25
date: 1994/12/13 00:46:14;  author: john;  state: Exp;
Split digi and midi volume into 2 seperate functions.
----------------------------
revision 1.24
date: 1994/12/10 20:34:53;  author: john;  state: Exp;
Added digi_kill_sound_linked_to_object.
----------------------------
revision 1.23
date: 1994/12/10 15:59:39;  author: mike;  state: Exp;
Fixed bug.
----------------------------
revision 1.22
date: 1994/12/10 15:44:35;  author: john;  state: Exp;
Added max_distance passing for sound objects.
----------------------------
revision 1.21
date: 1994/12/05 12:17:40;  author: john;  state: Exp;
Added code that locks/unlocks digital sounds on demand.
----------------------------
revision 1.20
date: 1994/11/28 18:34:57;  author: john;  state: Exp;
Made the digi_max_channels cut of an old sound instead of
not playing a new sound.
----------------------------
revision 1.19
date: 1994/11/14 17:53:56;  author: allender;  state: Exp;
made some digi variables extern
----------------------------
revision 1.18
date: 1994/10/28 14:42:58;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.17
date: 1994/10/11 15:25:37;  author: john;  state: Exp;
Added new function to play a sound once...
----------------------------
revision 1.16
date: 1994/10/03 20:51:44;  author: john;  state: Exp;
Started added pause sound function; for the network I changed to 
packet structure a bit; never tested, though.
----------------------------
revision 1.15
date: 1994/10/03 13:09:43;  author: john;  state: Exp;
Added Pause function, but never tested it yet.
----------------------------
revision 1.14
date: 1994/09/30 10:09:24;  author: john;  state: Exp;
Changed sound stuff... made it so the reseting card doesn't hang, 
made volume change only if sound is installed.
----------------------------
revision 1.13
date: 1994/09/29 21:13:43;  author: john;  state: Exp;
Added Master volumes for digi and midi. Also took out panning,
because it doesn't work with MasterVolume stuff. 
----------------------------
revision 1.12
date: 1994/09/29 12:42:34;  author: john;  state: Exp;
Added sidenum to keep track of sound pos. Made sound functions
not do anything if nosound. Made sounds_init delete currently
playing sounds.
----------------------------
revision 1.11
date: 1994/09/29 12:23:42;  author: john;  state: Exp;
Added digi_kill_sound_linked_to_segment function.
----------------------------
revision 1.10
date: 1994/09/29 11:59:04;  author: john;  state: Exp;
Added digi_kill_sound
----------------------------
revision 1.9
date: 1994/09/29 10:37:38;  author: john;  state: Exp;
Added sound objects that dynamicaly change volume,pan.
----------------------------
revision 1.8
date: 1994/09/28 16:18:37;  author: john;  state: Exp;
Added capability to play midi song.
----------------------------
revision 1.7
date: 1994/06/17 18:01:41;  author: john;  state: Exp;
A bunch of new stuff by John
----------------------------
revision 1.6
date: 1994/06/15 19:00:58;  author: john;  state: Exp;
Added the capability to make 3d sounds play just once for the
laser hit wall effects.
----------------------------
revision 1.5
date: 1994/06/07 10:54:30;  author: john;  state: Exp;
Made key S reinit the sound system.
----------------------------
revision 1.4
date: 1994/05/09 21:11:39;  author: john;  state: Exp;
Sound changes; pass index instead of pointer to digi routines.
Made laser sound cut off the last laser sound.
----------------------------
revision 1.3
date: 1994/04/27 11:44:25;  author: john;  state: Exp;
First version of sound! Yay!
----------------------------
revision 1.2
date: 1994/04/20 21:58:50;  author: john;  state: Exp;
First version of sound stuff... hopefully everything
is commented out because it hangs..
----------------------------
revision 1.1
date: 1994/04/15 14:25:02;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/dumpmine.c,v
Working file: main/dumpmine.c
head: 1.1
description: Functions to dump text description of mine.
An editor-only function, called at mine load time.
To be read by a human to verify the correctness and completeness of a mine.
----------------------------
revision 1.1
date: 1995/05/16 15:24:16;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/04/06 12:21:50;  author: mike;  state: Exp;
Add texture map information to txm files.
----------------------------
revision 2.0
date: 1995/02/27 11:26:41;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.24
date: 1995/01/23 15:34:43;  author: mike;  state: Exp;
New diagnostic code, levels.all stuff.
----------------------------
revision 1.23
date: 1994/12/20 17:56:36;  author: yuan;  state: Exp;
Multiplayer object capability.
----------------------------
revision 1.22
date: 1994/11/27 23:12:19;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.21
date: 1994/11/23 12:19:04;  author: mike;  state: Exp;
move out level names, stick in gamesave.
----------------------------
revision 1.20
date: 1994/11/21 16:54:36;  author: mike;  state: Exp;
oops.
----------------------------
revision 1.19
date: 1994/11/20 22:12:55;  author: mike;  state: Exp;
Lotsa new stuff in this fine debug file.
----------------------------
revision 1.18
date: 1994/11/17 14:58:09;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.17
date: 1994/11/15 21:43:02;  author: mike;  state: Exp;
texture usage system.
----------------------------
revision 1.16
date: 1994/11/15 12:45:59;  author: mike;  state: Exp;
debug code for dumping texture info.
----------------------------
revision 1.15
date: 1994/11/14 20:47:50;  author: john;  state: Exp;
Attempted to strip out all the code in the game 
directory that uses any ui code.
----------------------------
revision 1.14
date: 1994/10/14 17:33:38;  author: mike;  state: Exp;
Fix error reporting for number of multiplayer objects in mine.
----------------------------
revision 1.13
date: 1994/10/14 13:37:46;  author: mike;  state: Exp;
Forgot parameter in fprintf, was getting bogus number of excess keys.
----------------------------
revision 1.12
date: 1994/10/12 08:05:33;  author: mike;  state: Exp;
Detect keys contained in objects for error checking (txm file).
----------------------------
revision 1.11
date: 1994/10/10 17:02:08;  author: mike;  state: Exp;
fix fix.
----------------------------
revision 1.10
date: 1994/10/10 17:00:37;  author: mike;  state: Exp;
Add checking for proper number of players.
----------------------------
revision 1.9
date: 1994/10/03 23:37:19;  author: mike;  state: Exp;
Adapt to clear and rational understanding of matcens as related to fuelcens as related to something that might work.
----------------------------
revision 1.8
date: 1994/09/30 17:15:29;  author: mike;  state: Exp;
Fix error message, was telling bogus filename.
----------------------------
revision 1.7
date: 1994/09/30 11:50:55;  author: mike;  state: Exp;
More diagnostics.
----------------------------
revision 1.6
date: 1994/09/28 17:31:19;  author: mike;  state: Exp;
More error checking.
----------------------------
revision 1.5
date: 1994/09/28 11:14:05;  author: mike;  state: Exp;
Better checking on bogus walls.
----------------------------
revision 1.4
date: 1994/09/28 09:23:50;  author: mike;  state: Exp;
Change some Error messages to Warnings.
----------------------------
revision 1.3
date: 1994/09/27 17:08:31;  author: mike;  state: Exp;
More mine validation stuff.
----------------------------
revision 1.2
date: 1994/09/27 15:43:22;  author: mike;  state: Exp;
The amazing code to tell you everything and more about our mines!
----------------------------
revision 1.1
date: 1994/09/27 10:51:15;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/effects.c,v
Working file: main/effects.c
head: 1.1
description: Special effects, such as rotating fans, electrical walls, and
other cool animations. 
----------------------------
revision 1.1
date: 1995/05/16 15:24:25;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:49;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.21
date: 1995/02/13 20:35:06;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.20
date: 1994/12/10 16:44:50;  author: matt;  state: Exp;
Added debugging code to track down door that turns into rock
----------------------------
revision 1.19
date: 1994/12/06 16:27:14;  author: matt;  state: Exp;
Fixed horrible bug that was referencing segment -1
----------------------------
revision 1.18
date: 1994/12/02 23:20:51;  author: matt;  state: Exp;
Reset bitmaps possibly changed by crit clips
----------------------------
revision 1.17
date: 1994/11/14 14:00:19;  author: matt;  state: Exp;
Fixed stupid bug
----------------------------
revision 1.16
date: 1994/11/14 12:42:43;  author: matt;  state: Exp;
Allow holes in effects list
----------------------------
revision 1.15
date: 1994/11/08 21:11:52;  author: matt;  state: Exp;
Added functions to stop & start effects
----------------------------
revision 1.14
date: 1994/10/04 18:59:08;  author: matt;  state: Exp;
Exploding eclips now play eclip while exploding, then switch to static bm
----------------------------
revision 1.13
date: 1994/10/04 15:17:42;  author: matt;  state: Exp;
Took out references to unused constant
----------------------------
revision 1.12
date: 1994/09/29 11:00:01;  author: matt;  state: Exp;
Made eclips (wall animations) not frame-rate dependent (for now)
----------------------------
revision 1.11
date: 1994/09/25 00:40:24;  author: matt;  state: Exp;
Added the ability to make eclips (monitors, fans) which can be blown up
----------------------------
revision 1.10
date: 1994/08/14 23:15:14;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.9
date: 1994/08/05 15:56:04;  author: matt;  state: Exp;
Cleaned up effects system, and added alternate effects for after mine
destruction.
----------------------------
revision 1.8
date: 1994/08/01 23:17:21;  author: matt;  state: Exp;
Add support for animating textures on robots
----------------------------
revision 1.7
date: 1994/05/23 15:10:46;  author: yuan;  state: Exp;
Make Eclips read directly... 
No more need for $EFFECTS list.
----------------------------
revision 1.6
date: 1994/04/06 14:42:44;  author: yuan;  state: Exp;
Adding new powerups.
----------------------------
revision 1.5
date: 1994/03/15 16:31:54;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(And structures)
----------------------------
revision 1.4
date: 1994/03/04 17:09:09;  author: yuan;  state: Exp;
New door stuff.
----------------------------
revision 1.3
date: 1994/01/11 11:18:50;  author: yuan;  state: Exp;
Fixed frame_count
----------------------------
revision 1.2
date: 1994/01/11 10:38:55;  author: yuan;  state: Exp;
Special effects new implementation
----------------------------
revision 1.1
date: 1994/01/10 09:45:29;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/effects.h,v
Working file: main/effects.h
head: 1.1
description: Headerfile for effects.c
----------------------------
revision 1.1
date: 1995/05/16 15:56:08;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.15
date: 1994/11/08 21:12:07;  author: matt;  state: Exp;
Added functions to stop & start effects
----------------------------
revision 1.14
date: 1994/10/13 17:14:11;  author: adam;  state: Exp;
MAX_EFFECTS to 60 (ugh)
----------------------------
revision 1.13
date: 1994/10/05 10:14:34;  author: adam;  state: Exp;
MAX_EFFECTS to 50
----------------------------
revision 1.12
date: 1994/10/04 18:59:09;  author: matt;  state: Exp;
Exploding eclips now play eclip while exploding, then switch to static bm
----------------------------
revision 1.11
date: 1994/10/04 15:17:52;  author: matt;  state: Exp;
Took out references to unused constant
----------------------------
revision 1.10
date: 1994/09/29 14:15:00;  author: matt;  state: Exp;
Added sounds for eclips (wall effects)
----------------------------
revision 1.9
date: 1994/09/25 00:40:24;  author: matt;  state: Exp;
Added the ability to make eclips (monitors, fans) which can be blown up
----------------------------
revision 1.8
date: 1994/08/05 15:55:25;  author: matt;  state: Exp;
Cleaned up effects system, and added alternate effects for after mine
destruction.
----------------------------
revision 1.7
date: 1994/08/01 23:17:20;  author: matt;  state: Exp;
Add support for animating textures on robots
----------------------------
revision 1.6
date: 1994/05/19 18:13:18;  author: yuan;  state: Exp;
MAX_EFFECTS increased to 30
----------------------------
revision 1.5
date: 1994/03/15 16:32:37;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(Fixed structures too)
----------------------------
revision 1.4
date: 1994/03/04 17:09:07;  author: yuan;  state: Exp;
New door stuff.
----------------------------
revision 1.3
date: 1994/01/19 18:22:45;  author: yuan;  state: Exp;
Changed number of effects from 10-20
----------------------------
revision 1.2
date: 1994/01/11 10:39:07;  author: yuan;  state: Exp;
Special effects new implementation
----------------------------
revision 1.1
date: 1994/01/10 10:36:14;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/endlevel.c,v
Working file: main/endlevel.c
head: 1.5
description: Code for rendering external scenes
----------------------------
revision 1.5
date: 1995/10/31 10:24:09;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.4
date: 1995/09/14 16:33:54;  author: allender;  state: Exp;
fixed function return values for those that didn't
have them...thanks matt!
----------------------------
revision 1.3
date: 1995/07/28 15:36:26;  author: allender;  state: Exp;
reverse inverse sqrt change
----------------------------
revision 1.2
date: 1995/07/28 15:17:40;  author: allender;  state: Exp;
inverse magnitude fixup
----------------------------
revision 1.1
date: 1995/05/16 15:24:32;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/21 08:40:14;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.1
date: 1995/03/20 18:15:50;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:30:42;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.80
date: 1995/02/22 13:24:45;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.79
date: 1995/02/11 12:41:54;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.78
date: 1995/02/08 11:37:41;  author: mike;  state: Exp;
Check for failures in call to obj_create.
----------------------------
revision 1.77
date: 1995/02/05 22:09:49;  author: matt;  state: Exp;
Switch out of rear view when starting endlevel sequence
----------------------------
revision 1.76
date: 1995/01/30 18:08:28;  author: rob;  state: Exp;
Add palette fade out before ending level on special missions.
----------------------------
revision 1.75
date: 1995/01/29 16:19:19;  author: rob;  state: Exp;
Fixed endlevel for custom missions.
----------------------------
revision 1.74
date: 1995/01/26 12:18:10;  author: rob;  state: Exp;
Changed calling convention of network_do_frame.
----------------------------
revision 1.73
date: 1995/01/21 16:50:03;  author: matt;  state: Exp;
Made endlevel work with new mission stuff
----------------------------
revision 1.72
date: 1994/12/20 18:22:51;  author: john;  state: Exp;
Added code to support non-looping songs, and put
it in for endlevel and credits.
----------------------------
revision 1.71
date: 1994/12/15 12:23:58;  author: matt;  state: Exp;
Added check for failure to create camera object
----------------------------
revision 1.70
date: 1994/12/15 03:05:28;  author: matt;  state: Exp;
Added error checking for NULL return from object_create_explosion()
----------------------------
revision 1.69
date: 1994/12/12 21:41:38;  author: matt;  state: Exp;
Don't start endlevel if OF_SHOULD_BE_DEAD is set for player
----------------------------
revision 1.68
date: 1994/12/12 15:44:54;  author: rob;  state: Exp;
Rolled back a change to endlevel_start that caused more bugs than
it fixed.
----------------------------
revision 1.67
date: 1994/12/12 12:08:33;  author: rob;  state: Exp;
IF a player is dead upon entering the tunnel, make them not dead.  Not perfect solution
but avoids some last-minute weirdness we want to fix.  This should be revisited in new
versions if possible!
----------------------------
revision 1.66
date: 1994/12/11 22:02:13;  author: allender;  state: Exp;
made endlevel data loading work with .txb encoded format (made with
compbit -i level0?.end -o level0?.txb)
----------------------------
revision 1.65
date: 1994/12/11 20:32:47;  author: matt;  state: Exp;
Made camera transition happen 1/3 of the way through exit tunnel
----------------------------
revision 1.64
date: 1994/12/08 20:56:27;  author: john;  state: Exp;
More cfile stuff.
----------------------------
revision 1.63
date: 1994/12/07 17:00:52;  author: rob;  state: Exp;
Trying to fix homing tone warning when in exit tunnel.
----------------------------
revision 1.62
date: 1994/12/06 13:24:47;  author: matt;  state: Exp;
Made exit model come out of bitmaps.tbl
----------------------------
revision 1.61
date: 1994/12/06 12:06:22;  author: matt;  state: Exp;
Fixed/cleaned up satellite (planet/sun) code
----------------------------
revision 1.60
date: 1994/12/05 13:37:12;  author: adam;  state: Exp;
removed slew-mode
----------------------------
revision 1.59
date: 1994/12/05 12:49:37;  author: matt;  state: Exp;
Made satellite a rod (instead of a plane old non-rotating bitmap), and
made the size settable in the .end file
----------------------------
revision 1.58
date: 1994/12/04 21:40:00;  author: matt;  state: Exp;
Added explosion sounds
----------------------------
revision 1.57
date: 1994/12/04 18:31:41;  author: matt;  state: Exp;
Wasn't coding planet position, causing it to disappear sometimes
----------------------------
revision 1.56
date: 1994/12/04 14:30:26;  author: john;  state: Exp;
Added hooks for music..
----------------------------
revision 1.55
date: 1994/12/04 13:53:52;  author: matt;  state: Exp;
Added code to make camera off-centered during lookback
----------------------------
revision 1.54
date: 1994/12/04 12:30:18;  author: matt;  state: Exp;
Fixed slew for short sequence
----------------------------
revision 1.53
date: 1994/12/03 19:28:10;  author: matt;  state: Exp;
Added alternate model for exit model after mine destruction
----------------------------
revision 1.52
date: 1994/12/03 00:17:23;  author: matt;  state: Exp;
Made endlevel sequence cut off early
Made exit model and bit explosion always plot last (after all terrain)
----------------------------
revision 1.51
date: 1994/12/01 20:15:43;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.50
date: 1994/11/30 23:27:35;  author: adam;  state: Exp;
mucked around carelessly
----------------------------
revision 1.49
date: 1994/11/28 21:50:37;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.48
date: 1994/11/28 00:12:05;  author: allender;  state: Exp;
took out demo code that was in at one time to record endlevel sequence.
We are _not_ recording endlevel sequence
----------------------------
revision 1.47
date: 1994/11/27 23:35:54;  author: allender;  state: Exp;
pause demo recording when starting endlevel sequence.  on demo playback,
don't do endlevel at all.
----------------------------
revision 1.46
date: 1994/11/27 23:13:59;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.45
date: 1994/11/26 23:17:29;  author: matt;  state: Exp;
When camera leaves mine, bank it so it's level with the ground
----------------------------
revision 1.44
date: 1994/11/23 16:52:13;  author: rob;  state: Exp;
Ended netgame endlevel sequence a bit earlier.
----------------------------
revision 1.43
date: 1994/11/22 19:20:46;  author: rob;  state: Exp;
Modem support for secret levels.
----------------------------
revision 1.42
date: 1994/11/22 12:11:03;  author: rob;  state: Exp;
Fixed bug - file handle left open in load_endlevel_data.
----------------------------
revision 1.41
date: 1994/11/21 17:29:22;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.40
date: 1994/11/19 15:14:54;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.39
date: 1994/11/19 12:41:32;  author: matt;  state: Exp;
Added system to read endlevel data from file, and to make it work
with any exit tunnel.
----------------------------
revision 1.38
date: 1994/11/17 15:02:24;  author: mike;  state: Exp;
support new segment validation functions.
----------------------------
revision 1.37
date: 1994/11/17 13:04:45;  author: allender;  state: Exp;
backout out newdemo changes
----------------------------
revision 1.35
date: 1994/11/16 14:52:33;  author: rob;  state: Exp;
Commented out SLEW_ON on Matt's direction.
Changed something to fix demo recording.
----------------------------
revision 1.34
date: 1994/11/16 11:49:29;  author: matt;  state: Exp;
Added code to rotate terrain to match mine
----------------------------
revision 1.33
date: 1994/11/14 17:54:54;  author: allender;  state: Exp;
on exit sequence during demo recording, force player exited from mine
packet to all other network players
----------------------------
revision 1.32
date: 1994/11/10 21:27:42;  author: matt;  state: Exp;
Took out printf's
----------------------------
revision 1.31
date: 1994/11/10 14:02:24;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.30
date: 1994/11/09 10:31:33;  author: matt;  state: Exp;
Don't create explosions if can't find seg to create them in
----------------------------
revision 1.29
date: 1994/11/05 17:22:37;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.28
date: 1994/11/03 11:10:39;  author: matt;  state: Exp;
Fixed chase angles code
Maybe other things, too.
----------------------------
revision 1.27
date: 1994/10/30 20:09:21;  author: matt;  state: Exp;
For endlevel: added big explosion at tunnel exit; made lights in tunnel 
go out; made more explosions on walls.
----------------------------
revision 1.26
date: 1994/10/28 16:37:50;  author: allender;  state: Exp;
stop demo recording when endlevel sequence activated
----------------------------
revision 1.25
date: 1994/10/27 21:15:21;  author: matt;  state: Exp;
Added explosions in mine chasing player
----------------------------
revision 1.24
date: 1994/10/27 01:03:57;  author: matt;  state: Exp;
Fixed several small bugs in flythrough
----------------------------
revision 1.23
date: 1994/10/22 01:32:30;  author: matt;  state: Exp;
Don't start endlevel sequence if player dead
----------------------------
revision 1.22
date: 1994/10/22 00:08:06;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
=============================================================================
RCS file: /Smoke/miner/source/main/endlevel.h,v
Working file: main/endlevel.h
head: 1.2
description: Header for newfile.c
----------------------------
revision 1.2
date: 1995/09/14 16:36:34;  author: allender;  state: Exp;
fixed function prototype for those functions that didn't
have them...thanks matt
----------------------------
revision 1.1
date: 1995/05/16 15:56:16;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:37;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/06 13:24:55;  author: matt;  state: Exp;
Made exit model come out of bitmaps.tbl
----------------------------
revision 1.4
date: 1994/11/19 12:41:35;  author: matt;  state: Exp;
Added system to read endlevel data from file, and to make it work
with any exit tunnel.
----------------------------
revision 1.3
date: 1994/10/30 20:09:20;  author: matt;  state: Exp;
For endlevel: added big explosion at tunnel exit; made lights in tunnel 
go out; made more explosions on walls.
----------------------------
revision 1.2
date: 1994/08/19 20:09:38;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.1
date: 1994/08/15 19:18:47;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/fireball.c,v
Working file: main/fireball.c
head: 1.2
description: Code for rendering & otherwise dealing with explosions
----------------------------
revision 1.2
date: 1995/10/31 10:23:56;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.1
date: 1995/05/16 15:24:41;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/21 08:39:57;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.1
date: 1995/03/20 18:15:47;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:30:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.200
date: 1995/02/22 13:18:41;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.199
date: 1995/02/14 19:58:32;  author: mike;  state: Exp;
comment out "something bad has happened" int3.
----------------------------
revision 1.198
date: 1995/02/09 13:11:01;  author: mike;  state: Exp;
remove an annoying mprintf and Int3().
----------------------------
revision 1.197
date: 1995/02/08 17:10:14;  author: mike;  state: Exp;
don't drop cloaks if one nearby.
----------------------------
revision 1.196
date: 1995/02/08 13:27:14;  author: rob;  state: Exp;
Give keys dropped by robots 0 velocity in coop game.
----------------------------
revision 1.195
date: 1995/02/08 11:57:40;  author: mike;  state: Exp;
determine whether debris object failed to create because buffer was
exhausted or because limit was hit.
----------------------------
revision 1.194
date: 1995/02/08 11:37:58;  author: mike;  state: Exp;
Check for failures in call to obj_create.
----------------------------
revision 1.193
date: 1995/02/07 21:09:41;  author: mike;  state: Exp;
only replace weapon with energy 1/2 time.
----------------------------
revision 1.192
date: 1995/01/30 18:21:52;  author: rob;  state: Exp;
Replace extra life powerups in multiplayer to invul when
dropped by robots.
----------------------------
revision 1.191
date: 1995/01/28 17:40:59;  author: mike;  state: Exp;
fix stupidity in converting quad lasers to energy.
----------------------------
revision 1.190
date: 1995/01/27 15:05:59;  author: rob;  state: Exp;
Trying to fix a bug with damaging robots with player badass explosions.
----------------------------
revision 1.189
date: 1995/01/26 18:59:04;  author: rob;  state: Exp;
Powerups were flying too far in robot-cooperative games.
----------------------------
revision 1.188
date: 1995/01/25 10:53:35;  author: mike;  state: Exp;
make badass damage go through grates.
----------------------------
revision 1.187
date: 1995/01/25 09:37:23;  author: mike;  state: Exp;
fix objects containing robots, worked for powerups, bad {} placement.
----------------------------
revision 1.186
date: 1995/01/23 22:51:20;  author: mike;  state: Exp;
drop energy instead of primary weapon if you already have primary weapon.
----------------------------
revision 1.185
date: 1995/01/20 16:56:37;  author: mike;  state: Exp;
Cut damage done by badass weapons.
----------------------------
revision 1.184
date: 1995/01/19 17:44:57;  author: mike;  state: Exp;
damage_force removed, that information coming from strength field.
----------------------------
revision 1.183
date: 1995/01/16 21:06:54;  author: mike;  state: Exp;
Move function pick_random_point_in_segment from fireball.c to gameseg.c.
----------------------------
revision 1.182
date: 1995/01/16 19:24:04;  author: mike;  state: Exp;
If a gated-in robot and going to drop energy powerup, don't!
----------------------------
revision 1.181
date: 1995/01/15 20:48:03;  author: mike;  state: Exp;
drop energy in place of quad lasers if player already has quad lasers.
----------------------------
revision 1.180
date: 1995/01/14 19:32:19;  author: rob;  state: Exp;
Fixed an error.
----------------------------
revision 1.179
date: 1995/01/14 18:50:55;  author: rob;  state: Exp;
Make robot egg creation suitable for mutliplayer situations.
----------------------------
revision 1.178
date: 1995/01/14 14:55:07;  author: rob;  state: Exp;
Make weapons/keys/etc never disappear in network mode.
=============================================================================
RCS file: /Smoke/miner/source/main/fireball.h,v
Working file: main/fireball.h
head: 1.1
description: Header for fireball.c
----------------------------
revision 1.1
date: 1995/05/16 15:56:23;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:03;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.13
date: 1995/01/17 12:14:38;  author: john;  state: Exp;
Made walls, object explosion vclips load at level start.
----------------------------
revision 1.12
date: 1995/01/13 15:41:52;  author: rob;  state: Exp;
Added prototype for maybe_replace_powerup_with_energy
----------------------------
revision 1.11
date: 1994/11/17 16:28:36;  author: rob;  state: Exp;
Changed maybe_drop_cloak_powerup to maybe_drop_net_powerup (more
generic and useful)
----------------------------
revision 1.10
date: 1994/10/12 08:03:42;  author: mike;  state: Exp;
Prototype maybe_drop_cloak_powerup.
----------------------------
revision 1.9
date: 1994/10/11 12:24:39;  author: matt;  state: Exp;
Cleaned up/change badass explosion calls
----------------------------
revision 1.8
date: 1994/09/07 16:00:34;  author: mike;  state: Exp;
Add object pointer to parameter list of object_create_badass_explosion.
----------------------------
revision 1.7
date: 1994/09/02 14:00:39;  author: matt;  state: Exp;
Simplified explode_object() & mutliple-stage explosions
----------------------------
revision 1.6
date: 1994/08/17 16:49:58;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.5
date: 1994/07/14 22:39:19;  author: matt;  state: Exp;
Added exploding doors
----------------------------
revision 1.4
date: 1994/06/08 10:56:36;  author: matt;  state: Exp;
Improved debris: now get submodel size from new POF files; debris now has
limited life; debris can now be blown up.
----------------------------
revision 1.3
date: 1994/04/01 13:35:44;  author: matt;  state: Exp;
Added multiple-stage explosions
----------------------------
revision 1.2
date: 1994/02/17 11:33:32;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.1
date: 1994/02/16 22:41:15;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/fuelcen.c,v
Working file: main/fuelcen.c
head: 1.2
description: Functions for refueling centers.
----------------------------
revision 1.2
date: 1995/10/31 10:23:40;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.1
date: 1995/05/16 15:24:50;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.3
date: 1995/03/21 08:38:40;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.2
date: 1995/03/06 15:23:09;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.1
date: 1995/02/27 13:13:26;  author: john;  state: Exp;
Removed floating point.
----------------------------
revision 2.0
date: 1995/02/27 11:27:20;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.159
date: 1995/02/22 13:48:10;  author: allender;  state: Exp;
remove anonymous unions in object structure
----------------------------
revision 1.158
date: 1995/02/08 11:37:48;  author: mike;  state: Exp;
Check for failures in call to obj_create.
----------------------------
revision 1.157
date: 1995/02/07 20:39:39;  author: mike;  state: Exp;
fix toasters in multiplayer
----------------------------
revision 1.156
date: 1995/02/02 18:40:10;  author: john;  state: Exp;
Fixed bug with full screen cockpit flashing non-white.
----------------------------
revision 1.155
date: 1995/01/28 15:27:22;  author: yuan;  state: Exp;
Make sure fuelcen nums are valid.
----------------------------
revision 1.154
date: 1995/01/03 14:26:23;  author: rob;  state: Exp;
Better ifdef for robot centers.
----------------------------
revision 1.153
date: 1995/01/03 11:27:49;  author: rob;  state: Exp;
Added include of fuelcen.c
----------------------------
revision 1.152
date: 1995/01/03 09:47:22;  author: john;  state: Exp;
Some ifdef SHAREWARE lines.
----------------------------
revision 1.151
date: 1995/01/02 21:02:07;  author: rob;  state: Exp;
added matcen support for coop/multirobot.
----------------------------
revision 1.150
date: 1994/12/15 18:31:22;  author: mike;  state: Exp;
fix confusing precedence problems.
----------------------------
revision 1.149
date: 1994/12/15 13:04:22;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.148
date: 1994/12/15 03:05:18;  author: matt;  state: Exp;
Added error checking for NULL return from object_create_explosion()
----------------------------
revision 1.147
date: 1994/12/13 19:49:12;  author: rob;  state: Exp;
Made the fuelcen noise quieter.
----------------------------
revision 1.146
date: 1994/12/13 12:03:18;  author: john;  state: Exp;
Made the warning sirens not start until after "desccruction
secquence activated voice".
----------------------------
revision 1.145
date: 1994/12/12 17:18:30;  author: mike;  state: Exp;
make warning siren louder.
----------------------------
revision 1.144
date: 1994/12/11 23:18:04;  author: john;  state: Exp;
Added -nomusic.
Added RealFrameTime.
Put in a pause when sound initialization error.
Made controlcen countdown and framerate use RealFrameTime.
----------------------------
revision 1.143
date: 1994/12/11 14:10:16;  author: mike;  state: Exp;
louder sounds.
----------------------------
revision 1.142
date: 1994/12/06 11:33:19;  author: yuan;  state: Exp;
Fixed bug with fueling when above 100.
----------------------------
revision 1.141
date: 1994/12/05 23:37:14;  author: matt;  state: Exp;
Took out calls to warning() function
----------------------------
revision 1.140
date: 1994/12/05 23:19:18;  author: yuan;  state: Exp;
Fixed fuel center refuelers..
----------------------------
revision 1.139
date: 1994/12/03 12:48:12;  author: mike;  state: Exp;
diminish rocking due to control center destruction.
----------------------------
revision 1.138
date: 1994/12/02 23:30:32;  author: mike;  state: Exp;
fix bumpiness after toasting control center.
----------------------------
revision 1.137
date: 1994/12/02 22:48:14;  author: mike;  state: Exp;
rock the ship after toasting the control center!
----------------------------
revision 1.136
date: 1994/12/02 17:12:11;  author: rob;  state: Exp;
Fixed countdown sounds.
----------------------------
revision 1.135
date: 1994/11/29 20:59:43;  author: rob;  state: Exp;
Don't run out of fuel in net games (don't want to sync it between machines)
----------------------------
revision 1.134
date: 1994/11/29 19:10:57;  author: john;  state: Exp;
Took out debugging mprintf.
----------------------------
revision 1.133
date: 1994/11/29 13:19:40;  author: john;  state: Exp;
Made voice for "destruction actived in t-"
be at 12.75 secs.
----------------------------
revision 1.132
date: 1994/11/29 12:19:46;  author: john;  state: Exp;
MAde the "Mine desctruction will commence"
voice play at 12.5 secs.
----------------------------
revision 1.131
date: 1994/11/29 12:12:54;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.130
date: 1994/11/28 21:04:26;  author: rob;  state: Exp;
Added code to cast noise when player refuels.
----------------------------
revision 1.129
date: 1994/11/27 23:15:04;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.128
date: 1994/11/21 16:27:51;  author: mike;  state: Exp;
debug code for morphing.
----------------------------
revision 1.127
date: 1994/11/21 12:33:50;  author: matt;  state: Exp;
For control center explosions, use small fireball, not pseudo-random vclip
----------------------------
revision 1.126
date: 1994/11/20 22:12:15;  author: mike;  state: Exp;
Fix bug in initializing materialization centers.
----------------------------
revision 1.125
date: 1994/11/19 15:18:22;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.124
date: 1994/11/08 12:18:59;  author: mike;  state: Exp;
Initialize Fuelcen_seconds_left.
----------------------------
revision 1.123
date: 1994/10/30 14:12:33;  author: mike;  state: Exp;
rip out repair center stuff
----------------------------
revision 1.122
date: 1994/10/28 14:42:45;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.121
date: 1994/10/16 12:44:02;  author: mike;  state: Exp;
Make time to exit mine after control center destruction diff level dependent.
----------------------------
revision 1.120
date: 1994/10/09 22:03:26;  author: mike;  state: Exp;
Adapt to new create_n_segment_path parameters.
----------------------------
revision 1.119
date: 1994/10/06 14:52:42;  author: mike;  state: Exp;
Remove last of ability to damage fuel centers.
----------------------------
revision 1.118
date: 1994/10/06 14:08:45;  author: matt;  state: Exp;
Made morph flash effect get orientation from segment
----------------------------
revision 1.117
date: 1994/10/05 16:09:03;  author: mike;  state: Exp;
Put debugging code into matcen/fuelcen synchronization problem.
----------------------------
revision 1.116
date: 1994/10/04 15:32:41;  author: john;  state: Exp;
Took out the old PLAY_SOUND??? code and replaced it
with direct calls into digi_link_??? so that all sounds
can be made 3d.
----------------------------
revision 1.115
date: 1994/10/03 23:37:57;  author: mike;  state: Exp;
Clean up this mess of confusion to the point where maybe matcens actually work.
----------------------------
revision 1.114
date: 1994/10/03 13:34:40;  author: matt;  state: Exp;
Added new (and hopefully better) game sequencing functions
----------------------------
revision 1.113
date: 1994/09/30 14:41:57;  author: matt;  state: Exp;
Fixed bug as per Mike's instructions
----------------------------
revision 1.112
date: 1994/09/30 00:37:33;  author: mike;  state: Exp;
Balance materialization centers.
----------------------------
revision 1.111
date: 1994/09/28 23:12:52;  author: matt;  state: Exp;
Macroized palette flash system
----------------------------
revision 1.110
date: 1994/09/27 15:42:31;  author: mike;  state: Exp;
Add names of Specials.
----------------------------
revision 1.109
date: 1994/09/27 00:02:23;  author: mike;  state: Exp;
Yet more materialization center stuff.
----------------------------
revision 1.108
date: 1994/09/26 11:26:23;  author: mike;  state: Exp;
Balance materialization centers.
----------------------------
revision 1.107
date: 1994/09/25 23:40:47;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.106
date: 1994/09/25 15:55:58;  author: mike;  state: Exp;
Balance materialization centers, make them emit light, make them re-triggerable after awhile.
----------------------------
revision 1.105
date: 1994/09/24 17:42:33;  author: mike;  state: Exp;
Making materialization centers be activated by triggers and balancing them.
----------------------------
revision 1.104
date: 1994/09/24 14:16:06;  author: mike;  state: Exp;
Support new network constants.
----------------------------
revision 1.103
date: 1994/09/20 19:14:40;  author: john;  state: Exp;
Massaged the sound system; used a better formula for determining
which l/r balance, also, put in Mike's stuff that searches for a connection
between the 2 sounds' segments, stopping for closed doors, etc.
----------------------------
revision 1.102
date: 1994/09/17 01:40:51;  author: matt;  state: Exp;
Added status bar/sizable window mode, and in the process revamped the
whole cockpit mode system.
----------------------------
revision 1.101
date: 1994/08/31 20:57:25;  author: matt;  state: Exp;
Cleaned up endlevel/death code
----------------------------
revision 1.100
date: 1994/08/30 17:54:20;  author: mike;  state: Exp;
Slow down rate of creation of objects by materialization centers.
----------------------------
revision 1.99
date: 1994/08/29 11:47:01;  author: john;  state: Exp;
Added warning if no control centers in mine.
=============================================================================
RCS file: /Smoke/miner/source/main/fuelcen.h,v
Working file: main/fuelcen.h
head: 1.1
description: Definitions for fueling centers.
----------------------------
revision 1.1
date: 1995/05/16 15:56:31;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:43;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.26
date: 1995/01/26 12:19:16;  author: rob;  state: Exp;
Added externs of things needed for multiplayer.
----------------------------
revision 1.25
date: 1994/10/30 14:11:10;  author: mike;  state: Exp;
rip out repair center stuff.
----------------------------
revision 1.24
date: 1994/10/03 23:36:36;  author: mike;  state: Exp;
Add segnum and fuelcen_num (renaming dest_seg and *path) in matcen_info struct.
----------------------------
revision 1.23
date: 1994/09/30 00:37:44;  author: mike;  state: Exp;
Change FuelCenter struct.
----------------------------
revision 1.22
date: 1994/09/27 15:42:49;  author: mike;  state: Exp;
Kill some obsolete matcen constants, Prototype Special_names.
----------------------------
revision 1.21
date: 1994/09/27 00:04:30;  author: mike;  state: Exp;
Moved FuelCenter struct here from fuelcen.c
----------------------------
revision 1.20
date: 1994/09/25 15:55:37;  author: mike;  state: Exp;
Prototype function disable_matcens.
----------------------------
revision 1.19
date: 1994/09/24 17:41:34;  author: mike;  state: Exp;
Prototype trigger_matcen.
----------------------------
revision 1.18
date: 1994/08/03 17:52:19;  author: matt;  state: Exp;
Tidied up repair centers a bit
----------------------------
revision 1.17
date: 1994/08/02 12:16:01;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/08/01 11:04:03;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.15
date: 1994/07/21 19:02:15;  author: mike;  state: Exp;
break repair centers.
----------------------------
revision 1.14
date: 1994/07/14 11:25:22;  author: john;  state: Exp;
Made control centers destroy better; made automap use Tab key.
----------------------------
revision 1.13
date: 1994/07/13 10:45:33;  author: john;  state: Exp;
Made control center object switch when dead.
----------------------------
revision 1.12
date: 1994/07/09 17:36:44;  author: mike;  state: Exp;
Add extern for find_connected_repair_seg.
----------------------------
revision 1.11
date: 1994/06/15 19:00:32;  author: john;  state: Exp;
Show timer in on top of 3d with mine destroyed...
----------------------------
revision 1.10
date: 1994/05/31 16:49:46;  author: john;  state: Exp;
Begin to add robot materialization centers.
----------------------------
revision 1.9
date: 1994/05/30 20:22:03;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.8
date: 1994/05/05 16:41:14;  author: matt;  state: Exp;
Cleaned up repair center code, and moved some from object.c to fuelcen.c
----------------------------
revision 1.7
date: 1994/04/21 20:41:21;  author: yuan;  state: Exp;
Added extern.
----------------------------
revision 1.6
date: 1994/04/21 20:28:32;  author: john;  state: Exp;
Added flag for Yuan to tell when a fuel center is destroyed.
----------------------------
revision 1.5
date: 1994/04/14 17:00:59;  author: john;  state: Exp;
Made repair cen's work properly; added reset_all_fuelcens.
----------------------------
revision 1.4
date: 1994/04/12 20:28:04;  author: john;  state: Exp;
Added control center.
----------------------------
revision 1.3
date: 1994/04/08 15:37:10;  author: john;  state: Exp;
Added repair centers.
----------------------------
revision 1.2
date: 1994/04/06 19:10:38;  author: john;  state: Exp;
NEw version.
----------------------------
revision 1.1
date: 1994/04/06 12:39:02;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/fvi.c,v
Working file: main/fvi.c
head: 1.7
description: New home for find_vector_intersection()
----------------------------
revision 1.7
date: 1995/10/21 23:52:18;  author: allender;  state: Exp;
#ifdef'ed out stack debug stuff
----------------------------
revision 1.6
date: 1995/10/10 12:07:42;  author: allender;  state: Exp;
add forgotten ;
----------------------------
revision 1.5
date: 1995/10/10 11:47:27;  author: allender;  state: Exp;
put in stack space check
----------------------------
revision 1.4
date: 1995/08/23 21:34:08;  author: allender;  state: Exp;
fix mcc compiler warning
----------------------------
revision 1.3
date: 1995/08/14 14:35:18;  author: allender;  state: Exp;
changed transparency to 0
----------------------------
revision 1.2
date: 1995/07/05 16:50:51;  author: allender;  state: Exp;
transparency/kitchen change
----------------------------
revision 1.1
date: 1995/05/16 15:24:59;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.3
date: 1995/03/24 14:49:04;  author: john;  state: Exp;
Added cheat for player to go thru walls.
----------------------------
revision 2.2
date: 1995/03/21 17:58:32;  author: john;  state: Exp;
Fixed bug with normals..
----------------------------
revision 2.1
date: 1995/03/20 18:15:37;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:27:41;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.49
date: 1995/02/22 14:45:47;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.48
date: 1995/02/22 13:24:50;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.47
date: 1995/02/07 16:17:26;  author: matt;  state: Exp;
Disabled all robot-robot collisions except those involving two green
guys.  Used to do collisions if either robot was green guy.
----------------------------
revision 1.46
date: 1995/02/02 14:07:53;  author: matt;  state: Exp;
Fixed confusion about which segment you are touching when you're 
touching a wall.  This manifested itself in spurious lava burns.
----------------------------
revision 1.45
date: 1995/02/02 13:45:53;  author: matt;  state: Exp;
Made a bunch of lint-inspired changes
----------------------------
revision 1.44
date: 1995/01/24 12:10:17;  author: matt;  state: Exp;
Fudged collisions for player/player, and player weapon/other player in
coop games.
----------------------------
revision 1.43
date: 1995/01/14 19:16:45;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.42
date: 1994/12/15 12:22:40;  author: matt;  state: Exp;
Small change which may or may not help
----------------------------
revision 1.41
date: 1994/12/14 11:45:51;  author: matt;  state: Exp;
Fixed (hopefully) little bug with invalid segnum
----------------------------
revision 1.40
date: 1994/12/13 17:12:01;  author: matt;  state: Exp;
Increased edge tolerance a bunch more
----------------------------
revision 1.39
date: 1994/12/13 14:37:59;  author: matt;  state: Exp;
Fixed another stupid little bug
----------------------------
revision 1.38
date: 1994/12/13 13:25:44;  author: matt;  state: Exp;
Increased tolerance massively to avoid catching on corners
----------------------------
revision 1.37
date: 1994/12/13 12:02:20;  author: matt;  state: Exp;
Fixed small bug
----------------------------
revision 1.36
date: 1994/12/13 11:17:35;  author: matt;  state: Exp;
Lots of changes to hopefully fix objects leaving the mine.  Note that
this code should be considered somewhat experimental - one problem I
know about is that you can get stuck on edges more easily than before.
There may be other problems I don't know about yet.
----------------------------
revision 1.35
date: 1994/12/12 01:20:57;  author: matt;  state: Exp;
Added hack in object-object collisions that treats claw guys as
if they have 3/4 of their actual radius.
----------------------------
revision 1.34
date: 1994/12/04 22:48:39;  author: matt;  state: Exp;
Physics & FVI now only build seglist for player objects, and they 
responsilby deal with buffer full conditions
----------------------------
revision 1.33
date: 1994/12/04 22:07:05;  author: matt;  state: Exp;
Added better handing of buffer full condition
----------------------------
revision 1.32
date: 1994/12/01 21:06:33;  author: matt;  state: Exp;
Several important changes:
 (1) Checking against triangulated sides has been standardized a bit
 (2) Code has been added to de-triangulate some sides
 (3) BIG ONE: the tolerance for checking a point against a plane has
     been drastically relaxed
----------------------------
revision 1.31
date: 1994/11/27 23:15:03;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.30
date: 1994/11/19 15:20:30;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.29
date: 1994/11/16 12:18:17;  author: mike;  state: Exp;
hack for green_guy:green_guy collision detection.
----------------------------
revision 1.28
date: 1994/11/10 13:08:54;  author: matt;  state: Exp;
Added support for new run-length-encoded bitmaps
----------------------------
revision 1.27
date: 1994/10/31 12:27:51;  author: matt;  state: Exp;
Added new function object_intersects_wall()
----------------------------
revision 1.26
date: 1994/10/20 13:59:27;  author: matt;  state: Exp;
Added assert
----------------------------
revision 1.25
date: 1994/10/09 23:51:09;  author: matt;  state: Exp;
Made find_hitpoint_uv() work with triangulated sides
----------------------------
revision 1.24
date: 1994/09/25 00:39:29;  author: matt;  state: Exp;
Took out mprintf's
----------------------------
revision 1.23
date: 1994/09/25 00:37:53;  author: matt;  state: Exp;
Made the 'find the point in the bitmap where something hit' system
publicly accessible.
----------------------------
revision 1.22
date: 1994/09/21 16:58:22;  author: matt;  state: Exp;
Fixed bug in trans wall check that was checking against verically 
flipped bitmap (i.e., the y coord was negative when checking).
----------------------------
revision 1.21
date: 1994/09/02 11:31:40;  author: matt;  state: Exp;
Fixed object/object collisions, so you can't fly through robots anymore.
Cleaned up object damage system.
----------------------------
revision 1.20
date: 1994/08/26 09:42:03;  author: matt;  state: Exp;
Increased the size of a buffer
----------------------------
revision 1.19
date: 1994/08/11 18:57:53;  author: mike;  state: Exp;
Convert shorts to ints for optimization.
----------------------------
revision 1.18
date: 1994/08/08 21:38:24;  author: matt;  state: Exp;
Put in small optimization
----------------------------
revision 1.17
date: 1994/08/08 12:21:52;  author: yuan;  state: Exp;
Fixed assert
----------------------------
revision 1.16
date: 1994/08/08 11:47:04;  author: matt;  state: Exp;
Cleaned up fvi and physics a little
----------------------------
revision 1.15
date: 1994/08/04 00:21:04;  author: matt;  state: Exp;
Cleaned up fvi & physics error handling; put in code to make sure objects
are in correct segment; simplified segment finding for objects and points
----------------------------
revision 1.14
date: 1994/08/02 19:04:26;  author: matt;  state: Exp;
Cleaned up vertex list functions
----------------------------
revision 1.13
date: 1994/08/02 09:56:28;  author: matt;  state: Exp;
Put in check for bad value find_plane_line_intersection()
----------------------------
revision 1.12
date: 1994/08/01 17:27:26;  author: matt;  state: Exp;
Added support for triangulated walls in trans point check
----------------------------
revision 1.11
date: 1994/08/01 13:30:40;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.10
date: 1994/07/13 21:47:17;  author: matt;  state: Exp;
FVI() and physics now keep lists of segments passed through which the
trigger code uses.
----------------------------
revision 1.9
date: 1994/07/09 21:21:40;  author: matt;  state: Exp;
Fixed, hopefull, bugs in sphere-to-vector intersection code
----------------------------
revision 1.8
date: 1994/07/08 14:26:42;  author: matt;  state: Exp;
Non-needed powerups don't get picked up now; this required changing FVI to
take a list of ingore objects rather than just one ignore object.
----------------------------
revision 1.7
date: 1994/07/06 20:02:37;  author: matt;  state: Exp;
Made change to match gameseg that uses lowest point number as reference
point when checking against a plane
----------------------------
revision 1.6
date: 1994/06/29 15:43:58;  author: matt;  state: Exp;
When computing intersection of vector and sphere, use the radii of both
objects.
----------------------------
revision 1.5
date: 1994/06/14 15:57:58;  author: matt;  state: Exp;
Took out asserts, and added other hacks, pending real bug fixes
----------------------------
revision 1.4
date: 1994/06/13 23:10:08;  author: matt;  state: Exp;
Fixed problems with triangulated sides
----------------------------
revision 1.3
date: 1994/06/09 12:11:14;  author: matt;  state: Exp;
Fixed confusing use of two variables, hit_objnum & fvi_hit_object, to
keep the same information in different ways.
----------------------------
revision 1.2
date: 1994/06/09 09:58:38;  author: matt;  state: Exp;
Moved find_vector_intersection() from physics.c to new file fvi.c
----------------------------
revision 1.1
date: 1994/06/09 09:25:57;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/fvi.h,v
Working file: main/fvi.h
head: 1.2
description: Header for fvi.c
----------------------------
revision 1.2
date: 1995/08/23 21:34:29;  author: allender;  state: Exp;
fix mcc compiler warning
----------------------------
revision 1.1
date: 1995/05/16 15:56:38;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/20 12:15:58;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:32:02;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.10
date: 1995/02/02 14:07:58;  author: matt;  state: Exp;
Fixed confusion about which segment you are touching when you're 
touching a wall.  This manifested itself in spurious lava burns.
----------------------------
revision 1.9
date: 1994/12/04 22:48:04;  author: matt;  state: Exp;
Physics & FVI now only build seglist for player objects, and they 
responsilby deal with buffer full conditions
----------------------------
revision 1.8
date: 1994/10/31 12:28:01;  author: matt;  state: Exp;
Added new function object_intersects_wall()
----------------------------
revision 1.7
date: 1994/10/10 13:10:00;  author: matt;  state: Exp;
Increased max_fvi_segs
----------------------------
revision 1.6
date: 1994/09/25 00:38:29;  author: matt;  state: Exp;
Made the 'find the point in the bitmap where something hit' system
publicly accessible.
----------------------------
revision 1.5
date: 1994/08/01 13:30:35;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.4
date: 1994/07/13 21:47:59;  author: matt;  state: Exp;
FVI() and physics now keep lists of segments passed through which the
trigger code uses.
----------------------------
revision 1.3
date: 1994/07/08 14:27:26;  author: matt;  state: Exp;
Non-needed powerups don't get picked up now; this required changing FVI to
take a list of ingore objects rather than just one ignore object.
----------------------------
revision 1.2
date: 1994/06/09 09:58:39;  author: matt;  state: Exp;
Moved find_vector_intersection() from physics.c to new file fvi.c
----------------------------
revision 1.1
date: 1994/06/09 09:26:14;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/main/game.c,v
Working file: main/game.c
head: 1.1
description: Game loop for Inferno
----------------------------
revision 1.1
date: 1995/12/05 16:01:09;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.38
date: 1995/11/13 13:02:35;  author: allender;  state: Exp;
put up HUD message when player starts tournament
----------------------------
revision 1.37
date: 1995/11/13 09:21:05;  author: allender;  state: Exp;
ved and shorted tournament mode messages
----------------------------
revision 1.36
date: 1995/11/09 17:27:00;  author: allender;  state: Exp;
took out cheats during demo playback
----------------------------
revision 1.35
date: 1995/11/07 17:05:41;  author: allender;  state: Exp;
move registered cheats
----------------------------
revision 1.34
date: 1995/11/03 12:55:45;  author: allender;  state: Exp;
shareware changes
----------------------------
revision 1.33
date: 1995/10/29 20:15:00;  author: allender;  state: Exp;
took out frame rate cheat.  Pause for at least a second because
of cmd-P problem
----------------------------
revision 1.32
date: 1995/10/26 14:11:26;  author: allender;  state: Exp;
fix up message box stuff to align correctly
----------------------------
revision 1.31
date: 1995/10/24 18:09:41;  author: allender;  state: Exp;
ixed cockpit weirdness -- don't update cockpit when do_appl_quit
is called -- screen saved in mevent.c
----------------------------
revision 1.30
date: 1995/10/21 23:39:10;  author: allender;  state: Exp;
ruise marking indicator
----------------------------
revision 1.29
date: 1995/10/21 22:52:27;  author: allender;  state: Exp;
bald guy cheat -- print screen stuff
----------------------------
revision 1.28
date: 1995/10/20 00:54:28;  author: allender;  state: Exp;
new help menus and redbook checking in outer game loop
----------------------------
revision 1.27
date: 1995/10/17 15:34:19;  author: allender;  state: Exp;
pixel double is now default mode
----------------------------
revision 1.26
date: 1995/10/12 17:34:44;  author: allender;  state: Exp;
bigger message box -- command key equivs for function keys
----------------------------
revision 1.25
date: 1995/10/11 12:17:14;  author: allender;  state: Exp;
removed event loop processing
----------------------------
revision 1.24
date: 1995/10/11 00:58:47;  author: allender;  state: Exp;
removed debugging code
----------------------------
revision 1.23
date: 1995/10/10 11:50:32;  author: allender;  state: Exp;
fixed boxed message to align on 8 byte boundry,
and some debug code
----------------------------
revision 1.22
date: 1995/09/24 10:51:26;  author: allender;  state: Exp;
cannot go to finder in network..added cmd-q for quit
----------------------------
revision 1.21
date: 1995/09/22 15:05:18;  author: allender;  state: Exp;
*more* hud and font type stuff (messages)
----------------------------
revision 1.20
date: 1995/09/22 14:39:57;  author: allender;  state: Exp;
ved framerate counter up
----------------------------
revision 1.19
date: 1995/09/18 17:01:28;  author: allender;  state: Exp;
start of compatibility stuff
----------------------------
revision 1.18
date: 1995/09/15 15:53:13;  author: allender;  state: Exp;
better handling of PICT screen shots
----------------------------
revision 1.17
date: 1995/09/14 15:27:41;  author: allender;  state: Exp;
fixed function type on message_box routiens
----------------------------
revision 1.16
date: 1995/09/13 11:37:47;  author: allender;  state: Exp;
put in call to dump PICT file instead of PCX
----------------------------
revision 1.15
date: 1995/09/08 17:13:28;  author: allender;  state: Exp;
put back in ibitblt.h and start of PICT picture dump
----------------------------
revision 1.14
date: 1995/09/07 10:20:58;  author: allender;  state: Exp;
make cockpit mode default
----------------------------
revision 1.13
date: 1995/09/07 10:17:34;  author: allender;  state: Exp;
added command key equivalents for function keys
----------------------------
revision 1.12
date: 1995/09/04 11:36:47;  author: allender;  state: Exp;
fixed pixel double mode to have correct number of rendered
lines
----------------------------
revision 1.11
date: 1995/09/01 15:47:07;  author: allender;  state: Exp;
cap frame rate at 60 fps
----------------------------
revision 1.10
date: 1995/08/26 16:25:59;  author: allender;  state: Exp;
whole buncha' stuff!!!!
----------------------------
revision 1.9
date: 1995/08/01 16:04:47;  author: allender;  state: Exp;
put in ctrl_esc sequence to go to menubar
----------------------------
revision 1.8
date: 1995/07/28 14:15:11;  author: allender;  state: Exp;
added FRAME cheat to display frame rate
----------------------------
revision 1.7
date: 1995/07/17 08:54:19;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1995/07/12 12:54:06;  author: allender;  state: Exp;
removed some debug keys
----------------------------
revision 1.5
date: 1995/07/05 16:44:35;  author: allender;  state: Exp;
changed some debug keys
----------------------------
revision 1.4
date: 1995/06/23 10:24:57;  author: allender;  state: Exp;
added scanline doubling routine
----------------------------
revision 1.3
date: 1995/06/13 13:08:26;  author: allender;  state: Exp;
added special debug key to move window into upper left corner.
also added debug key to put game in 640x480 mode
----------------------------
revision 1.2
date: 1995/06/12 11:10:31;  author: allender;  state: Exp;
added DEL_SHIFT_M to move window to corner of screen
----------------------------
revision 1.1
date: 1995/05/16 15:25:08;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.29
date: 1995/04/06 13:47:39;  author: yuan;  state: Exp;
Restored rear view to original.
----------------------------
revision 2.28
date: 1995/04/06 12:13:07;  author: john;  state: Exp;
Fixed some bugs with 3dmax.
----------------------------
revision 2.27
date: 1995/04/05 13:18:18;  author: mike;  state: Exp;
decrease energy usage on fusion cannon
----------------------------
revision 2.26
date: 1995/03/30 16:36:32;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.25
date: 1995/03/27 16:45:26;  author: john;  state: Exp;
Fixed some cheat bugs.  Added astral cheat.
----------------------------
revision 2.24
date: 1995/03/27 15:37:11;  author: mike;  state: Exp;
boost fusion cannon for non-multiplayer modes.
----------------------------
revision 2.23
date: 1995/03/24 17:48:04;  author: john;  state: Exp;
Fixed bug with menus and 320x100.
----------------------------
revision 2.22
date: 1995/03/24 15:34:02;  author: mike;  state: Exp;
cheats.
----------------------------
revision 2.21
date: 1995/03/24 13:11:39;  author: john;  state: Exp;
Added save game during briefing screens.
----------------------------
revision 2.20
date: 1995/03/21 14:40:50;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.19
date: 1995/03/16 22:07:16;  author: john;  state: Exp;
Made so only for screen can be used for anything other
than mode 13.
----------------------------
revision 2.18
date: 1995/03/16 21:45:35;  author: john;  state: Exp;
Made all paged modes have incompatible menus!
----------------------------
revision 2.17
date: 1995/03/16 18:30:35;  author: john;  state: Exp;
Made wider than 320 screens not have
a status bar mode.
----------------------------
revision 2.16
date: 1995/03/16 10:53:34;  author: john;  state: Exp;
Move VFX center to Shift+Z instead of Enter because
it conflicted with toggling HUD on/off.
----------------------------
revision 2.15
date: 1995/03/16 10:18:33;  author: john;  state: Exp;
Fixed bug with VFX mode not working. also made warning
when it can't set VESA mode.
----------------------------
revision 2.14
date: 1995/03/14 16:22:39;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.13
date: 1995/03/14 12:14:17;  author: john;  state: Exp;
Made VR helmets have 4 resolutions to choose from.
----------------------------
revision 2.12
date: 1995/03/10 13:47:33;  author: john;  state: Exp;
Added head tracking sensitivity.
----------------------------
revision 2.11
date: 1995/03/10 13:13:47;  author: john;  state: Exp;
Added code to show T-xx on iglasses.
----------------------------
revision 2.10
date: 1995/03/09 18:07:29;  author: john;  state: Exp;
Fixed bug with iglasses tracking not "centering" right.
Made VFX have bright headlight lighting.
----------------------------
revision 2.9
date: 1995/03/09 11:48:02;  author: john;  state: Exp;
Added HUD for VR helmets.
----------------------------
revision 2.8
date: 1995/03/07 15:12:53;  author: john;  state: Exp;
Fixed VFX,3dmax support.
----------------------------
revision 2.7
date: 1995/03/07 11:35:03;  author: john;  state: Exp;
Fixed bug with cockpit in rear view.
----------------------------
revision 2.6
date: 1995/03/06 18:40:17;  author: john;  state: Exp;
Added some ifdef EDITOR stuff.
----------------------------
revision 2.5
date: 1995/03/06 18:31:21;  author: john;  state: Exp;
Fixed bug with nmenu popping up on editor screen.
----------------------------
revision 2.4
date: 1995/03/06 17:28:33;  author: john;  state: Exp;
Fixed but with cockpit toggling wrong.
----------------------------
revision 2.3
date: 1995/03/06 16:08:10;  author: mike;  state: Exp;
Fix compile errors if building without editor.
----------------------------
revision 2.2
date: 1995/03/06 15:24:10;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.1
date: 1995/02/27 13:41:03;  author: john;  state: Exp;
Removed floating point from frame rate calculations.
----------------------------
revision 2.0
date: 1995/02/27 11:31:54;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.770
date: 1995/02/22 12:45:15;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.769
date: 1995/02/15 10:06:25;  author: allender;  state: Exp;
make pause pause game during demo playback
----------------------------
revision 1.768
date: 1995/02/13 20:35:11;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.767
date: 1995/02/13 19:40:29;  author: allender;  state: Exp;
added place to demo record restoration from rear view in place that
I forgot before
----------------------------
revision 1.766
date: 1995/02/13 10:29:27;  author: john;  state: Exp;
Fixed bug with cheats not restoreing across save games.
----------------------------
revision 1.765
date: 1995/02/11 22:54:33;  author: john;  state: Exp;
Made loading for pig not show up for demos.
----------------------------
revision 1.764
date: 1995/02/11 17:30:08;  author: allender;  state: Exp;
ifndef NDEBUG around strip frame stuff
----------------------------
revision 1.763
date: 1995/02/11 17:13:01;  author: rob;  state: Exp;
Took out modem.c code fille stuff.
----------------------------
revision 1.762
date: 1995/02/11 16:36:47;  author: allender;  state: Exp;
debug key to strip frames from end of demo
----------------------------
revision 1.761
date: 1995/02/11 14:29:16;  author: john;  state: Exp;
Turned off cheats when going into game.
----------------------------
revision 1.760
date: 1995/02/11 13:46:54;  author: mike;  state: Exp;
fix cheats.
----------------------------
revision 1.759
date: 1995/02/11 12:36:09;  author: matt;  state: Exp;
Cleaned up cheats
----------------------------
revision 1.758
date: 1995/02/11 12:27:04;  author: mike;  state: Exp;
fix path-to-exit cheat.
----------------------------
revision 1.757
date: 1995/02/11 01:56:24;  author: mike;  state: Exp;
robots don't fire cheat.
----------------------------
revision 1.756
date: 1995/02/10 16:38:40;  author: mike;  state: Exp;
illuminate path to exit cheat.
----------------------------
revision 1.755
date: 1995/02/10 16:19:40;  author: mike;  state: Exp;
new show-path-to-exit system, still buggy, compiled out.
----------------------------
revision 1.754
date: 1995/02/10 15:54:46;  author: matt;  state: Exp;
Added new cheats
----------------------------
revision 1.753
date: 1995/02/09 12:25:42;  author: matt;  state: Exp;
Made mem_fill() test routines not be called if RELEASE
----------------------------
revision 1.752
date: 1995/02/09 08:49:32;  author: mike;  state: Exp;
change fill opcode value to 0xcc, int 3 value.
----------------------------
revision 1.751
date: 1995/02/09 02:59:26;  author: mike;  state: Exp;
check code for 00066xxx bugs.
----------------------------
revision 1.750
date: 1995/02/08 17:10:02;  author: mike;  state: Exp;
add, but don't call, debug code.
----------------------------
revision 1.749
date: 1995/02/07 11:07:27;  author: john;  state: Exp;
Added hooks for confirm on game state restore.
----------------------------
revision 1.748
date: 1995/02/06 15:52:45;  author: mike;  state: Exp;
add mini megawow powerup for giving reasonable weapons.
----------------------------
revision 1.747
date: 1995/02/06 12:53:35;  author: allender;  state: Exp;
force endlevel_sequence to 0 to fix weird bug
----------------------------
revision 1.746
date: 1995/02/04 10:03:30;  author: mike;  state: Exp;
Fly to exit cheat.
----------------------------
revision 1.745
date: 1995/02/02 15:57:52;  author: john;  state: Exp;
Added turbo mode cheat.
----------------------------
revision 1.744
date: 1995/02/02 14:43:39;  author: john;  state: Exp;
Uppped frametime limit to 150 Hz.
----------------------------
revision 1.743
date: 1995/02/02 13:37:16;  author: mike;  state: Exp;
move T-?? message down in certain modes.
----------------------------
revision 1.742
date: 1995/02/02 01:26:59;  author: john;  state: Exp;
Took out no key repeating.
----------------------------
revision 1.741
date: 1995/01/29 21:36:44;  author: mike;  state: Exp;
make fusion cannon not make pitching slow.
----------------------------
revision 1.740
date: 1995/01/28 15:57:57;  author: john;  state: Exp;
Made joystick calibration be only when wrong detected in
menu or joystick axis changed.
----------------------------
revision 1.739
date: 1995/01/28 15:21:03;  author: yuan;  state: Exp;
Added X-tra life cheat.
----------------------------
revision 1.738
date: 1995/01/27 14:08:31;  author: rob;  state: Exp;
Fixed a bug.
----------------------------
revision 1.737
date: 1995/01/27 14:04:59;  author: rob;  state: Exp;
Its not my fault, Mark told me to do it!
----------------------------
revision 1.736
date: 1995/01/27 13:12:18;  author: rob;  state: Exp;
Added charging noises to play across net.
----------------------------
revision 1.735
date: 1995/01/27 11:48:28;  author: allender;  state: Exp;
check for newdemo_state to be paused and stop recording.  We might be
in between levels
----------------------------
revision 1.734
date: 1995/01/26 22:11:41;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.733
date: 1995/01/26 17:03:04;  author: mike;  state: Exp;
make fusion cannon have more chrome, make fusion, mega rock you!
----------------------------
revision 1.732
date: 1995/01/25 14:37:25;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.731
date: 1995/01/24 15:49:14;  author: john;  state: Exp;
Made typeing in long net messages wrap on 
small screen sizes.
----------------------------
revision 1.730
date: 1995/01/24 15:23:42;  author: mike;  state: Exp;
network message tweaking.
----------------------------
revision 1.729
date: 1995/01/24 12:00:47;  author: john;  state: Exp;
Fixed bug with defing macro passing keys to controls.
----------------------------
revision 1.728
date: 1995/01/24 11:53:35;  author: john;  state: Exp;
Added better macro defining code.
----------------------------
revision 1.727
date: 1995/01/23 22:17:15;  author: john;  state: Exp;
Fixed bug with not clearing key buffer when leaving f8.
----------------------------
revision 1.726
date: 1995/01/23 22:07:09;  author: john;  state: Exp;
Added flush to game inputs during F8.
=============================================================================
RCS file: /Smoke/miner/source/main/game.h,v
Working file: main/game.h
head: 1.3
description: Constants & prototypes which pertain to the game only
----------------------------
revision 1.3
date: 1995/09/14 13:44:34;  author: allender;  state: Exp;
fixed function prototypes to have void return value to satify
moto compiler
----------------------------
revision 1.2
date: 1995/08/17 09:25:05;  author: allender;  state: Exp;
externed Scanline_double variable
----------------------------
revision 1.1
date: 1995/05/16 15:56:46;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/06 15:23:22;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:28:21;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.79
date: 1995/02/13 10:37:17;  author: john;  state: Exp;
Saved Buggin' cheat mode to save file.
----------------------------
revision 1.78
date: 1995/02/01 16:34:12;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.77
date: 1995/01/29 21:37:14;  author: mike;  state: Exp;
initialize variables on game load so you don't drain your energy when you fire.
----------------------------
revision 1.76
date: 1995/01/26 22:11:36;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.75
date: 1995/01/26 16:45:31;  author: mike;  state: Exp;
Add autofire fusion cannon stuff.
----------------------------
revision 1.74
date: 1994/12/11 23:18:06;  author: john;  state: Exp;
Added -nomusic.
Added RealFrameTime.
Put in a pause when sound initialization error.
Made controlcen countdown and framerate use RealFrameTime.
----------------------------
revision 1.73
date: 1994/12/09 00:41:24;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.72
date: 1994/12/04 13:47:00;  author: mike;  state: Exp;
enhance custom detail level support.
----------------------------
revision 1.71
date: 1994/12/02 15:05:44;  author: matt;  state: Exp;
Added new "official" cheats
----------------------------
revision 1.70
date: 1994/11/28 18:14:09;  author: rob;  state: Exp;
Added game_mode flag for team games.
----------------------------
revision 1.69
date: 1994/11/15 16:51:13;  author: matt;  state: Exp;
Made rear view only switch to rear cockpit if cockpit on in front view
----------------------------
revision 1.68
date: 1994/11/04 16:26:10;  author: john;  state: Exp;
Fixed bug with letterbox mode game after you finish a game.
----------------------------
revision 1.67
date: 1994/11/02 11:59:48;  author: john;  state: Exp;
Moved menu out of game into inferno main loop.
----------------------------
revision 1.66
date: 1994/10/26 23:02:19;  author: matt;  state: Exp;
Made palette flash saturate negative values
----------------------------
revision 1.65
date: 1994/10/26 15:21:05;  author: mike;  state: Exp;
Detail level stuff.  Make Render_depth public.
----------------------------
revision 1.64
date: 1994/10/19 00:13:01;  author: matt;  state: Exp;
Added prototypes
----------------------------
revision 1.63
date: 1994/10/09 14:54:39;  author: matt;  state: Exp;
Made player cockpit state & window size save/restore with saved games & automap
----------------------------
revision 1.62
date: 1994/10/08 19:56:32;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.61
date: 1994/10/07 22:19:32;  author: mike;  state: Exp;
Increase number of difficulty levels from 4 to 5.
----------------------------
revision 1.60
date: 1994/10/06 14:14:11;  author: matt;  state: Exp;
Added new function to reset time (to prevent big FrameTime) at start of level
----------------------------
revision 1.59
date: 1994/10/05 17:08:43;  author: matt;  state: Exp;
Changed order of cockpit bitmaps, since there's no longer a full-screen cockpit
----------------------------
revision 1.58
date: 1994/10/03 23:44:13;  author: matt;  state: Exp;
Save & restore palette effect around menus & pause message
----------------------------
revision 1.57
date: 1994/09/29 17:42:12;  author: matt;  state: Exp;
Cleaned up game_mode a little
----------------------------
revision 1.56
date: 1994/09/28 23:12:01;  author: matt;  state: Exp;
Macroized palette flash system
----------------------------
revision 1.55
date: 1994/09/24 16:56:13;  author: rob;  state: Exp;
Added new fields for the Game_mode bitvector for modem play.
----------------------------
revision 1.54
date: 1994/09/24 14:16:20;  author: mike;  state: Exp;
Added new game mode constants.
----------------------------
revision 1.53
date: 1994/09/22 19:00:57;  author: mike;  state: Exp;
Move NDL from robot.h to here.
----------------------------
revision 1.52
date: 1994/09/22 10:46:51;  author: mike;  state: Exp;
Add difficulty levels.
----------------------------
revision 1.51
date: 1994/09/17 01:39:52;  author: matt;  state: Exp;
Added status bar/sizable window mode, and in the process revamped the
whole cockpit mode system.
----------------------------
revision 1.50
date: 1994/09/15 21:23:10;  author: matt;  state: Exp;
Changed system to keep track of whether & what cockpit is up
----------------------------
revision 1.49
date: 1994/09/15 16:11:33;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.48
date: 1994/09/13 16:40:10;  author: mike;  state: Exp;
Prototype Global_missile_firing_count.
----------------------------
revision 1.47
date: 1994/09/13 11:19:05;  author: mike;  state: Exp;
Add Next_missile_fire_time.
----------------------------
revision 1.46
date: 1994/09/12 09:52:50;  author: john;  state: Exp;
Made global flush function that flushes keyboard,mouse, and joystick.
----------------------------
revision 1.45
date: 1994/09/03 15:24:14;  author: mike;  state: Exp;
Make global Global_laser_firing_count.
----------------------------
revision 1.44
date: 1994/08/31 19:26:57;  author: mike;  state: Exp;
Prototypes for Next_laser_fire_time, Laser_delay_time.
----------------------------
revision 1.43
date: 1994/08/18 10:47:22;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.42
date: 1994/08/11 18:03:53;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.41
date: 1994/06/29 20:41:38;  author: matt;  state: Exp;
Added new pause mode; cleaned up countdown & game startup code
----------------------------
revision 1.40
date: 1994/06/24 17:03:49;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.39
date: 1994/06/20 15:01:08;  author: yuan;  state: Exp;
Added death when mine blows up...
Continues onto next level.
----------------------------
revision 1.38
date: 1994/06/17 18:07:20;  author: matt;  state: Exp;
Moved some vars out of ifdef
----------------------------
revision 1.37
date: 1994/06/15 11:09:22;  author: yuan;  state: Exp;
Moved gauge_message to mono screen for now.
----------------------------
revision 1.36
date: 1994/05/30 20:22:11;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.35
date: 1994/05/27 10:32:48;  author: yuan;  state: Exp;
New dialog boxes (Walls and Triggers) added.
----------------------------
revision 1.34
date: 1994/05/20 11:56:45;  author: matt;  state: Exp;
Cleaned up find_vector_intersection() interface
Killed check_point_in_seg(), check_player_seg(), check_object_seg()
----------------------------
revision 1.33
date: 1994/05/19 21:45:21;  author: matt;  state: Exp;
Removed unused prototypes
----------------------------
revision 1.32
date: 1994/05/19 18:53:17;  author: yuan;  state: Exp;
Changing player structure...
----------------------------
revision 1.31
date: 1994/05/16 16:38:35;  author: yuan;  state: Exp;
Fixed palette add so it doesn't show up in the menu.
----------------------------
revision 1.30
date: 1994/05/16 09:28:17;  author: matt;  state: Exp;
Renamed init_player() to be init_player_stats(), added new funtion
init_player_object()
----------------------------
revision 1.29
date: 1994/05/14 17:14:57;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
=============================================================================
RCS file: /Smoke/miner/source/main/gamefont.c,v
Working file: main/gamefont.c
head: 1.2
description: Fonts for the game.
----------------------------
revision 1.2
date: 1995/08/18 10:23:25;  author: allender;  state: Exp;
remove refernce to big font -- add PC small font for pixel
doubling display
----------------------------
revision 1.1
date: 1995/05/16 15:25:22;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:30:14;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.8
date: 1994/11/18 16:41:39;  author: adam;  state: Exp;
trimmed some meat
----------------------------
revision 1.7
date: 1994/11/17 13:07:11;  author: adam;  state: Exp;
removed unused font
----------------------------
revision 1.6
date: 1994/11/03 21:36:12;  author: john;  state: Exp;
Added code for credit fonts.
----------------------------
revision 1.5
date: 1994/08/17 20:20:02;  author: matt;  state: Exp;
Took out alternate-color versions of font3, since this is a mono font
----------------------------
revision 1.4
date: 1994/08/12 12:03:44;  author: adam;  state: Exp;
tweaked fonts.
----------------------------
revision 1.3
date: 1994/08/11 12:43:40;  author: adam;  state: Exp;
changed font filenames
----------------------------
revision 1.2
date: 1994/08/10 19:57:15;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.1
date: 1994/08/10 17:20:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/gamefont.h,v
Working file: main/gamefont.h
head: 1.2
description: Font declarations for the game,.
----------------------------
revision 1.2
date: 1995/08/18 10:23:54;  author: allender;  state: Exp;
removed large font -- added PC small font
----------------------------
revision 1.1
date: 1995/05/16 15:56:55;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:09;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.7
date: 1994/11/18 16:41:28;  author: adam;  state: Exp;
trimmed meat
----------------------------
revision 1.6
date: 1994/11/17 13:07:00;  author: adam;  state: Exp;
removed unused font
----------------------------
revision 1.5
date: 1994/11/03 21:36:02;  author: john;  state: Exp;
Added code for credit fonts.
----------------------------
revision 1.4
date: 1994/08/17 20:20:25;  author: matt;  state: Exp;
Took out alternate-color versions of font3, since this is a mono font
----------------------------
revision 1.3
date: 1994/08/11 12:44:32;  author: adam;  state: Exp;
killed a #define
----------------------------
revision 1.2
date: 1994/08/10 19:57:16;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.1
date: 1994/08/10 17:20:22;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/gamemine.c,v
Working file: main/gamemine.c
head: 1.2
description: Functions for loading mines in the game
----------------------------
revision 1.2
date: 1995/10/31 10:15:58;  author: allender;  state: Exp;
code for shareware levels
----------------------------
revision 1.1
date: 1995/05/16 15:25:29;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/06 15:23:14;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.1
date: 1995/02/27 13:13:37;  author: john;  state: Exp;
Removed floating point.
----------------------------
revision 2.0
date: 1995/02/27 11:27:45;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.70
date: 1995/02/13 20:35:09;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.69
date: 1995/02/07 17:12:03;  author: rob;  state: Exp;
Added ifdef's for Editor.
----------------------------
revision 1.68
date: 1995/02/07 16:51:48;  author: mike;  state: Exp;
fix gray rock josh problem.
----------------------------
revision 1.67
date: 1995/02/01 15:46:26;  author: yuan;  state: Exp;
Fixed matcen_nums.
----------------------------
revision 1.66
date: 1995/01/19 15:19:28;  author: mike;  state: Exp;
new super-compressed registered file format.
----------------------------
revision 1.65
date: 1994/12/10 16:44:59;  author: matt;  state: Exp;
Added debugging code to track down door that turns into rock
----------------------------
revision 1.64
date: 1994/12/10 14:58:24;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.63
date: 1994/12/08 17:19:10;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.62
date: 1994/12/07 14:05:33;  author: yuan;  state: Exp;
Fixed wall assert problem... Bashed highest_segment
_index before WALL_IS_DOORWAY check.
----------------------------
revision 1.61
date: 1994/11/27 23:14:52;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.60
date: 1994/11/27 18:05:20;  author: matt;  state: Exp;
Compile out LVL reader when editor compiled out
----------------------------
revision 1.59
date: 1994/11/26 22:51:45;  author: matt;  state: Exp;
Removed editor-only fields from segment structure when editor is compiled
out, and padded segment structure to even multiple of 4 bytes.
----------------------------
revision 1.58
date: 1994/11/26 21:48:02;  author: matt;  state: Exp;
Fixed saturation in short light value 
----------------------------
revision 1.57
date: 1994/11/20 22:11:49;  author: mike;  state: Exp;
comment out an apparently unnecessary call to fuelcen_reset().
----------------------------
revision 1.56
date: 1994/11/18 21:56:42;  author: john;  state: Exp;
Added a better, leaner pig format.
----------------------------
revision 1.55
date: 1994/11/17 20:09:18;  author: john;  state: Exp;
Added new compiled level format.
----------------------------
revision 1.54
date: 1994/11/17 15:40:17;  author: mike;  state: Exp;
Comment out mprintf which was causing important information to scroll away.
----------------------------
revision 1.53
date: 1994/11/17 14:56:37;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.52
date: 1994/11/17 11:39:35;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.51
date: 1994/11/14 20:47:53;  author: john;  state: Exp;
Attempted to strip out all the code in the game 
directory that uses any ui code.
----------------------------
revision 1.50
date: 1994/11/14 16:05:38;  author: matt;  state: Exp;
Fixed, maybe, again, errors when can't find texture during remap
----------------------------
revision 1.49
date: 1994/11/14 14:34:03;  author: matt;  state: Exp;
Fixed up handling when textures can't be found during remap
----------------------------
revision 1.48
date: 1994/11/14 13:01:55;  author: matt;  state: Exp;
Added Int3() when can't find texture
----------------------------
revision 1.47
date: 1994/10/30 14:12:21;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.46
date: 1994/10/27 19:43:07;  author: john;  state: Exp;
Disable the piglet option.
----------------------------
revision 1.45
date: 1994/10/27 18:51:42;  author: john;  state: Exp;
Added -piglet option that only loads needed textures for a 
mine.  Only saved ~1MB, and code still doesn't free textures
before you load a new mine.
----------------------------
revision 1.44
date: 1994/10/20 12:47:22;  author: matt;  state: Exp;
Replace old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.43
date: 1994/10/19 16:46:40;  author: matt;  state: Exp;
Made tmap overrides for robots remap texture numbers
----------------------------
revision 1.42
date: 1994/10/03 23:37:01;  author: mike;  state: Exp;
Adapt to changed fuelcen_activate parameters.
----------------------------
revision 1.41
date: 1994/09/23 22:14:49;  author: matt;  state: Exp;
Took out obsolete structure fields
----------------------------
revision 1.40
date: 1994/08/01 11:04:11;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.39
date: 1994/07/21 19:01:47;  author: mike;  state: Exp;
Call Lsegment stuff.
=============================================================================
RCS file: /Smoke/miner/source/main/gamemine.h,v
Working file: main/gamemine.h
head: 1.1
description: Header for gamemine.c
----------------------------
revision 1.1
date: 1995/05/16 15:57:02;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:50;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.15
date: 1994/11/17 11:39:34;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.14
date: 1994/10/19 16:46:40;  author: matt;  state: Exp;
Made tmap overrides for robots remap texture numbers
----------------------------
revision 1.13
date: 1994/09/23 22:14:37;  author: matt;  state: Exp;
Took out obsolete structure fields
----------------------------
revision 1.12
date: 1994/07/22 12:36:32;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.11
date: 1994/06/01 11:21:37;  author: yuan;  state: Exp;
Added controlcentertriggers to the gamesave.
----------------------------
revision 1.10
date: 1994/05/10 12:14:26;  author: yuan;  state: Exp;
Game save/load... Demo levels 1-5 added...
High scores fixed...
----------------------------
revision 1.9
date: 1994/05/04 18:25:05;  author: yuan;  state: Exp;
Working on gamesave.
----------------------------
revision 1.8
date: 1994/05/03 15:53:27;  author: yuan;  state: Exp;
Readded structure field groups for backward compatibility...
----------------------------
revision 1.7
date: 1994/05/03 11:36:26;  author: yuan;  state: Exp;
Stabilizing gamesave stuff.
----------------------------
revision 1.6
date: 1994/04/28 11:01:32;  author: yuan;  state: Exp;
Added objects in structure.
----------------------------
revision 1.5
date: 1994/04/06 18:30:03;  author: john;  state: Exp;
Added Refueling segments.
----------------------------
revision 1.4
date: 1994/03/17 18:06:53;  author: yuan;  state: Exp;
Removed switch code... Now we just have Walls, Triggers, and Links...
----------------------------
revision 1.3
date: 1994/03/01 18:12:24;  author: yuan;  state: Exp;
Wallswitches, triggers, and more!
----------------------------
revision 1.2
date: 1994/02/10 15:36:01;  author: matt;  state: Exp;
Various changes to make editor compile out.
----------------------------
revision 1.1
date: 1994/02/09 17:11:45;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/main/gamesave.c,v
Working file: main/gamesave.c
head: 1.3
description: Save game information
----------------------------
revision 1.3
date: 1996/02/21 13:59:17;  author: allender;  state: Exp;
check Data folder when can't open a level file from a hog
----------------------------
revision 1.2
date: 1995/10/31 10:23:23;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.1
date: 1995/05/16 15:25:37;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/20 18:15:43;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:29:50;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.207
date: 1995/02/23 10:17:36;  author: allender;  state: Exp;
fixed parameter mismatch with compute_segment_center
----------------------------
revision 1.206
date: 1995/02/22 14:51:17;  author: allender;  state: Exp;
fixed some things that I missed
----------------------------
revision 1.205
date: 1995/02/22 13:31:38;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.204
date: 1995/02/01 20:58:08;  author: john;  state: Exp;
Made editor check hog.
----------------------------
revision 1.203
date: 1995/01/28 17:40:34;  author: mike;  state: Exp;
correct level names (use rdl, sdl) for dumpmine stuff.
----------------------------
revision 1.202
date: 1995/01/25 20:03:46;  author: matt;  state: Exp;
Moved matrix check to avoid orthogonalizing an uninitialize matrix
----------------------------
revision 1.201
date: 1995/01/20 16:56:53;  author: mike;  state: Exp;
remove some mprintfs.
----------------------------
revision 1.200
date: 1995/01/15 19:42:13;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.199
date: 1995/01/05 16:59:09;  author: yuan;  state: Exp;
Make it so if editor is loaded, don't get error from typo
in filename.
----------------------------
revision 1.198
date: 1994/12/19 12:49:46;  author: mike;  state: Exp;
Change fgets to cfgets.  fgets was getting a pointer mismatch warning.
----------------------------
revision 1.197
date: 1994/12/12 01:20:03;  author: matt;  state: Exp;
Took out object size hack for green claw guys
----------------------------
revision 1.196
date: 1994/12/11 13:19:37;  author: matt;  state: Exp;
Restored calls to fix_object_segs() when debugging is turned off, since
it's not a big routine, and could fix some possibly bad problems.
----------------------------
revision 1.195
date: 1994/12/10 16:17:24;  author: mike;  state: Exp;
fix editor bug that was converting transparent walls into rock.
----------------------------
revision 1.194
date: 1994/12/09 14:59:27;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.193
date: 1994/12/08 17:19:02;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.192
date: 1994/12/02 20:01:05;  author: matt;  state: Exp;
Always give vulcan cannon powerup same amount of ammo, regardless of
how much it was saved with
----------------------------
revision 1.191
date: 1994/11/30 17:45:57;  author: yuan;  state: Exp;
Saving files now creates RDL/SDLs instead of CDLs.
----------------------------
revision 1.190
date: 1994/11/30 17:22:14;  author: matt;  state: Exp;
Ripped out hostage faces in shareware version
----------------------------
revision 1.189
date: 1994/11/28 00:09:30;  author: allender;  state: Exp;
commented out call to newdemo_record_start_demo in load_level...what is
this doing here anyway?????
----------------------------
revision 1.188
date: 1994/11/27 23:13:48;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.187
date: 1994/11/27 18:06:20;  author: matt;  state: Exp;
Cleaned up LVL/CDL file loading
----------------------------
revision 1.186
date: 1994/11/25 22:46:29;  author: matt;  state: Exp;
Allow ESC out of compiled/normal menu (esc=compiled).
----------------------------
revision 1.185
date: 1994/11/23 12:18:35;  author: mike;  state: Exp;
move level names here...a more logical place than dumpmine.
----------------------------
revision 1.184
date: 1994/11/21 20:29:19;  author: matt;  state: Exp;
If hostage info is bad, fix it.
----------------------------
revision 1.183
date: 1994/11/21 20:26:07;  author: matt;  state: Exp;
Fixed bug, I hope
----------------------------
revision 1.182
date: 1994/11/21 20:20:37;  author: matt;  state: Exp;
Fixed stupid mistake
----------------------------
revision 1.181
date: 1994/11/21 20:18:40;  author: matt;  state: Exp;
Fixed (hopefully) totally bogus writing of hostage data
----------------------------
revision 1.180
date: 1994/11/20 14:11:56;  author: matt;  state: Exp;
Gracefully handle two hostages having same id
----------------------------
revision 1.179
date: 1994/11/19 23:55:05;  author: mike;  state: Exp;
remove Assert, put in comment for Matt.
----------------------------
revision 1.178
date: 1994/11/19 19:53:24;  author: matt;  state: Exp;
Added code to full support different hostage head clip & message for
each hostage.
----------------------------
revision 1.177
date: 1994/11/19 15:15:21;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.176
date: 1994/11/19 10:28:28;  author: matt;  state: Exp;
Took out write routines when editor compiled out
----------------------------
revision 1.175
date: 1994/11/17 20:38:25;  author: john;  state: Exp;
Took out warning.
----------------------------
revision 1.174
date: 1994/11/17 20:36:34;  author: john;  state: Exp;
Made it so that saving a mine will write the .cdl even
if .lvl gets error.
----------------------------
revision 1.173
date: 1994/11/17 20:26:19;  author: john;  state: Exp;
Made the game load whichever of .cdl or .lvl exists,
and if they both exist, prompt the user for which one.
----------------------------
revision 1.172
date: 1994/11/17 20:11:20;  author: john;  state: Exp;
Fixed warning.
----------------------------
revision 1.171
date: 1994/11/17 20:09:26;  author: john;  state: Exp;
Added new compiled level format.
----------------------------
revision 1.170
date: 1994/11/17 14:57:21;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.169
date: 1994/11/17 11:39:21;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.168
date: 1994/11/16 11:24:53;  author: matt;  state: Exp;
Made attack-type robots have smaller radius, so they get closer to player
----------------------------
revision 1.167
date: 1994/11/15 21:42:47;  author: mike;  state: Exp;
better error messages.
----------------------------
revision 1.166
date: 1994/11/15 15:30:41;  author: matt;  state: Exp;
Save ptr to name of level being loaded
----------------------------
revision 1.165
date: 1994/11/14 20:47:46;  author: john;  state: Exp;
Attempted to strip out all the code in the game 
directory that uses any ui code.
----------------------------
revision 1.164
date: 1994/11/14 14:34:23;  author: matt;  state: Exp;
Fixed up handling when textures can't be found during remap
----------------------------
revision 1.163
date: 1994/11/10 14:02:49;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.162
date: 1994/11/06 14:38:17;  author: mike;  state: Exp;
Remove an apparently unnecessary mprintf.
----------------------------
revision 1.161
date: 1994/10/30 14:11:28;  author: mike;  state: Exp;
ripout local segments stuff.
----------------------------
revision 1.160
date: 1994/10/28 12:10:41;  author: matt;  state: Exp;
Check that was supposed to happen only when editor was in was happening
only when editor was out.
----------------------------
revision 1.159
date: 1994/10/27 11:25:32;  author: matt;  state: Exp;
Only do connectivity error check when editor in
----------------------------
revision 1.158
date: 1994/10/27 10:54:00;  author: matt;  state: Exp;
Made connectivity error checking put up warning if errors found
----------------------------
revision 1.157
date: 1994/10/25 10:50:54;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.156
date: 1994/10/23 02:10:43;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.155
date: 1994/10/22 18:57:26;  author: matt;  state: Exp;
Added call to check_segment_connections()
----------------------------
revision 1.154
date: 1994/10/21 12:19:23;  author: matt;  state: Exp;
Clear transient objects when saving (& loading) games
----------------------------
revision 1.153
date: 1994/10/21 11:25:10;  author: mike;  state: Exp;
Use new constant IMMORTAL_TIME.
----------------------------
revision 1.152
date: 1994/10/20 12:46:59;  author: matt;  state: Exp;
Replace old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.151
date: 1994/10/19 19:26:32;  author: matt;  state: Exp;
Fixed stupid bug
----------------------------
revision 1.150
date: 1994/10/19 16:46:21;  author: matt;  state: Exp;
Made tmap overrides for robots remap texture numbers
----------------------------
revision 1.149
date: 1994/10/18 08:50:27;  author: yuan;  state: Exp;
Fixed correct variable this time.
----------------------------
revision 1.148
date: 1994/10/18 08:45:02;  author: yuan;  state: Exp;
Oops. forgot load function.
----------------------------
revision 1.147
date: 1994/10/18 08:42:10;  author: yuan;  state: Exp;
Avoid the int3.
----------------------------
revision 1.146
date: 1994/10/17 21:34:57;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.145
date: 1994/10/15 19:06:34;  author: mike;  state: Exp;
Fix bug, maybe, having to do with something or other, ...
----------------------------
revision 1.144
date: 1994/10/12 21:07:33;  author: matt;  state: Exp;
Killed unused field in object structure
----------------------------
revision 1.143
date: 1994/10/06 14:52:55;  author: mike;  state: Exp;
Put check in to detect possibly bogus walls in last segment which leaked through an earlier check
due to misuse of Highest_segment_index.
----------------------------
revision 1.142
date: 1994/10/05 22:12:44;  author: mike;  state: Exp;
Put in cleanup for matcen/fuelcen links.
----------------------------
revision 1.141
date: 1994/10/03 11:30:05;  author: matt;  state: Exp;
Make sure player in a valid segment before saving
----------------------------
revision 1.140
date: 1994/09/28 11:14:41;  author: mike;  state: Exp;
Better error messaging on bogus mines: Only bring up dialog box if a "real" (level??.*) level.
----------------------------
revision 1.139
date: 1994/09/28 09:22:58;  author: mike;  state: Exp;
Comment out a mprintf.
----------------------------
revision 1.138
date: 1994/09/27 17:08:36;  author: mike;  state: Exp;
Message boxes when you load bogus mines.
----------------------------
revision 1.137
date: 1994/09/27 15:43:45;  author: mike;  state: Exp;
Move the dump stuff to dumpmine.
----------------------------
revision 1.136
date: 1994/09/27 00:02:31;  author: mike;  state: Exp;
Dump text files (".txm") when loading a mine, showing all kinds of useful mine info.
----------------------------
revision 1.135
date: 1994/09/26 11:30:41;  author: matt;  state: Exp;
Took out code which loaded bogus player structure
----------------------------
revision 1.134
date: 1994/09/26 11:18:44;  author: john;  state: Exp;
Fixed some conflicts with newseg.
----------------------------
revision 1.133
date: 1994/09/26 10:56:58;  author: matt;  state: Exp;
Fixed inconsistancies in lifeleft for immortal objects
----------------------------
revision 1.132
date: 1994/09/25 23:41:10;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
=============================================================================
RCS file: /Smoke/miner/source/main/gamesave.h,v
Working file: main/gamesave.h
head: 1.1
description: Headers for gamesave.c
----------------------------
revision 1.1
date: 1995/05/16 15:57:10;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:30:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.11
date: 1994/11/23 12:19:32;  author: mike;  state: Exp;
detail level menu.
----------------------------
revision 1.10
date: 1994/10/20 12:47:30;  author: matt;  state: Exp;
Replace old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.9
date: 1994/09/27 17:08:47;  author: mike;  state: Exp;
Message boxes when you load bogus mines.
----------------------------
revision 1.8
date: 1994/09/27 15:43:05;  author: mike;  state: Exp;
Prototype write_game_text.
----------------------------
revision 1.7
date: 1994/09/14 15:46:39;  author: matt;  state: Exp;
Added function load_mine_only()
----------------------------
revision 1.6
date: 1994/07/22 12:36:28;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.5
date: 1994/07/20 13:38:14;  author: matt;  state: Exp;
Added get_level_name() prototype
----------------------------
revision 1.4
date: 1994/06/20 22:19:41;  author: john;  state: Exp;
Added Gamesave_num_org_robots.
----------------------------
revision 1.3
date: 1994/06/14 11:32:49;  author: john;  state: Exp;
Made Newdemo record & restore the current mine.
----------------------------
revision 1.2
date: 1994/05/14 17:16:25;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:01:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/gameseg.c,v
Working file: main/gameseg.c
head: 1.9
description: Functions moved from segment.c to make editor separable from game.
----------------------------
revision 1.9
date: 1995/11/08 16:26:04;  author: allender;  state: Exp;
minor bug fix in find_connected_distance
----------------------------
revision 1.8
date: 1995/10/12 17:36:55;  author: allender;  state: Exp;
made trace_segs only recurse 100 times max
----------------------------
revision 1.7
date: 1995/10/11 18:29:01;  author: allender;  state: Exp;
removed Int3 from trace_segs
----------------------------
revision 1.6
date: 1995/10/11 14:13:54;  author: allender;  state: Exp;
put in stack check code into trace-segs
----------------------------
revision 1.5
date: 1995/09/23 09:40:25;  author: allender;  state: Exp;
put in casts in extract_shortpos to try and solve shortpos problem
with appletalk
----------------------------
revision 1.4
date: 1995/09/20 14:26:50;  author: allender;  state: Exp;
added flag to swap bytes on extract shortpot
----------------------------
revision 1.3
date: 1995/08/12 12:01:27;  author: allender;  state: Exp;
added flag to create_shortpos to swap bytes
----------------------------
revision 1.2
date: 1995/06/06 10:42:07;  author: allender;  state: Exp;
made shortpos routines swap bytes when extracting and making shortpos structures
----------------------------
revision 1.1
date: 1995/05/16 15:25:46;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/20 12:15:39;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.1
date: 1995/03/08 12:11:39;  author: allender;  state: Exp;
fix shortpos reading/writing
----------------------------
revision 2.0
date: 1995/02/27 11:29:21;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.78
date: 1995/02/22 13:52:22;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.77
date: 1995/02/22 13:24:47;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.76
date: 1995/02/13 20:35:01;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.75
date: 1995/02/09 13:10:51;  author: mike;  state: Exp;
remove an annoying mprintf.
----------------------------
revision 1.74
date: 1995/02/05 17:49:28;  author: rob;  state: Exp;
Added assert to gameseg.c.
----------------------------
revision 1.73
date: 1995/02/02 00:49:26;  author: mike;  state: Exp;
new automap segment-depth functionality.
----------------------------
revision 1.72
date: 1995/01/16 21:06:51;  author: mike;  state: Exp;
Move function pick_random_point_in_segment from fireball.c to gameseg.c.
----------------------------
revision 1.71
date: 1994/12/21 19:54:32;  author: matt;  state: Exp;
Added error checking
----------------------------
revision 1.70
date: 1994/12/11 21:34:09;  author: matt;  state: Exp;
Changed assert() to int3()
----------------------------
revision 1.69
date: 1994/12/01 21:04:37;  author: matt;  state: Exp;
Several important changes:
 (1) Checking against triangulated sides has been standardized a bit
 (2) Code has been added to de-triangulate some sides
 (3) BIG ONE: the tolerance for checking a point against a plane has
     been drastically relaxed
----------------------------
revision 1.67
date: 1994/11/27 23:12:21;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.66
date: 1994/11/26 22:51:40;  author: matt;  state: Exp;
Removed editor-only fields from segment structure when editor is compiled
out, and padded segment structure to even multiple of 4 bytes.
----------------------------
revision 1.65
date: 1994/11/22 16:55:38;  author: mike;  state: Exp;
use memset in place of loop to clear array.
----------------------------
revision 1.64
date: 1994/11/19 15:20:37;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.63
date: 1994/11/18 18:31:48;  author: matt;  state: Exp;
Fixed code again (and maybe for real)
----------------------------
revision 1.62
date: 1994/11/18 16:54:24;  author: matt;  state: Exp;
Fixed extract_orient_from_segment()
----------------------------
revision 1.61
date: 1994/11/17 14:56:50;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.60
date: 1994/11/16 23:38:53;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.59
date: 1994/10/30 14:12:46;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.58
date: 1994/10/27 10:53:39;  author: matt;  state: Exp;
Made connectivity error checking put up warning if errors found
----------------------------
revision 1.57
date: 1994/10/25 21:19:26;  author: mike;  state: Exp;
debugging code.
----------------------------
revision 1.56
date: 1994/10/25 11:26:09;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.55
date: 1994/10/22 22:36:08;  author: matt;  state: Exp;
Improved error finding routine
----------------------------
revision 1.54
date: 1994/10/22 18:56:51;  author: matt;  state: Exp;
Fixed obscure bug in segment trace code
Added error find routine, check_segment_connections()
----------------------------
revision 1.53
date: 1994/10/17 14:05:19;  author: matt;  state: Exp;
Don't give recursion assert if doing lighting
----------------------------
revision 1.52
date: 1994/10/15 19:03:48;  author: mike;  state: Exp;
Don't do exhaustive search in smooth lighting.
----------------------------
revision 1.51
date: 1994/10/12 09:46:44;  author: mike;  state: Exp;
Add debug code for trapping exhaustive searches.
----------------------------
revision 1.50
date: 1994/10/11 20:50:41;  author: matt;  state: Exp;
Made find_point_seg() take -1 as segnum, meaning to search all segments
----------------------------
revision 1.49
date: 1994/10/11 17:40:31;  author: matt;  state: Exp;
Fixed bug that caused segment trace to only go through sides you can fly through
----------------------------
revision 1.48
date: 1994/10/10 14:48:16;  author: matt;  state: Exp;
Fixed mistake that caused odd pauses and occasional int3's
----------------------------
revision 1.47
date: 1994/10/09 23:50:41;  author: matt;  state: Exp;
Made find_hitpoint_uv() work with triangulated sides
----------------------------
revision 1.46
date: 1994/10/08 23:06:52;  author: matt;  state: Exp;
trace_segs() didn't know about external walls
----------------------------
revision 1.45
date: 1994/10/07 22:18:57;  author: mike;  state: Exp;
Put in asserts to trap bad segnums.
----------------------------
revision 1.44
date: 1994/10/06 14:08:07;  author: matt;  state: Exp;
Added new function, extract_orient_from_segment()
----------------------------
revision 1.43
date: 1994/10/04 16:24:11;  author: mike;  state: Exp;
Set global Connected_segment_distance for debug reasons for aipath.c.
----------------------------
revision 1.42
date: 1994/10/04 09:18:42;  author: mike;  state: Exp;
Comment out a variable definition, preventing a warning message.
----------------------------
revision 1.41
date: 1994/10/03 23:43:42;  author: mike;  state: Exp;
Put in a warning for overrunning point_segs buffer.
----------------------------
revision 1.40
date: 1994/10/03 20:55:43;  author: rob;  state: Exp;
Added velocity to shortpos.
----------------------------
revision 1.39
date: 1994/09/27 11:46:06;  author: rob;  state: Exp;
re-fixed that same bug (ugh).
----------------------------
revision 1.38
date: 1994/09/27 10:10:51;  author: rob;  state: Exp;
Fixed bug in extract_shortpos (obj_relink added).
----------------------------
revision 1.37
date: 1994/09/25 23:41:02;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.36
date: 1994/09/22 19:03:05;  author: mike;  state: Exp;
Add shortpos manipulation functions create_shortpos and extract_shortpos.
----------------------------
revision 1.35
date: 1994/09/19 21:21:16;  author: mike;  state: Exp;
Minor optimization to find_connected_distance.
----------------------------
revision 1.34
date: 1994/09/19 21:05:25;  author: mike;  state: Exp;
Write function find_connected_distance,
returns distance between two points as travellable through the mine.
----------------------------
revision 1.33
date: 1994/08/30 15:07:15;  author: matt;  state: Exp;
Changed find_point_seg() to deal with some infinite recursion problems.
----------------------------
revision 1.32
date: 1994/08/11 18:58:32;  author: mike;  state: Exp;
Use ints in place of shorts for optimization.
----------------------------
revision 1.31
date: 1994/08/04 00:20:09;  author: matt;  state: Exp;
Cleaned up fvi & physics error handling; put in code to make sure objects
are in correct segment; simplified segment finding for objects and points
----------------------------
revision 1.30
date: 1994/08/03 16:46:12;  author: mike;  state: Exp;
not much...
----------------------------
revision 1.29
date: 1994/08/02 20:41:31;  author: matt;  state: Exp;
Fixed bug in get_side_verts()
----------------------------
revision 1.28
date: 1994/08/02 19:04:25;  author: matt;  state: Exp;
Cleaned up vertex list functions
----------------------------
revision 1.27
date: 1994/08/01 10:39:44;  author: matt;  state: Exp;
find_new_seg() now will look through any kind of wall but a totally solid one
----------------------------
revision 1.26
date: 1994/07/28 19:15:59;  author: matt;  state: Exp;
Fixed yet another bug in get_seg_masks()
=============================================================================
RCS file: /Smoke/miner/source/main/gameseg.h,v
Working file: main/gameseg.h
head: 1.1
description: Header file for stuff moved from segment.c to gameseg.c.
----------------------------
revision 1.1
date: 1995/05/16 15:57:18;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:20;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.24
date: 1995/02/01 16:34:03;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.23
date: 1995/01/16 21:06:36;  author: mike;  state: Exp;
Move function pick_random_point_in_segment from fireball.c to gameseg.c.
----------------------------
revision 1.22
date: 1994/11/23 12:18:59;  author: mike;  state: Exp;
prototype for level names.
----------------------------
revision 1.21
date: 1994/11/17 14:56:59;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.20
date: 1994/11/16 23:38:46;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.19
date: 1994/10/30 14:12:14;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.18
date: 1994/10/09 23:51:07;  author: matt;  state: Exp;
Made find_hitpoint_uv() work with triangulated sides
----------------------------
revision 1.17
date: 1994/10/06 14:08:22;  author: matt;  state: Exp;
Added new function, extract_orient_from_segment()
----------------------------
revision 1.16
date: 1994/09/19 21:05:52;  author: mike;  state: Exp;
Prototype for find_connected_distance.
----------------------------
revision 1.15
date: 1994/08/11 18:58:45;  author: mike;  state: Exp;
Change shorts to ints.
----------------------------
revision 1.14
date: 1994/08/04 00:21:09;  author: matt;  state: Exp;
Cleaned up fvi & physics error handling; put in code to make sure objects
are in correct segment; simplified segment finding for objects and points
----------------------------
revision 1.13
date: 1994/08/02 19:04:25;  author: matt;  state: Exp;
Cleaned up vertex list functions
----------------------------
revision 1.12
date: 1994/07/21 19:01:53;  author: mike;  state: Exp;
lsegment stuff.
----------------------------
revision 1.11
date: 1994/07/07 09:31:13;  author: matt;  state: Exp;
Added comments
----------------------------
revision 1.10
date: 1994/06/14 12:21:20;  author: matt;  state: Exp;
Added new function, find_point_seg()
----------------------------
revision 1.9
date: 1994/05/29 23:17:38;  author: matt;  state: Exp;
Move find_object_seg() from physics.c to gameseg.c
Killed unused find_point_seg()
----------------------------
revision 1.8
date: 1994/05/20 11:56:57;  author: matt;  state: Exp;
Cleaned up find_vector_intersection() interface
Killed check_point_in_seg(), check_player_seg(), check_object_seg()
----------------------------
revision 1.7
date: 1994/03/17 18:07:38;  author: yuan;  state: Exp;
Removed switch code... Now we just have Walls, Triggers, and Links...
----------------------------
revision 1.6
date: 1994/02/22 18:14:44;  author: yuan;  state: Exp;
Added new wall system
----------------------------
revision 1.5
date: 1994/02/17 11:33:22;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.4
date: 1994/02/16 13:48:33;  author: mike;  state: Exp;
enable editor to compile out.
----------------------------
revision 1.3
date: 1994/02/14 12:05:07;  author: mike;  state: Exp;
change segment data structure.
----------------------------
revision 1.2
date: 1994/02/10 16:07:20;  author: mike;  state: Exp;
separate editor from game based on EDITOR flag.
----------------------------
revision 1.1
date: 1994/02/09 15:45:38;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/main/gameseq.c,v
Working file: main/gameseq.c
head: 1.1
description: Routines for EndGame, EndLevel, etc.
----------------------------
revision 1.1
date: 1995/12/05 16:02:05;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.14
date: 1995/11/03 12:55:30;  author: allender;  state: Exp;
shareware changes
----------------------------
revision 1.13
date: 1995/10/31 10:23:07;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.12
date: 1995/10/18 18:25:02;  author: allender;  state: Exp;
call auto_select_weapon after initing ammo since that may
change the secondary weapon status
----------------------------
revision 1.11
date: 1995/10/17 13:17:11;  author: allender;  state: Exp;
added closebox when entering pilot name
----------------------------
revision 1.10
date: 1995/09/24 10:56:59;  author: allender;  state: Exp;
new players must be looked for in Players directory
----------------------------
revision 1.9
date: 1995/09/18 08:08:08;  author: allender;  state: Exp;
remove netgame binding if at endgame
----------------------------
revision 1.8
date: 1995/09/14 14:13:01;  author: allender;  state: Exp;
initplayerobject have void return
----------------------------
revision 1.7
date: 1995/08/31 12:54:42;  author: allender;  state: Exp;
try and fix bug
----------------------------
revision 1.6
date: 1995/08/26 16:25:40;  author: allender;  state: Exp;
put return values on needed functions
----------------------------
revision 1.5
date: 1995/08/14 09:26:28;  author: allender;  state: Exp;
added byteswap header files
----------------------------
revision 1.4
date: 1995/08/01 13:57:42;  author: allender;  state: Exp;
macified player file stuff -- players stored in seperate folder
----------------------------
revision 1.3
date: 1995/06/08 12:54:37;  author: allender;  state: Exp;
new function for calculating a segment based checksum since the old way
is byte order dependent
----------------------------
revision 1.2
date: 1995/06/02 07:42:10;  author: allender;  state: Exp;
removed duplicate extern for network_endlevel_poll2
----------------------------
revision 1.1
date: 1995/05/16 15:25:56;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.6
date: 1995/03/24 13:11:20;  author: john;  state: Exp;
Added save game during briefing screens.
----------------------------
revision 2.5
date: 1995/03/23 17:56:20;  author: allender;  state: Exp;
added code to record old laser level and weapons when player gets
new ship
----------------------------
revision 2.4
date: 1995/03/21 08:39:14;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.3
date: 1995/03/15 14:33:33;  author: john;  state: Exp;
Added code to force the Descent CD-rom in the drive.
----------------------------
revision 2.2
date: 1995/03/06 16:47:26;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.1
date: 1995/03/06 15:23:23;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:28:53;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.310
date: 1995/02/14 10:48:09;  author: mike;  state: Exp;
zero bonus if you are a cheater.
----------------------------
revision 1.309
date: 1995/02/11 19:17:08;  author: rob;  state: Exp;
Fixed bug in laser fire rate after demo playback.
----------------------------
revision 1.308
date: 1995/02/11 14:34:08;  author: rob;  state: Exp;
Added include of netmisc.c
----------------------------
revision 1.307
date: 1995/02/11 14:29:04;  author: rob;  state: Exp;
Fixes for invul. controlcen.
----------------------------
revision 1.306
date: 1995/02/11 13:47:00;  author: mike;  state: Exp;
fix cheats.
----------------------------
revision 1.305
date: 1995/02/11 13:10:52;  author: rob;  state: Exp;
Fixed end of anarchy mission problems.
----------------------------
revision 1.304
date: 1995/02/11 12:46:12;  author: mike;  state: Exp;
initialize Robot_firing_enabled, part of AHIMSA cheat.
----------------------------
revision 1.303
date: 1995/02/11 12:42:03;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.302
date: 1995/02/10 17:39:29;  author: matt;  state: Exp;
Changed secret exit message to be centered
----------------------------
revision 1.301
date: 1995/02/10 16:17:33;  author: mike;  state: Exp;
init Last_level_path_shown.
----------------------------
revision 1.300
date: 1995/02/09 22:18:22;  author: john;  state: Exp;
Took out between level saves.
----------------------------
revision 1.299
date: 1995/02/09 12:11:42;  author: rob;  state: Exp;
Get rid of high scores thing for multiplayer games.
----------------------------
revision 1.298
date: 1995/02/08 20:34:24;  author: rob;  state: Exp;
Took briefing screens back OUT of coop games (per Interplay request)
----------------------------
revision 1.297
date: 1995/02/08 19:20:09;  author: rob;  state: Exp;
Moved checksum calc.
----------------------------
revision 1.296
date: 1995/02/05 14:39:24;  author: rob;  state: Exp;
Changed object mapping to be more efficient.
----------------------------
revision 1.295
date: 1995/02/02 19:05:38;  author: john;  state: Exp;
Made end level menu for 27 not overwrite descent title..
----------------------------
revision 1.294
date: 1995/02/02 16:36:42;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.293
date: 1995/02/02 15:58:02;  author: john;  state: Exp;
Added turbo mode cheat.
----------------------------
revision 1.292
date: 1995/02/02 15:29:34;  author: matt;  state: Exp;
Changed & localized secret level text
----------------------------
revision 1.291
date: 1995/02/02 10:50:03;  author: adam;  state: Exp;
messed with secret level message
----------------------------
revision 1.290
date: 1995/02/02 01:20:28;  author: adam;  state: Exp;
changed endgame song temporarily.
----------------------------
revision 1.289
date: 1995/02/01 23:19:43;  author: rob;  state: Exp;
Fixed up endlevel stuff for multiplayer.
Put in palette fades around areas that didn't have them before.
----------------------------
revision 1.288
date: 1995/02/01 17:12:34;  author: mike;  state: Exp;
Make score come after endgame screens.
----------------------------
revision 1.287
date: 1995/01/30 18:34:30;  author: rob;  state: Exp;
Put briefing screens back into coop games.
----------------------------
revision 1.286
date: 1995/01/27 13:07:59;  author: rob;  state: Exp;
Removed erroneous warning message.
----------------------------
revision 1.285
date: 1995/01/27 11:47:43;  author: rob;  state: Exp;
Removed new secret level menu from multiplayer games.
----------------------------
revision 1.284
date: 1995/01/26 22:11:11;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.283
date: 1995/01/26 16:55:13;  author: rob;  state: Exp;
Removed ship bonus from cooperative endgame.
----------------------------
revision 1.282
date: 1995/01/26 16:45:24;  author: mike;  state: Exp;
Add autofire fusion cannon stuff.
----------------------------
revision 1.281
date: 1995/01/26 14:44:44;  author: rob;  state: Exp;
Removed unnecessary #ifdefs around mprintfs.
Changed NumNetPlayerPositions to be independant of MaxNumNetPlayers to
accomodate 4-player robo-archy games with 8 start positions.
----------------------------
revision 1.280
date: 1995/01/26 12:19:01;  author: rob;  state: Exp;
Changed network_do_frame call.
----------------------------
revision 1.279
date: 1995/01/26 00:35:03;  author: matt;  state: Exp;
Changed numbering convention for HMP files for levels
----------------------------
revision 1.278
date: 1995/01/25 16:07:59;  author: matt;  state: Exp;
Added message (prototype) when going to secret level
----------------------------
revision 1.277
date: 1995/01/22 18:57:23;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.276
date: 1995/01/21 23:13:08;  author: matt;  state: Exp;
Made high scores with (not work, really) with loaded missions
Don't give player high score when quit game
----------------------------
revision 1.275
date: 1995/01/21 17:17:39;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.274
date: 1995/01/21 17:15:38;  author: john;  state: Exp;
Added include for state.h
----------------------------
revision 1.273
date: 1995/01/21 16:21:14;  author: matt;  state: Exp;
Fixed bugs in secret level sequencing
----------------------------
revision 1.272
date: 1995/01/20 22:47:29;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.271
date: 1995/01/19 17:00:48;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.270
date: 1995/01/17 17:49:10;  author: rob;  state: Exp;
Added key syncing for coop.
----------------------------
revision 1.269
date: 1995/01/17 14:27:37;  author: john;  state: Exp;
y
----------------------------
revision 1.268
date: 1995/01/17 13:36:33;  author: john;  state: Exp;
Moved pig loading into StartNewLevelSub.
----------------------------
revision 1.267
date: 1995/01/16 16:53:55;  author: john;  state: Exp;
Added code to save cheat state during save game.
----------------------------
revision 1.266
date: 1995/01/15 19:42:10;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.265
date: 1995/01/15 16:55:06;  author: john;  state: Exp;
Improved mine texture parsing.
----------------------------
revision 1.264
date: 1995/01/15 11:56:24;  author: john;  state: Exp;
Working version of paging.
----------------------------
revision 1.263
date: 1995/01/14 19:16:40;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.262
date: 1995/01/13 17:38:58;  author: yuan;  state: Exp;
Removed Int3() for number players check.
----------------------------
revision 1.261
date: 1995/01/12 12:09:52;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.260
date: 1995/01/05 17:16:08;  author: yuan;  state: Exp;
Removed Int3s.
----------------------------
revision 1.259
date: 1995/01/05 11:34:29;  author: john;  state: Exp;
Took out endlevel save stuff for registered.
----------------------------
revision 1.258
date: 1995/01/04 19:00:16;  author: rob;  state: Exp;
Added some debugging for two bugs.
----------------------------
revision 1.257
date: 1995/01/04 13:18:18;  author: john;  state: Exp;
Added cool 6 game save.
----------------------------
revision 1.256
date: 1995/01/04 08:46:18;  author: rob;  state: Exp;
JOHN CHECKED IN FOR ROB !!!
----------------------------
revision 1.255
date: 1995/01/02 20:07:35;  author: rob;  state: Exp;
Added score syncing.
Get rid of endlevel score for coop games (put it back in elsewhere)
----------------------------
revision 1.254
date: 1995/01/02 16:17:43;  author: mike;  state: Exp;
init super boss.
----------------------------
revision 1.253
date: 1994/12/21 21:08:47;  author: rob;  state: Exp;
fixed a bug in coop player ship positions.
----------------------------
revision 1.252
date: 1994/12/21 12:57:08;  author: rob;  state: Exp;
Handle additional player ships in mines.
=============================================================================
RCS file: /Smoke/miner/source/main/gameseq.h,v
Working file: main/gameseq.h
head: 1.4
description: Prototypes for functions for game sequencing.
----------------------------
revision 1.4
date: 1995/10/31 10:22:55;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.3
date: 1995/09/14 14:13:14;  author: allender;  state: Exp;
initplayerobject have void return
----------------------------
revision 1.2
date: 1995/08/24 15:36:17;  author: allender;  state: Exp;
fixed prototypes warnings
----------------------------
revision 1.1
date: 1995/05/16 15:57:26;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:03;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.41
date: 1995/02/07 10:51:54;  author: rob;  state: Exp;
fix typo.
----------------------------
revision 1.40
date: 1995/02/06 20:10:16;  author: rob;  state: Exp;
Extern'ed DoEndLevelScoreGlitz.
----------------------------
revision 1.39
date: 1995/02/01 16:34:13;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.38
date: 1995/01/27 11:15:03;  author: rob;  state: Exp;
Added extern for player position vars.
----------------------------
revision 1.37
date: 1995/01/20 22:47:38;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.36
date: 1995/01/17 13:36:08;  author: john;  state: Exp;
Moved pig loading into StartNewLevelSub.
----------------------------
revision 1.35
date: 1995/01/04 12:21:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1995/01/04 12:20:47;  author: john;  state: Exp;
Declearations to work better with game state save.
----------------------------
revision 1.33
date: 1994/12/08 09:46:35;  author: matt;  state: Exp;
Made level name len a multiple of 4 for alignment
----------------------------
revision 1.32
date: 1994/11/29 16:33:29;  author: rob;  state: Exp;
Added new defines for last_secret_level based on shareware or not shareware.
----------------------------
revision 1.31
date: 1994/11/26 15:30:20;  author: matt;  state: Exp;
Allow escape out of change pilot menu
----------------------------
revision 1.30
date: 1994/11/21 17:29:38;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.29
date: 1994/11/21 15:55:03;  author: matt;  state: Exp;
Corrected LAST_LEVEL
----------------------------
revision 1.28
date: 1994/11/20 22:12:43;  author: mike;  state: Exp;
set LAST_LEVEL based on SHAREWARE.
----------------------------
revision 1.27
date: 1994/11/09 10:55:51;  author: matt;  state: Exp;
Cleaned up initialization for editor -> game transitions
----------------------------
revision 1.26
date: 1994/11/08 17:50:48;  author: rob;  state: Exp;
ADded prototype for StartNewLEvel.
----------------------------
revision 1.25
date: 1994/11/07 17:50:57;  author: rob;  state: Exp;
Added extern prototype for init_player_stats_level called for
network games.
----------------------------
revision 1.24
date: 1994/10/25 15:40:03;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/10/22 00:08:52;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.22
date: 1994/10/18 18:57:08;  author: matt;  state: Exp;
Added main menu option to enter new player name
----------------------------
revision 1.21
date: 1994/10/07 23:37:32;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.20
date: 1994/10/07 16:02:53;  author: matt;  state: Exp;
Loading saved game no longer clears players weapons & other stats
----------------------------
revision 1.19
date: 1994/10/06 14:12:46;  author: matt;  state: Exp;
Added flash effect when player appears
----------------------------
revision 1.18
date: 1994/10/03 13:34:44;  author: matt;  state: Exp;
Added new (and hopefully better) game sequencing functions
----------------------------
revision 1.17
date: 1994/09/30 15:19:53;  author: matt;  state: Exp;
Added new game sequencing functions, but left them disabled for now.
----------------------------
revision 1.16
date: 1994/09/28 17:24:34;  author: matt;  state: Exp;
Added first draft of game save/load system
----------------------------
revision 1.15
date: 1994/09/27 12:29:42;  author: matt;  state: Exp;
Changed level naming
----------------------------
revision 1.14
date: 1994/09/02 11:53:55;  author: mike;  state: Exp;
Rename init_player_stats to init_player_stats_game.
----------------------------
revision 1.13
date: 1994/08/31 20:57:34;  author: matt;  state: Exp;
Cleaned up endlevel/death code
----------------------------
revision 1.12
date: 1994/08/23 18:45:06;  author: yuan;  state: Exp;
Added level 10 capability.. (LEDGES)
----------------------------
revision 1.11
date: 1994/08/18 10:47:38;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.10
date: 1994/08/15 15:24:45;  author: john;  state: Exp;
Made players know who killed them; Disabled cheat menu
during net player; fixed bug with not being able to turn
of invulnerability; Made going into edit/starting new leve
l drop you out of a net game; made death dialog box.
----------------------------
revision 1.9
date: 1994/08/13 12:20:56;  author: john;  state: Exp;
Made the networking uise the Players array.
----------------------------
revision 1.8
date: 1994/07/22 12:36:24;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.7
date: 1994/07/19 20:15:33;  author: matt;  state: Exp;
Name for each level now saved in the .SAV file & stored in Current_level_name
----------------------------
revision 1.6
date: 1994/07/02 13:49:33;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.5
date: 1994/07/02 13:09:52;  author: matt;  state: Exp;
Moved player stats struct from gameseq.h to player.h
----------------------------
revision 1.4
date: 1994/07/01 16:35:35;  author: yuan;  state: Exp;
Added key system
----------------------------
revision 1.3
date: 1994/06/26 14:07:35;  author: matt;  state: Exp;
Added prototypes
----------------------------
revision 1.2
date: 1994/06/24 17:03:56;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.1
date: 1994/06/24 14:13:53;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/gauges.c,v
Working file: main/gauges.c
head: 1.15
description: Inferno gauge drivers
----------------------------
revision 1.15
date: 1995/10/31 10:22:37;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.14
date: 1995/10/26 14:11:05;  author: allender;  state: Exp;
do copy of weapon boxes in cockpit correctly
----------------------------
revision 1.13
date: 1995/10/21 22:54:56;  author: allender;  state: Exp;
fixed up player names on hud
----------------------------
revision 1.12
date: 1995/10/12 17:39:27;  author: allender;  state: Exp;
fixed status bar lives display
----------------------------
revision 1.11
date: 1995/09/22 15:21:46;  author: allender;  state: Exp;
fixed hud problems (reticle and kill lists) for
non pixel doubled mode
----------------------------
revision 1.10
date: 1995/09/13 11:38:47;  author: allender;  state: Exp;
show KB left in heap instead of piggy cache
----------------------------
revision 1.9
date: 1995/09/04 15:52:28;  author: allender;  state: Exp;
fix vulcan ammo count to update without overwritting itself
----------------------------
revision 1.8
date: 1995/08/31 14:11:20;  author: allender;  state: Exp;
worked on hud kill list for non pixel doubled mode
----------------------------
revision 1.7
date: 1995/08/24 16:05:05;  author: allender;  state: Exp;
more gauge placement -- still not done!
----------------------------
revision 1.6
date: 1995/08/18 15:44:56;  author: allender;  state: Exp;
put in PC gauges for keys, lives, and reticle when pixel doubling
----------------------------
revision 1.5
date: 1995/08/18 10:24:47;  author: allender;  state: Exp;
added proper support for cockpit mode -- still needs
----------------------------
revision 1.4
date: 1995/07/26 16:56:34;  author: allender;  state: Exp;
more gauge stuff for status bar.  still problem
with ship
----------------------------
revision 1.3
date: 1995/07/17 08:55:57;  author: allender;  state: Exp;
fix up for large status bar.  Still needs some work though
----------------------------
revision 1.2
date: 1995/06/20 09:54:29;  author: allender;  state: Exp;
stopgap measure to get status bar "working" until real mac
status bar gets added
----------------------------
revision 1.1
date: 1995/05/16 15:26:05;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.6
date: 1995/03/21 08:39:25;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.5
date: 1995/03/14 12:31:25;  author: john;  state: Exp;
Prevent negative shields from printing.
----------------------------
revision 2.4
date: 1995/03/10 12:57:58;  author: allender;  state: Exp;
move rear view text up four pixels up when playing back demo
----------------------------
revision 2.3
date: 1995/03/09 11:47:51;  author: john;  state: Exp;
Added HUD for VR helmets.
----------------------------
revision 2.2
date: 1995/03/06 15:23:26;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.1
date: 1995/02/27 13:13:45;  author: john;  state: Exp;
Removed floating point.
----------------------------
revision 2.0
date: 1995/02/27 11:29:06;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.203
date: 1995/02/11 01:56:45;  author: mike;  state: Exp;
move up weapons text on fullscreen hud, missiles was offscreen.
----------------------------
revision 1.202
date: 1995/02/09 13:23:34;  author: rob;  state: Exp;
Added reticle names in demo playback.
----------------------------
revision 1.201
date: 1995/02/08 19:20:46;  author: rob;  state: Exp;
Show cloaked teammates on H
UD.  Get rid of show ID's in anarchy option.
----------------------------
revision 1.200
date: 1995/02/07 21:09:00;  author: mike;  state: Exp;
add flashing to invulnerability and cloak on fullscreen.
----------------------------
revision 1.199
date: 1995/02/02 21:55:57;  author: matt;  state: Exp;
Added new colored key icons for fullscreen
----------------------------
revision 1.198
date: 1995/01/30 17:17:07;  author: rob;  state: Exp;
Fixed teammate names on hud.
----------------------------
revision 1.197
date: 1995/01/28 17:40:49;  author: mike;  state: Exp;
fix gauge fontcolor.
----------------------------
revision 1.196
date: 1995/01/27 17:03:14;  author: mike;  state: Exp;
fix placement of weapon info in multiplayer fullscreen, as per AP request.
----------------------------
revision 1.195
date: 1995/01/27 11:51:23;  author: rob;  state: Exp;
Put deaths tally into cooperative mode
----------------------------
revision 1.194
date: 1995/01/27 11:43:24;  author: adam;  state: Exp;
fiddled with key display
----------------------------
revision 1.193
date: 1995/01/25 23:38:35;  author: mike;  state: Exp;
fix keys on fullscreen.
----------------------------
revision 1.192
date: 1995/01/24 22:03:28;  author: mike;  state: Exp;
Lotsa hud stuff, put a lot of messages up.
----------------------------
revision 1.191
date: 1995/01/23 16:47:21;  author: rob;  state: Exp;
Fixed problem with playing extra life noise in coop.
----------------------------
revision 1.190
date: 1995/01/22 16:00:46;  author: mike;  state: Exp;
remove unneeded string.
----------------------------
revision 1.189
date: 1995/01/22 15:58:22;  author: mike;  state: Exp;
localization
----------------------------
revision 1.188
date: 1995/01/20 17:19:45;  author: rob;  state: Exp;
Fixing colors of hud kill list players.
----------------------------
revision 1.187
date: 1995/01/20 09:19:18;  author: allender;  state: Exp;
record player flags when in CM_FULL_SCREEN
----------------------------
revision 1.186
date: 1995/01/19 16:29:09;  author: allender;  state: Exp;
made demo recording of weapon change be in this file for shareware only
----------------------------
revision 1.185
date: 1995/01/19 15:00:33;  author: allender;  state: Exp;
code to record shield, energy, and ammo in fullscreen
----------------------------
revision 1.184
date: 1995/01/19 13:43:13;  author: matt;  state: Exp;
Fixed "cheater" message on HUD
----------------------------
revision 1.183
date: 1995/01/18 16:11:58;  author: mike;  state: Exp;
Don't show added scores of 0.
----------------------------
revision 1.182
date: 1995/01/17 17:42:39;  author: allender;  state: Exp;
do ammo counts in demo recording
----------------------------
revision 1.181
date: 1995/01/16 17:26:25;  author: rob;  state: Exp;
Fixed problem with coloration of team kill list.
----------------------------
revision 1.180
date: 1995/01/16 17:22:39;  author: john;  state: Exp;
Made so that KB and framerate don't collide.
----------------------------
revision 1.179
date: 1995/01/16 14:58:31;  author: matt;  state: Exp;
Changed score_added display to print "Cheater!" when cheats enabled
----------------------------
revision 1.178
date: 1995/01/15 19:42:07;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.177
date: 1995/01/15 19:25:07;  author: mike;  state: Exp;
show vulcan ammo and secondary ammo in fullscreen view.
----------------------------
revision 1.176
date: 1995/01/15 13:16:12;  author: john;  state: Exp;
Made so that paging always happens, lowmem just loads less.
Also, make KB load print to hud.
----------------------------
revision 1.175
date: 1995/01/14 19:17:32;  author: john;  state: Exp;
First version of piggy paging.
----------------------------
revision 1.174
date: 1995/01/05 21:25:23;  author: rob;  state: Exp;
Re-did some changes lost due to RCS weirdness.
----------------------------
revision 1.173
date: 1995/01/05 12:22:34;  author: rob;  state: Exp;
Don't show player names for cloaked players.
----------------------------
revision 1.172
date: 1995/01/04 17:14:50;  author: allender;  state: Exp;
make init_gauges work properly on demo playback
----------------------------
revision 1.171
date: 1995/01/04 15:04:42;  author: allender;  state: Exp;
new demo calls for registered version
----------------------------
revision 1.167
date: 1995/01/03 13:03:57;  author: allender;  state: Exp;
pass score points instead of total points.   Added ifdef for
multi_send_score
----------------------------
revision 1.166
date: 1995/01/03 11:45:02;  author: allender;  state: Exp;
add hook to record player score
----------------------------
revision 1.165
date: 1995/01/03 11:25:19;  author: allender;  state: Exp;
remove newdemo stuff around score display
----------------------------
revision 1.163
date: 1995/01/02 21:03:53;  author: rob;  state: Exp;
Fixing up the hud-score-list for coop games.
----------------------------
revision 1.162
date: 1994/12/31 20:54:40;  author: rob;  state: Exp;
Added coop mode HUD score list.
Added more generic system for player names on HUD.
----------------------------
revision 1.161
date: 1994/12/30 20:13:01;  author: rob;  state: Exp;
Ifdef reticle names on shareware.
Added robot reticle naming.
----------------------------
revision 1.160
date: 1994/12/29 17:53:51;  author: mike;  state: Exp;
move up energy/shield in fullscreen to get out of way of kill list.
----------------------------
revision 1.159
date: 1994/12/29 16:44:05;  author: mike;  state: Exp;
add energy and shield showing.
----------------------------
revision 1.158
date: 1994/12/28 16:34:29;  author: mike;  state: Exp;
make warning beep go away on Player_is_dead.
----------------------------
revision 1.157
date: 1994/12/28 10:00:43;  author: allender;  state: Exp;
change in init_gauges to for multiplayer demo playbacks
----------------------------
revision 1.156
date: 1994/12/27 11:06:46;  author: allender;  state: Exp;
removed some previous code to for demo playback stuff
----------------------------
revision 1.155
date: 1994/12/23 14:23:06;  author: john;  state: Exp;
Added floating reticle for VR helments.  
----------------------------
revision 1.154
date: 1994/12/21 12:56:41;  author: allender;  state: Exp;
on multiplayer demo playback, show kills and deaths
----------------------------
revision 1.153
date: 1994/12/19 20:28:42;  author: rob;  state: Exp;
Get rid of kill list in coop games.
----------------------------
revision 1.152
date: 1994/12/14 18:06:44;  author: matt;  state: Exp;
Removed compile warnings
----------------------------
revision 1.151
date: 1994/12/14 15:21:28;  author: rob;  state: Exp;
Made gauges align in status_bar net game.
----------------------------
revision 1.150
date: 1994/12/12 17:20:33;  author: matt;  state: Exp;
Don't get bonus points when cheating
----------------------------
revision 1.149
date: 1994/12/12 16:47:00;  author: matt;  state: Exp;
When cheating, get no score.  Change level cheat to prompt for and 
jump to new level.
----------------------------
revision 1.148
date: 1994/12/12 12:05:45;  author: rob;  state: Exp;
Grey out players who are disconnected.
----------------------------
revision 1.147
date: 1994/12/09 16:19:48;  author: yuan;  state: Exp;
kill matrix stuff.
----------------------------
revision 1.146
date: 1994/12/09 16:12:34;  author: rob;  state: Exp;
Fixed up the status bar kills gauges for net play.
----------------------------
revision 1.145
date: 1994/12/09 01:55:34;  author: rob;  state: Exp;
Added kills list to HUD/status bar.
Added something for Mark.
----------------------------
revision 1.144
date: 1994/12/08 21:03:30;  author: allender;  state: Exp;
pass old player flags to record_player_flags
----------------------------
revision 1.143
date: 1994/12/07 22:49:33;  author: mike;  state: Exp;
no homing missile warning during endlevel sequence.
----------------------------
revision 1.142
date: 1994/12/06 13:55:31;  author: matt;  state: Exp;
Use new rounding func, f2ir()
----------------------------
revision 1.141
date: 1994/12/03 19:03:37;  author: matt;  state: Exp;
Fixed vulcan ammo HUD message
----------------------------
revision 1.140
date: 1994/12/03 18:43:18;  author: matt;  state: Exp;
Fixed (hopefully) claok gauge
----------------------------
revision 1.139
date: 1994/12/03 14:26:21;  author: yuan;  state: Exp;
Fixed dumb bug
----------------------------
revision 1.138
date: 1994/12/03 14:17:30;  author: yuan;  state: Exp;
Localization 320
=============================================================================
RCS file: /Smoke/miner/source/main/gauges.h,v
Working file: main/gauges.h
head: 1.3
description: Prototypes and defines for gauges
----------------------------
revision 1.3
date: 1995/08/23 21:37:13;  author: allender;  state: Exp;
fix mcc compiler warmings
----------------------------
revision 1.2
date: 1995/08/18 15:45:24;  author: allender;  state: Exp;
upped max gauges
----------------------------
revision 1.1
date: 1995/05/16 15:57:34;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:45;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.27
date: 1994/12/14 18:06:39;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.26
date: 1994/12/09 16:19:52;  author: yuan;  state: Exp;
kill matrix stuff.
----------------------------
revision 1.25
date: 1994/10/25 11:07:34;  author: mike;  state: Exp;
Prototype play_homing_warning.
----------------------------
revision 1.24
date: 1994/10/24 16:34:39;  author: mike;  state: Exp;
Increase MAX_GAUGE_BMS from 56 to 80...
----------------------------
revision 1.23
date: 1994/10/21 20:43:47;  author: mike;  state: Exp;
Prototype add_bonus_points_to_score.
----------------------------
revision 1.22
date: 1994/10/14 15:56:33;  author: mike;  state: Exp;
Prototype update_laser_weapon_info.
----------------------------
revision 1.21
date: 1994/10/13 15:17:26;  author: mike;  state: Exp;
Remove afterburner references.
----------------------------
revision 1.20
date: 1994/10/05 17:09:46;  author: matt;  state: Exp;
Added functional reticle
----------------------------
revision 1.19
date: 1994/10/04 21:41:29;  author: matt;  state: Exp;
Added cloaked player gauge effect, and different ship bitmap for each player
----------------------------
revision 1.18
date: 1994/09/26 13:29:40;  author: matt;  state: Exp;
Added extra life each 100,000 points, and show icons on HUD for num lives
----------------------------
revision 1.17
date: 1994/09/20 11:56:08;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.16
date: 1994/09/20 00:11:03;  author: matt;  state: Exp;
Finished gauges for Status Bar, including hostage video display.
----------------------------
revision 1.15
date: 1994/09/17 23:57:18;  author: matt;  state: Exp;
Got some, but not all, off the status bar gauges working
----------------------------
revision 1.14
date: 1994/09/16 13:08:46;  author: mike;  state: Exp;
Prototype say_afterburner_status.
----------------------------
revision 1.13
date: 1994/09/14 16:27:03;  author: mike;  state: Exp;
Prototype player_dead_message();
----------------------------
revision 1.12
date: 1994/07/20 17:34:43;  author: yuan;  state: Exp;
Some minor bug fixes and new key gauges...
----------------------------
revision 1.11
date: 1994/07/14 14:46:02;  author: yuan;  state: Exp;
Added score effect.
----------------------------
revision 1.10
date: 1994/07/12 16:22:00;  author: yuan;  state: Exp;
Increased number of maximum gauges.
----------------------------
revision 1.9
date: 1994/07/11 20:10:36;  author: yuan;  state: Exp;
Numerical gauges.
----------------------------
revision 1.8
date: 1994/07/10 18:01:28;  author: yuan;  state: Exp;
Added new gauges.
----------------------------
revision 1.7
date: 1994/06/21 15:08:22;  author: john;  state: Exp;
Made demo record HUD message and cleaned up the HUD code.
----------------------------
revision 1.6
date: 1994/06/21 12:40:46;  author: yuan;  state: Exp;
Fixing HUD message.
----------------------------
revision 1.5
date: 1994/06/21 12:11:56;  author: yuan;  state: Exp;
Fixed up menus and added HUDisplay messages.
----------------------------
revision 1.4
date: 1994/04/28 21:34:24;  author: mike;  state: Exp;
prototype check_erase_gauge
----------------------------
revision 1.3
date: 1994/04/06 14:42:46;  author: yuan;  state: Exp;
Adding new powerups.
----------------------------
revision 1.2
date: 1993/12/05 22:48:58;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.1
date: 1993/12/05 21:07:55;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/hash.c,v
Working file: main/hash.c
head: 1.1
description: Functions to do hash table lookup.
----------------------------
revision 1.1
date: 1995/05/16 15:26:16;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:01;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/05 23:37:06;  author: matt;  state: Exp;
Took out calls to warning() function
----------------------------
revision 1.4
date: 1994/05/09 20:02:33;  author: john;  state: Exp;
Fixed bug w/ upper/lower case.
----------------------------
revision 1.3
date: 1994/05/06 15:31:51;  author: john;  state: Exp;
Don't add duplicate names to the hash table.
----------------------------
revision 1.2
date: 1994/05/03 16:45:35;  author: john;  state: Exp;
Added hash table lookup to speed up loading.
----------------------------
revision 1.1
date: 1994/05/03 10:36:41;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/hash.h,v
Working file: main/hash.h
head: 1.1
description: .
----------------------------
revision 1.1
date: 1995/05/16 15:57:42;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:26:46;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/05/03 16:45:24;  author: john;  state: Exp;
Added hash table lookup to speed up loading.
----------------------------
revision 1.1
date: 1994/05/03 11:35:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/hostage.c,v
Working file: main/hostage.c
head: 1.1
description: Code to render and manipulate hostages
----------------------------
revision 1.1
date: 1995/05/16 15:26:24;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:36;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.65
date: 1995/02/22 13:45:54;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.64
date: 1995/02/13 20:34:57;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.63
date: 1995/01/15 19:41:48;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.62
date: 1995/01/14 19:16:53;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.61
date: 1994/12/19 16:35:09;  author: john;  state: Exp;
Made hoastage playback end when ship dies.
----------------------------
revision 1.60
date: 1994/12/06 16:30:41;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.59
date: 1994/11/30 17:32:46;  author: matt;  state: Exp;
Put hostage_face_clip array back in so editor would work
----------------------------
revision 1.58
date: 1994/11/30 17:22:13;  author: matt;  state: Exp;
Ripped out hostage faces in shareware version
----------------------------
revision 1.57
date: 1994/11/30 16:11:25;  author: matt;  state: Exp;
Use correct constant for hostage voice
----------------------------
revision 1.56
date: 1994/11/27 23:15:19;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.55
date: 1994/11/19 19:53:44;  author: matt;  state: Exp;
Added code to full support different hostage head clip & message for
each hostage.
----------------------------
revision 1.54
date: 1994/11/19 16:35:15;  author: matt;  state: Exp;
Got rid of unused code, & made an array smaller
----------------------------
revision 1.53
date: 1994/11/14 12:42:03;  author: matt;  state: Exp;
Increased palette flash when hostage rescued
----------------------------
revision 1.52
date: 1994/10/28 14:43:09;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.51
date: 1994/10/23 02:10:57;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.50
date: 1994/10/22 00:08:44;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.49
date: 1994/10/20 22:52:49;  author: matt;  state: Exp;
Fixed compiler warnings
----------------------------
revision 1.48
date: 1994/10/20 21:25:44;  author: matt;  state: Exp;
Took out silly scale down/scale up code for hostage anim
----------------------------
revision 1.47
date: 1994/10/20 12:47:28;  author: matt;  state: Exp;
Replace old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.46
date: 1994/10/04 15:33:33;  author: john;  state: Exp;
Took out the old PLAY_SOUND??? code and replaced it
with direct calls into digi_link_??? so that all sounds
can be made 3d.
----------------------------
revision 1.45
date: 1994/09/28 23:10:46;  author: matt;  state: Exp;
Made hostage rescue do palette flash
----------------------------
revision 1.44
date: 1994/09/20 00:11:00;  author: matt;  state: Exp;
Finished gauges for Status Bar, including hostage video display.
----------------------------
revision 1.43
date: 1994/09/15 21:24:19;  author: matt;  state: Exp;
Changed system to keep track of whether & what cockpit is up
Made hostage clip not queue when no cockpit
----------------------------
revision 1.42
date: 1994/08/25 13:45:19;  author: matt;  state: Exp;
Made hostage vclips queue
----------------------------
revision 1.41
date: 1994/08/14 23:15:06;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.40
date: 1994/08/12 22:41:11;  author: john;  state: Exp;
Took away Player_stats; add Players array.
----------------------------
revision 1.39
date: 1994/07/14 22:06:35;  author: john;  state: Exp;
Fix radar/hostage vclip conflict.
----------------------------
revision 1.38
date: 1994/07/12 18:40:21;  author: yuan;  state: Exp;
Tweaked location of radar and hostage screen... 
Still needs work.
----------------------------
revision 1.37
date: 1994/07/07 09:52:17;  author: john;  state: Exp;
Moved hostage screen.
----------------------------
revision 1.36
date: 1994/07/06 15:23:52;  author: john;  state: Exp;
Revamped hostage sound.
----------------------------
revision 1.35
date: 1994/07/06 15:14:54;  author: john;  state: Exp;
Added hostage sound effect picking.
----------------------------
revision 1.34
date: 1994/07/06 13:25:33;  author: john;  state: Exp;
Added compress hostages functions.
----------------------------
revision 1.33
date: 1994/07/06 12:52:59;  author: john;  state: Exp;
Fixed compiler warnings.
----------------------------
revision 1.32
date: 1994/07/06 12:43:50;  author: john;  state: Exp;
Made generic messages for hostages.
----------------------------
revision 1.31
date: 1994/07/06 10:55:07;  author: john;  state: Exp;
New structures for hostages.
----------------------------
revision 1.30
date: 1994/07/05 12:49:09;  author: john;  state: Exp;
Put functionality of New Hostage spec into code.
----------------------------
revision 1.29
date: 1994/07/02 13:08:47;  author: matt;  state: Exp;
Increment stats when hostage rescued
----------------------------
revision 1.28
date: 1994/07/01 18:07:46;  author: john;  state: Exp;
y
----------------------------
revision 1.27
date: 1994/07/01 18:07:03;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.26
date: 1994/07/01 17:55:26;  author: john;  state: Exp;
First version of not-working hostage system.
----------------------------
revision 1.25
date: 1994/06/27 15:53:21;  author: john;  state: Exp;
#define'd out the newdemo stuff
----------------------------
revision 1.24
date: 1994/06/20 16:08:52;  author: john;  state: Exp;
Added volume control; made doors 3d sounds.
----------------------------
revision 1.23
date: 1994/06/16 10:15:32;  author: yuan;  state: Exp;
Fixed location of face.
----------------------------
revision 1.22
date: 1994/06/15 15:05:33;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.21
date: 1994/06/14 21:15:20;  author: matt;  state: Exp;
Made rod objects draw lighted or not depending on a parameter, so the
materialization effect no longer darkens.
----------------------------
revision 1.20
date: 1994/06/08 18:16:26;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.19
date: 1994/06/02 19:30:08;  author: matt;  state: Exp;
Moved texture-mapped rod drawing stuff (used for hostage & now for the
materialization center) to object.c
=============================================================================
RCS file: /Smoke/miner/source/main/hostage.h,v
Working file: main/hostage.h
head: 1.1
description: Header for hostage.c
----------------------------
revision 1.1
date: 1995/05/16 15:57:57;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:50;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.23
date: 1995/01/15 19:42:06;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.22
date: 1994/12/19 16:35:07;  author: john;  state: Exp;
Made hoastage playback end when ship dies.
----------------------------
revision 1.21
date: 1994/11/30 17:22:12;  author: matt;  state: Exp;
Ripped out hostage faces in shareware version
----------------------------
revision 1.20
date: 1994/11/19 19:53:43;  author: matt;  state: Exp;
Added code to full support different hostage head clip & message for
each hostage.
----------------------------
revision 1.19
date: 1994/11/19 16:35:28;  author: matt;  state: Exp;
Got rid of unused code, & made an array smaller
----------------------------
revision 1.18
date: 1994/10/23 02:10:57;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.17
date: 1994/09/20 00:10:37;  author: matt;  state: Exp;
Finished gauges for Status Bar, including hostage video display.
----------------------------
revision 1.16
date: 1994/09/01 10:41:24;  author: matt;  state: Exp;
Sizes for powerups now specified in bitmaps.tbl; blob bitmaps now plot
correctly if width & height of bitmap are different.
----------------------------
revision 1.15
date: 1994/08/14 23:15:14;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.14
date: 1994/07/14 22:06:51;  author: john;  state: Exp;
Fix radar/hostage vclip conflict.
----------------------------
revision 1.13
date: 1994/07/14 22:05:41;  author: john;  state: Exp;
Made radar display not conflict with hostage
vclip talking.
----------------------------
revision 1.12
date: 1994/07/06 13:41:46;  author: matt;  state: Exp;
Added support for bitmap hostages
----------------------------
revision 1.11
date: 1994/07/06 12:43:36;  author: john;  state: Exp;
Made generic messages for hostages.
----------------------------
revision 1.10
date: 1994/07/06 10:55:09;  author: john;  state: Exp;
New structures for hostages.
----------------------------
revision 1.9
date: 1994/07/05 12:48:47;  author: john;  state: Exp;
Put functionality of New Hostage spec into code.
----------------------------
revision 1.8
date: 1994/07/01 17:55:14;  author: john;  state: Exp;
First version of not-working hostage system.
----------------------------
revision 1.7
date: 1994/06/15 14:57:10;  author: john;  state: Exp;
Added triggers to demo recording.
----------------------------
revision 1.6
date: 1994/06/08 18:15:49;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.5
date: 1994/05/02 12:43:06;  author: yuan;  state: Exp;
Fixed warnings.
----------------------------
revision 1.4
date: 1994/04/06 14:42:46;  author: yuan;  state: Exp;
Adding new powerups.
----------------------------
revision 1.3
date: 1994/04/01 11:15:14;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.2
date: 1994/03/31 12:04:35;  author: matt;  state: Exp;
Added prototypes for 2 funcs
----------------------------
revision 1.1
date: 1994/03/31 11:39:24;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/hud.c,v
Working file: main/hud.c
head: 1.4
description: Routines for displaying HUD messages...
----------------------------
revision 1.4
date: 1995/08/24 16:03:09;  author: allender;  state: Exp;
fix up message placement
----------------------------
revision 1.3
date: 1995/08/18 10:25:21;  author: allender;  state: Exp;
added support for pixel doubling using PC game font
----------------------------
revision 1.2
date: 1995/08/12 11:33:22;  author: allender;  state: Exp;
removed #ifdef NEWDEMO -- always in
----------------------------
revision 1.1
date: 1995/05/16 15:26:32;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/30 16:36:40;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.1
date: 1995/03/06 15:23:50;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:30:41;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.27
date: 1995/01/23 16:51:30;  author: mike;  state: Exp;
Show hud messages on 3d if window in three largest sizes.
----------------------------
revision 1.26
date: 1995/01/17 17:42:45;  author: rob;  state: Exp;
Made message timeout for HUD messages longer.
----------------------------
revision 1.25
date: 1995/01/04 11:39:03;  author: rob;  state: Exp;
Made HUD text get out of the way of large HUD messages.
----------------------------
revision 1.24
date: 1995/01/01 14:20:32;  author: rob;  state: Exp;
longer timer for hud messages.
----------------------------
revision 1.23
date: 1994/12/15 13:04:34;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.22
date: 1994/12/13 12:55:12;  author: mike;  state: Exp;
move press any key to continue message when you are dead to bottom of window.
----------------------------
revision 1.21
date: 1994/12/07 17:08:01;  author: rob;  state: Exp;
removed unnecessary debug info.
----------------------------
revision 1.20
date: 1994/12/07 16:24:16;  author: john;  state: Exp;
Took out code that kept track of messages differently for different
screen modes... I made it so they just draw differently depending on screen mode.
----------------------------
revision 1.19
date: 1994/12/07 15:42:57;  author: rob;  state: Exp;
Added a bunch of debug stuff to look for HUD message problems in net games...
----------------------------
revision 1.18
date: 1994/12/06 16:30:35;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.17
date: 1994/12/05 00:32:36;  author: mike;  state: Exp;
fix randomness of color on status bar hud messages.
----------------------------
revision 1.16
date: 1994/11/19 17:05:53;  author: rob;  state: Exp;
Moved dead_player_message down to avoid overwriting HUD messages.
----------------------------
revision 1.15
date: 1994/11/18 23:37:56;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.14
date: 1994/11/12 16:38:25;  author: mike;  state: Exp;
clear some annoying debug messages.
----------------------------
revision 1.13
date: 1994/11/11 15:36:39;  author: mike;  state: Exp;
write hud messages on background if 3d window small enough
----------------------------
revision 1.12
date: 1994/10/20 09:49:31;  author: mike;  state: Exp;
Reduce number of messages.
----------------------------
revision 1.11
date: 1994/10/17 10:49:15;  author: john;  state: Exp;
Took out some warnings.
----------------------------
revision 1.10
date: 1994/10/17 10:45:13;  author: john;  state: Exp;
Made the player able to abort death by pressing any button or key.
----------------------------
revision 1.9
date: 1994/10/13 15:17:33;  author: mike;  state: Exp;
Remove afterburner references.
----------------------------
revision 1.8
date: 1994/10/11 12:06:32;  author: mike;  state: Exp;
Only show message advertising death sequence abort after player exploded.
----------------------------
revision 1.7
date: 1994/10/10 17:21:53;  author: john;  state: Exp;
Made so instead of saying too many messages, it scrolls off the
oldest message.
----------------------------
revision 1.6
date: 1994/10/07 23:05:39;  author: john;  state: Exp;
Fixed bug with HUD not drawing stuff sometimes...
( I had a circular buffer that I was stepping thru
to draw text that went: for (i=first;i<last;i++)...
duh!! last could be less than first.)
/
----------------------------
revision 1.5
date: 1994/09/16 13:08:20;  author: mike;  state: Exp;
Arcade stuff, afterburner stuff.
----------------------------
revision 1.4
date: 1994/09/14 16:26:57;  author: mike;  state: Exp;
player_dead_message.
----------------------------
revision 1.3
date: 1994/08/18 16:35:45;  author: john;  state: Exp;
Made gauges messages stay up a bit longer.
----------------------------
revision 1.2
date: 1994/08/18 12:10:21;  author: john;  state: Exp;
Made HUD messages scroll.
----------------------------
revision 1.1
date: 1994/08/18 11:22:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/iglasses.h,v
Working file: main/iglasses.h
head: 1.1
description: Routines for the i-glasses VR stuff.
----------------------------
revision 1.1
date: 1995/05/16 15:58:05;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1995/02/09 22:01:01;  author: john;  state: Exp;
Added i-glasses tracking.
----------------------------
revision 1.1
date: 1995/02/09 15:54:01;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/main/inferno.c,v
Working file: main/inferno.c
head: 1.1
description: main() for Inferno  
----------------------------
revision 1.1
date: 1995/12/05 15:57:49;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.19
date: 1995/11/07 17:03:12;  author: allender;  state: Exp;
added splash screen for descent contest
----------------------------
revision 1.18
date: 1995/10/31 10:22:22;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.17
date: 1995/10/18 01:53:07;  author: allender;  state: Exp;
mouse click to leave do not distribute screen
----------------------------
revision 1.16
date: 1995/10/17 12:00:12;  author: allender;  state: Exp;
mouse click gets past endgame screen
----------------------------
revision 1.15
date: 1995/10/12 17:40:12;  author: allender;  state: Exp;
read config file after digi initialized
----------------------------
revision 1.14
date: 1995/10/05 10:38:22;  author: allender;  state: Exp;
changed key_getch at exit to be key_inkey and moved
mouse init until after macintosh windowing init call
----------------------------
revision 1.13
date: 1995/09/18 17:01:04;  author: allender;  state: Exp;
put gr_init call before render buffer stuff
----------------------------
revision 1.12
date: 1995/08/31 15:50:53;  author: allender;  state: Exp;
call init for appletalk, and change name of intro screens
----------------------------
revision 1.11
date: 1995/08/26 16:26:19;  author: allender;  state: Exp;
whole bunch 'o stuff!!
----------------------------
revision 1.10
date: 1995/07/12 21:48:18;  author: allender;  state: Exp;
removed Int3 from beginning of program
----------------------------
revision 1.9
date: 1995/07/05 16:45:48;  author: allender;  state: Exp;
removed hide_cursor call
----------------------------
revision 1.8
date: 1995/06/20 16:44:57;  author: allender;  state: Exp;
game now renders in 640x480 at all times.  Changed code
to call game_init_render_buffers with right params
----------------------------
revision 1.7
date: 1995/06/13 13:07:55;  author: allender;  state: Exp;
change macintosh initialzation.  Mac windows now init'ed through gr_init.
----------------------------
revision 1.6
date: 1995/06/08 16:36:53;  author: allender;  state: Exp;
"ifdef" profile include
----------------------------
revision 1.5
date: 1995/06/07 08:08:18;  author: allender;  state: Exp;
dont' make memory info show at end of program
----------------------------
revision 1.4
date: 1995/06/02 07:47:40;  author: allender;  state: Exp;
removed network initialzation for now
----------------------------
revision 1.3
date: 1995/05/26 06:54:52;  author: allender;  state: Exp;
put digi_init after timer and key stuff since I was testing stuff
that needed the keyboard handler installed
----------------------------
revision 1.2
date: 1995/05/19 11:28:09;  author: allender;  state: Exp;
removed printf
----------------------------
revision 1.1
date: 1995/05/16 15:26:39;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.26
date: 1995/04/12 13:39:26;  author: john;  state: Exp;
Fixed bug with -lowmem not working.
----------------------------
revision 2.25
date: 1995/04/09 14:43:00;  author: john;  state: Exp;
Made Dynamic sockets not print Msockets for help.
----------------------------
revision 2.24
date: 1995/04/07 16:11:33;  author: john;  state: Exp;
Fixed problem with VFX display when using setup.
----------------------------
revision 2.23
date: 1995/04/06 15:40:51;  author: john;  state: Exp;
Synced VFX with setup #'s.
----------------------------
revision 2.22
date: 1995/04/06 12:12:53;  author: john;  state: Exp;
Fixed some bugs with 3dmax.
----------------------------
revision 2.21
date: 1995/03/30 16:36:51;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.20
date: 1995/03/29 15:33:52;  author: john;  state: Exp;
Added code to parse descent.net file.
----------------------------
revision 2.19
date: 1995/03/28 20:08:21;  author: john;  state: Exp;
Took away alternate server thing.
----------------------------
revision 2.18
date: 1995/03/27 09:43:08;  author: john;  state: Exp;
Added VR Settings in config file.
----------------------------
revision 2.17
date: 1995/03/23 19:02:21;  author: john;  state: Exp;
Added descent.net file use.
----------------------------
revision 2.16
date: 1995/03/23 12:25:11;  author: john;  state: Exp;
Moved IPX stuff into BIOS lib.
----------------------------
revision 2.15
date: 1995/03/21 16:52:34;  author: john;  state: Exp;
Added 320x100.
----------------------------
revision 2.14
date: 1995/03/21 14:40:33;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.13
date: 1995/03/16 23:13:35;  author: john;  state: Exp;
Fixed bug with piggy paging in bitmap not checking for disk
error, hence bogifying textures if you pull the CD out.
----------------------------
revision 2.12
date: 1995/03/16 21:45:22;  author: john;  state: Exp;
Made all paged modes have incompatible menus!
----------------------------
revision 2.11
date: 1995/03/15 15:19:34;  author: john;  state: Exp;
Took out code that changes to exe dir.
----------------------------
revision 2.10
date: 1995/03/15 14:33:37;  author: john;  state: Exp;
Added code to force the Descent CD-rom in the drive.
----------------------------
revision 2.9
date: 1995/03/15 11:41:27;  author: john;  state: Exp;
Better Saturn CD-ROM support.
----------------------------
revision 2.8
date: 1995/03/14 18:24:46;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.7
date: 1995/03/14 16:22:35;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.6
date: 1995/03/13 15:17:19;  author: john;  state: Exp;
Added alternate hogfile directory.
----------------------------
revision 2.5
date: 1995/03/10 13:05:35;  author: john;  state: Exp;
Added code so that palette is correct for VFX1 helmets.
----------------------------
revision 2.4
date: 1995/03/07 15:12:43;  author: john;  state: Exp;
Fixed VFX,3dmax support.
----------------------------
revision 2.3
date: 1995/03/07 14:19:35;  author: mike;  state: Exp;
More destination saturn stuff.
----------------------------
revision 2.2
date: 1995/03/06 16:47:34;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.1
date: 1995/03/06 15:24:06;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:31:29;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.295
date: 1995/02/23 12:02:14;  author: john;  state: Exp;
Made mono  windows smaller.
----------------------------
revision 1.294
date: 1995/02/16 17:35:00;  author: john;  state: Exp;
Added code to allow dynamic socket changing.
----------------------------
revision 1.293
date: 1995/02/14 19:29:29;  author: john;  state: Exp;
Locked down critical error handler.
----------------------------
revision 1.292
date: 1995/02/14 15:29:20;  author: john;  state: Exp;
Added CR-LF to last line of menu help text.
----------------------------
revision 1.291
date: 1995/02/14 11:39:01;  author: john;  state: Exp;
Added polled/bios joystick readers.
----------------------------
revision 1.290
date: 1995/02/13 20:35:03;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.289
date: 1995/02/11 16:20:02;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.288
date: 1995/02/11 15:54:13;  author: rob;  state: Exp;
changed cinvul to rinvul.
----------------------------
revision 1.287
date: 1995/02/11 14:48:43;  author: rob;  state: Exp;
Added max of 314 seconds to control invul. times
----------------------------
revision 1.286
date: 1995/02/11 12:42:01;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.285
date: 1995/02/11 11:36:11;  author: rob;  state: Exp;
Added cinvul option.
----------------------------
revision 1.284
date: 1995/02/10 16:07:45;  author: matt;  state: Exp;
Took 'registered' out of printed info at startup
----------------------------
revision 1.283
date: 1995/02/09 22:00:59;  author: john;  state: Exp;
Added i-glasses tracking.
----------------------------
revision 1.282
date: 1995/02/02 11:11:27;  author: john;  state: Exp;
Added -nocyberman switch.
----------------------------
revision 1.281
date: 1995/02/01 16:35:14;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.280
date: 1995/01/31 02:04:25;  author: matt;  state: Exp;
Fixed up cmdline help
----------------------------
revision 1.279
date: 1995/01/30 16:25:55;  author: john;  state: Exp;
Put back in graphical screen at program end.
----------------------------
revision 1.278
date: 1995/01/28 17:05:50;  author: matt;  state: Exp;
Changed imbedded copyright to use comma instead of hyphen
----------------------------
revision 1.277
date: 1995/01/28 15:57:26;  author: john;  state: Exp;
Made joystick calibration be only when wrong detected in
menu or joystick axis changed.
----------------------------
revision 1.276
date: 1995/01/25 14:37:49;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.275
date: 1995/01/24 18:21:00;  author: john;  state: Exp;
Added Adam's text warning.
----------------------------
revision 1.274
date: 1995/01/22 15:57:20;  author: john;  state: Exp;
Took out code that printed warning out as game exited.
----------------------------
revision 1.273
date: 1995/01/22 13:31:35;  author: matt;  state: Exp;
Added load of mission 0, so there's always a default mission
----------------------------
revision 1.272
date: 1995/01/19 17:00:41;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.271
date: 1995/01/18 11:47:57;  author: adam;  state: Exp;
changed copyright notice
----------------------------
revision 1.270
date: 1995/01/15 13:42:42;  author: john;  state: Exp;
Moved low_mem cutoff higher.
----------------------------
revision 1.269
date: 1995/01/12 18:53:50;  author: john;  state: Exp;
Put ifdef EDITOR around the code that checked for 
a 800x600 mode, because this trashed some people's
computers (maybe) causing the mem allocation error in
mouse.c that many users reported.
----------------------------
revision 1.268
date: 1995/01/12 11:41:42;  author: john;  state: Exp;
Added external control reading.
----------------------------
revision 1.267
date: 1995/01/06 10:26:55;  author: john;  state: Exp;
Added -nodoscheck command line switch.
----------------------------
revision 1.266
date: 1995/01/05 16:59:30;  author: yuan;  state: Exp;
Don't show orderform in editor version.
----------------------------
revision 1.265
date: 1994/12/28 15:33:51;  author: john;  state: Exp;
Added -slowjoy option.
----------------------------
revision 1.264
date: 1994/12/15 16:44:15;  author: matt;  state: Exp;
Added trademark notice
----------------------------
revision 1.263
date: 1994/12/14 20:13:59;  author: john;  state: Exp;
Reduced physical mem requments to 2 MB.
----------------------------
revision 1.262
date: 1994/12/14 19:06:17;  author: john;  state: Exp;
Lowered physical memory requments to 2 MB.
----------------------------
revision 1.261
date: 1994/12/14 09:41:29;  author: allender;  state: Exp;
change to drive and directory (if needed) of command line invocation
so descent can be started from anywhere
----------------------------
revision 1.260
date: 1994/12/13 19:08:59;  author: john;  state: Exp;
Updated memory requirements.
----------------------------
revision 1.259
date: 1994/12/13 17:30:33;  author: john;  state: Exp;
Made the timer rate be changed right after initializing it.
----------------------------
revision 1.258
date: 1994/12/13 02:46:25;  author: matt;  state: Exp;
Added imbedded copyright
----------------------------
revision 1.257
date: 1994/12/13 02:06:46;  author: john;  state: Exp;
Added code to check stack used by descent... initial
check showed stack used 35k/50k, so we decided it wasn't
worth pursuing any more.
----------------------------
revision 1.256
date: 1994/12/11 23:17:54;  author: john;  state: Exp;
Added -nomusic.
Added RealFrameTime.
Put in a pause when sound initialization error.
Made controlcen countdown and framerate use RealFrameTime.
----------------------------
revision 1.255
date: 1994/12/10 00:56:51;  author: matt;  state: Exp;
Added -nomusic to command-line help
----------------------------
revision 1.254
date: 1994/12/08 11:55:11;  author: john;  state: Exp;
Took out low memory print.
----------------------------
revision 1.253
date: 1994/12/08 11:51:00;  author: john;  state: Exp;
Made strcpy only copy corect number of chars,.
----------------------------
revision 1.252
date: 1994/12/08 00:38:29;  author: matt;  state: Exp;
Cleaned up banner messages
----------------------------
revision 1.251
date: 1994/12/07 19:14:52;  author: matt;  state: Exp;
Cleaned up command-line options and command-line help message
----------------------------
revision 1.250
date: 1994/12/06 19:33:28;  author: john;  state: Exp;
Fixed text of message to make more sense.
----------------------------
revision 1.249
date: 1994/12/06 16:30:55;  author: john;  state: Exp;
Neatend mem message,..
----------------------------
revision 1.248
date: 1994/12/06 16:17:35;  author: john;  state: Exp;
Added better mem checking/printing.
----------------------------
revision 1.247
date: 1994/12/06 14:14:37;  author: john;  state: Exp;
Added code to set low mem based on memory.
----------------------------
revision 1.246
date: 1994/12/05 12:29:09;  author: allender;  state: Exp;
removed ifdefs around -norun option
----------------------------
revision 1.245
date: 1994/12/05 00:03:30;  author: matt;  state: Exp;
Added -norun option to exit after writing pig
----------------------------
revision 1.244
date: 1994/12/04 14:47:01;  author: john;  state: Exp;
MAde the intro and menu be the same song.
----------------------------
revision 1.243
date: 1994/12/04 14:36:42;  author: john;  state: Exp;
Added menu music.
----------------------------
revision 1.242
date: 1994/12/02 13:50:17;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.241
date: 1994/12/01 17:28:30;  author: adam;  state: Exp;
added end-shareware stuff
----------------------------
revision 1.240
date: 1994/11/30 12:10:57;  author: adam;  state: Exp;
added support for PCX titles/brief screens
----------------------------
revision 1.239
date: 1994/11/29 15:47:33;  author: matt;  state: Exp;
Moved error_init to start of game, so error message prints last
----------------------------
revision 1.238
date: 1994/11/29 14:19:22;  author: jasen;  state: Exp;
reduced dos mem requirments.
----------------------------
revision 1.237
date: 1994/11/29 03:46:35;  author: john;  state: Exp;
Added joystick sensitivity; Added sound channels to detail menu.  Removed -maxchannels
command line arg.
----------------------------
revision 1.236
date: 1994/11/29 02:50:18;  author: john;  state: Exp;
Increased the amount a joystick has to be off before
asking if they want to recalibrate their joystick.
----------------------------
revision 1.235
date: 1994/11/29 02:01:29;  author: john;  state: Exp;
Corrected some of the Descent command line help items.
----------------------------
revision 1.234
date: 1994/11/29 01:39:56;  author: john;  state: Exp;
Fixed minor bug with vfx_light help not wrapping correctly.
----------------------------
revision 1.233
date: 1994/11/28 21:34:17;  author: john;  state: Exp;
Reduced dos mem rqment to 70k.
----------------------------
revision 1.232
date: 1994/11/28 21:20:38;  author: john;  state: Exp;
First version with memory checking.
----------------------------
revision 1.231
date: 1994/11/28 20:06:21;  author: rob;  state: Exp;
Removed old serial param command line options.
Added -noserial and -nonetwork to help listing.
----------------------------
revision 1.230
date: 1994/11/27 23:15:24;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.229
date: 1994/11/27 20:50:51;  author: matt;  state: Exp;
Don't set mem stuff if no debug
----------------------------
revision 1.228
date: 1994/11/27 18:46:21;  author: matt;  state: Exp;
Cleaned up command-line switches a little
----------------------------
revision 1.227
date: 1994/11/21 17:48:00;  author: matt;  state: Exp;
Added text to specifiy whether shareware or registered version
----------------------------
revision 1.226
date: 1994/11/21 14:44:20;  author: john;  state: Exp;
Fixed some bugs with setting volumes even when -nosound was used. Duh!
----------------------------
revision 1.225
date: 1994/11/21 13:53:42;  author: matt;  state: Exp;
Took out dos extender copyright
----------------------------
revision 1.224
date: 1994/11/21 09:46:54;  author: john;  state: Exp;
Added -showmeminfo parameter.
----------------------------
revision 1.223
date: 1994/11/20 22:12:05;  author: mike;  state: Exp;
Make some stuff dependent on SHAREWARE.
----------------------------
revision 1.222
date: 1994/11/20 21:14:09;  author: john;  state: Exp;
Changed -serial to -noserial.  MAde a 1 sec delay 
before leaving title screen.  Clear keyboard buffer
before asking for player name.
----------------------------
revision 1.221
date: 1994/11/19 15:20:20;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.220
date: 1994/11/17 19:14:29;  author: adam;  state: Exp;
prevented order screen from coming up when -notitles is used
----------------------------
revision 1.219
date: 1994/11/16 11:34:39;  author: john;  state: Exp;
Added -nottitle switch.
----------------------------
revision 1.218
date: 1994/11/16 10:05:53;  author: john;  state: Exp;
Added verbose messages.
----------------------------
revision 1.217
date: 1994/11/15 20:12:34;  author: john;  state: Exp;
Added back in inferno and parallax screens.
----------------------------
revision 1.216
date: 1994/11/15 18:35:30;  author: john;  state: Exp;
Added verbose setting.
----------------------------
revision 1.215
date: 1994/11/15 17:47:44;  author: john;  state: Exp;
Added ordering info screen.
----------------------------
revision 1.214
date: 1994/11/15 08:57:44;  author: john;  state: Exp;
Added MS-DOS version checking and -nonetwork option.
----------------------------
revision 1.213
date: 1994/11/15 08:34:32;  author: john;  state: Exp;
Added better error messages for IPX init.
----------------------------
revision 1.212
date: 1994/11/14 20:14:18;  author: john;  state: Exp;
Fixed some warnings.
----------------------------
revision 1.211
date: 1994/11/14 19:50:49;  author: john;  state: Exp;
Added joystick cal values to descent.cfg.
----------------------------
revision 1.210
date: 1994/11/14 17:56:44;  author: allender;  state: Exp;
make call to ReadConfigFile at startup
----------------------------
revision 1.209
date: 1994/11/14 11:41:55;  author: john;  state: Exp;
Fixed bug with editor/game sequencing.
----------------------------
revision 1.208
date: 1994/11/13 17:05:11;  author: john;  state: Exp;
Made the callsign entry be a list box and gave the ability
to delete players.
----------------------------
revision 1.207
date: 1994/11/13 15:39:22;  author: john;  state: Exp;
Added critical error handler to game.  Took out -editor command line
option because it didn't work anymore and wasn't worth fixing.  Made scores
not use MINER enviroment variable on release version, and made scores
not print an error if there is no descent.hi.
----------------------------
revision 1.206
date: 1994/11/10 20:53:29;  author: john;  state: Exp;
Used new sound install parameters.
----------------------------
revision 1.205
date: 1994/11/10 11:07:52;  author: mike;  state: Exp;
Set default detail level.
----------------------------
revision 1.204
date: 1994/11/09 13:45:43;  author: matt;  state: Exp;
Made -? work again for help
----------------------------
revision 1.203
date: 1994/11/09 10:55:58;  author: matt;  state: Exp;
Cleaned up initialization for editor -> game transitions
----------------------------
revision 1.202
date: 1994/11/07 21:35:47;  author: matt;  state: Exp;
Use new function iff_read_into_bitmap()
----------------------------
revision 1.201
date: 1994/11/05 17:22:16;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.200
date: 1994/11/05 14:05:44;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.199
date: 1994/11/04 14:36:30;  author: allender;  state: Exp;
change Auto_demo meaning to mean autostart from menu only.  Use
FindArgs when searching for AutoDemo from command line.  also,
set N_Players to 1 when starting in editor mode.
----------------------------
revision 1.198
date: 1994/11/02 11:59:49;  author: john;  state: Exp;
Moved menu out of game into inferno main loop.
----------------------------
revision 1.197
date: 1994/11/01 17:57:39;  author: mike;  state: Exp;
-noscreens option to bypass all screens.
----------------------------
revision 1.196
date: 1994/10/28 15:42:34;  author: allender;  state: Exp;
don't register player if Autodemo is on
----------------------------
revision 1.195
date: 1994/10/28 10:58:01;  author: matt;  state: Exp;
Added copyright notice for DOS4GW
----------------------------
revision 1.194
date: 1994/10/20 21:26:48;  author: matt;  state: Exp;
Took out old serial name/number code, and put up message if this
is a marked version.
----------------------------
revision 1.193
date: 1994/10/19 09:52:14;  author: allender;  state: Exp;
Print out who descent.exe belongs to if descent.exe is stamped.
----------------------------
revision 1.192
date: 1994/10/18 16:43:05;  author: allender;  state: Exp;
Added check for identifier stamp and time after which descent will
no longer run.
----------------------------
revision 1.191
date: 1994/10/17 13:07:17;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.190
date: 1994/10/04 10:26:31;  author: matt;  state: Exp;
Support new menu fade in
----------------------------
revision 1.189
date: 1994/10/03 22:58:46;  author: matt;  state: Exp;
Changed some values of game_mode
----------------------------
revision 1.188
date: 1994/10/03 18:55:39;  author: rob;  state: Exp;
Changed defaults for com port settings.
----------------------------
revision 1.187
date: 1994/10/03 13:34:47;  author: matt;  state: Exp;
Added new (and hopefully better) game sequencing functions
----------------------------
revision 1.186
date: 1994/09/30 12:37:28;  author: john;  state: Exp;
Added midi,digi volume to configuration.
----------------------------
revision 1.185
date: 1994/09/30 10:08:48;  author: john;  state: Exp;
Changed sound stuff... made it so the reseting card doesn't hang, 
made volume change only if sound is installed.
----------------------------
revision 1.184
date: 1994/09/28 17:25:00;  author: matt;  state: Exp;
Added first draft of game save/load system
----------------------------
revision 1.183
date: 1994/09/28 16:18:23;  author: john;  state: Exp;
Added capability to play midi song.
----------------------------
revision 1.182
date: 1994/09/28 11:31:18;  author: john;  state: Exp;
Made text output unbuffered.
----------------------------
revision 1.181
date: 1994/09/27 19:23:44;  author: john;  state: Exp;
Added -nojoystick and -nomouse
----------------------------
revision 1.180
date: 1994/09/24 16:55:29;  author: rob;  state: Exp;
No longer open COM port immediately upon program start.
No longer set Network_active is serial_active is set.
----------------------------
revision 1.179
date: 1994/09/24 14:16:30;  author: mike;  state: Exp;
Support new game mode constants.
----------------------------
revision 1.178
date: 1994/09/22 17:52:31;  author: rob;  state: Exp;
Added Findargs hooks for -serial, -speed, and -com.
----------------------------
revision 1.177
date: 1994/09/22 16:14:11;  author: john;  state: Exp;
Redid intro sequecing.
----------------------------
revision 1.176
date: 1994/09/21 16:32:58;  author: john;  state: Exp;
Made mouse and keyboard init after bm_init. Why?
Because it seems to work better under virtual 
memory.
----------------------------
revision 1.175
date: 1994/09/21 16:27:52;  author: john;  state: Exp;
Added mouse_init
----------------------------
revision 1.174
date: 1994/09/20 15:14:10;  author: matt;  state: Exp;
New message for new VFX switches
----------------------------
revision 1.173
date: 1994/09/16 16:14:27;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.172
date: 1994/09/16 11:49:52;  author: john;  state: Exp;
Added first version of arcade joystick support;
Also fixed some bugs in kconfig.c, such as reading non-present
joysticks, which killed frame rate, and not reading key_down_time
when in slide mode or bank mode.
----------------------------
revision 1.171
date: 1994/09/15 16:11:35;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.170
date: 1994/09/12 19:38:23;  author: john;  state: Exp;
Made some stuff that prints to the DOS screen go to the
mono instead, since it really is debugging info.
----------------------------
revision 1.169
date: 1994/08/29 21:18:28;  author: john;  state: Exp;
First version of new keyboard/oystick remapping stuff.
----------------------------
revision 1.168
date: 1994/08/26 13:02:00;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.167
date: 1994/08/24 19:00:23;  author: john;  state: Exp;
Changed key_down_time to return fixed seconds instead of
milliseconds.
----------------------------
revision 1.166
date: 1994/08/18 16:24:20;  author: john;  state: Exp;
changed socket to channel in text.
----------------------------
revision 1.165
date: 1994/08/18 16:16:51;  author: john;  state: Exp;
Added support for different sockets.
----------------------------
revision 1.164
date: 1994/08/18 10:47:53;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.163
date: 1994/08/12 09:15:54;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.162
date: 1994/08/12 03:11:19;  author: john;  state: Exp;
Made network be default off; Moved network options into
main menu.  Made starting net game check that mines are the
same.
----------------------------
revision 1.161
date: 1994/08/10 19:57:05;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.160
date: 1994/08/05 16:30:23;  author: john;  state: Exp;
Added capability to turn off network.
----------------------------
revision 1.159
date: 1994/08/04 19:42:51;  author: matt;  state: Exp;
Moved serial number & name (and version name) from inferno.c to inferno.ini
----------------------------
revision 1.158
date: 1994/08/03 10:30:23;  author: matt;  state: Exp;
Change cybermaxx switches, updated command-line help, and added serial number system
----------------------------
revision 1.157
date: 1994/07/29 18:30:10;  author: matt;  state: Exp;
New parms (lack of parms, actually) for g3_init()
----------------------------
revision 1.156
date: 1994/07/24 00:39:25;  author: matt;  state: Exp;
Added more text to TEX file; make NewGame() take a start level; made game
load/save menus use open/close window funcs.
----------------------------
revision 1.155
date: 1994/07/21 21:31:27;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.154
date: 1994/07/21 18:15:34;  author: matt;  state: Exp;
Ripped out a bunch of unused stuff
----------------------------
revision 1.153
date: 1994/07/21 17:59:10;  author: matt;  state: Exp;
Cleaned up initial mode game/editor code
----------------------------
revision 1.152
date: 1994/07/21 13:11:19;  author: matt;  state: Exp;
Ripped out remants of old demo system, and added demo only system that
disables object movement and game options from menu.
----------------------------
revision 1.151
date: 1994/07/20 15:58:27;  author: john;  state: Exp;
First installment of ipx stuff.
----------------------------
revision 1.150
date: 1994/07/15 16:04:24;  author: matt;  state: Exp;
Changed comment for milestone 3 version
----------------------------
revision 1.149
date: 1994/07/15 13:59:24;  author: matt;  state: Exp;
Fixed stupid mistake I make in the last revision
----------------------------
revision 1.148
date: 1994/07/15 13:20:15;  author: matt;  state: Exp;
Updated comand-line help
----------------------------
revision 1.147
date: 1994/07/14 23:29:43;  author: matt;  state: Exp;
Open two mono debug messages, one for errors & one for spew
----------------------------
revision 1.146
date: 1994/07/09 22:48:05;  author: matt;  state: Exp;
Added localizable text
----------------------------
revision 1.145
date: 1994/07/02 13:49:47;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.144
date: 1994/06/30 20:04:43;  author: john;  state: Exp;
Added -joydef support.
----------------------------
revision 1.143
date: 1994/06/24 17:01:44;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
=============================================================================
RCS file: /Smoke/miner/source/main/inferno.h,v
Working file: main/inferno.h
head: 1.1
description: Header file for Inferno.  Should be included in all source files. 
=============================================================================
RCS file: /Smoke/miner/source/main/joydefs.c,v
Working file: main/joydefs.c
head: 1.10
description: .
----------------------------
revision 1.10
date: 1995/10/18 22:21:21;  author: allender;  state: Exp;
fixed bug with gravis mousestick and call key_flush when
calibrating joystick since it used keystrokes for the trigger
(at least most of them do)
----------------------------
revision 1.9
date: 1995/10/17 13:12:32;  author: allender;  state: Exp;
fixed up controller support for mac world
----------------------------
revision 1.8
date: 1995/10/15 19:27:04;  author: allender;  state: Exp;
new Dave Denhart controller code
----------------------------
revision 1.7
date: 1995/10/15 16:14:59;  author: allender;  state: Exp;
fixed axis value for Thrustmaster rudders
----------------------------
revision 1.6
date: 1995/09/13 11:39:39;  author: allender;  state: Exp;
made joystick cal menu all text so buttons will work properly
----------------------------
revision 1.5
date: 1995/09/01 13:13:13;  author: allender;  state: Exp;
added close box on controls menu
----------------------------
revision 1.4
date: 1995/08/18 10:22:47;  author: allender;  state: Exp;
if thrustmaster choosen, set joystick at thrustmaster type
for proper reading in joyc.c
----------------------------
revision 1.3
date: 1995/07/26 17:00:34;  author: allender;  state: Exp;
put back in code to make joysticks work
----------------------------
revision 1.2
date: 1995/07/17 08:52:21;  author: allender;  state: Exp;
put back in code that was taken out previously
----------------------------
revision 1.1
date: 1995/05/16 15:26:48;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/04/06 12:13:20;  author: john;  state: Exp;
Made so you can calibrate Gravis Gamepad.
----------------------------
revision 2.0
date: 1995/02/27 11:30:27;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.71
date: 1995/02/12 02:06:10;  author: john;  state: Exp;
Fixed bug with joystick incorrectly asking for
calibration.
----------------------------
revision 1.70
date: 1995/01/28 15:58:07;  author: john;  state: Exp;
Made joystick calibration be only when wrong detected in
menu or joystick axis changed.
----------------------------
revision 1.69
date: 1995/01/25 14:37:55;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.68
date: 1995/01/24 16:34:29;  author: john;  state: Exp;
Made so that if you reconfigure joystick and
add or subtract an axis, it asks for a recalibration
upon leaving.
----------------------------
revision 1.67
date: 1994/12/29 11:08:51;  author: john;  state: Exp;
Fixed Thrustmaster and Logitech Wingman extreme
Hat by reading the y2 axis during the center stage
of the calibration, and using 75, 50, 27, and 3 %
as values for the 4 positions.
----------------------------
revision 1.66
date: 1994/12/15 18:17:39;  author: john;  state: Exp;
Fixed warning with previous.
----------------------------
revision 1.65
date: 1994/12/15 18:15:48;  author: john;  state: Exp;
Made the joy cal only write the .cfg file, not
the player file.
----------------------------
revision 1.64
date: 1994/12/13 14:43:35;  author: john;  state: Exp;
Took out the code in kconfig to build direction array.
Called kc_set_controls after selecting a new control type.
----------------------------
revision 1.63
date: 1994/12/10 12:08:47;  author: john;  state: Exp;
Changed some delays to use TICKER instead of timer_get_fixed_seconds.
----------------------------
revision 1.62
date: 1994/12/09 11:01:07;  author: mike;  state: Exp;
force calibration of joystick on joystick selection from Controls... menu.
----------------------------
revision 1.61
date: 1994/12/07 21:50:27;  author: john;  state: Exp;
Put stop/start time around joystick delay.
----------------------------
revision 1.60
date: 1994/12/07 19:34:39;  author: john;  state: Exp;
Added delay.
----------------------------
revision 1.59
date: 1994/12/07 18:12:14;  author: john;  state: Exp;
NEatened up joy cal.,
----------------------------
revision 1.58
date: 1994/12/07 17:07:51;  author: john;  state: Exp;
Fixed up joy cal.
----------------------------
revision 1.57
date: 1994/12/07 16:48:53;  author: yuan;  state: Exp;
localization
----------------------------
revision 1.56
date: 1994/12/07 16:05:55;  author: john;  state: Exp;
Changed the way joystick calibration works.
----------------------------
revision 1.55
date: 1994/12/06 20:15:22;  author: john;  state: Exp;
Took out code that unpauses songs that were never paused.
----------------------------
revision 1.54
date: 1994/12/06 15:14:09;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.53
date: 1994/12/05 16:29:16;  author: john;  state: Exp;
Took out music pause around the cheat menu.
----------------------------
revision 1.52
date: 1994/12/04 12:39:10;  author: john;  state: Exp;
MAde so that FCS calibration doesn't ask for axis #2.
----------------------------
revision 1.51
date: 1994/12/03 15:14:59;  author: john;  state: Exp;
Took out the delay mentioned previosuly cause it would
cause bigger problems than it helps, especially with netgames.
----------------------------
revision 1.50
date: 1994/12/03 14:16:14;  author: john;  state: Exp;
Put a delay between screens in joy cal to keep Yuan from
double hitting.
----------------------------
revision 1.49
date: 1994/12/03 11:04:06;  author: john;  state: Exp;
Changed newmenu code a bit to fix bug with bogus
backgrounds occcasionally.
----------------------------
revision 1.48
date: 1994/12/02 11:03:44;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.47
date: 1994/12/02 10:50:33;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.46
date: 1994/12/01 12:21:59;  author: john;  state: Exp;
Added code to calibrate 2 joysticks separately.
----------------------------
revision 1.45
date: 1994/12/01 11:52:31;  author: john;  state: Exp;
Added message when you select FCS to say that if
you have WCS, see manuel.
----------------------------
revision 1.44
date: 1994/11/29 02:26:28;  author: john;  state: Exp;
Made the prompts for upper-left, lower right for joy
calibration more obvious.
----------------------------
revision 1.43
date: 1994/11/26 13:13:59;  author: matt;  state: Exp;
Changed "none" option to "keyboard only"
----------------------------
revision 1.42
date: 1994/11/21 19:35:13;  author: john;  state: Exp;
Replaced calls to joy_init with if (joy_present)
----------------------------
revision 1.41
date: 1994/11/21 19:28:34;  author: john;  state: Exp;
Changed warning for no joystick to use nm_messagebox..
----------------------------
revision 1.40
date: 1994/11/21 19:06:25;  author: john;  state: Exp;
Made it so that it only stops sound when your in game mode. 
----------------------------
revision 1.39
date: 1994/11/21 11:47:18;  author: john;  state: Exp;
Made sound pause during joystick calibration.
----------------------------
revision 1.38
date: 1994/11/10 20:34:18;  author: rob;  state: Exp;
Removed menu-specific network mode support in favor in new stuff
in newmenu.c
----------------------------
revision 1.37
date: 1994/11/08 21:21:38;  author: john;  state: Exp;
Made Esc exit joystick calibration.
----------------------------
revision 1.36
date: 1994/11/08 15:14:42;  author: john;  state: Exp;
Added more calls so net doesn't die in net game.
----------------------------
revision 1.35
date: 1994/11/08 14:59:12;  author: john;  state: Exp;
Added code to respond to network while in menus.
----------------------------
revision 1.34
date: 1994/10/24 19:56:32;  author: john;  state: Exp;
Made the new user setup prompt for config options.
----------------------------
revision 1.33
date: 1994/10/22 14:11:52;  author: mike;  state: Exp;
Suppress compiler warning message.
----------------------------
revision 1.32
date: 1994/10/19 12:44:24;  author: john;  state: Exp;
Added hours field to player structure.
----------------------------
revision 1.31
date: 1994/10/17 13:07:13;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.30
date: 1994/10/13 21:41:12;  author: john;  state: Exp;
MAde Esc exit out of joystick calibration.
----------------------------
revision 1.29
date: 1994/10/13 19:22:27;  author: john;  state: Exp;
Added separate config saves for different devices.
Made all the devices work together better, such as mice won't
get read when you're playing with the joystick.
----------------------------
revision 1.28
date: 1994/10/13 11:40:18;  author: john;  state: Exp;
Took out warnings.
----------------------------
revision 1.27
date: 1994/10/13 11:35:23;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.26
date: 1994/10/11 21:29:03;  author: matt;  state: Exp;
Made a bunch of menus have good initial selected values
----------------------------
revision 1.25
date: 1994/10/11 17:08:39;  author: john;  state: Exp;
Added sliders for volume controls.
----------------------------
revision 1.24
date: 1994/10/10 17:59:21;  author: john;  state: Exp;
Neatend previous.
----------------------------
revision 1.23
date: 1994/10/10 17:57:59;  author: john;  state: Exp;
Neatend previous.
----------------------------
revision 1.22
date: 1994/10/10 17:56:11;  author: john;  state: Exp;
Added messagebox that tells that config has been saved.
----------------------------
revision 1.21
date: 1994/09/30 12:37:26;  author: john;  state: Exp;
Added midi,digi volume to configuration.
----------------------------
revision 1.20
date: 1994/09/22 16:14:14;  author: john;  state: Exp;
Redid intro sequecing.
----------------------------
revision 1.19
date: 1994/09/19 18:50:15;  author: john;  state: Exp;
Added switch to disable joystick.
----------------------------
revision 1.18
date: 1994/09/12 11:47:36;  author: john;  state: Exp;
Made stupid cruise work better.  Make kconfig values get
read/written to disk.
----------------------------
revision 1.17
date: 1994/09/10 15:46:47;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.16
date: 1994/09/06 19:35:44;  author: john;  state: Exp;
Fixed bug that didn';t load new size .cal file.
----------------------------
revision 1.15
date: 1994/09/06 14:51:58;  author: john;  state: Exp;
Added sensitivity adjustment, fixed bug with joystick button not
staying down.
----------------------------
revision 1.14
date: 1994/09/02 16:13:47;  author: john;  state: Exp;
Made keys fill in position.
----------------------------
revision 1.13
date: 1994/08/31 17:58:50;  author: john;  state: Exp;
Made a bit simpler.
----------------------------
revision 1.12
date: 1994/08/31 14:17:54;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1994/08/31 14:10:56;  author: john;  state: Exp;
Made keys not work when KEY_DELETE pressed.
----------------------------
revision 1.10
date: 1994/08/31 13:40:47;  author: mike;  state: Exp;
Change constant
----------------------------
revision 1.9
date: 1994/08/31 12:56:27;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1994/08/30 20:38:29;  author: john;  state: Exp;
Add more config stuff..
----------------------------
revision 1.7
date: 1994/08/30 16:37:25;  author: john;  state: Exp;
Added menu options to set controls.
----------------------------
revision 1.6
date: 1994/08/30 09:27:18;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/08/30 09:12:01;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1994/08/29 21:18:32;  author: john;  state: Exp;
First version of new keyboard/oystick remapping stuff.
----------------------------
revision 1.3
date: 1994/08/24 19:00:29;  author: john;  state: Exp;
Changed key_down_time to return fixed seconds instead of
milliseconds.
----------------------------
revision 1.2
date: 1994/08/17 16:50:37;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.1
date: 1994/08/17 10:07:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/joydefs.h,v
Working file: main/joydefs.h
head: 1.2
description: Variables for joystick settings.
----------------------------
revision 1.2
date: 1995/10/15 19:20:46;  author: allender;  state: Exp;
added Dave D's new controller code
----------------------------
revision 1.1
date: 1995/05/16 15:58:20;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:12;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.12
date: 1995/01/25 14:37:52;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.11
date: 1994/10/13 11:35:43;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.10
date: 1994/09/10 15:46:49;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.9
date: 1994/09/06 14:51:29;  author: john;  state: Exp;
Added sensitivity adjustment, fixed bug with joystick button not
staying down.
----------------------------
revision 1.8
date: 1994/08/31 12:56:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/08/30 16:37:07;  author: john;  state: Exp;
Added menu options to set controls.
----------------------------
revision 1.6
date: 1994/08/29 21:18:33;  author: john;  state: Exp;
First version of new keyboard/oystick remapping stuff.
----------------------------
revision 1.5
date: 1994/08/24 19:00:30;  author: john;  state: Exp;
Changed key_down_time to return fixed seconds instead of
milliseconds.
----------------------------
revision 1.4
date: 1994/08/17 16:50:04;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.3
date: 1994/07/01 10:55:18;  author: john;  state: Exp;
Added analog joystick throttle
----------------------------
revision 1.2
date: 1994/06/30 20:04:46;  author: john;  state: Exp;
Added -joydef support.
----------------------------
revision 1.1
date: 1994/06/30 18:08:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/kconfig.c,v
Working file: main/kconfig.c
head: 1.18
description: Routines to configure keyboard, joystick, etc..
----------------------------
revision 1.18
date: 1995/10/29 20:14:10;  author: allender;  state: Exp;
don't read mouse 30x/sec.  Still causes problems -- left with
exposure at > 60 frame/s
----------------------------
revision 1.17
date: 1995/10/27 14:16:35;  author: allender;  state: Exp;
don't set lastreadtime when doing mouse stuff if we didn't
read mouse this frame
----------------------------
revision 1.16
date: 1995/10/24 18:10:22;  author: allender;  state: Exp;
get mouse stuff working right this time?
----------------------------
revision 1.15
date: 1995/10/23 14:50:50;  author: allender;  state: Exp;
corrected values for control type in kc_set_controls
----------------------------
revision 1.14
date: 1995/10/21 16:36:54;  author: allender;  state: Exp;
fix up mouse read time
----------------------------
revision 1.13
date: 1995/10/20 00:46:53;  author: allender;  state: Exp;
fix up mouse reading problem
----------------------------
revision 1.12
date: 1995/10/19 13:36:38;  author: allender;  state: Exp;
mouse support in kconfig screens
----------------------------
revision 1.11
date: 1995/10/18 21:06:06;  author: allender;  state: Exp;
removed Int3 in cruise stuff -- was in there for debugging and
now not needed
----------------------------
revision 1.10
date: 1995/10/17 13:12:47;  author: allender;  state: Exp;
fixed config menus so buttons don't get configured
----------------------------
revision 1.9
date: 1995/10/15 23:07:55;  author: allender;  state: Exp;
added return key as second button for primary fire
----------------------------
revision 1.8
date: 1995/09/05 08:49:47;  author: allender;  state: Exp;
change 'PADRTN' label to 'ENTER'
----------------------------
revision 1.7
date: 1995/09/01 15:38:22;  author: allender;  state: Exp;
took out cap of reading controls max 25 times/sec
----------------------------
revision 1.6
date: 1995/09/01 13:33:59;  author: allender;  state: Exp;
erase all old text
----------------------------
revision 1.5
date: 1995/08/18 10:20:55;  author: allender;  state: Exp;
keep controls reading to 25 times/s max so fast
frame rates don't mess up control reading
----------------------------
revision 1.4
date: 1995/07/28 15:43:13;  author: allender;  state: Exp;
make mousebutton control primary fire
----------------------------
revision 1.3
date: 1995/07/26 17:04:32;  author: allender;  state: Exp;
new defaults and make joystick main button work correctly
----------------------------
revision 1.2
date: 1995/07/17 08:51:03;  author: allender;  state: Exp;
fixed up configuration menus to look right
----------------------------
revision 1.1
date: 1995/05/16 15:26:56;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.7
date: 1995/03/30 16:36:56;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.6
date: 1995/03/21 14:39:31;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.5
date: 1995/03/16 10:53:07;  author: john;  state: Exp;
Move VFX center to Shift+Z instead of Enter because
it conflicted with toggling HUD on/off.
----------------------------
revision 2.4
date: 1995/03/10 13:47:24;  author: john;  state: Exp;
Added head tracking sensitivity.
----------------------------
revision 2.3
date: 1995/03/09 18:07:06;  author: john;  state: Exp;
Fixed bug with iglasses tracking not "centering" right.
Made VFX have bright headlight lighting.
----------------------------
revision 2.2
date: 1995/03/08 15:32:39;  author: john;  state: Exp;
Made VictorMaxx head tracking use Greenleaf code.
----------------------------
revision 2.1
date: 1995/03/06 15:23:31;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:29:26;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.105
date: 1995/02/22 14:11:58;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.104
date: 1995/02/13 12:01:56;  author: john;  state: Exp;
Fixed bug with buggin not mmaking player faster.
----------------------------
revision 1.103
date: 1995/02/09 22:00:46;  author: john;  state: Exp;
Added i-glasses tracking.
----------------------------
revision 1.102
date: 1995/01/24 21:25:47;  author: john;  state: Exp;
Fixed bug with slide/bank on not working with
Cyberman heading.,
----------------------------
revision 1.101
date: 1995/01/24 16:09:56;  author: john;  state: Exp;
Fixed bug with Wingman extreme customize text overwriting title.
----------------------------
revision 1.100
date: 1995/01/24 12:37:46;  author: john;  state: Exp;
Made Esc exit key define menu.
----------------------------
revision 1.99
date: 1995/01/23 23:54:43;  author: matt;  state: Exp;
Made keypad enter work
----------------------------
revision 1.98
date: 1995/01/23 16:42:00;  author: john;  state: Exp;
Made the external controls always turn banking off, leveling off
and passed automap state thru to the tsr.
----------------------------
revision 1.97
date: 1995/01/12 11:41:33;  author: john;  state: Exp;
Added external control reading.
----------------------------
revision 1.96
date: 1995/01/05 10:43:58;  author: mike;  state: Exp;
Handle case when timer_get_fixed_seconds() goes negative.  Happens at 9.1
hours.  Previously, joystick would stop functioning.  Now will work.
----------------------------
revision 1.95
date: 1994/12/29 11:17:38;  author: john;  state: Exp;
Took out some warnings and mprintf.
----------------------------
revision 1.94
date: 1994/12/29 11:07:41;  author: john;  state: Exp;
Fixed Thrustmaster and Logitech Wingman extreme
Hat by reading the y2 axis during the center stage
of the calibration, and using 75, 50, 27, and 3 %
as values for the 4 positions.
----------------------------
revision 1.93
date: 1994/12/27 12:16:20;  author: john;  state: Exp;
Fixed bug with slide on not working with joystick or mouse buttons.
----------------------------
revision 1.92
date: 1994/12/20 10:34:15;  author: john;  state: Exp;
Made sensitivity work for mouse & joystick and made
it only affect, pitch, heading, and roll.
----------------------------
revision 1.91
date: 1994/12/16 00:11:23;  author: matt;  state: Exp;
Made delete key act normally when debug out
----------------------------
revision 1.90
date: 1994/12/14 17:41:15;  author: john;  state: Exp;
Added more buttons so that  Yoke would work.
----------------------------
revision 1.89
date: 1994/12/13 17:25:35;  author: allender;  state: Exp;
Added Assert for bogus time for joystick reading.
----------------------------
revision 1.88
date: 1994/12/13 14:48:01;  author: john;  state: Exp;
Took out some debugging mprintf's
----------------------------
revision 1.87
date: 1994/12/13 14:43:02;  author: john;  state: Exp;
Took out the code in kconfig to build direction array.
Called kc_set_controls after selecting a new control type.
----------------------------
revision 1.86
date: 1994/12/13 01:11:32;  author: john;  state: Exp;
Fixed bug with message clearing overwriting 
right border.
----------------------------
revision 1.85
date: 1994/12/12 00:35:58;  author: john;  state: Exp;
Added or thing for keys.
----------------------------
revision 1.84
date: 1994/12/09 17:08:06;  author: john;  state: Exp;
Made mouse a bit less sensitive.
----------------------------
revision 1.83
date: 1994/12/09 16:04:00;  author: john;  state: Exp;
Increased mouse sensitivity.
----------------------------
revision 1.82
date: 1994/12/09 00:41:26;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.81
date: 1994/12/08 11:50:37;  author: john;  state: Exp;
Made strcpy only copy corect number of chars,.
----------------------------
revision 1.80
date: 1994/12/07 16:16:06;  author: john;  state: Exp;
Added command to check to see if a joystick axes has been used.
----------------------------
revision 1.79
date: 1994/12/07 14:52:28;  author: yuan;  state: Exp;
Localization 492
----------------------------
revision 1.78
date: 1994/12/07 13:37:40;  author: john;  state: Exp;
Made the joystick thrust work in reverse.
----------------------------
revision 1.77
date: 1994/12/07 11:28:24;  author: matt;  state: Exp;
Did a little localization support
----------------------------
revision 1.76
date: 1994/12/04 12:30:03;  author: john;  state: Exp;
Made the Thrustmaster stick read every frame, not every 10 frames,
because it uses analog axis as buttons.
----------------------------
revision 1.75
date: 1994/12/03 22:35:25;  author: yuan;  state: Exp;
Localization 412
----------------------------
revision 1.74
date: 1994/12/03 15:39:24;  author: john;  state: Exp;
Made numeric keypad move in conifg.
----------------------------
revision 1.73
date: 1994/12/01 16:23:39;  author: john;  state: Exp;
Fixed include mistake.
----------------------------
revision 1.72
date: 1994/12/01 16:07:57;  author: john;  state: Exp;
Fixed bug that disabled joystick in automap because it used gametime, which is
paused during automap. Fixed be used timer_Get_fixed_seconds instead of GameTime.
----------------------------
revision 1.71
date: 1994/12/01 12:30:49;  author: john;  state: Exp;
Made Ctrl+D delete, not Ctrl+E
----------------------------
revision 1.70
date: 1994/12/01 11:52:52;  author: john;  state: Exp;
Added default values for GamePad.
----------------------------
revision 1.69
date: 1994/11/30 00:59:12;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.68
date: 1994/11/29 03:45:50;  author: john;  state: Exp;
Added joystick sensitivity; Added sound channels to detail menu.  Removed -maxchannels
command line arg.
----------------------------
revision 1.67
date: 1994/11/27 23:13:44;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.66
date: 1994/11/27 19:52:12;  author: matt;  state: Exp;
Made screen shots work in a few more places
----------------------------
revision 1.65
date: 1994/11/22 16:54:50;  author: mike;  state: Exp;
autorepeat on missiles.
----------------------------
revision 1.64
date: 1994/11/21 11:16:17;  author: rob;  state: Exp;
Changed calls to GameLoop to calls to multi_menu_poll and changed
conditions under which they are called.
----------------------------
revision 1.63
date: 1994/11/19 15:14:48;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.62
date: 1994/11/18 23:37:56;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.61
date: 1994/11/17 13:36:35;  author: rob;  state: Exp;
Added better network hook in kconfig menu.
----------------------------
revision 1.60
date: 1994/11/14 20:09:13;  author: john;  state: Exp;
Made Tab be default for automap.
----------------------------
revision 1.59
date: 1994/11/13 16:34:07;  author: matt;  state: Exp;
Fixed victormaxx angle conversions
----------------------------
revision 1.58
date: 1994/11/12 14:47:05;  author: john;  state: Exp;
Added support for victor head tracking.
----------------------------
revision 1.57
date: 1994/11/08 15:14:55;  author: john;  state: Exp;
Added more calls so net doesn't die in net game.
----------------------------
revision 1.56
date: 1994/11/07 14:01:07;  author: john;  state: Exp;
Changed the gamma correction sequencing.
----------------------------
revision 1.55
date: 1994/11/01 16:40:08;  author: john;  state: Exp;
Added Gamma correction.
----------------------------
revision 1.54
date: 1994/10/25 23:09:26;  author: john;  state: Exp;
Made the automap key configurable.
----------------------------
revision 1.53
date: 1994/10/25 13:11:59;  author: john;  state: Exp;
Made keys the way Adam speced 'em for final game.
----------------------------
revision 1.52
date: 1994/10/24 17:44:22;  author: john;  state: Exp;
Added stereo channel reversing.
----------------------------
revision 1.51
date: 1994/10/22 13:23:18;  author: john;  state: Exp;
Made default rear view key be R.
----------------------------
revision 1.50
date: 1994/10/22 13:20:09;  author: john;  state: Exp;
Took out toggle primary/secondary weapons.  Fixed black
background for 'axes' and 'buttons' text.
----------------------------
revision 1.49
date: 1994/10/21 15:20:15;  author: john;  state: Exp;
Made PrtScr do screen dump, not F2.
----------------------------
revision 1.48
date: 1994/10/21 13:41:36;  author: john;  state: Exp;
Allowed F2 to screen dump.
----------------------------
revision 1.47
date: 1994/10/17 13:07:05;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.46
date: 1994/10/14 15:30:22;  author: john;  state: Exp;
Added Cyberman default positions.
----------------------------
revision 1.45
date: 1994/10/14 15:24:54;  author: john;  state: Exp;
Made Cyberman work with config.
----------------------------
revision 1.44
date: 1994/10/14 12:46:04;  author: john;  state: Exp;
Added the ability to reset all to default.
----------------------------
revision 1.43
date: 1994/10/14 12:18:31;  author: john;  state: Exp;
Made mouse invert axis always be 0 or 1.
----------------------------
revision 1.42
date: 1994/10/14 12:16:03;  author: john;  state: Exp;
Changed code so that by doing DEL+F12 saves the current kconfig
values as default. Added support for drop_bomb key.  Took out
unused slots for keyboard.  Made keyboard use control_type of 0
save slots.
----------------------------
revision 1.41
date: 1994/10/13 21:27:02;  author: john;  state: Exp;
Made axis invert value always be 0 or 1.
----------------------------
revision 1.40
date: 1994/10/13 20:18:15;  author: john;  state: Exp;
Added some more system keys, such as F? and CAPSLOCK.
----------------------------
revision 1.39
date: 1994/10/13 19:22:29;  author: john;  state: Exp;
Added separate config saves for different devices.
Made all the devices work together better, such as mice won't
get read when you're playing with the joystick.
----------------------------
revision 1.38
date: 1994/10/13 15:41:57;  author: mike;  state: Exp;
Remove afterburner.
=============================================================================
RCS file: /Smoke/miner/source/main/kconfig.h,v
Working file: main/kconfig.h
head: 1.1
description: Prototypes for reading controls
----------------------------
revision 1.1
date: 1995/05/16 15:58:27;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/05/16 15:58:27;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:29:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.23
date: 1995/01/12 11:41:44;  author: john;  state: Exp;
Added external control reading.
----------------------------
revision 1.22
date: 1994/12/07 16:15:30;  author: john;  state: Exp;
Added command to check to see if a joystick axes has been used.
----------------------------
revision 1.21
date: 1994/11/29 03:46:29;  author: john;  state: Exp;
Added joystick sensitivity; Added sound channels to detail menu.  Removed -maxchannels
command line arg.
----------------------------
revision 1.20
date: 1994/11/22 16:54:45;  author: mike;  state: Exp;
autorepeat on missiles.
----------------------------
revision 1.19
date: 1994/11/07 14:01:27;  author: john;  state: Exp;
Changed the gamma correction sequencing.
----------------------------
revision 1.18
date: 1994/11/01 16:40:02;  author: john;  state: Exp;
Added Gamma correction.
----------------------------
revision 1.17
date: 1994/10/25 23:09:24;  author: john;  state: Exp;
Made the automap key configurable.
----------------------------
revision 1.16
date: 1994/10/24 19:56:51;  author: john;  state: Exp;
Made the new user setup prompt for config options.
----------------------------
revision 1.15
date: 1994/10/24 17:44:18;  author: john;  state: Exp;
Added stereo channel reversing.
----------------------------
revision 1.14
date: 1994/10/22 13:19:33;  author: john;  state: Exp;
Took out toggle primary/secondary weapons.  Fixed black
background for 'axes' and 'buttons' text.
----------------------------
revision 1.13
date: 1994/10/17 13:06:51;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.12
date: 1994/10/14 12:14:47;  author: john;  state: Exp;
Changed code so that by doing DEL+F12 saves the current kconfig
values as default. Added support for drop_bomb key.  Took out
unused slots for keyboard.  Made keyboard use control_type of 0
save slots.
----------------------------
revision 1.11
date: 1994/10/13 19:21:33;  author: john;  state: Exp;
Added separate config saves for different devices.
Made all the devices work together better, such as mice won't
get read when you're playing with the joystick.
----------------------------
revision 1.10
date: 1994/10/13 15:18:41;  author: john;  state: Exp;
Started ripping out old afterburner, show message, show automap
keys in the keyboard config stuff.
----------------------------
revision 1.9
date: 1994/10/13 11:35:27;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.8
date: 1994/10/06 14:10:50;  author: matt;  state: Exp;
New function reset_cruise()
----------------------------
revision 1.7
date: 1994/10/03 14:58:25;  author: john;  state: Exp;
Added rear_view_down_state so that the rear view can
work like the automap.
----------------------------
revision 1.6
date: 1994/09/30 12:37:25;  author: john;  state: Exp;
Added midi,digi volume to configuration.
----------------------------
revision 1.5
date: 1994/09/19 18:49:59;  author: john;  state: Exp;
Added switch to disable joystick.
----------------------------
revision 1.4
date: 1994/09/15 16:11:21;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.3
date: 1994/09/12 11:47:38;  author: john;  state: Exp;
Made stupid cruise work better.  Make kconfig values get
read/written to disk.
----------------------------
revision 1.2
date: 1994/09/10 15:46:55;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.1
date: 1994/09/10 13:51:40;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/kmatrix.c,v
Working file: main/kmatrix.c
head: 1.6
description: Kill matrix displayed at end of level.
----------------------------
revision 1.6
date: 1995/09/24 10:57:48;  author: allender;  state: Exp;
made any key move off of kill matrix screen as text indicates it should
----------------------------
revision 1.5
date: 1995/08/18 08:33:05;  author: allender;  state: Exp;
fixed text problem with top level player names
----------------------------
revision 1.4
date: 1995/07/26 17:03:05;  author: allender;  state: Exp;
sort of fixed spacing for mac
----------------------------
revision 1.3
date: 1995/06/06 15:36:14;  author: allender;  state: Exp;
be sure to bitblt to screen inside of kmatrix loop
----------------------------
revision 1.2
date: 1995/06/02 07:47:15;  author: allender;  state: Exp;
removed bogus include files
----------------------------
revision 1.1
date: 1995/05/16 15:27:07;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/21 08:38:20;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.1
date: 1995/03/06 15:22:54;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:25:56;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.19
date: 1995/02/15 14:47:23;  author: john;  state: Exp;
Added code to keep track of kills during endlevel.
----------------------------
revision 1.18
date: 1995/02/08 11:00:06;  author: rob;  state: Exp;
Moved string to localized file
----------------------------
revision 1.17
date: 1995/02/01 23:45:55;  author: rob;  state: Exp;
Fixed string.
----------------------------
revision 1.16
date: 1995/01/30 21:47:11;  author: rob;  state: Exp;
Added a line of instructions.
----------------------------
revision 1.15
date: 1995/01/20 16:58:43;  author: rob;  state: Exp;
careless careless careless... 
----------------------------
revision 1.14
date: 1995/01/20 13:43:48;  author: rob;  state: Exp;
Longer time to view.
----------------------------
revision 1.13
date: 1995/01/20 13:42:34;  author: rob;  state: Exp;
Fixed sorting bug.
----------------------------
revision 1.12
date: 1995/01/19 17:35:21;  author: rob;  state: Exp;
Fixed coloration of player names in team mode.
----------------------------
revision 1.11
date: 1995/01/16 21:26:15;  author: rob;  state: Exp;
Fixed it!!
----------------------------
revision 1.10
date: 1995/01/16 18:55:41;  author: rob;  state: Exp;
Added include of network.h
----------------------------
revision 1.9
date: 1995/01/16 18:22:35;  author: rob;  state: Exp;
Fixed problem with signs.
----------------------------
revision 1.8
date: 1995/01/12 16:07:51;  author: rob;  state: Exp;
ADded sorting before display.
----------------------------
revision 1.7
date: 1995/01/04 08:46:53;  author: rob;  state: Exp;
JOHN CHECKED IN FOR ROB !!!
----------------------------
revision 1.6
date: 1994/12/09 20:17:20;  author: yuan;  state: Exp;
Touched up
----------------------------
revision 1.5
date: 1994/12/09 19:46:35;  author: yuan;  state: Exp;
Localized the sucker.
----------------------------
revision 1.4
date: 1994/12/09 19:24:58;  author: rob;  state: Exp;
Yuan's fix to the centering.
----------------------------
revision 1.3
date: 1994/12/09 19:02:37;  author: yuan;  state: Exp;
Cleaned up a bit.
----------------------------
revision 1.2
date: 1994/12/09 16:19:46;  author: yuan;  state: Exp;
kill matrix stuff.
----------------------------
revision 1.1
date: 1994/12/09 15:08:58;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/kmatrix.h,v
Working file: main/kmatrix.h
head: 1.1
description: Kill matrix.
----------------------------
revision 1.1
date: 1995/05/16 15:58:35;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:51;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1995/02/15 14:47:39;  author: john;  state: Exp;
Added code to keep track of kills during endlevel.
----------------------------
revision 1.2
date: 1994/12/09 16:19:46;  author: yuan;  state: Exp;
kill matrix stuff.
----------------------------
revision 1.1
date: 1994/12/09 15:58:33;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/laser.c,v
Working file: main/laser.c
head: 1.11
description: This will contain the laser code
----------------------------
revision 1.1
date: 1993/11/29 17:19:02;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/laser.h,v
Working file: main/laser.h
head: 1.1
description: Definitions for the laser code.
----------------------------
revision 1.1
date: 1995/05/16 15:58:43;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:27;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.50
date: 1995/02/01 21:03:44;  author: john;  state: Exp;
Lintified.
----------------------------
revision 1.49
date: 1995/02/01 16:34:11;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.48
date: 1995/01/31 16:16:16;  author: mike;  state: Exp;
Separate smart blobs for robot and player.
----------------------------
revision 1.47
date: 1995/01/27 17:02:55;  author: mike;  state: Exp;
Add LASER_ID -- why wasn't this added in June?
----------------------------
revision 1.46
date: 1995/01/25 10:53:27;  author: mike;  state: Exp;
make badass damage go through grates.
----------------------------
revision 1.45
date: 1994/12/12 17:17:32;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.44
date: 1994/12/04 16:17:23;  author: mike;  state: Exp;
spruce up homing missile behavior.
----------------------------
revision 1.43
date: 1994/12/03 12:48:30;  author: mike;  state: Exp;
make homing missile tracking not frame rate dependent (more-or-less)
----------------------------
revision 1.42
date: 1994/10/12 08:04:54;  author: mike;  state: Exp;
Clean up proximity/homing mess.
----------------------------
revision 1.41
date: 1994/10/09 20:07:04;  author: rob;  state: Exp;
Change prototype for do_laser_firing
----------------------------
revision 1.40
date: 1994/10/09 00:15:48;  author: mike;  state: Exp;
Add constants for super mech missile, regular mech missile, silent spreadfire.
----------------------------
revision 1.39
date: 1994/10/08 19:52:09;  author: rob;  state: Exp;
Added new weapon fire flags.
----------------------------
revision 1.38
date: 1994/10/07 15:31:12;  author: mike;  state: Exp;
Prototypes for new laser functions which don't necessarily make sound.
----------------------------
revision 1.37
date: 1994/10/05 17:08:29;  author: matt;  state: Exp;
Fixed a couple of small bugs, and made homing missiles alternate sides
----------------------------
revision 1.36
date: 1994/09/28 14:28:55;  author: rob;  state: Exp;
Added firing of missiles on networks/serial.
----------------------------
revision 1.35
date: 1994/09/24 14:17:02;  author: mike;  state: Exp;
Prototype do_laser_firing.
----------------------------
revision 1.34
date: 1994/09/23 11:36:49;  author: mike;  state: Exp;
Prototype Laser_create_new_easy.
----------------------------
revision 1.33
date: 1994/09/20 11:55:01;  author: mike;  state: Exp;
Fix bug.
----------------------------
revision 1.32
date: 1994/09/20 11:48:34;  author: mike;  state: Exp;
Change spreadfire laser to use new bitmap. (Define SPREADFIRE_ID)
----------------------------
revision 1.31
date: 1994/09/15 16:31:28;  author: mike;  state: Exp;
Prototype object_to_object_visibility.
----------------------------
revision 1.30
date: 1994/09/10 17:31:40;  author: mike;  state: Exp;
Add thrust to weapons.
----------------------------
revision 1.29
date: 1994/09/08 14:49:44;  author: mike;  state: Exp;
Bunch of IDs for new weapon types.
----------------------------
revision 1.28
date: 1994/09/07 19:16:40;  author: mike;  state: Exp;
Homing missile.
----------------------------
revision 1.27
date: 1994/09/07 15:59:47;  author: mike;  state: Exp;
Kill FLARE_MAX_TIME (now defined in bitmaps.tbl), add PROXIMITY_ID (shame!), prototype do_laser_firing, do_missile_firing.
----------------------------
revision 1.26
date: 1994/09/03 15:22:41;  author: mike;  state: Exp;
Kill Projectile_player_fire prototype.
----------------------------
revision 1.25
date: 1994/09/02 16:39:00;  author: mike;  state: Exp;
IDs for primary weapons.
----------------------------
revision 1.24
date: 1994/09/02 11:55:54;  author: mike;  state: Exp;
Define some illegal constants.
----------------------------
revision 1.23
date: 1994/08/25 18:12:06;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.22
date: 1994/08/19 15:22:28;  author: mike;  state: Exp;
Define constant for MAX_LASER_LEVEL.
----------------------------
revision 1.21
date: 1994/08/13 12:20:47;  author: john;  state: Exp;
Made the networking uise the Players array.
----------------------------
revision 1.20
date: 1994/08/10 10:44:05;  author: john;  state: Exp;
Made net players fire..
----------------------------
revision 1.19
date: 1994/06/27 18:30:57;  author: mike;  state: Exp;
Add flares.
----------------------------
revision 1.18
date: 1994/06/09 15:32:37;  author: mike;  state: Exp;
Muzzle flash
----------------------------
revision 1.17
date: 1994/05/19 09:09:00;  author: mike;  state: Exp;
Move a bunch of laser variables to bm.h, I think.
Also, added Robot_laser_speed, instead of hard-coding Laser_speed/4.
----------------------------
revision 1.16
date: 1994/05/14 17:16:20;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.15
date: 1994/05/13 20:27:39;  author: john;  state: Exp;
Version II of John's new object code.
----------------------------
revision 1.14
date: 1994/04/20 15:06:47;  author: john;  state: Exp;
Neatend laser code and fixed some laser bugs.
----------------------------
revision 1.13
date: 1994/04/01 13:35:15;  author: matt;  state: Exp;
Cleaned up laser code a bit; moved some code here object.c to laser.c
----------------------------
revision 1.12
date: 1994/04/01 11:14:24;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.11
date: 1994/03/31 09:10:09;  author: matt;  state: Exp;
Added #define to turn crosshair off
----------------------------
revision 1.10
date: 1994/02/17 11:33:15;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.9
date: 1994/01/06 11:56:01;  author: john;  state: Exp;
Made lasers be lines, not purple blobs
----------------------------
revision 1.8
date: 1994/01/05 10:53:35;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.7
date: 1993/12/08 14:21:36;  author: john;  state: Exp;
Added ExplodeObject
----------------------------
revision 1.6
date: 1993/12/08 11:28:54;  author: john;  state: Exp;
Made lasers look like bolts.
----------------------------
revision 1.5
date: 1993/12/01 13:12:40;  author: john;  state: Exp;
made lasers frame-rate independant
----------------------------
revision 1.4
date: 1993/11/30 19:00:42;  author: john;  state: Exp;
lasers working kinda
----------------------------
revision 1.3
date: 1993/11/29 19:44:53;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/11/29 17:44:55;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/11/29 17:19:19;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/lighting.c,v
Working file: main/lighting.c
head: 1.4
description: Lighting functions.
----------------------------
revision 1.4
date: 1995/09/20 14:26:12;  author: allender;  state: Exp;
more optimizations(?) ala MK
----------------------------
revision 1.2
date: 1995/07/05 21:27:31;  author: allender;  state: Exp;
new and improved lighting code by MK!
----------------------------
revision 2.1
date: 1995/05/22 15:37:51;  author: champaign;  state: Exp;
FROM MIKE: New lighting code, maybe don't leave in
----------------------------
revision 2.0
date: 1995/02/27 11:27:33;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.43
date: 1995/02/22 13:57:10;  author: allender;  state: Exp;
remove anonymous union from object structure
----------------------------
revision 1.42
date: 1995/02/13 20:35:07;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.41
date: 1995/02/04 21:43:40;  author: matt;  state: Exp;
Changed an assert() to an int3() and deal with the bad case
----------------------------
revision 1.40
date: 1995/01/15 20:48:27;  author: mike;  state: Exp;
support light field for powerups.
----------------------------
revision 1.39
date: 1994/12/15 13:04:19;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.38
date: 1994/11/28 21:50:41;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.37
date: 1994/11/28 01:32:33;  author: mike;  state: Exp;
lighting optimization.
----------------------------
revision 1.36
date: 1994/11/15 12:01:00;  author: john;  state: Exp;
Changed a bunch of code that uses timer_get_milliseconds to 
timer_get_fixed_Seconds.  
----------------------------
revision 1.35
date: 1994/10/31 21:56:07;  author: matt;  state: Exp;
Fixed bug & added error checking
----------------------------
revision 1.34
date: 1994/10/21 11:24:57;  author: mike;  state: Exp;
Trap divide overflows in lighting.
----------------------------
revision 1.33
date: 1994/10/08 14:49:11;  author: matt;  state: Exp;
If viewer changed, don't do smooth lighting hack
----------------------------
revision 1.32
date: 1994/09/25 23:41:07;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.31
date: 1994/09/25 15:45:15;  author: matt;  state: Exp;
Added OBJ_LIGHT, a type of object that casts light
Added generalized lifeleft, and moved it to local_object
----------------------------
revision 1.30
date: 1994/09/11 15:48:27;  author: mike;  state: Exp;
Use vm_vec_mag_quick in place of vm_vec_mag in point_dist computation.
----------------------------
revision 1.29
date: 1994/09/08 21:44:49;  author: matt;  state: Exp;
Made lighting ramp 4x as fast; made only static (ambient) light ramp
up, but not headlight & dynamic light
----------------------------
revision 1.28
date: 1994/09/02 14:00:07;  author: matt;  state: Exp;
Simplified explode_object() & mutliple-stage explosions
----------------------------
revision 1.27
date: 1994/08/29 19:06:44;  author: mike;  state: Exp;
Make lighting proportional to square of distance, not linear.
----------------------------
revision 1.26
date: 1994/08/25 18:08:38;  author: matt;  state: Exp;
Made muzzle flash cast 3x as much light
----------------------------
revision 1.25
date: 1994/08/23 16:38:31;  author: mike;  state: Exp;
Key weapon light off bitmaps.tbl.
----------------------------
revision 1.24
date: 1994/08/13 12:20:44;  author: john;  state: Exp;
Made the networking uise the Players array.
----------------------------
revision 1.23
date: 1994/08/12 22:42:18;  author: john;  state: Exp;
Took away Player_stats; added Players array.
----------------------------
revision 1.22
date: 1994/07/06 10:19:22;  author: matt;  state: Exp;
Changed include
----------------------------
revision 1.21
date: 1994/06/28 13:20:22;  author: mike;  state: Exp;
Oops, fixed a dumb typo.
----------------------------
revision 1.20
date: 1994/06/28 12:53:25;  author: mike;  state: Exp;
Change lighting function for flares, make brighter and asynchronously flicker.
----------------------------
revision 1.19
date: 1994/06/27 18:31:15;  author: mike;  state: Exp;
Add flares.
----------------------------
revision 1.18
date: 1994/06/20 13:41:17;  author: matt;  state: Exp;
Added time-based gradual lighting hack for objects
Took out strobing robots
----------------------------
revision 1.17
date: 1994/06/19 16:25:54;  author: mike;  state: Exp;
Optimize lighting.
----------------------------
revision 1.16
date: 1994/06/17 18:08:08;  author: mike;  state: Exp;
Make robots cast more and variable light.
----------------------------
revision 1.15
date: 1994/06/13 15:15:55;  author: mike;  state: Exp;
Fix phantom light, every 64K milliseconds, muzzle flash would flash again.
=============================================================================
RCS file: /Smoke/miner/source/main/lighting.h,v
Working file: main/lighting.h
head: 1.1
description: Lighting system prototypes, structures, etc.
----------------------------
revision 1.1
date: 1995/05/16 15:58:51;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1994/11/28 21:50:56;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.5
date: 1994/06/07 16:51:58;  author: matt;  state: Exp;
Made object lighting work correctly; changed name of Ambient_light to
Dynamic_light; cleaned up polygobj object rendering a little.
----------------------------
revision 1.4
date: 1994/05/31 18:41:35;  author: matt;  state: Exp;
Added comments
----------------------------
revision 1.3
date: 1994/05/23 15:00:08;  author: mike;  state: Exp;
Change MIN_LIGHT_DIST.
----------------------------
revision 1.2
date: 1994/05/22 15:30:09;  author: mike;  state: Exp;
First version.
----------------------------
revision 1.1
date: 1994/05/22 15:16:44;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/loadpats.h,v
Working file: main/loadpats.h
head: 1.1
description: Function to load patches to the GUS...
----------------------------
revision 1.1
date: 1995/05/16 15:58:59;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1994/12/01 02:22:37;  author: john;  state: Exp;
Incorporated LOADPATS.EXE into our code.
----------------------------
revision 1.1
date: 1994/12/01 01:42:25;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/macnet.c,v
Working file: main/macnet.c
head: 1.4
description: macintosh specific networking code  
----------------------------
revision 1.4
date: 1995/11/03 12:55:18;  author: allender;  state: Exp;
shareware changes
----------------------------
revision 1.3
date: 1995/10/31 10:21:55;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.2
date: 1995/08/31 15:51:28;  author: allender;  state: Exp;
fixup structure for new format with appletalk
----------------------------
revision 1.1
date: 1995/08/15 13:00:20;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/macnet.h,v
Working file: main/macnet.h
head: 1.3
description: Header file for macintosh specific networking stuff
=============================================================================
RCS file: /Smoke/miner/source/main/mcockpit.h,v
Working file: main/mcockpit.h
head: 1.1
description: .
----------------------------
revision 1.1
date: 1995/05/16 15:59:06;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1994/05/30 19:28:16;  author: john;  state: Exp;
Moved functionality of mcockpit into 2d, ibitblt.
----------------------------
revision 1.2
date: 1994/05/11 11:19:21;  author: john;  state: Exp;
Made cockpit code be created at runtime.
----------------------------
revision 1.1
date: 1994/05/11 10:38:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/main/menu.c,v
Working file: main/menu.c
head: 1.1
description: Inferno main menu.
=============================================================================
RCS file: /Smoke/miner/source/main/menu.h,v
Working file: main/menu.h
head: 1.1
description: Menu prototypes and variables
----------------------------
revision 1.1
date: 1995/05/16 15:59:14;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/06 16:47:41;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.0
date: 1995/02/27 11:29:47;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.34
date: 1994/12/12 00:16:16;  author: john;  state: Exp;
Added auto-leveling flag.
----------------------------
revision 1.33
date: 1994/12/07 20:04:26;  author: mike;  state: Exp;
set Max_debris_objects.
----------------------------
revision 1.32
date: 1994/11/14 17:23:19;  author: rob;  state: Exp;
ADded extern for default difficulty settings.
----------------------------
revision 1.31
date: 1994/11/10 11:08:29;  author: mike;  state: Exp;
detail level stuff.
----------------------------
revision 1.30
date: 1994/11/05 14:05:53;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.29
date: 1994/11/02 11:59:44;  author: john;  state: Exp;
Moved menu out of game into inferno main loop.
----------------------------
revision 1.28
date: 1994/10/17 20:30:59;  author: john;  state: Exp;
Made the text for the difficulty labels global so that
the high score screen can print "rookie" or whatever.
----------------------------
revision 1.27
date: 1994/10/04 10:47:09;  author: matt;  state: Exp;
Made main menu remember selected item
----------------------------
revision 1.26
date: 1994/08/10 19:55:19;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.25
date: 1994/06/23 18:54:09;  author: matt;  state: Exp;
Cleaned up game start/menu interaction, and improved main menu a little
----------------------------
revision 1.24
date: 1994/06/21 12:11:50;  author: yuan;  state: Exp;
Fixed up menus and added HUDisplay messages.
----------------------------
revision 1.23
date: 1994/06/20 23:15:16;  author: yuan;  state: Exp;
Color switching capability for the menus.
----------------------------
revision 1.22
date: 1994/06/20 22:02:25;  author: yuan;  state: Exp;
Made menu GREEN by POPULAR DEMAND!!
----------------------------
revision 1.21
date: 1994/06/20 21:05:48;  author: yuan;  state: Exp;
Fixed up menus.
----------------------------
revision 1.20
date: 1994/06/20 19:19:29;  author: yuan;  state: Exp;
Tidied up the menu and the "message blocks" between levels, etc.
----------------------------
revision 1.19
date: 1994/06/17 18:01:10;  author: john;  state: Exp;
A bunch of new stuff by John
----------------------------
revision 1.18
date: 1994/05/16 09:37:22;  author: matt;  state: Exp;
Got rid of global continue_flag
----------------------------
revision 1.17
date: 1994/05/14 17:14:51;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.16
date: 1994/05/10 12:14:26;  author: yuan;  state: Exp;
Game save/load... Demo levels 1-5 added...
High scores fixed...
----------------------------
revision 1.15
date: 1994/05/05 09:21:21;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.14
date: 1994/04/29 14:55:40;  author: mike;  state: Exp;
Change some menu colors.
----------------------------
revision 1.13
date: 1994/04/28 18:04:36;  author: yuan;  state: Exp;
Gamesave added.
Trigger problem fixed (seg pointer is replaced by index now.)
----------------------------
revision 1.12
date: 1994/02/18 11:55:01;  author: yuan;  state: Exp;
Fixed menu to be called from game.
----------------------------
revision 1.11
date: 1994/02/10 17:45:39;  author: yuan;  state: Exp;
Integrated some hacks which still need to be fixed.
----------------------------
revision 1.10
date: 1994/02/01 22:50:23;  author: yuan;  state: Exp;
Final menu version for demo
----------------------------
revision 1.9
date: 1994/02/01 11:50:17;  author: yuan;  state: Exp;
Moved quit message down just a tiny bit
----------------------------
revision 1.8
date: 1994/01/31 17:30:16;  author: yuan;  state: Exp;
Fixed quit not disappearing problem
----------------------------
revision 1.7
date: 1994/01/31 12:25:20;  author: yuan;  state: Exp;
New menu stuff
----------------------------
revision 1.6
date: 1994/01/26 13:14:04;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/12/29 16:44:44;  author: yuan;  state: Exp;
Added some function definitions
----------------------------
revision 1.4
date: 1993/12/13 18:53:12;  author: yuan;  state: Exp;
Fixed dependency problem
----------------------------
revision 1.3
date: 1993/12/12 13:53:51;  author: yuan;  state: Exp;
Added menu and -g flag
----------------------------
revision 1.2
date: 1993/12/10 16:07:17;  author: yuan;  state: Exp;
Working on menu system.  Updated the title screen.
----------------------------
revision 1.1
date: 1993/12/10 12:45:27;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/main/mglobal.c,v
Working file: main/mglobal.c
head: 1.1
description: Global variables for main directory
----------------------------
revision 1.1
date: 1995/12/05 16:03:10;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1995/10/10 11:49:41;  author: allender;  state: Exp;
removed malloc of static data now in ai module
----------------------------
revision 1.2
date: 1995/07/12 12:48:52;  author: allender;  state: Exp;
malloc out edge_list global here, not static in automap.c
----------------------------
revision 1.1
date: 1995/05/16 15:27:40;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/14 18:24:37;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.1
date: 1995/03/06 16:47:23;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.0
date: 1995/02/27 11:30:00;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.43
date: 1995/01/19 17:00:53;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.42
date: 1994/12/05 14:23:53;  author: adam;  state: Exp;
changed default detail to max, not custom
----------------------------
revision 1.41
date: 1994/11/19 15:15:07;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.40
date: 1994/11/03 10:13:19;  author: yuan;  state: Exp;
Added #include "game.h"
----------------------------
revision 1.39
date: 1994/11/03 10:09:59;  author: matt;  state: Exp;
Properly initialize detail & difficulty levels
----------------------------
revision 1.38
date: 1994/10/30 14:11:21;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.37
date: 1994/10/26 15:21:30;  author: mike;  state: Exp;
detail level.
----------------------------
revision 1.36
date: 1994/09/22 10:46:12;  author: mike;  state: Exp;
Add difficulty levels.
----------------------------
revision 1.35
date: 1994/09/13 11:19:11;  author: mike;  state: Exp;
Add Next_missile_fire_time.
----------------------------
revision 1.34
date: 1994/08/31 19:25:34;  author: mike;  state: Exp;
GameTime and laser-firing limiting stuff added.
----------------------------
revision 1.33
date: 1994/08/11 18:58:53;  author: mike;  state: Exp;
Add Side_to_verts_int.
----------------------------
revision 1.32
date: 1994/07/21 19:01:38;  author: mike;  state: Exp;
Add Lsegment.
----------------------------
revision 1.31
date: 1994/07/21 13:11:24;  author: matt;  state: Exp;
Ripped out remants of old demo system, and added demo only system that
disables object movement and game options from menu.
----------------------------
revision 1.30
date: 1994/06/17 18:06:48;  author: matt;  state: Exp;
Made password be treated as lowercase, since cmdline parsing converts
everything to lowercase.
----------------------------
revision 1.29
date: 1994/03/15 16:33:04;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(Fixed structures too)
----------------------------
revision 1.28
date: 1994/02/17 11:32:45;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.27
date: 1994/02/16 17:08:43;  author: matt;  state: Exp;
Added needed include of 3d.h
----------------------------
revision 1.26
date: 1994/02/16 13:47:58;  author: mike;  state: Exp;
fix bugs so editor can compile out.
----------------------------
revision 1.25
date: 1994/02/11 21:52:13;  author: matt;  state: Exp;
Made password protection selectable by #define (and thus INFERNO.INI)
----------------------------
revision 1.24
date: 1994/02/10 15:35:56;  author: matt;  state: Exp;
Various changes to make editor compile out.
----------------------------
revision 1.23
date: 1994/02/02 12:34:29;  author: mike;  state: Exp;
take out BATS encryption.
----------------------------
revision 1.22
date: 1994/01/21 16:08:11;  author: matt;  state: Exp;
Added FrameCount variable
----------------------------
revision 1.21
date: 1994/01/06 17:13:10;  author: john;  state: Exp;
Added Video clip functionality
----------------------------
revision 1.20
date: 1993/12/08 17:45:08;  author: matt;  state: Exp;
Changed password again
----------------------------
revision 1.19
date: 1993/12/08 17:41:05;  author: matt;  state: Exp;
Changed password
----------------------------
revision 1.18
date: 1993/12/08 10:55:10;  author: mike;  state: Exp;
Add free_obj_list
----------------------------
revision 1.17
date: 1993/12/07 13:46:38;  author: john;  state: Exp;
Added Explosion bitmap array
----------------------------
revision 1.16
date: 1993/12/06 18:40:35;  author: matt;  state: Exp;
Changed object loading & handling
----------------------------
revision 1.15
date: 1993/12/05 22:47:48;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.14
date: 1993/12/01 11:44:11;  author: matt;  state: Exp;
Chagned Frfract to FrameTime
----------------------------
revision 1.13
date: 1993/12/01 00:27:11;  author: yuan;  state: Exp;
Implemented new bitmap structure system...
overall bitmap scheme still needs some work.
----------------------------
revision 1.12
date: 1993/11/19 17:21:59;  author: matt;  state: Exp;
Changed the bitmap number of object class UNICLASS
Removed static initialization for objects
----------------------------
revision 1.11
date: 1993/11/18 13:51:47;  author: mike;  state: Exp;
Add Classes, Class_views, Objects
----------------------------
revision 1.10
date: 1993/11/04 18:52:36;  author: matt;  state: Exp;
Made Vertices[] and Segment_points[] use same constant for size, since
they must be the same size anyway
----------------------------
revision 1.9
date: 1993/11/04 14:01:06;  author: matt;  state: Exp;
Mucked with include files
----------------------------
revision 1.8
date: 1993/10/26 13:58:42;  author: mike;  state: Exp;
Add password protection.
----------------------------
revision 1.7
date: 1993/10/14 18:05:50;  author: mike;  state: Exp;
Change Side_to_verts to use MAX_SIDES_PER_SEGMENT in place of CONNECTIVITY
----------------------------
revision 1.6
date: 1993/10/12 13:57:19;  author: john;  state: Exp;
added texture[]
----------------------------
revision 1.5
date: 1993/10/12 09:58:15;  author: mike;  state: Exp;
Move Side_to_verts here from eglobal.c, since it is needed in the game.
----------------------------
revision 1.4
date: 1993/10/09 15:52:30;  author: mike;  state: Exp;
Move test_pos, test_orient here from render.c.
----------------------------
revision 1.3
date: 1993/10/02 18:15:45;  author: mike;  state: Exp;
Killed include of segment.h, which gets included by inferno.h.
----------------------------
revision 1.2
date: 1993/09/23 17:54:24;  author: mike;  state: Exp;
Add Segment_points
----------------------------
revision 1.1
date: 1993/09/23 15:01:50;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/main/mission.c,v
Working file: main/mission.c
head: 1.4
description: Code to handle multiple missions
----------------------------
revision 1.4
date: 1995/10/31 10:21:40;  author: allender;  state: Exp;
no mission support in shareware
----------------------------
revision 1.3
date: 1995/10/21 22:53:04;  author: allender;  state: Exp;
moved missions to data folder
----------------------------
revision 1.2
date: 1995/09/13 08:47:29;  author: allender;  state: Exp;
made to work with Chris' direct stuff
----------------------------
revision 1.1
date: 1995/05/16 15:27:48;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.8
date: 1995/03/20 09:49:31;  author: mike;  state: Exp;
Remove eof char from comment which confused make depend, causing
no mission.obj: line in makefile.  Pretty stupid tool, huh?
----------------------------
revision 2.7
date: 1995/03/20 12:12:11;  author: john;  state: Exp;
Added ifdef SATURN.
----------------------------
revision 2.6
date: 1995/03/15 14:32:49;  author: john;  state: Exp;
Added code to force the Descent CD-rom in the drive.
----------------------------
revision 2.5
date: 1995/03/15 11:41:15;  author: john;  state: Exp;
Better Saturn CD-ROM support.
----------------------------
revision 2.4
date: 1995/03/14 18:24:14;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.3
date: 1995/03/07 14:19:41;  author: mike;  state: Exp;
More destination saturn stuff.
----------------------------
revision 2.2
date: 1995/03/06 23:09:03;  author: mike;  state: Exp;
more saturn stuff: make briefings work for saturn mission.
----------------------------
revision 2.1
date: 1995/03/06 16:47:48;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.0
date: 1995/02/27 11:27:49;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.14
date: 1995/02/15 11:30:37;  author: john;  state: Exp;
Fixed bug with potential mem overwrite on line 160.
----------------------------
revision 1.13
date: 1995/02/10 17:53:20;  author: matt;  state: Exp;
Changed mission name again
----------------------------
revision 1.12
date: 1995/02/10 17:35:38;  author: matt;  state: Exp;
Changed name of built-in mission
----------------------------
revision 1.11
date: 1995/02/07 17:13:51;  author: allender;  state: Exp;
removed return statement in load_mission so that built in mission will
actually set the Current_mission_name and _filename
----------------------------
revision 1.10
date: 1995/01/31 01:19:45;  author: matt;  state: Exp;
Made build_mission_list() sort missions by name
----------------------------
revision 1.9
date: 1995/01/30 13:49:58;  author: allender;  state: Exp;
changed build_mission_list in load_mission_by_name to include
anarchy levels.
----------------------------
revision 1.8
date: 1995/01/30 13:03:51;  author: matt;  state: Exp;
Fixed dumb mistake
----------------------------
revision 1.7
date: 1995/01/30 12:55:22;  author: matt;  state: Exp;
Added vars to point to mission names
----------------------------
revision 1.6
date: 1995/01/22 18:57:28;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.5
date: 1995/01/22 14:13:08;  author: matt;  state: Exp;
Added flag in mission list for anarchy-only missions
----------------------------
revision 1.4
date: 1995/01/21 23:13:12;  author: matt;  state: Exp;
Made high scores with (not work, really) with loaded missions
Don't give player high score when quit game
----------------------------
revision 1.3
date: 1995/01/21 16:27:12;  author: matt;  state: Exp;
Made endlevel briefing work with missions
----------------------------
revision 1.2
date: 1995/01/20 22:47:50;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.1
date: 1995/01/20 13:42:19;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/main/mission.h,v
Working file: main/mission.h
head: 1.1
description: Header for mission.h
----------------------------
revision 1.1
date: 1995/05/16 15:59:22;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:35;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1995/01/30 12:55:41;  author: matt;  state: Exp;
Added vars to point to mission names
----------------------------
revision 1.5
date: 1995/01/22 18:57:21;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.4
date: 1995/01/22 14:13:21;  author: matt;  state: Exp;
Added flag in mission list for anarchy-only missions
----------------------------
revision 1.3
date: 1995/01/21 23:13:12;  author: matt;  state: Exp;
Made high scores with (not work, really) with loaded missions
Don't give player high score when quit game
----------------------------
revision 1.2
date: 1995/01/20 22:47:53;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.1
date: 1995/01/20 13:42:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/modem.c,v
Working file: main/modem.c
head: 1.20
description: Modem support code
----------------------------
revision 1.20
date: 1995/11/14 14:26:07;  author: allender;  state: Exp;
fixed memory leak with conn_handle being reallocated
each time modem/serial game was started
----------------------------
revision 1.19
date: 1995/11/13 13:40:03;  author: allender;  state: Exp;
reset contest variable on modem game start
----------------------------
revision 1.18
date: 1995/11/08 17:15:55;  author: allender;  state: Exp;
fix horrendous bug which may affect registered in which
during modem play, player num gets set to the same value
when playing against a PC
----------------------------
revision 1.17
date: 1995/11/08 15:13:50;  author: allender;  state: Exp;
new faster(?) serial port reading/writing code for mac
----------------------------
revision 1.16
date: 1995/11/03 12:54:46;  author: allender;  state: Exp;
shareware changes
----------------------------
revision 1.15
date: 1995/10/31 10:21:24;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.14
date: 1995/10/24 18:10:53;  author: allender;  state: Exp;
save backdrop and restore when cmchoose is cancelled
----------------------------
revision 1.13
date: 1995/10/24 11:51:51;  author: allender;  state: Exp;
change hang up modem text to close link text
----------------------------
revision 1.12
date: 1995/10/17 13:18:40;  author: allender;  state: Exp;
com menu now has close box
----------------------------
revision 1.11
date: 1995/10/15 16:04:18;  author: allender;  state: Exp;
fixed up modem menus
----------------------------
revision 1.10
date: 1995/10/13 14:42:55;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1995/10/12 17:35:50;  author: allender;  state: Exp;
make CMChoose dialog work on secondary monitor
----------------------------
revision 1.8
date: 1995/09/18 17:01:55;  author: allender;  state: Exp;
CMAccept must *accept* the connection!!! DOH!
----------------------------
revision 1.7
date: 1995/09/13 08:49:49;  author: allender;  state: Exp;
modem stuff working a little better?
----------------------------
revision 1.6
date: 1995/09/12 15:46:52;  author: allender;  state: Exp;
fixed motorola compiler error
----------------------------
revision 1.5
date: 1995/09/12 14:19:52;  author: allender;  state: Exp;
new connection oriented tool stuff
----------------------------
revision 1.4
date: 1995/09/05 14:06:17;  author: allender;  state: Exp;
checkpoint again
----------------------------
revision 1.3
date: 1995/06/25 22:06:15;  author: allender;  state: Exp;
macintosh checkpoint
----------------------------
revision 1.2
date: 1995/06/08 12:55:14;  author: allender;  state: Exp;
start of macintosh port.  most ctb stuff in and working (except for modem)
----------------------------
revision 1.1
date: 1995/05/16 15:27:56;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.9
date: 1995/04/09 14:43:20;  author: john;  state: Exp;
Took out mem-overwrite error when > 25 char phone numbers.
----------------------------
revision 2.8
date: 1995/04/06 12:13:36;  author: john;  state: Exp;
Made phone numbers be 32 characters max.
----------------------------
revision 2.7
date: 1995/03/31 14:16:33;  author: john;  state: Exp;
Mode phone numbers 30 chars long.
----------------------------
revision 2.6
date: 1995/03/30 16:39:44;  author: john;  state: Exp;
Incread phone numbers to 25 characters.
----------------------------
revision 2.5
date: 1995/03/30 16:04:49;  author: john;  state: Exp;
Increased modem number length.
 
----------------------------
revision 2.4
date: 1995/03/29 15:33:23;  author: john;  state: Exp;
Took out RTS/CTS handshaking. Made it enabled with -RTSCTS.
----------------------------
revision 2.3
date: 1995/03/21 14:41:10;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.2
date: 1995/03/06 16:47:50;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.1
date: 1995/03/02 15:58:31;  author: john;  state: Exp;
Made menu support modex.
----------------------------
revision 2.0
date: 1995/02/27 11:32:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.157
date: 1995/02/15 15:35:12;  author: john;  state: Exp;
Added code to support modem tracking of kills during endlevel..
----------------------------
revision 1.156
date: 1995/02/15 15:27:16;  author: john;  state: Exp;
Mode modem code work with kills after you leave mine.
----------------------------
revision 1.155
date: 1995/02/12 19:53:04;  author: rob;  state: Exp;
Fixed up com flush.
----------------------------
revision 1.154
date: 1995/02/11 17:13:25;  author: rob;  state: Exp;
Took out code fill stuff.
----------------------------
revision 1.153
date: 1995/02/11 14:26:25;  author: rob;  state: Exp;
Added support for invul. controlcen.
----------------------------
revision 1.152
date: 1995/02/09 02:59:44;  author: mike;  state: Exp;
check code for 00066xxx bugs.
----------------------------
revision 1.151
date: 1995/02/08 19:18:56;  author: rob;  state: Exp;
Took out show IDs on HUD option.
----------------------------
revision 1.150
date: 1995/02/08 11:30:29;  author: rob;  state: Exp;
Fixed some pretty minor bugs.
----------------------------
revision 1.149
date: 1995/02/07 20:39:54;  author: rob;  state: Exp;
Added new modem game options for hud id's and automap show.
----------------------------
revision 1.148
date: 1995/02/06 18:42:09;  author: rob;  state: Exp;
Removed debugging crap.
----------------------------
revision 1.147
date: 1995/02/06 18:17:17;  author: rob;  state: Exp;
Fixed bug in killed tallys in modem game.
----------------------------
revision 1.146
date: 1995/02/05 17:04:29;  author: rob;  state: Exp;
Removed performance monitoring debug message.
----------------------------
revision 1.145
date: 1995/02/05 17:02:48;  author: rob;  state: Exp;
Speeding up cooperative/robo-anarchy modes.
----------------------------
revision 1.142
date: 1995/02/03 18:09:40;  author: rob;  state: Exp;
Small fixes to modem setup menu..
----------------------------
revision 1.141
date: 1995/02/03 11:12:15;  author: rob;  state: Exp;
Fixed a bug (again).  Somehow last checkin got lost.
----------------------------
revision 1.140
date: 1995/02/02 22:06:20;  author: rob;  state: Exp;
Removed a function frm shareware.
----------------------------
revision 1.139
date: 1995/02/01 23:20:32;  author: rob;  state: Exp;
Put baud rate in connect subtitle.
----------------------------
revision 1.138
date: 1995/01/30 21:22:11;  author: rob;  state: Exp;
Fixed bug in sync pack memcpy len.
----------------------------
revision 1.137
date: 1995/01/30 21:18:31;  author: rob;  state: Exp;
Simplified mission loading support.
----------------------------
revision 1.136
date: 1995/01/30 18:32:08;  author: rob;  state: Exp;
Added include of multibot.h
----------------------------
revision 1.135
date: 1995/01/30 17:16:04;  author: rob;  state: Exp;
Added new system for sending robots positions in modem games.
----------------------------
revision 1.134
date: 1995/01/30 15:29:44;  author: rob;  state: Exp;
Localizing.
----------------------------
revision 1.133
date: 1995/01/29 15:20:21;  author: rob;  state: Exp;
Fixed a bug in secret level sequencing for modem games.
----------------------------
revision 1.132
date: 1995/01/24 15:48:51;  author: rob;  state: Exp;
fixed error dialog.
----------------------------
revision 1.131
date: 1995/01/23 18:51:59;  author: rob;  state: Exp;
Added RTS/CTS to null-modem games to help IHHD folks.
Fixed a bad assert.
Added support for user-written mission files.
----------------------------
revision 1.130
date: 1995/01/23 16:01:36;  author: rob;  state: Exp;
More reliable syncing.
Added mission selection.
----------------------------
revision 1.129
date: 1995/01/20 22:47:35;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.128
date: 1995/01/19 18:18:05;  author: rob;  state: Exp;
Fixed kill list display.
----------------------------
revision 1.127
date: 1995/01/19 16:33:48;  author: rob;  state: Exp;
removed ambigous variable name in check_message.
----------------------------
revision 1.126
date: 1995/01/19 11:56:38;  author: rob;  state: Exp;
Take out Int3 that could never get hit.
----------------------------
revision 1.125
date: 1995/01/18 19:01:46;  author: rob;  state: Exp;
Added new asserts to check for proper game staus.
----------------------------
revision 1.124
date: 1995/01/18 15:39:25;  author: rob;  state: Exp;
Fixed title of serial menu.
----------------------------
revision 1.123
date: 1995/01/18 11:54:23;  author: rob;  state: Exp;
Fixing a bug with connect status.
----------------------------
revision 1.122
date: 1995/01/17 22:16:07;  author: rob;  state: Exp;
Changed timer calls.
----------------------------
revision 1.121
date: 1995/01/17 13:58:31;  author: rob;  state: Exp;
Fixed problem with not allowing non-anarchy modes in registered.
----------------------------
revision 1.120
date: 1995/01/15 15:46:18;  author: rob;  state: Exp;
Fixed lost character on serial menu messages.
----------------------------
revision 1.119
date: 1995/01/12 22:03:15;  author: rob;  state: Exp;
Added sound cue when connection is established.
----------------------------
revision 1.118
date: 1995/01/12 11:42:05;  author: john;  state: Exp;
added better UART detection.
/.
Works under OS/2 and DOS.
=============================================================================
RCS file: /Smoke/miner/source/main/modem.h,v
Working file: main/modem.h
head: 1.2
description: Header file for modem support
----------------------------
revision 1.2
date: 1995/09/05 14:06:40;  author: allender;  state: Exp;
checkpoint again
----------------------------
revision 1.1
date: 1995/05/16 15:59:29;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/21 08:40:38;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:31:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.18
date: 1994/11/22 17:12:05;  author: rob;  state: Exp;
Starting working on secret level fix for modem games.
----------------------------
revision 1.17
date: 1994/11/17 16:43:17;  author: rob;  state: Exp;
Added prototype for com_level_sync function.
----------------------------
revision 1.16
date: 1994/11/15 21:30:32;  author: rob;  state: Exp;
Added prototype for new menu hook.
----------------------------
revision 1.15
date: 1994/10/07 16:15:33;  author: rob;  state: Exp;
Changed calls to multi_send_position.
----------------------------
revision 1.14
date: 1994/10/07 12:52:24;  author: rob;  state: Exp;
Fixed some problems.
----------------------------
revision 1.13
date: 1994/10/07 11:25:47;  author: rob;  state: Exp;
Tried to fix modem to work with new multi stuff.  Still a bit jacked up, tho.
----------------------------
revision 1.12
date: 1994/10/05 19:14:50;  author: rob;  state: Exp;
Exported macros and arrays to support network object mapping.
----------------------------
revision 1.11
date: 1994/10/05 17:48:59;  author: rob;  state: Exp;
Several changes, most to end_of_level sequencing.
----------------------------
revision 1.10
date: 1994/10/05 14:22:54;  author: rob;  state: Exp;
Added com_end_level.
----------------------------
revision 1.9
date: 1994/09/30 18:37:22;  author: rob;  state: Exp;
Another day's worth of work.  Mostly menus, error checking.  Added
level checksums during sync, carrier detect during all com calls,
generic com_abort() procedure for bailing out, and nm_messagebox
handling of QUIT instead of HUD message (which never gets seen).
----------------------------
revision 1.8
date: 1994/09/29 20:55:16;  author: rob;  state: Exp;
Lots of changes.
----------------------------
revision 1.7
date: 1994/09/29 16:09:20;  author: rob;  state: Exp;
Added explode stuff.
----------------------------
revision 1.6
date: 1994/09/28 14:31:08;  author: rob;  state: Exp;
Added serial setup menu.
----------------------------
revision 1.5
date: 1994/09/27 15:02:49;  author: rob;  state: Exp;
Null modem basic routines working.  Sending DEAD messages and
missiles still need to be done.
----------------------------
revision 1.4
date: 1994/09/24 16:52:33;  author: rob;  state: Exp;
Added stubbed funcs for startup and stop of serial games.
----------------------------
revision 1.3
date: 1994/09/24 14:47:31;  author: rob;  state: Exp;
New function protos.
----------------------------
revision 1.2
date: 1994/09/22 17:53:29;  author: rob;  state: Exp;
First revision, not yet functional.
----------------------------
revision 1.1
date: 1994/09/22 12:39:25;  author: rob;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/morph.c,v
Working file: main/morph.c
head: 1.5
description: Morphing code
----------------------------
revision 1.5
date: 1995/08/23 21:36:10;  author: allender;  state: Exp;
mcc compiler warnings fixed
----------------------------
revision 1.4
date: 1995/08/12 11:34:19;  author: allender;  state: Exp;
removed #ifdef NEWDEMO -- always in
----------------------------
revision 1.3
date: 1995/07/28 15:39:51;  author: allender;  state: Exp;
removed fixdiv thing
----------------------------
revision 1.2
date: 1995/07/28 15:21:23;  author: allender;  state: Exp;
inverse magnitude fixup thing
----------------------------
revision 1.1
date: 1995/05/16 15:28:05;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/02/27 18:26:33;  author: john;  state: Exp;
Fixed bug that was caused by externing Polygon_models, and I had
changed the type of it in polyobj.c, thus causing page faults.
----------------------------
revision 2.0
date: 1995/02/27 11:27:44;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.35
date: 1995/02/22 14:45:37;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.34
date: 1995/01/14 19:16:52;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.33
date: 1995/01/03 20:38:36;  author: john;  state: Exp;
Externed MAX_MORPH_OBJECTS
----------------------------
revision 1.32
date: 1994/11/17 15:34:04;  author: matt;  state: Exp;
Attempt #4 to fix morph bug
----------------------------
revision 1.31
date: 1994/11/15 10:57:14;  author: matt;  state: Exp;
Tried again to fix morph
----------------------------
revision 1.30
date: 1994/11/14 14:06:45;  author: matt;  state: Exp;
Fixed stupid bug
----------------------------
revision 1.29
date: 1994/11/14 11:55:13;  author: matt;  state: Exp;
Added divide overflow check
----------------------------
revision 1.28
date: 1994/09/26 17:28:14;  author: matt;  state: Exp;
Made new multiple-object morph code work with the demo system
----------------------------
revision 1.27
date: 1994/09/26 15:39:56;  author: matt;  state: Exp;
Allow multiple simultaneous morphing objects
----------------------------
revision 1.26
date: 1994/09/11 22:44:59;  author: mike;  state: Exp;
quick on vecmat function.
----------------------------
revision 1.25
date: 1994/08/26 15:36:00;  author: matt;  state: Exp;
Made eclips usable on more than one object at a time
----------------------------
revision 1.24
date: 1994/07/25 00:02:46;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.23
date: 1994/07/12 12:39:58;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.22
date: 1994/06/28 11:54:51;  author: john;  state: Exp;
Made newdemo system record/play directly to/from disk, so
we don't need the 4 MB buffer anymore.
----------------------------
revision 1.21
date: 1994/06/27 15:53:01;  author: john;  state: Exp;
#define'd out the newdemo stuff
----------------------------
revision 1.20
date: 1994/06/16 14:30:19;  author: matt;  state: Exp;
Moved morph record data call to reder routine
----------------------------
revision 1.19
date: 1994/06/16 13:57:23;  author: matt;  state: Exp;
Added support for morphing objects in demos
----------------------------
revision 1.18
date: 1994/06/16 12:24:23;  author: matt;  state: Exp;
Made robot lighting not mess with Lighting_on so robots now night
according to this variable.
----------------------------
revision 1.17
date: 1994/06/14 16:55:01;  author: matt;  state: Exp;
Got rid of physics_object speed field
----------------------------
revision 1.16
date: 1994/06/08 21:16:29;  author: matt;  state: Exp;
Made objects spin while morphing
----------------------------
revision 1.15
date: 1994/06/08 18:21:53;  author: matt;  state: Exp;
Made morphing objects light correctly
----------------------------
revision 1.14
date: 1994/06/07 16:50:49;  author: matt;  state: Exp;
Made object lighting work correctly; changed name of Ambient_light to
Dynamic_light; cleaned up polygobj object rendering a little.
----------------------------
revision 1.13
date: 1994/06/01 16:33:59;  author: yuan;  state: Exp;
Fixed bug.
----------------------------
revision 1.12
date: 1994/06/01 16:29:08;  author: matt;  state: Exp;
If morph_frame called on object this isn't the morph object, kill it.
----------------------------
revision 1.11
date: 1994/06/01 12:46:34;  author: matt;  state: Exp;
Added needed include
----------------------------
revision 1.10
date: 1994/05/31 22:12:41;  author: matt;  state: Exp;
Set lighting for morph objects
Don't let another object start morph while one is morphing, unless
that one dies.
----------------------------
revision 1.9
date: 1994/05/31 18:49:53;  author: john;  state: Exp;
Took out debugging printf's that Matt left in.
----------------------------
revision 1.8
date: 1994/05/30 22:50:22;  author: matt;  state: Exp;
Added morph effect for robots
=============================================================================
RCS file: /Smoke/miner/source/main/morph.h,v
Working file: main/morph.h
head: 1.2
description: Header for morph.c
----------------------------
revision 1.2
date: 1995/08/23 21:35:58;  author: allender;  state: Exp;
fix mcc compiler warnings
----------------------------
revision 1.1
date: 1995/05/16 15:59:37;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:19;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.9
date: 1995/01/04 12:20:46;  author: john;  state: Exp;
Declearations to work better with game state save.
----------------------------
revision 1.8
date: 1995/01/03 20:38:44;  author: john;  state: Exp;
Externed MAX_MORPH_OBJECTS
----------------------------
revision 1.7
date: 1994/09/26 17:28:33;  author: matt;  state: Exp;
Made new multiple-object morph code work with the demo system
----------------------------
revision 1.6
date: 1994/09/26 15:40:17;  author: matt;  state: Exp;
Allow multiple simultaneous morphing objects
----------------------------
revision 1.5
date: 1994/06/28 11:55:19;  author: john;  state: Exp;
Made newdemo system record/play directly to/from disk, so
we don't need the 4 MB buffer anymore.
----------------------------
revision 1.4
date: 1994/06/16 13:57:40;  author: matt;  state: Exp;
Added support for morphing objects in demos
----------------------------
revision 1.3
date: 1994/06/08 18:22:03;  author: matt;  state: Exp;
Made morphing objects light correctly
----------------------------
revision 1.2
date: 1994/05/30 22:50:25;  author: matt;  state: Exp;
Added morph effect for robots
----------------------------
revision 1.1
date: 1994/05/30 12:04:19;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/multi.c,v
Working file: main/multi.c
head: 1.15
description: Multiplayer code shared by serial and network play.
=============================================================================
RCS file: /Smoke/miner/source/main/multi.h,v
Working file: main/multi.h
head: 1.7
description: Defines and exported variables for multi.c
----------------------------
revision 1.7
date: 1995/11/07 17:06:30;  author: allender;  state: Exp;
changed max_message_len so that player files save and restore
correctly
----------------------------
revision 1.6
date: 1995/11/03 12:54:13;  author: allender;  state: Exp;
shareware changes
----------------------------
revision 1.5
date: 1995/10/31 10:20:55;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.4
date: 1995/08/31 15:52:21;  author: allender;  state: Exp;
added union in netplayer_info to include
appletalk information and ipx information
----------------------------
revision 1.3
date: 1995/07/26 17:02:47;  author: allender;  state: Exp;
implemented and working on mac
----------------------------
revision 1.2
date: 1995/06/08 12:56:19;  author: allender;  state: Exp;
couple of prototypes to be unsigned char
----------------------------
revision 1.1
date: 1995/05/16 15:59:44;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.3
date: 1995/04/03 08:49:50;  author: john;  state: Exp;
Added code to get someone's player struct.
----------------------------
revision 2.2
date: 1995/03/27 12:59:17;  author: john;  state: Exp;
Initial version of multiplayer save games.
----------------------------
revision 2.1
date: 1995/03/21 14:39:06;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:28:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.74
date: 1995/02/11 11:36:42;  author: rob;  state: Exp;
Added new var.
----------------------------
revision 1.73
date: 1995/02/08 18:17:41;  author: rob;  state: Exp;
Added prototype for reset function.
----------------------------
revision 1.72
date: 1995/02/05 14:37:42;  author: rob;  state: Exp;
Made object mapping more efficient.
----------------------------
revision 1.71
date: 1995/02/01 18:07:36;  author: rob;  state: Exp;
Change object mapping to int functions.
----------------------------
revision 1.70
date: 1995/02/01 12:55:00;  author: rob;  state: Exp;
Changed message type.
----------------------------
revision 1.69
date: 1995/01/31 12:46:12;  author: rob;  state: Exp;
Fixed a bug with object overflow handling.
----------------------------
revision 1.68
date: 1995/01/27 11:15:13;  author: rob;  state: Exp;
removed extern of variable no longer in multi.c
----------------------------
revision 1.67
date: 1995/01/24 11:53:13;  author: john;  state: Exp;
Added better macro defining code.
----------------------------
revision 1.66
date: 1995/01/24 11:32:03;  author: john;  state: Exp;
Added new defining macro method.
----------------------------
revision 1.65
date: 1995/01/23 17:17:06;  author: john;  state: Exp;
Added multi_sending_message.
----------------------------
revision 1.64
date: 1995/01/23 16:02:42;  author: rob;  state: Exp;
Added prototype for mission select function.
----------------------------
revision 1.63
date: 1995/01/18 19:01:21;  author: rob;  state: Exp;
Added new message for hostage door sync.
----------------------------
revision 1.62
date: 1995/01/14 18:39:57;  author: rob;  state: Exp;
Added new message type for dropping robot powerups.
----------------------------
revision 1.61
date: 1995/01/12 21:41:13;  author: rob;  state: Exp;
Fixed incompat. with 1.0 and 1.1.
----------------------------
revision 1.60
date: 1995/01/04 21:40:55;  author: rob;  state: Exp;
Added new type for boss actions in coop.
----------------------------
revision 1.59
date: 1995/01/04 11:38:09;  author: rob;  state: Exp;
Fixed problem with lost character in messages.
----------------------------
revision 1.58
date: 1995/01/03 20:12:44;  author: rob;  state: Exp;
Made max message length in shareware = 40.
----------------------------
revision 1.57
date: 1995/01/03 14:27:25;  author: rob;  state: Exp;
ADded trigger messages.
----------------------------
revision 1.56
date: 1995/01/02 20:08:21;  author: rob;  state: Exp;
Added robot creation.
----------------------------
revision 1.55
date: 1995/01/02 14:41:30;  author: rob;  state: Exp;
Added score syncing.
----------------------------
revision 1.54
date: 1994/12/21 21:02:01;  author: rob;  state: Exp;
Added new message type for ROBOT_FIRE
----------------------------
revision 1.53
date: 1994/12/21 17:27:25;  author: rob;  state: Exp;
Changed the format for send_create_powerup messages.
----------------------------
revision 1.52
date: 1994/12/20 20:41:39;  author: rob;  state: Exp;
ADded robot release message type.
----------------------------
revision 1.51
date: 1994/12/19 19:00:12;  author: rob;  state: Exp;
Changed buf to multibuf so it can be safely externed.
----------------------------
revision 1.50
date: 1994/12/19 16:41:14;  author: rob;  state: Exp;
Added new message types for robot support.
Added prototype for external use of multi_send_data (from multibot.c)
----------------------------
revision 1.49
date: 1994/12/11 13:30:13;  author: rob;  state: Exp;
Added new variables to get players out of nested menus.
----------------------------
revision 1.48
date: 1994/12/11 01:58:57;  author: rob;  state: Exp;
Added variable to track menu deth..
----------------------------
revision 1.47
date: 1994/12/08 12:41:17;  author: rob;  state: Exp;
Added audio taunts.
----------------------------
revision 1.46
date: 1994/12/07 21:53:12;  author: rob;  state: Exp;
Fixing sequencing bugginess in modem/serial.
----------------------------
revision 1.45
date: 1994/12/07 16:46:58;  author: rob;  state: Exp;
Added prototype.
----------------------------
revision 1.44
date: 1994/12/01 12:22:31;  author: rob;  state: Exp;
Added de-cloak message for demo.
----------------------------
revision 1.43
date: 1994/12/01 00:54:14;  author: rob;  state: Exp;
Added variable for tracking homing missiles.
----------------------------
revision 1.42
date: 1994/11/30 16:04:39;  author: rob;  state: Exp;
Added show reticle name variable for team games.
----------------------------
revision 1.41
date: 1994/11/29 19:33:38;  author: rob;  state: Exp;
Team support.
----------------------------
revision 1.40
date: 1994/11/29 12:49:37;  author: rob;  state: Exp;
Added more team support stuff.
----------------------------
revision 1.39
date: 1994/11/28 21:20:49;  author: rob;  state: Exp;
Cleaned up the .h file, removed an unused function.
----------------------------
revision 1.38
date: 1994/11/28 21:04:50;  author: rob;  state: Exp;
Added support for network sound-casting.
----------------------------
revision 1.37
date: 1994/11/28 14:02:08;  author: rob;  state: Exp;
Added protocol versioning for registered versus shareware.
----------------------------
revision 1.36
date: 1994/11/28 13:30:04;  author: rob;  state: Exp;
Added a define for protocol version.
----------------------------
revision 1.35
date: 1994/11/22 19:19:48;  author: rob;  state: Exp;
remove unused function.
----------------------------
revision 1.34
date: 1994/11/22 18:47:34;  author: rob;  state: Exp;
Added hooks for modem support for secret levels.
----------------------------
revision 1.33
date: 1994/11/22 17:10:50;  author: rob;  state: Exp;
Fix for secret levels in network play mode.
----------------------------
revision 1.32
date: 1994/11/21 16:00:28;  author: rob;  state: Exp;
Added secret-level hooks.
----------------------------
revision 1.31
date: 1994/11/18 18:28:50;  author: rob;  state: Exp;
Added new function for multiplayer score screen.
----------------------------
revision 1.30
date: 1994/11/18 16:31:05;  author: rob;  state: Exp;
Added kill list timer variable.
----------------------------
revision 1.29
date: 1994/11/17 16:38:15;  author: rob;  state: Exp;
Added creation of net powerups.
----------------------------
revision 1.28
date: 1994/11/17 13:37:33;  author: rob;  state: Exp;
Added prototype for multi_new_game.
----------------------------
revision 1.27
date: 1994/11/17 12:58:45;  author: rob;  state: Exp;
Added kill matrix.
----------------------------
revision 1.26
date: 1994/11/16 20:35:24;  author: rob;  state: Exp;
Changed explosion hook.
----------------------------
revision 1.25
date: 1994/11/15 21:31:13;  author: rob;  state: Exp;
Bumped max message size, was giving modem.c fits.
----------------------------
revision 1.24
date: 1994/11/15 19:28:37;  author: matt;  state: Exp;
Added prototypes
----------------------------
revision 1.23
date: 1994/11/14 17:22:19;  author: rob;  state: Exp;
Added extern for message macros.
----------------------------
revision 1.22
date: 1994/11/11 18:16:44;  author: rob;  state: Exp;
Made multi_menu_poll return a value to exit menus.
----------------------------
revision 1.21
date: 1994/11/11 11:06:19;  author: rob;  state: Exp;
Added prototype for multi_menu_poll.
----------------------------
revision 1.20
date: 1994/11/10 21:48:41;  author: rob;  state: Exp;
Changed multi_endlevel to return an int.
----------------------------
revision 1.19
date: 1994/11/08 17:48:14;  author: rob;  state: Exp;
Fixing endlevel stuff.
----------------------------
revision 1.18
date: 1994/11/07 17:49:07;  author: rob;  state: Exp;
Changed prototype for object mapping funcs.
----------------------------
revision 1.17
date: 1994/11/07 15:46:32;  author: rob;  state: Exp;
Changed the way remote object number mapping works, and it was a real
pain in the ass..  I think it will work more reliably now.
----------------------------
revision 1.16
date: 1994/11/04 19:53:01;  author: rob;  state: Exp;
Added a new message type for Player_leave 'explosions'.
Added a prototype for function moved over from network.c
----------------------------
revision 1.15
date: 1994/11/02 18:02:33;  author: rob;  state: Exp;
Added message type for control center firing.
----------------------------
revision 1.14
date: 1994/11/02 11:38:00;  author: rob;  state: Exp;
Added player-in-process-of-dying explosions to network game.
----------------------------
revision 1.13
date: 1994/11/01 19:31:44;  author: rob;  state: Exp;
Bumped max_net_create_objects to 20 to accomodate a fully equipped
character blowing up.
----------------------------
revision 1.12
date: 1994/10/31 13:48:02;  author: rob;  state: Exp;
Fixed bug in opening doors over network/modem.  Added a new message
type to multi.c that communicates door openings across the net. 
Changed includes in multi.c and wall.c to accomplish this.
----------------------------
revision 1.11
date: 1994/10/09 20:08:20;  author: rob;  state: Exp;
Added some exported func prototypes.
Changed max net message length to 25 (from 30).
Removed some message types no longer used.
----------------------------
revision 1.10
date: 1994/10/08 20:06:10;  author: rob;  state: Exp;
fixed a typo.
----------------------------
revision 1.9
date: 1994/10/08 19:59:43;  author: rob;  state: Exp;
Moved MAX_MESSAGE_LEN to here.
----------------------------
revision 1.8
date: 1994/10/07 23:09:54;  author: rob;  state: Exp;
Fixed some prototypes.
----------------------------
revision 1.7
date: 1994/10/07 18:11:19;  author: rob;  state: Exp;
Added multi_do_death to multi.c.
----------------------------
revision 1.6
date: 1994/10/07 16:14:32;  author: rob;  state: Exp;
Added new message type for player reappear
----------------------------
revision 1.5
date: 1994/10/07 12:58:17;  author: rob;  state: Exp;
Added multi_leave_game.
----------------------------
revision 1.4
date: 1994/10/07 12:17:17;  author: rob;  state: Exp;
Fixed some stuff in multi_do_frame and exported the message_length
array.
----------------------------
revision 1.3
date: 1994/10/07 11:10:17;  author: john;  state: Exp;
Added function to parse multiple messages into individual
messages.
----------------------------
revision 1.2
date: 1994/10/07 10:28:06;  author: rob;  state: Exp;
Headers and stuff for multi.c (obviously)
----------------------------
revision 1.1
date: 1994/10/06 16:07:39;  author: rob;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/multibot.c,v
Working file: main/multibot.c
head: 1.7
description: Multiplayer robot code
=============================================================================
RCS file: /Smoke/miner/source/main/multibot.h,v
Working file: main/multibot.h
head: 1.2
description: Header file for multiplayer robot support.
----------------------------
revision 1.2
date: 1995/08/24 16:04:38;  author: allender;  state: Exp;
fix function prototype for compiler warning
----------------------------
revision 1.1
date: 1995/05/16 15:59:53;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/21 08:40:18;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:30:57;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.20
date: 1995/02/06 18:18:05;  author: rob;  state: Exp;
Tweaking cooperative stuff.
----------------------------
revision 1.19
date: 1995/02/04 16:49:50;  author: rob;  state: Exp;
Changed multi_send_robot_frame to return the number of robot positions that were sent.
----------------------------
revision 1.18
date: 1995/02/04 12:29:32;  author: rob;  state: Exp;
Added buffered fire sends.
----------------------------
revision 1.17
date: 1995/01/30 17:22:02;  author: rob;  state: Exp;
Added prototype for modem robot send function.
----------------------------
revision 1.16
date: 1995/01/26 18:24:56;  author: rob;  state: Exp;
Reduced # of controlled bots.
----------------------------
revision 1.15
date: 1995/01/25 19:26:35;  author: rob;  state: Exp;
Added define for robot laser agitation.
----------------------------
revision 1.14
date: 1995/01/25 13:45:26;  author: rob;  state: Exp;
Added prototype of robot transfer fucm.
----------------------------
revision 1.13
date: 1995/01/14 19:01:08;  author: rob;  state: Exp;
Added prototypes for new functionality.
----------------------------
revision 1.12
date: 1995/01/12 16:41:53;  author: rob;  state: Exp;
Added new prototypes.
----------------------------
revision 1.11
date: 1995/01/12 15:42:55;  author: rob;  state: Exp;
Fixing score awards for coop.
----------------------------
revision 1.10
date: 1995/01/02 21:00:40;  author: rob;  state: Exp;
added robot matcen support.
----------------------------
revision 1.9
date: 1994/12/31 21:03:53;  author: rob;  state: Exp;
More tweaking for robot behavior.
----------------------------
revision 1.8
date: 1994/12/29 13:54:25;  author: rob;  state: Exp;
Ooops.. fixed a bug..
----------------------------
revision 1.7
date: 1994/12/29 12:51:38;  author: rob;  state: Exp;
ADded proto for multi_robot_explode_sub
----------------------------
revision 1.6
date: 1994/12/21 21:08:32;  author: rob;  state: Exp;
Added new functions for robot firing.
----------------------------
revision 1.5
date: 1994/12/21 19:04:02;  author: rob;  state: Exp;
Fixing score accounting for multi robot games.
----------------------------
revision 1.4
date: 1994/12/21 17:36:09;  author: rob;  state: Exp;
Added a new func.
----------------------------
revision 1.3
date: 1994/12/21 11:12:02;  author: rob;  state: Exp;
Added new function and new vars.
----------------------------
revision 1.2
date: 1994/12/19 16:41:42;  author: rob;  state: Exp;
first revision.
----------------------------
revision 1.1
date: 1994/12/16 15:48:20;  author: rob;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/netipx.c,v
Working file: main/netipx.c
head: 1.1
description: Routines to access ipx network
----------------------------
revision 1.1
date: 1995/05/16 15:28:34;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.5
date: 1994/07/13 16:05:39;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1994/07/13 16:04:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/05/11 19:45:30;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/05/11 18:44:02;  author: john;  state: Exp;
Added first attemp at networking.
----------------------------
revision 1.1
date: 1994/05/11 16:06:47;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/netipx.h,v
Working file: main/netipx.h
head: 1.1
description: .
----------------------------
revision 1.1
date: 1995/05/16 16:00:00;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1994/05/11 19:45:26;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/05/11 18:44:10;  author: john;  state: Exp;
Added first attemp at networking.
----------------------------
revision 1.1
date: 1994/05/11 16:07:06;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/netmisc.c,v
Working file: main/netmisc.c
head: 1.1
description: Misc routines for network.
----------------------------
revision 1.1
date: 1995/05/16 15:28:41;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:24;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/11/19 15:19:34;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.2
date: 1994/08/09 19:31:53;  author: john;  state: Exp;
Networking changes.
----------------------------
revision 1.1
date: 1994/08/08 11:06:07;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/netmisc.h,v
Working file: main/netmisc.h
head: 1.1
description: .
----------------------------
revision 1.1
date: 1995/05/16 16:00:08;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:30:18;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/08/09 19:31:54;  author: john;  state: Exp;
Networking changes.
----------------------------
revision 1.1
date: 1994/08/08 11:18:40;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/network.c,v
Working file: main/network.c
head: 1.27
description: Routines for managing network play.
=============================================================================
RCS file: /Smoke/miner/source/main/network.h,v
Working file: main/network.h
head: 1.7
description: Prototypes for network management functions.
----------------------------
revision 1.7
date: 1995/10/31 10:20:04;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.6
date: 1995/09/21 14:31:18;  author: allender;  state: Exp;
new appltalk type packet which contains shortpos
----------------------------
revision 1.5
date: 1995/09/18 08:07:08;  author: allender;  state: Exp;
added function prototype to remove netgame NBP
----------------------------
revision 1.4
date: 1995/08/31 15:51:55;  author: allender;  state: Exp;
new prototypes for join and start games
----------------------------
revision 1.3
date: 1995/07/26 17:02:29;  author: allender;  state: Exp;
implemented and working on mac
----------------------------
revision 1.2
date: 1995/06/02 07:42:34;  author: allender;  state: Exp;
fixed prototype for network_endlevel_poll2
----------------------------
revision 1.1
date: 1995/05/16 16:00:15;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/21 14:58:09;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 2.1
date: 1995/03/21 14:39:43;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:29:48;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.72
date: 1995/02/11 14:24:39;  author: rob;  state: Exp;
Added suppor for invul. cntrlcen.
----------------------------
revision 1.71
date: 1995/02/08 19:18:43;  author: rob;  state: Exp;
Added extern for segments checksum.
----------------------------
revision 1.70
date: 1995/02/08 11:01:16;  author: rob;  state: Exp;
Fixed a bug.
----------------------------
revision 1.69
date: 1995/02/07 21:16:49;  author: rob;  state: Exp;
Added flag for automap.
----------------------------
revision 1.68
date: 1995/02/06 18:18:33;  author: rob;  state: Exp;
Extern'ed Packet Urgent.
----------------------------
revision 1.67
date: 1995/02/05 14:36:29;  author: rob;  state: Exp;
Moved defines to network.h.
----------------------------
revision 1.66
date: 1995/02/01 16:34:09;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.65
date: 1995/01/30 21:14:35;  author: rob;  state: Exp;
Fixed a bug in join menu.
Simplified mission load support.
----------------------------
revision 1.64
date: 1995/01/30 18:19:40;  author: rob;  state: Exp;
Added mission title to gameinfo packet.
----------------------------
revision 1.63
date: 1995/01/28 17:02:39;  author: rob;  state: Exp;
Fixed monitor syncing bug (minor 19).
----------------------------
revision 1.62
date: 1995/01/27 11:15:25;  author: rob;  state: Exp;
removed extern of variable no longer in network.c
----------------------------
revision 1.61
date: 1995/01/26 12:17:34;  author: rob;  state: Exp;
Added new param to network_do_frame.
----------------------------
revision 1.60
date: 1995/01/22 17:32:11;  author: rob;  state: Exp;
Added mission support for network games.
----------------------------
revision 1.59
date: 1995/01/17 17:10:33;  author: rob;  state: Exp;
Added some flags to netgame struct.
----------------------------
revision 1.58
date: 1995/01/12 18:57:15;  author: rob;  state: Exp;
Added score resync stuff.
----------------------------
revision 1.57
date: 1995/01/12 16:42:18;  author: rob;  state: Exp;
Added new prototypes.
----------------------------
revision 1.56
date: 1995/01/05 12:12:10;  author: rob;  state: Exp;
Fixed a problem with packet size.
----------------------------
revision 1.55
date: 1995/01/05 11:12:36;  author: rob;  state: Exp;
Reduced packet size by 1 byte just to be safe.
----------------------------
revision 1.54
date: 1995/01/04 21:39:32;  author: rob;  state: Exp;
New framedata packet for registered.
----------------------------
revision 1.53
date: 1995/01/04 08:47:04;  author: rob;  state: Exp;
JOHN CHECKED IN FOR ROB !!!
----------------------------
revision 1.52
date: 1994/12/30 20:09:07;  author: rob;  state: Exp;
ADded a toggle for showing player names on HUD.
----------------------------
revision 1.51
date: 1994/12/29 15:59:52;  author: rob;  state: Exp;
Centralized network disconnects.
----------------------------
revision 1.50
date: 1994/12/09 21:21:57;  author: rob;  state: Exp;
rolled back changes.
----------------------------
revision 1.48
date: 1994/12/05 22:59:27;  author: rob;  state: Exp;
added prototype for send_endlevel_packet.
----------------------------
revision 1.47
date: 1994/12/05 21:47:34;  author: rob;  state: Exp;
Added a new field to netgame struct.
----------------------------
revision 1.46
date: 1994/12/05 14:39:16;  author: rob;  state: Exp;
Added new variable to indicate new net game starting.
----------------------------
revision 1.45
date: 1994/12/04 15:37:18;  author: rob;  state: Exp;
Fixed a typo.
----------------------------
revision 1.44
date: 1994/12/04 15:30:42;  author: rob;  state: Exp;
Added new fields to netgame struct.
----------------------------
revision 1.43
date: 1994/12/03 18:03:19;  author: rob;  state: Exp;
ADded team kill syncing.
----------------------------
revision 1.42
date: 1994/12/01 21:21:27;  author: rob;  state: Exp;
Added new system for object sync on rejoin.
----------------------------
revision 1.41
date: 1994/11/29 13:07:33;  author: rob;  state: Exp;
Changed structure defs to .h files.
----------------------------
revision 1.40
date: 1994/11/22 17:10:48;  author: rob;  state: Exp;
Fix for secret levels in network play mode.
----------------------------
revision 1.39
date: 1994/11/18 16:36:31;  author: rob;  state: Exp;
Added variable network_rejoined to enable random placement
of rejoining palyers.
----------------------------
revision 1.38
date: 1994/11/12 19:51:13;  author: rob;  state: Exp;
Changed prototype for network_send_data to pass
urgent flag.
----------------------------
revision 1.37
date: 1994/11/10 21:48:26;  author: rob;  state: Exp;
Changed net_endlevel to return an int.
----------------------------
revision 1.36
date: 1994/11/10 20:32:49;  author: rob;  state: Exp;
Added extern for LastPacketTime.
----------------------------
revision 1.35
date: 1994/11/09 11:36:34;  author: rob;  state: Exp;
ADded return value to network_level_sync for success/fail.
----------------------------
revision 1.34
date: 1994/11/08 21:22:31;  author: rob;  state: Exp;
Added proto for network_endlevel_snyc
----------------------------
revision 1.33
date: 1994/11/08 15:20:00;  author: rob;  state: Exp;
added proto for change_playernum_to
----------------------------
revision 1.32
date: 1994/11/07 17:45:40;  author: rob;  state: Exp;
Added prototype for network_endlevel (called from multi.c)
----------------------------
revision 1.31
date: 1994/11/04 19:52:37;  author: rob;  state: Exp;
Removed a function from network.h (network_show_player_list)
----------------------------
revision 1.30
date: 1994/11/01 19:39:26;  author: rob;  state: Exp;
Removed a couple of variables that should be externed from multi.c
(remnants of the changover)
----------------------------
revision 1.29
date: 1994/10/31 19:18:24;  author: rob;  state: Exp;
Changed prototype for network_do_frame to add a parameter if you wish
to force the frame to be sent.  Important if this is a leave_game frame.
----------------------------
revision 1.28
date: 1994/10/08 19:59:20;  author: rob;  state: Exp;
Removed network message variables.
----------------------------
revision 1.27
date: 1994/10/08 11:08:38;  author: john;  state: Exp;
Moved network_delete_unused objects into multi.c,
took out network callsign stuff and used Matt's net
players[.].callsign stuff.
----------------------------
revision 1.26
date: 1994/10/07 11:26:20;  author: rob;  state: Exp;
Changed network_start_frame to network_do_frame,.
----------------------------
revision 1.25
date: 1994/10/05 13:58:10;  author: rob;  state: Exp;
Added a new function net_endlevel that is called after each level is 
completed.  Currently it only does anything if SERIAL game is in effect.
----------------------------
revision 1.24
date: 1994/10/04 19:34:57;  author: rob;  state: Exp;
export network_find_max_net_players.
----------------------------
revision 1.23
date: 1994/10/04 17:31:10;  author: rob;  state: Exp;
Exported MaxNumNetPlayers.
----------------------------
revision 1.22
date: 1994/10/03 22:57:30;  author: matt;  state: Exp;
Took out redundant definition of callsign_len
----------------------------
revision 1.21
date: 1994/10/03 15:12:48;  author: rob;  state: Exp;
Boosted MAX_CREATE_OBJECTS to 15.
----------------------------
revision 1.20
date: 1994/09/30 18:19:51;  author: rob;  state: Exp;
Added two new variables for tracking object creation.
----------------------------
revision 1.19
date: 1994/09/27 15:03:18;  author: rob;  state: Exp;
Added prototype for network_delete_extra_objects used by modem.c
----------------------------
revision 1.18
date: 1994/09/27 14:36:45;  author: rob;  state: Exp;
Added two new varaibles for network/serial weapon firing.
----------------------------
revision 1.17
date: 1994/09/07 17:10:57;  author: john;  state: Exp;
Started adding code to sync powerups.
----------------------------
revision 1.16
date: 1994/09/06 19:29:05;  author: john;  state: Exp;
Added trial version of rejoin function.
----------------------------
revision 1.15
date: 1994/08/26 13:01:54;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.14
date: 1994/08/25 18:12:04;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.13
date: 1994/08/17 16:50:00;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.12
date: 1994/08/16 12:25:22;  author: john;  state: Exp;
Added hooks for sending messages.
----------------------------
revision 1.11
date: 1994/08/13 12:20:18;  author: john;  state: Exp;
Made the networking uise the Players array.
----------------------------
revision 1.10
date: 1994/08/12 22:41:27;  author: john;  state: Exp;
Took away Player_stats; add Players array.
----------------------------
revision 1.9
date: 1994/08/12 03:10:22;  author: john;  state: Exp;
Made network be default off; Moved network options into
main menu.  Made starting net game check that mines are the
same.
----------------------------
revision 1.8
date: 1994/08/11 21:57:08;  author: john;  state: Exp;
Moved network options to main menu.
----------------------------
revision 1.7
date: 1994/08/10 11:29:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1994/08/10 10:44:12;  author: john;  state: Exp;
Made net players fire..
----------------------------
revision 1.5
date: 1994/08/09 19:31:46;  author: john;  state: Exp;
Networking changes.
----------------------------
revision 1.4
date: 1994/08/05 16:30:26;  author: john;  state: Exp;
Added capability to turn off network.
----------------------------
revision 1.3
date: 1994/08/05 16:11:43;  author: john;  state: Exp;
Psuedo working version of networking.
----------------------------
revision 1.2
date: 1994/07/25 12:33:34;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.1
date: 1994/07/20 16:09:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/newdemo.c,v
Working file: main/newdemo.c
head: 1.12
description: Code to make a complete demo playback system.
----------------------------
revision 1.12
date: 1995/10/31 10:19:43;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.11
date: 1995/10/17 13:19:16;  author: allender;  state: Exp;
close boxes for demo save
----------------------------
revision 1.10
date: 1995/10/05 10:36:07;  author: allender;  state: Exp;
fixed calls to digi_play_sample to account for differing volume and angle calculations
----------------------------
revision 1.9
date: 1995/09/12 15:49:13;  author: allender;  state: Exp;
define __useAppleExts__ if not already defined
----------------------------
revision 1.8
date: 1995/09/05 14:28:32;  author: allender;  state: Exp;
fixed previous N_players bug in newdemo_goto_end
----------------------------
revision 1.7
date: 1995/09/05 14:16:51;  author: allender;  state: Exp;
added space to allowable demo filename characters
and fixed bug with netgame demos N_players got getting
set correctly
----------------------------
revision 1.6
date: 1995/09/01 16:10:47;  author: allender;  state: Exp;
fixed bug with reading in N_players variable on
netgame demo playback
----------------------------
revision 1.5
date: 1995/08/24 16:04:11;  author: allender;  state: Exp;
fix signed byte problem
----------------------------
revision 1.4
date: 1995/08/12 12:21:59;  author: allender;  state: Exp;
made call to create_shortpos not swap the shortpos
elements
----------------------------
revision 1.3
date: 1995/08/01 16:04:19;  author: allender;  state: Exp;
made random picking of demo work
----------------------------
revision 1.2
date: 1995/08/01 13:56:56;  author: allender;  state: Exp;
demo system working on the mac
----------------------------
revision 1.1
date: 1995/05/16 15:28:59;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.6
date: 1995/03/21 14:39:38;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.5
date: 1995/03/14 18:24:31;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.4
date: 1995/03/14 16:22:29;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.3
date: 1995/03/10 12:58:33;  author: allender;  state: Exp;
only display rear view cockpit when cockpit mode was CM_FULL_COCKPIT.
----------------------------
revision 2.2
date: 1995/03/08 16:12:15;  author: allender;  state: Exp;
changes for Destination Saturn
----------------------------
revision 2.1
date: 1995/03/08 12:11:26;  author: allender;  state: Exp;
fix shortpos reading
----------------------------
revision 2.0
date: 1995/02/27 11:29:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.189
date: 1995/02/22 14:53:42;  author: allender;  state: Exp;
missed some anonymous stuff
----------------------------
revision 1.188
date: 1995/02/22 13:24:53;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.187
date: 1995/02/22 13:13:54;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.186
date: 1995/02/14 15:36:41;  author: allender;  state: Exp;
fix fix for morph effect
----------------------------
revision 1.185
date: 1995/02/14 11:25:48;  author: allender;  state: Exp;
save cockpit mode and restore after playback.  get orientation for morph
effect when object is morph vclip
----------------------------
revision 1.184
date: 1995/02/13 12:18:14;  author: allender;  state: Exp;
change to decide about interpolating or not
----------------------------
revision 1.183
date: 1995/02/12 00:46:23;  author: adam;  state: Exp;
don't decide to skip frames until after at least 10 frames have
passed -- allender
----------------------------
revision 1.182
date: 1995/02/11 22:34:01;  author: john;  state: Exp;
Made textures page in for newdemos before playback time.
----------------------------
revision 1.181
date: 1995/02/11 17:28:32;  author: allender;  state: Exp;
strip frames from end of demo
----------------------------
revision 1.180
date: 1995/02/11 16:40:35;  author: allender;  state: Exp;
start of frame stripping debug code
----------------------------
revision 1.179
date: 1995/02/10 17:40:06;  author: allender;  state: Exp;
put back in wall_hit_process code to fix door problem
----------------------------
revision 1.178
date: 1995/02/10 17:17:24;  author: adam;  state: Exp;
allender } fix
----------------------------
revision 1.177
date: 1995/02/10 17:16:24;  author: allender;  state: Exp;
fix possible tmap problems
----------------------------
revision 1.176
date: 1995/02/10 15:54:37;  author: allender;  state: Exp;
changes for out of space on device.
----------------------------
revision 1.175
date: 1995/02/09 19:55:00;  author: allender;  state: Exp;
fix bug with morph recording -- force rendertype to RT_POLYOBJ when
playing back since it won't render until fully morphed otherwise
----------------------------
revision 1.174
date: 1995/02/07 17:15:35;  author: allender;  state: Exp;
DOH!!!!!
----------------------------
revision 1.173
date: 1995/02/07 17:14:21;  author: allender;  state: Exp;
immediately return when loading bogus level stuff when reading a frame
----------------------------
revision 1.172
date: 1995/02/02 11:15:03;  author: allender;  state: Exp;
after loading new level, read next frame (forward or back) always because
of co-op ships showing up when level is loaded
----------------------------
revision 1.171
date: 1995/02/02 10:24:16;  author: allender;  state: Exp;
removed cfile stuff.  Use standard FILE functions for demo playback
----------------------------
revision 1.170
date: 1995/01/30 13:54:32;  author: allender;  state: Exp;
support for missions
----------------------------
revision 1.169
date: 1995/01/27 16:27:35;  author: allender;  state: Exp;
put game mode to demo_game_mode when sorting multiplayer kill (and score)
list
----------------------------
revision 1.168
date: 1995/01/27 09:52:25;  author: allender;  state: Exp;
minor changes because of object/segment linking problems
----------------------------
revision 1.167
date: 1995/01/27 09:22:28;  author: allender;  state: Exp;
changed way multi-player score is recorded.  Record difference, not
actual
----------------------------
revision 1.166
date: 1995/01/25 14:32:44;  author: allender;  state: Exp;
changed with recorded player flags.  More checks for paused state
during interpolation reading of objects
----------------------------
revision 1.165
date: 1995/01/25 11:23:32;  author: allender;  state: Exp;
found bug with out of disk space problem
----------------------------
revision 1.164
date: 1995/01/25 11:11:33;  author: allender;  state: Exp;
coupla' things.  Fix problem with objects apparently being linked in
the wrong segment.  Put an Int3 in to check why demos will write to
end of space on drive. close demo file if demo doens't start playing
back.  Put obj->type == OBJ_ROBOT around checking for boss cloaking
----------------------------
revision 1.163
date: 1995/01/24 19:44:30;  author: allender;  state: Exp;
fix obscure problem with rewinding and having the wrong object linked
to the wrong segments.  will investigate further.
----------------------------
revision 1.162
date: 1995/01/23 09:31:28;  author: allender;  state: Exp;
add team score in team mode playback
----------------------------
revision 1.161
date: 1995/01/20 22:47:39;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.160
date: 1995/01/20 09:30:37;  author: allender;  state: Exp;
don't call LoadLevel with bogus data
----------------------------
revision 1.159
date: 1995/01/20 09:13:23;  author: allender;  state: Exp;
*&^%&*%$ typo
----------------------------
revision 1.158
date: 1995/01/20 09:12:04;  author: allender;  state: Exp;
record team names during demo recoring in GM_TEAM
----------------------------
revision 1.157
date: 1995/01/19 16:31:09;  author: allender;  state: Exp;
forgot to bump demo version for new weapon change stuff
----------------------------
revision 1.156
date: 1995/01/19 16:29:33;  author: allender;  state: Exp;
added new byte for weapon change (old weapon) so rewinding works
correctly for weapon changes in registered
----------------------------
revision 1.155
date: 1995/01/19 15:00:05;  author: allender;  state: Exp;
remove code to take away blastable walls in multiplayer demo playbacks
----------------------------
revision 1.154
date: 1995/01/19 11:07:05;  author: allender;  state: Exp;
put in psuedo cloaking for boss robots.  Problem is that cloaking is
time based, and that don't get done in demos, so bosses just disappear.
oh well
----------------------------
revision 1.153
date: 1995/01/19 09:42:29;  author: allender;  state: Exp;
record laser levels in demos
----------------------------
revision 1.152
date: 1995/01/18 20:43:12;  author: allender;  state: Exp;
fix laser level stuff on goto-beginning and goto-end
----------------------------
revision 1.151
date: 1995/01/18 20:28:18;  author: allender;  state: Exp;
cloak robots now cloak (except maybe for boss........)  Put in function
to deal with control center triggers
----------------------------
revision 1.150
date: 1995/01/18 18:55:07;  author: allender;  state: Exp;
bug fix
----------------------------
revision 1.149
date: 1995/01/18 18:49:03;  author: allender;  state: Exp;
lots 'o stuff....record laser level.  Record beginning of door opening
sequence.  Fix some problems with control center stuff.  Control center
triggers now work in reverse
----------------------------
revision 1.148
date: 1995/01/18 08:51:40;  author: allender;  state: Exp;
forgot to record ammo counts at beginning of demo
----------------------------
revision 1.147
date: 1995/01/17 17:42:07;  author: allender;  state: Exp;
added primary and secondary ammo counts.  Changed goto_end routine
to be more efficient
----------------------------
revision 1.146
date: 1995/01/17 13:46:35;  author: allender;  state: Exp;
fix problem with destroyed control center and rewinding a demo.
Save callsign and restore after demo playback
----------------------------
revision 1.145
date: 1995/01/12 10:21:53;  author: allender;  state: Exp;
fixes for 1.0 to 1.1 demo incompatibility
----------------------------
revision 1.144
date: 1995/01/05 13:51:43;  author: allender;  state: Exp;
fixed type of player num variable
----------------------------
revision 1.143
date: 1995/01/04 16:58:28;  author: allender;  state: Exp;
bumped up demo version number
----------------------------
revision 1.142
date: 1995/01/04 14:59:02;  author: allender;  state: Exp;
added more information to end of demo for registered.  Forced game mode
to be GM_NORMAL on demo playback
----------------------------
revision 1.141
date: 1995/01/03 17:30:47;  author: allender;  state: Exp;
fixed logic problem with cloak stuf
----------------------------
revision 1.140
date: 1995/01/03 17:12:23;  author: allender;  state: Exp;
fix for getting cloak stuff at end of demo for shareware
----------------------------
revision 1.139
date: 1995/01/03 15:20:24;  author: allender;  state: Exp;
fix goto_end for shareware -- changes to goto_end for registered
----------------------------
revision 1.138
date: 1995/01/03 13:13:26;  author: allender;  state: Exp;
add } I forgot
----------------------------
revision 1.137
date: 1995/01/03 13:10:29;  author: allender;  state: Exp;
make score work forwards and backwards
----------------------------
revision 1.136
date: 1995/01/03 11:45:20;  author: allender;  state: Exp;
added code to record players scores
----------------------------
revision 1.135
date: 1994/12/30 10:03:57;  author: allender;  state: Exp;
put cloak stuff at end of demo for fast forward to the end
----------------------------
revision 1.134
date: 1994/12/29 17:02:55;  author: allender;  state: Exp;
spelling fix on SHAREWARE
----------------------------
revision 1.133
date: 1994/12/29 16:43:41;  author: allender;  state: Exp;
lots of new multiplayer stuff.  wrapped much code with SHAREWARE defines
----------------------------
revision 1.132
date: 1994/12/28 14:15:01;  author: allender;  state: Exp;
added routines to deal with connecting and reconnecting players when
recording multiplayer demos
----------------------------
revision 1.131
date: 1994/12/21 12:57:59;  author: allender;  state: Exp;
bug fix
----------------------------
revision 1.130
date: 1994/12/21 12:46:53;  author: allender;  state: Exp;
record multi player deaths and kills
----------------------------
revision 1.129
date: 1994/12/19 16:37:27;  author: allender;  state: Exp;
pick good filename when trying to save in network play and player
gets bumped out of menu by multi-player code
----------------------------
revision 1.128
date: 1994/12/14 10:49:01;  author: allender;  state: Exp;
reset bad_read variable when starting demo playback
----------------------------
revision 1.127
date: 1994/12/14 08:53:06;  author: allender;  state: Exp;
lowered watermark for out of space
----------------------------
revision 1.126
date: 1994/12/14 08:49:52;  author: allender;  state: Exp;
put up warning when starting demo recording if not enough space and
not let them record
----------------------------
revision 1.125
date: 1994/12/13 00:01:37;  author: allender;  state: Exp;
CLOAK FIX -- (I'm tempted to take cloak out of game because I can't
seem to get it right in demo playback)
----------------------------
revision 1.124
date: 1994/12/12 14:51:21;  author: allender;  state: Exp;
more fixed to multiplayer cloak stuff
----------------------------
revision 1.123
date: 1994/12/12 11:33:11;  author: allender;  state: Exp;
fixed rearview mode to work again
----------------------------
revision 1.122
date: 1994/12/12 11:00:16;  author: matt;  state: Exp;
Added code to handle confusion with attached objects
----------------------------
revision 1.121
date: 1994/12/12 00:31:29;  author: allender;  state: Exp;
give better warning when out of space when recording.  Don't record
until no space left.  We have 500K watermark when we now stop recording
----------------------------
revision 1.120
date: 1994/12/10 16:44:54;  author: matt;  state: Exp;
Added debugging code to track down door that turns into rock
----------------------------
revision 1.119
date: 1994/12/09 18:46:15;  author: matt;  state: Exp;
Added code to handle odd error condition
----------------------------
revision 1.118
date: 1994/12/09 17:27:37;  author: allender;  state: Exp;
force playernum to 0 when demo is done playing
----------------------------
revision 1.117
date: 1994/12/09 16:40:39;  author: allender;  state: Exp;
yet more cloak stuff.  Assign cloak/invuln time when starting demo
if flags are set.  Check cloak and invuln time when demo
even when paused
----------------------------
revision 1.116
date: 1994/12/09 14:59:22;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.115
date: 1994/12/09 12:21:45;  author: allender;  state: Exp;
only allow valid chars when typing in demo filename
----------------------------
revision 1.114
date: 1994/12/08 23:19:02;  author: allender;  state: Exp;
final(?) fix for getting cloak gauge to work on demo playback
with forward and reverse
----------------------------
revision 1.113
date: 1994/12/08 21:34:38;  author: allender;  state: Exp;
record old and new player flags to accuratedly record cloaking and
decloaking
./
----------------------------
revision 1.112
date: 1994/12/08 18:04:47;  author: allender;  state: Exp;
bashed playernum right after reading it in demo header so shields
and energy are put in right place
----------------------------
revision 1.111
date: 1994/12/08 17:10:07;  author: allender;  state: Exp;
encode playernum in demo header.  Bash viewer segment to 0 if in
bogus segnum.  Don't link render objs for same reason
----------------------------
revision 1.110
date: 1994/12/08 15:36:12;  author: allender;  state: Exp;
cloak stuff works forwards and backwards
----------------------------
revision 1.109
date: 1994/12/08 13:46:03;  author: allender;  state: Exp;
don't record rearview anymore, but leave in case statement for playback
purposes.  change the way letterbox <--> cockpit transitions happen
----------------------------
revision 1.108
date: 1994/12/08 12:36:06;  author: matt;  state: Exp;
Added new object allocation & deallocation functions so other code
could stop messing around with internal object data structures.
----------------------------
revision 1.107
date: 1994/12/08 11:19:04;  author: allender;  state: Exp;
handle out of space (more) gracefully then before
----------------------------
revision 1.106
date: 1994/12/08 00:29:49;  author: allender;  state: Exp;
fixed bug that didn't load level on goto_beginning
----------------------------
revision 1.105
date: 1994/12/08 00:11:51;  author: mike;  state: Exp;
change matrix interpolation.
----------------------------
revision 1.104
date: 1994/12/07 23:46:37;  author: allender;  state: Exp;
changed invulnerability and cloak to work (almost) correctly both
in single and multi player
----------------------------
revision 1.103
date: 1994/12/07 11:48:49;  author: adam;  state: Exp;
BY ALLENDER -- added dampening of interpolation factor to 1 if greater
than 1 (although I have not seen this happen).  this is attempt to
get wobbling problem solved
----------------------------
revision 1.102
date: 1994/12/07 11:23:56;  author: allender;  state: Exp;
attempt at getting rid of wobbling on demo playback
----------------------------
revision 1.101
date: 1994/12/06 19:31:17;  author: allender;  state: Exp;
moved blastable wall stuff code to where we load level during demo
playback
----------------------------
revision 1.100
date: 1994/12/06 19:21:51;  author: allender;  state: Exp;
multi games, destroy blastable walls.  Do wall toggle when control center
destroyed
----------------------------
revision 1.99
date: 1994/12/06 16:54:48;  author: allender;  state: Exp;
fixed code so if demo automatically started from menu, don't bring up
message if demo is too old
----------------------------
revision 1.98
date: 1994/12/06 13:55:15;  author: matt;  state: Exp;
Use new rounding func, f2ir()
----------------------------
revision 1.97
date: 1994/12/06 13:44:45;  author: allender;  state: Exp;
suppressed compiler warnings
----------------------------
revision 1.96
date: 1994/12/06 13:38:03;  author: allender;  state: Exp;
removed recording of wall hit process.  I think that all bases are covered
elsewhere
----------------------------
revision 1.95
date: 1994/12/06 12:57:35;  author: allender;  state: Exp;
added recording of multi_decloaking.  Fixed some other cloaking code so
that cloak should last as long as player was cloaked.  We will lose the
guage effect, but the time is probably more important on playback
----------------------------
revision 1.94
date: 1994/12/05 23:37:17;  author: matt;  state: Exp;
Took out calls to warning() function
----------------------------
revision 1.93
date: 1994/12/03 17:52:04;  author: yuan;  state: Exp;
Localization 380ish
----------------------------
revision 1.92
date: 1994/12/02 12:53:39;  author: allender;  state: Exp;
fixed goto_beginning and goto_end on demo playback
----------------------------
revision 1.91
date: 1994/12/01 12:01:49;  author: allender;  state: Exp;
added multi player cloak stuff
----------------------------
revision 1.90
date: 1994/11/30 09:33:58;  author: allender;  state: Exp;
added field in header to tell what version (shareware or registered)
demo was recorded with.  Don't allow demo recorded on one to playback
on the other
----------------------------
revision 1.89
date: 1994/11/29 00:31:01;  author: allender;  state: Exp;
major changes -- added level recording feature which records level
advancement.  Changes to internal code to handle this.
----------------------------
revision 1.88
date: 1994/11/27 23:13:54;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.87
date: 1994/11/27 23:07:35;  author: allender;  state: Exp;
starting on code to get all level transitions recorded. not done yet
----------------------------
revision 1.86
date: 1994/11/27 17:39:47;  author: matt;  state: Exp;
Don't xlate tmap numbers when editor compiled out
----------------------------
revision 1.85
date: 1994/11/23 09:27:21;  author: allender;  state: Exp;
put up info box with message if demo version is too old or level
cannot be loaded
----------------------------
revision 1.84
date: 1994/11/22 19:37:39;  author: allender;  state: Exp;
fix array mistake
----------------------------
revision 1.83
date: 1994/11/22 19:35:09;  author: allender;  state: Exp;
record player ship colors in multiplayer demo recordings
----------------------------
revision 1.82
date: 1994/11/19 15:36:42;  author: mike;  state: Exp;
fix fix.
----------------------------
revision 1.81
date: 1994/11/19 15:23:21;  author: mike;  state: Exp;
rip out unused code
----------------------------
revision 1.80
date: 1994/11/16 14:51:49;  author: rob;  state: Exp;
Fixed network/demo incompatibility.
----------------------------
revision 1.79
date: 1994/11/15 10:55:48;  author: allender;  state: Exp;
made start of demo playback read initial demo information so
level will get loaded.  Made demo record to single file which
will get renamed.  Added numerics after old filename so
sequential filenames would be defaulted to
----------------------------
revision 1.78
date: 1994/11/15 09:46:06;  author: allender;  state: Exp;
added versioning.  Fixed problems with trying to interpolating a completely
0 orientation matrix
----------------------------
revision 1.77
date: 1994/11/14 14:34:31;  author: matt;  state: Exp;
Fixed up handling when textures can't be found during remap
----------------------------
revision 1.76
date: 1994/11/14 09:15:29;  author: allender;  state: Exp;
make ESC from file save menu exit w/o saving.  Fix letterbox, rear view,
to normal cockpit mode transition to work correctly when skipping and
interpolating frames
----------------------------
revision 1.75
date: 1994/11/11 16:22:07;  author: allender;  state: Exp;
made morphing objects record only the object being morphed.
----------------------------
revision 1.74
date: 1994/11/08 14:59:19;  author: john;  state: Exp;
Added code to respond to network while in menus.
----------------------------
revision 1.73
date: 1994/11/08 14:52:20;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.72
date: 1994/11/07 15:47:04;  author: allender;  state: Exp;
prompt for filename when done recording demo
----------------------------
revision 1.71
date: 1994/11/07 11:47:19;  author: allender;  state: Exp;
when interpolating frames, delete weapon, fireball, and debris objects
from an inpolated frame if they don't appear in the next recorded
frame
----------------------------
revision 1.70
date: 1994/11/07 11:02:41;  author: allender;  state: Exp;
more with interpolation. I believe that I have it right now
----------------------------
revision 1.69
date: 1994/11/07 08:47:40;  author: john;  state: Exp;
Made wall state record.
----------------------------
revision 1.68
date: 1994/11/05 17:22:51;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.67
date: 1994/11/04 20:11:52;  author: john;  state: Exp;
Neatening up palette stuff with demos.
----------------------------
revision 1.66
date: 1994/11/04 16:49:44;  author: allender;  state: Exp;
changed newdemo_do_interpolate to default to on
----------------------------
revision 1.65
date: 1994/11/04 16:44:51;  author: allender;  state: Exp;
added filename support for demo recording.  more auto demo stuff
----------------------------
revision 1.64
date: 1994/11/04 13:05:31;  author: allender;  state: Exp;
fixing the lifeleft variable again.  (I think I got it right this time)
----------------------------
revision 1.63
date: 1994/11/04 11:37:37;  author: allender;  state: Exp;
commented out fprintfs and fixed compiler warning
----------------------------
revision 1.62
date: 1994/11/04 11:33:50;  author: allender;  state: Exp;
added OBJ_FLARE and OBJ_LIGHT to obj->lifeleft recording
----------------------------
revision 1.61
date: 1994/11/04 11:29:21;  author: allender;  state: Exp;
more interpolation stuff -- not done yet.  Fixed so hostage vclips
render correctly.  Changed lifeleft to full precision, but only
write it when object is fireball or weapon type of object
----------------------------
revision 1.60
date: 1994/11/03 10:00:11;  author: allender;  state: Exp;
fixed divide by zero in calculating render time.  more interpolation
stuff which isn't quite done
----------------------------
revision 1.59
date: 1994/11/02 17:10:59;  author: allender;  state: Exp;
never play recorded frames when interpolation is occuring
----------------------------
revision 1.58
date: 1994/11/02 14:28:58;  author: allender;  state: Exp;
profile total playback time and average frame render time
----------------------------
revision 1.57
date: 1994/11/02 14:09:03;  author: allender;  state: Exp;
record rear view.  start of playback interpolation code -- this
is not yet done
----------------------------
revision 1.56
date: 1994/11/01 13:25:30;  author: allender;  state: Exp;
drop frames if playing back demo on slower machine
----------------------------
revision 1.55
date: 1994/10/31 16:10:40;  author: allender;  state: Exp;
record letterbox mode on death seq, and then restore
----------------------------
revision 1.54
date: 1994/10/29 16:01:38;  author: allender;  state: Exp;
added ND_STATE_NODEMOS to indicate that there are no demos currently
available for playback
----------------------------
revision 1.53
date: 1994/10/29 15:38:42;  author: allender;  state: Exp;
in newdemo_start_playback, make Newdemo_at_eof = 0
----------------------------
revision 1.52
date: 1994/10/28 14:45:28;  author: john;  state: Exp;
fixed typo from last checkin.
----------------------------
revision 1.51
date: 1994/10/28 14:42:55;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.50
date: 1994/10/28 14:31:57;  author: allender;  state: Exp;
homing missle and autodemo stuff
----------------------------
revision 1.49
date: 1994/10/28 12:42:14;  author: allender;  state: Exp;
record homing distance
----------------------------
revision 1.48
date: 1994/10/27 16:57:54;  author: allender;  state: Exp;
changed demo vcr to be able to play any number of frames by storing
frame length (in bytes) in the demo file.  Added blowing up monitors
----------------------------
revision 1.47
date: 1994/10/26 16:50:50;  author: allender;  state: Exp;
put two functions inside of VCR_MODE ifdef
----------------------------
revision 1.46
date: 1994/10/26 15:20:32;  author: allender;  state: Exp;
added CT_REMOTE as valid control type for recording
----------------------------
revision 1.45
date: 1994/10/26 14:45:35;  author: allender;  state: Exp;
completed hacked in vcr demo playback stuff
----------------------------
revision 1.44
date: 1994/10/26 13:40:52;  author: allender;  state: Exp;
vcr playback of demo stuff
----------------------------
revision 1.43
date: 1994/10/26 08:51:57;  author: allender;  state: Exp;
record player weapon change
----------------------------
revision 1.42
date: 1994/10/25 15:48:01;  author: allender;  state: Exp;
add shields, energy, and player flags to demo recording.
,
----------------------------
revision 1.41
date: 1994/10/24 08:19:35;  author: allender;  state: Exp;
fixed compilation errors
----------------------------
revision 1.40
date: 1994/10/23 19:17:08;  author: matt;  state: Exp;
Fixed bug with "no key" messages
----------------------------
revision 1.39
date: 1994/10/22 14:15:08;  author: mike;  state: Exp;
Suppress compiler warnings.
----------------------------
revision 1.38
date: 1994/10/21 15:24:55;  author: allender;  state: Exp;
compressed writing of object structures with specialized code
to write out only pertinent object structures.
----------------------------
revision 1.37
date: 1994/10/20 13:03:17;  author: matt;  state: Exp;
Replaced old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.36
date: 1994/09/28 23:13:10;  author: matt;  state: Exp;
Macroized palette flash system
----------------------------
revision 1.35
date: 1994/09/26 17:28:32;  author: matt;  state: Exp;
Made new multiple-object morph code work with the demo system
----------------------------
revision 1.34
date: 1994/09/10 13:31:54;  author: matt;  state: Exp;
Made exploding walls a type of blastable walls.
Cleaned up blastable walls, making them tmap2 bitmaps.
----------------------------
revision 1.33
date: 1994/08/15 18:05:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.32
date: 1994/08/15 17:56:38;  author: john;  state: Exp;
,
----------------------------
revision 1.31
date: 1994/08/10 09:44:54;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.30
date: 1994/07/22 12:35:48;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.29
date: 1994/07/21 13:06:45;  author: matt;  state: Exp;
Ripped out remants of old demo system, and added demo only system that
disables object movement and game options from menu.
----------------------------
revision 1.28
date: 1994/07/18 16:22:44;  author: john;  state: Exp;
Made all file read/writes call the same routine.
----------------------------
revision 1.27
date: 1994/07/14 22:38:27;  author: matt;  state: Exp;
Added exploding doors
----------------------------
revision 1.26
date: 1994/07/05 12:49:04;  author: john;  state: Exp;
Put functionality of New Hostage spec into code.
----------------------------
revision 1.25
date: 1994/06/29 11:05:38;  author: john;  state: Exp;
Made demos read in compressed.
----------------------------
revision 1.24
date: 1994/06/29 09:14:06;  author: john;  state: Exp;
Made files write out uncompressed and read in compressed.
----------------------------
revision 1.23
date: 1994/06/28 11:55:28;  author: john;  state: Exp;
Made newdemo system record/play directly to/from disk, so
we don't need the 4 MB buffer anymore.
----------------------------
revision 1.22
date: 1994/06/27 15:52:38;  author: john;  state: Exp;
#define'd out the newdemo stuff
----------------------------
revision 1.21
date: 1994/06/22 00:29:04;  author: john;  state: Exp;
Fixed bug with playing demo then playing game without
loading new mine.
----------------------------
revision 1.20
date: 1994/06/22 00:14:23;  author: john;  state: Exp;
Attempted to fix sign.
----------------------------
revision 1.19
date: 1994/06/21 23:57:54;  author: john;  state: Exp;
Hopefully fixed bug with negative countdowns.
----------------------------
revision 1.18
date: 1994/06/21 23:47:44;  author: john;  state: Exp;
MAde Malloc always 4*1024*1024.
----------------------------
revision 1.17
date: 1994/06/21 22:58:47;  author: john;  state: Exp;
Added error if out of memory.
----------------------------
revision 1.16
date: 1994/06/21 22:15:48;  author: john;  state: Exp;
Added  % done to demo recording.
----------------------------
revision 1.15
date: 1994/06/21 19:45:55;  author: john;  state: Exp;
Added palette effects to demo recording.
----------------------------
revision 1.14
date: 1994/06/21 15:08:54;  author: john;  state: Exp;
Made demo record HUD message and cleaned up the HUD code.
----------------------------
revision 1.13
date: 1994/06/21 14:20:08;  author: john;  state: Exp;
Put in hooks to record HUD messages.
----------------------------
revision 1.12
date: 1994/06/20 11:50:15;  author: john;  state: Exp;
Made demo record flash effect, and control center triggers.
----------------------------
revision 1.11
date: 1994/06/17 18:01:33;  author: john;  state: Exp;
A bunch of new stuff by John
----------------------------
revision 1.10
date: 1994/06/17 12:13:31;  author: john;  state: Exp;
More newdemo stuff; made editor->game transition start in slew mode.
----------------------------
revision 1.9
date: 1994/06/16 13:14:36;  author: matt;  state: Exp;
Fixed typo
----------------------------
revision 1.8
date: 1994/06/16 13:02:07;  author: john;  state: Exp;
Added morph hooks.
----------------------------
revision 1.7
date: 1994/06/15 19:01:33;  author: john;  state: Exp;
Added the capability to make 3d sounds play just once for the
laser hit wall effects.
----------------------------
revision 1.6
date: 1994/06/15 14:56:59;  author: john;  state: Exp;
Added triggers to demo recording.
----------------------------
revision 1.5
date: 1994/06/14 20:42:15;  author: john;  state: Exp;
Made robot matztn cntr not work until no robots or player are
in the segment.
----------------------------
revision 1.4
date: 1994/06/14 14:43:27;  author: john;  state: Exp;
Made doors work with newdemo system.
----------------------------
revision 1.3
date: 1994/06/14 11:32:29;  author: john;  state: Exp;
Made Newdemo record & restore the current mine.
----------------------------
revision 1.2
date: 1994/06/13 21:02:43;  author: john;  state: Exp;
Initial version of new demo recording system.
----------------------------
revision 1.1
date: 1994/06/13 11:09:00;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/newdemo.h,v
Working file: main/newdemo.h
head: 1.1
description: .
----------------------------
revision 1.1
date: 1995/05/16 16:00:24;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:18;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.43
date: 1995/01/19 09:41:43;  author: allender;  state: Exp;
prototype for laser level recording
----------------------------
revision 1.42
date: 1995/01/18 18:48:49;  author: allender;  state: Exp;
added function prototype for door_open
----------------------------
revision 1.41
date: 1995/01/17 17:42:31;  author: allender;  state: Exp;
new prototypes for ammo counts
----------------------------
revision 1.40
date: 1995/01/04 15:04:27;  author: allender;  state: Exp;
added some different prototypes for registered
----------------------------
revision 1.39
date: 1995/01/03 11:45:11;  author: allender;  state: Exp;
extern function definition
----------------------------
revision 1.38
date: 1994/12/29 16:43:31;  author: allender;  state: Exp;
new function prototype
----------------------------
revision 1.37
date: 1994/12/28 14:15:27;  author: allender;  state: Exp;
new function prototypes
----------------------------
revision 1.36
date: 1994/12/21 12:46:41;  author: allender;  state: Exp;
new functions for multiplayer deaths and kills
----------------------------
revision 1.35
date: 1994/12/12 11:32:55;  author: allender;  state: Exp;
added new record function to restore after in rearview mode
----------------------------
revision 1.34
date: 1994/12/08 21:03:15;  author: allender;  state: Exp;
added new param to record_player_flags
----------------------------
revision 1.33
date: 1994/12/08 13:47:01;  author: allender;  state: Exp;
removed function call to record_rearview
----------------------------
revision 1.32
date: 1994/12/06 12:57:10;  author: allender;  state: Exp;
added new prototype for multi decloaking
----------------------------
revision 1.31
date: 1994/12/01 11:46:34;  author: allender;  state: Exp;
added recording prototype for multi player cloak
----------------------------
revision 1.30
date: 1994/11/27 23:04:22;  author: allender;  state: Exp;
function prototype for recording new levels
----------------------------
revision 1.29
date: 1994/11/07 08:47:43;  author: john;  state: Exp;
Made wall state record.
----------------------------
revision 1.28
date: 1994/11/05 17:22:53;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.27
date: 1994/11/04 16:48:49;  author: allender;  state: Exp;
extern Newdemo_do_interpolate variable
----------------------------
revision 1.26
date: 1994/11/02 14:08:53;  author: allender;  state: Exp;
record rearview
----------------------------
revision 1.25
date: 1994/10/31 13:35:04;  author: allender;  state: Exp;
added two record functions to save and restore cockpit state on
death sequence
----------------------------
revision 1.24
date: 1994/10/29 16:01:11;  author: allender;  state: Exp;
added ND_STATE_NODEMOS to indicate that there are no demos currently
available for playback
----------------------------
revision 1.23
date: 1994/10/28 12:41:58;  author: allender;  state: Exp;
add homing distance recording event
----------------------------
revision 1.22
date: 1994/10/27 16:57:32;  author: allender;  state: Exp;
removed VCR_MODE stuff, and added monitor blowup effects
----------------------------
revision 1.21
date: 1994/10/26 14:44:48;  author: allender;  state: Exp;
completed hacked in vcr type demo playback states
----------------------------
revision 1.20
date: 1994/10/26 13:40:38;  author: allender;  state: Exp;
more vcr demo playback defines
----------------------------
revision 1.19
date: 1994/10/26 08:51:26;  author: allender;  state: Exp;
record player weapon change
----------------------------
revision 1.18
date: 1994/10/25 16:25:31;  author: allender;  state: Exp;
prototypes for shield, energy and flags
----------------------------
revision 1.17
date: 1994/08/15 18:05:30;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/07/21 13:11:26;  author: matt;  state: Exp;
Ripped out remants of old demo system, and added demo only system that
disables object movement and game options from menu.
----------------------------
revision 1.15
date: 1994/07/05 12:49:02;  author: john;  state: Exp;
Put functionality of New Hostage spec into code.
----------------------------
revision 1.14
date: 1994/06/27 15:53:12;  author: john;  state: Exp;
#define'd out the newdemo stuff
----------------------------
revision 1.13
date: 1994/06/24 17:01:25;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.12
date: 1994/06/21 19:46:05;  author: john;  state: Exp;
Added palette effects to demo recording.
----------------------------
revision 1.11
date: 1994/06/21 14:19:58;  author: john;  state: Exp;
Put in hooks to record HUD messages.
----------------------------
revision 1.10
date: 1994/06/20 11:50:42;  author: john;  state: Exp;
Made demo record flash effect, and control center triggers.
----------------------------
revision 1.9
date: 1994/06/17 18:01:29;  author: john;  state: Exp;
A bunch of new stuff by John
----------------------------
revision 1.8
date: 1994/06/17 12:13:34;  author: john;  state: Exp;
More newdemo stuff; made editor->game transition start in slew mode.
----------------------------
revision 1.7
date: 1994/06/16 13:02:02;  author: john;  state: Exp;
Added morph hooks.
----------------------------
revision 1.6
date: 1994/06/15 19:01:42;  author: john;  state: Exp;
Added the capability to make 3d sounds play just once for the
laser hit wall effects.
----------------------------
revision 1.5
date: 1994/06/15 14:57:11;  author: john;  state: Exp;
Added triggers to demo recording.
----------------------------
revision 1.4
date: 1994/06/14 20:42:19;  author: john;  state: Exp;
Made robot matztn cntr not work until no robots or player are
in the segment.
----------------------------
revision 1.3
date: 1994/06/14 14:43:52;  author: john;  state: Exp;
Made doors work with newdemo system.
----------------------------
revision 1.2
date: 1994/06/13 21:02:44;  author: john;  state: Exp;
Initial version of new demo recording system.
----------------------------
revision 1.1
date: 1994/06/13 15:51:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/main/newmenu.c,v
Working file: main/newmenu.c
head: 1.26
description: Routines for menus.
----------------------------
revision 1.26
date: 1996/04/14 21:07:35;  author: allender;  state: Exp;
some change for update
----------------------------
revision 1.25
date: 1995/10/31 10:19:25;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.24
date: 1995/10/27 11:09:04;  author: allender;  state: Exp;
always cd to descent dir before any menu processing --
sanity check because of way mac does volume mounting and
other file stuff
----------------------------
revision 1.23
date: 1995/10/24 18:11:19;  author: allender;  state: Exp;
do_appl_quit saves and restores background -- don't
do any special processing.  fixed newmenu_do3 to pass width
and height to ...do_4
----------------------------
revision 1.22
date: 1995/10/21 23:26:25;  author: allender;  state: Exp;
can't do cmd-q in multiplayer games
----------------------------
revision 1.21
date: 1995/10/21 22:53:25;  author: allender;  state: Exp;
menus need to be 8 byte multiple wide -- printscreen stuff
----------------------------
revision 1.20
date: 1995/10/20 00:50:15;  author: allender;  state: Exp;
redbook stuff and make esc leave menu always
----------------------------
revision 1.19
date: 1995/10/17 13:14:52;  author: allender;  state: Exp;
mouse support for other menus now operational -- dragging
mouse will also move sliders
----------------------------
revision 1.18
date: 1995/10/12 17:35:19;  author: allender;  state: Exp;
mouse support for pilot and demos
----------------------------
revision 1.17
date: 1995/10/11 12:17:47;  author: allender;  state: Exp;
removed event loop processing
----------------------------
revision 1.16
date: 1995/10/10 11:51:29;  author: allender;  state: Exp;
align menus to 8 byte boundry
----------------------------
revision 1.15
date: 1995/10/05 14:09:36;  author: allender;  state: Exp;
lowered starting x location on menus to fixup network
status screen chopping off characters
----------------------------
revision 1.14
date: 1995/09/24 10:52:27;  author: allender;  state: Exp;
made close boxes work
maybe some other minor stuff?
----------------------------
revision 1.13
date: 1995/09/15 09:02:04;  author: allender;  state: Exp;
started putting mouse support in listboxes
----------------------------
revision 1.12
date: 1995/09/13 08:50:14;  author: allender;  state: Exp;
close box in this rev?  Worked on getting list box better
looking
----------------------------
revision 1.11
date: 1995/09/01 10:52:37;  author: allender;  state: Exp;
fixed up list boxes
----------------------------
revision 1.10
date: 1995/08/24 16:23:08;  author: allender;  state: Exp;
mouse support for most menus
----------------------------
revision 1.9
date: 1995/08/08 13:46:56;  author: allender;  state: Exp;
added macsys header file
----------------------------
revision 1.8
date: 1995/08/01 16:03:54;  author: allender;  state: Exp;
added file list with Desalvo's directory stuff
----------------------------
revision 1.7
date: 1995/07/26 17:03:37;  author: allender;  state: Exp;
show then hide cursor during newmenu operations -- not quite
right yet
----------------------------
revision 1.6
date: 1995/07/17 08:56:26;  author: allender;  state: Exp;
fixed up menus to look better with new high res fonts
----------------------------
revision 1.5
date: 1995/07/12 10:35:52;  author: allender;  state: Exp;
removed old debug thing
----------------------------
revision 1.4
date: 1995/06/23 10:23:21;  author: allender;  state: Exp;
menus should work in any resolution now
----------------------------
revision 1.3
date: 1995/06/20 09:11:19;  author: allender;  state: Exp;
changed menu system to support 640x480 instead of 320x200
----------------------------
revision 1.2
date: 1995/06/13 13:07:30;  author: allender;  state: Exp;
added special key to move 320x200 window to upper left corner of screen
----------------------------
revision 1.1
date: 1995/05/16 15:29:13;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.6
date: 1995/03/21 08:38:46;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.5
date: 1995/03/15 14:33:29;  author: john;  state: Exp;
Added code to force the Descent CD-rom in the drive.
----------------------------
revision 2.4
date: 1995/03/14 18:24:28;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.3
date: 1995/03/14 16:22:23;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.2
date: 1995/03/06 18:30:51;  author: john;  state: Exp;
Fixed bug with newmenu trashing editor font.
----------------------------
revision 2.1
date: 1995/03/06 15:23:17;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:27:55;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.129
date: 1995/02/11 16:19:56;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.128
date: 1995/02/02 19:41:33;  author: john;  state: Exp;
Added 10 save game slots.
----------------------------
revision 1.127
date: 1995/02/01 18:13:52;  author: john;  state: Exp;
Fixed some constants.
----------------------------
revision 1.126
date: 1995/02/01 18:04:01;  author: yuan;  state: Exp;
Added 50 characters to list.
----------------------------
revision 1.125
date: 1995/02/01 13:39:35;  author: john;  state: Exp;
Made menu text that changes not overwrite.
----------------------------
revision 1.124
date: 1995/01/31 10:47:57;  author: john;  state: Exp;
Added menu that you can specify the width of the menu.
----------------------------
revision 1.123
date: 1995/01/28 17:18:12;  author: john;  state: Exp;
Added file list box.
----------------------------
revision 1.122
date: 1995/01/27 17:15:55;  author: john;  state: Exp;
Made prev comment actually work.
----------------------------
revision 1.121
date: 1995/01/27 16:49:03;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.120
date: 1995/01/27 16:46:40;  author: john;  state: Exp;
Made so that input_menu only clears text if -empty-.
----------------------------
revision 1.119
date: 1995/01/27 15:25:04;  author: john;  state: Exp;
Delete saved game when deleteing a pilot file.
----------------------------
revision 1.118
date: 1995/01/25 16:36:09;  author: john;  state: Exp;
Made so that when you hit enter during
game save, -empty- goes away.
----------------------------
revision 1.117
date: 1995/01/24 16:59:30;  author: john;  state: Exp;
took out mono debugging text.
----------------------------
revision 1.116
date: 1995/01/24 16:23:16;  author: john;  state: Exp;
Fixed some bugs with listboxes.
----------------------------
revision 1.115
date: 1995/01/23 23:47:36;  author: matt;  state: Exp;
Made keypad enter work in menus
----------------------------
revision 1.114
date: 1995/01/23 19:29:59;  author: john;  state: Exp;
Added scrolling listbox menus.
----------------------------
revision 1.113
date: 1995/01/19 12:33:34;  author: john;  state: Exp;
Made keys jump to sliders, etc in menus.
----------------------------
revision 1.112
date: 1995/01/15 14:33:08;  author: rob;  state: Exp;
Fixed problem with nested nm_messageboxes.
----------------------------
revision 1.111
date: 1995/01/03 17:33:40;  author: john;  state: Exp;
Made scrolling textbox. Used it for scores cool saying.
----------------------------
revision 1.110
date: 1994/12/28 10:42:58;  author: john;  state: Exp;
More VFX tweaking.
----------------------------
revision 1.109
date: 1994/12/28 10:26:39;  author: john;  state: Exp;
Fixed some VFX problems.
----------------------------
revision 1.108
date: 1994/12/15 23:18:10;  author: john;  state: Exp;
Added fix so that VFX mode doesn't hang.
----------------------------
revision 1.107
date: 1994/12/15 12:19:55;  author: john;  state: Exp;
Made menu use clipped bitblt functions.
----------------------------
revision 1.106
date: 1994/12/09 00:41:30;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.105
date: 1994/12/08 10:01:34;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.104
date: 1994/12/04 15:34:30;  author: john;  state: Exp;
Fixed bug with newmenu not restoring font properly.
----------------------------
revision 1.103
date: 1994/12/03 17:47:09;  author: john;  state: Exp;
Fixed bug that didn't free filename mem when not .plr files found.
----------------------------
revision 1.102
date: 1994/12/03 15:06:15;  author: john;  state: Exp;
If no pilot exists, bring up box asking for name.
----------------------------
revision 1.101
date: 1994/12/03 11:04:02;  author: john;  state: Exp;
Changed newmenu code a bit to fix bug with bogus
backgrounds occcasionally.
----------------------------
revision 1.100
date: 1994/12/01 20:15:48;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.99
date: 1994/12/01 10:33:28;  author: john;  state: Exp;
Fixed bug with large menu backgrounds not drawing correctly.
----------------------------
revision 1.98
date: 1994/12/01 02:41:56;  author: john;  state: Exp;
Fixed warnining.
----------------------------
revision 1.97
date: 1994/11/30 22:52:43;  author: john;  state: Exp;
Fixed bug in code that made the backgrounds behind menus.
----------------------------
revision 1.96
date: 1994/11/30 19:47:42;  author: john;  state: Exp;
Added a check for out o' memory when mallocing background.
----------------------------
revision 1.95
date: 1994/11/30 19:39:10;  author: john;  state: Exp;
..
----------------------------
revision 1.94
date: 1994/11/30 19:38:27;  author: john;  state: Exp;
fixed bug with previous.
----------------------------
revision 1.93
date: 1994/11/30 19:36:47;  author: john;  state: Exp;
Made Gravis Ultrasound work again.  Made the scores blink
at a constant rate.  Revamped the newmenu background storage,
which hopefully fixed some bugs.  Made menus in ame not pause
sound, except for the pause key.               ^== Game!
----------------------------
revision 1.92
date: 1994/11/30 18:06:05;  author: matt;  state: Exp;
When player types space in callsign, comes up as underscore
----------------------------
revision 1.91
date: 1994/11/30 12:28:22;  author: adam;  state: Exp;
added PCX support
----------------------------
revision 1.90
date: 1994/11/30 12:10:59;  author: adam;  state: Exp;
added support for PCX titles/brief screens
----------------------------
revision 1.89
date: 1994/11/29 00:59:12;  author: allender;  state: Exp;
change newmenu_get_filename so demo files can be deleted too
----------------------------
revision 1.88
date: 1994/11/27 21:16:18;  author: allender;  state: Exp;
made some return values in newmenu_get_filename 0 instead of -1
----------------------------
revision 1.87
date: 1994/11/27 16:58:17;  author: matt;  state: Exp;
Made printscreen work all the time (not just when no ndebug) and made it
work when getting a filename.
----------------------------
revision 1.86
date: 1994/11/27 16:47:51;  author: john;  state: Exp;
Made the call to fade in palette only happen if it needs to be, just
because I thought it might reduce code paging with vm in menus.
----------------------------
revision 1.85
date: 1994/11/26 15:30:16;  author: matt;  state: Exp;
Allow escape out of change pilot menu
----------------------------
revision 1.84
date: 1994/11/26 14:17:26;  author: matt;  state: Exp;
Player can now only enter valid chars for his name
----------------------------
revision 1.83
date: 1994/11/23 14:13:17;  author: allender;  state: Exp;
if no demo files, displays less "techy" message
----------------------------
revision 1.82
date: 1994/11/21 11:55:52;  author: john;  state: Exp;
Fixed some sound pausing in menus bugs.
----------------------------
revision 1.81
date: 1994/11/19 15:14:58;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.80
date: 1994/11/18 23:37:54;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.79
date: 1994/11/15 09:29:21;  author: john;  state: Exp;
Made it so that pressing a letter when selecting players moves to 
a matching choice.
----------------------------
revision 1.78
date: 1994/11/14 17:12:28;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.77
date: 1994/11/14 16:58:31;  author: rob;  state: Exp;
Tried to fix a problem with save demo dialog.
----------------------------
revision 1.76
date: 1994/11/14 16:13:46;  author: matt;  state: Exp;
Fixed handling of players with DOS device names
----------------------------
revision 1.75
date: 1994/11/13 18:12:53;  author: matt;  state: Exp;
Fixed handling of filenames that are the same as DOS devices
----------------------------
revision 1.74
date: 1994/11/13 17:20:44;  author: john;  state: Exp;
Fixed text a bit.
----------------------------
revision 1.73
date: 1994/11/13 17:18:22;  author: john;  state: Exp;
Changed wording of new pilot.
----------------------------
revision 1.72
date: 1994/11/13 17:14:21;  author: john;  state: Exp;
Fixed bug with player list box.
----------------------------
revision 1.71
date: 1994/11/13 17:12:48;  author: john;  state: Exp;
Fixed broken demo file list.
----------------------------
revision 1.70
date: 1994/11/13 17:04:49;  author: john;  state: Exp;
Made the callsign entry be a list box and gave the ability
to delete players.
----------------------------
revision 1.69
date: 1994/11/13 15:38:03;  author: john;  state: Exp;
Added critical error handler to game.  Took out -editor command line
option because it didn't work anymore and wasn't worth fixing.  Made scores
not use MINER enviroment variable on release version, and made scores
not print an error if there is no descent.hi.
----------------------------
revision 1.68
date: 1994/11/11 18:17:03;  author: rob;  state: Exp;
Made multi_menu_poll return a value to exit menus.
----------------------------
revision 1.67
date: 1994/11/11 11:07:06;  author: rob;  state: Exp;
Added include of multi.h
----------------------------
revision 1.66
date: 1994/11/10 20:25:16;  author: rob;  state: Exp;
John's stuff to make network menus work.
----------------------------
revision 1.65
date: 1994/11/08 14:51:39;  author: john;  state: Exp;
Added nm_messagebox1, (like the original, only you can pass a function).
----------------------------
revision 1.64
date: 1994/11/08 08:30:39;  author: john;  state: Exp;
Fixed bug with centering titles.
----------------------------
revision 1.63
date: 1994/11/08 08:27:00;  author: john;  state: Exp;
Made titles and subtitles center.
----------------------------
revision 1.62
date: 1994/11/07 09:40:48;  author: john;  state: Exp;
Neatend file list box some.
----------------------------
revision 1.61
date: 1994/11/05 17:22:41;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.60
date: 1994/11/05 15:04:08;  author: john;  state: Exp;
Added non-popup menu for the main menu, so that scores and credits don't have to save
the background.
----------------------------
revision 1.59
date: 1994/11/05 14:03:52;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.58
date: 1994/11/04 20:11:50;  author: john;  state: Exp;
Neatening up palette stuff with demos.
----------------------------
revision 1.57
date: 1994/11/04 13:49:24;  author: allender;  state: Exp;
fixed newmenu_get_filename to work with less than 10 files
----------------------------
revision 1.56
date: 1994/11/03 19:37:44;  author: john;  state: Exp;
Added scrolling file list box
----------------------------
revision 1.55
date: 1994/10/31 18:16:42;  author: john;  state: Exp;
Made Pad arrows work with menus.
----------------------------
revision 1.54
date: 1994/10/28 14:54:25;  author: john;  state: Exp;
Added forward dec. for newmenu_close.
.\
----------------------------
revision 1.53
date: 1994/10/28 14:53:00;  author: john;  state: Exp;
Fixed hideous bug that would bomb if you called newmenu_draw_background
before any menus were ever displayed.
----------------------------
revision 1.52
date: 1994/10/24 19:56:53;  author: john;  state: Exp;
Made the new user setup prompt for config options.
----------------------------
revision 1.51
date: 1994/10/24 15:15:49;  author: john;  state: Exp;
Made Esc exit nm_messagebox's,
,
----------------------------
revision 1.50
date: 1994/10/21 15:20:20;  author: john;  state: Exp;
Made PrtScr do screen dump, not F2.
----------------------------
revision 1.49
date: 1994/10/18 12:33:38;  author: john;  state: Exp;
Only used copy the item text into the saved_text field
if it is an inputbox or inputbox_menu.
----------------------------
revision 1.48
date: 1994/10/17 11:04:01;  author: john;  state: Exp;
Made backtab work also.
----------------------------
revision 1.47
date: 1994/10/17 10:47:49;  author: john;  state: Exp;
MAde Tab work like down arrow.
----------------------------
revision 1.46
date: 1994/10/17 10:45:10;  author: john;  state: Exp;
Made the player able to abort death by pressing any button or key.
----------------------------
revision 1.45
date: 1994/10/13 21:52:02;  author: john;  state: Exp;
Made it so that if a messagebox has 1 choice, then
Esc will return -1.
----------------------------
revision 1.44
date: 1994/10/13 11:35:38;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.43
date: 1994/10/11 17:18:52;  author: john;  state: Exp;
Fixed bug with sliders always starting at -1.
----------------------------
revision 1.42
date: 1994/10/11 17:08:29;  author: john;  state: Exp;
Added sliders for volume controls.
----------------------------
revision 1.41
date: 1994/10/06 16:04:40;  author: john;  state: Exp;
Made text items color differently than others. Adam
is gonna make a diff colored font for these.
----------------------------
revision 1.40
date: 1994/10/06 15:08:23;  author: rob;  state: Exp;
Allowed any negative key value to abort the menu and return.
----------------------------
revision 1.39
date: 1994/10/04 10:26:06;  author: matt;  state: Exp;
Changed fade in to happen every time a global var is set
----------------------------
revision 1.38
date: 1994/10/04 09:16:08;  author: john;  state: Exp;
If you pass -1 as choice in newmenu_do1, then
no item is highlighted until you press up or
down arrows.
----------------------------
revision 1.37
date: 1994/10/03 23:44:37;  author: matt;  state: Exp;
Save & restore palette effect around menus & pause message
----------------------------
revision 1.36
date: 1994/10/03 22:59:40;  author: matt;  state: Exp;
Re-enabled backspace to generate Int3()
----------------------------
revision 1.35
date: 1994/10/03 19:11:21;  author: matt;  state: Exp;
Changed string input cursor to blinking underscore
----------------------------
revision 1.34
date: 1994/10/03 14:44:15;  author: john;  state: Exp;
Added newmenu_do1, which allows you to pass the starting
item to the menu system
----------------------------
revision 1.33
date: 1994/09/30 11:51:21;  author: john;  state: Exp;
Added Matt's NM_TYPE_INPUT_MENU
----------------------------
revision 1.32
date: 1994/09/28 17:22:56;  author: matt;  state: Exp;
Added extra space between subtitle and menu items
Made shortcut key check ignore leading spaces in text
----------------------------
revision 1.31
date: 1994/09/15 16:11:22;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.30
date: 1994/09/12 09:52:59;  author: john;  state: Exp;
Made global flush function that flushes keyboard,mouse, and joystick.
----------------------------
revision 1.29
date: 1994/09/10 19:10:54;  author: matt;  state: Exp;
Fixed a few things (like arrow key handling) for menus with all
text items, such as the key help message.
----------------------------
revision 1.28
date: 1994/09/01 18:55:38;  author: john;  state: Exp;
freed scores.lbm
----------------------------
revision 1.27
date: 1994/09/01 18:03:50;  author: john;  state: Exp;
Neatened up scores a bit.
----------------------------
revision 1.26
date: 1994/08/30 20:38:13;  author: john;  state: Exp;
Passed citem in newmenu sub.
----------------------------
revision 1.25
date: 1994/08/30 11:13:01;  author: john;  state: Exp;
Added beveled edges to menus.
----------------------------
revision 1.24
date: 1994/08/26 13:01:58;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.23
date: 1994/08/16 00:18:44;  author: john;  state: Exp;
Made pressing the first letter of a menu
item move to it.
----------------------------
revision 1.22
date: 1994/08/15 23:17:43;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.21
date: 1994/08/15 23:15:28;  author: john;  state: Exp;
Made 1 menu/checkbox return with any keypress.
----------------------------
revision 1.20
date: 1994/08/12 10:18:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.19
date: 1994/08/12 10:09:11;  author: john;  state: Exp;
Made borders better.
----------------------------
revision 1.18
date: 1994/08/12 03:11:16;  author: john;  state: Exp;
Made network be default off; Moved network options into
main menu.  Made starting net game check that mines are the
same.
----------------------------
revision 1.17
date: 1994/08/11 22:14:43;  author: john;  state: Exp;
Free'd up some memory that I forgot to free.
----------------------------
revision 1.16
date: 1994/08/11 19:27:35;  author: john;  state: Exp;
Made the Backspace drop into the debugger only
if you're not in an inputbox.
----------------------------
revision 1.15
date: 1994/08/11 18:01:49;  author: matt;  state: Exp;
Added F2 and BACKSPACE keys to new menu system
----------------------------
revision 1.14
date: 1994/08/11 14:25:58;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.13
date: 1994/08/11 14:25:40;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1994/08/11 13:47:02;  author: john;  state: Exp;
Made newmenu have subtitles, passed key through to
the newmenu subfunctions.
----------------------------
revision 1.11
date: 1994/08/11 12:45:08;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/08/11 12:25:45;  author: john;  state: Exp;
Made right_offset spacing different
----------------------------
revision 1.9
date: 1994/08/11 12:09:49;  author: john;  state: Exp;
Made work with bitmapped fonts.
----------------------------
revision 1.8
date: 1994/08/10 19:56:16;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.7
date: 1994/07/27 16:12:23;  author: john;  state: Exp;
Changed newmenu system to have a callback function.
/.
----------------------------
revision 1.6
date: 1994/07/25 15:10:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/07/25 12:33:35;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.4
date: 1994/07/24 18:21:27;  author: john;  state: Exp;
Took out first time stuff.
----------------------------
revision 1.3
date: 1994/07/24 17:32:47;  author: john;  state: Exp;
Added percent item.  Also neatend up a bit.
----------------------------
revision 1.2
date: 1994/07/22 17:48:13;  author: john;  state: Exp;
Added new menuing system.
----------------------------
revision 1.1
date: 1994/07/22 13:55:38;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/newmenu.h,v
Working file: main/newmenu.h
head: 1.3
description: Routines for menus.
----------------------------
revision 1.3
date: 1995/10/17 13:15:19;  author: allender;  state: Exp;
new call to nm_listbox for close_box
----------------------------
revision 1.2
date: 1995/09/13 08:48:50;  author: allender;  state: Exp;
new prototype for newmenu -- have close box
----------------------------
revision 1.1
date: 1995/05/16 16:00:32;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:28;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.24
date: 1995/02/11 16:20:05;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.23
date: 1995/01/31 10:21:41;  author: john;  state: Exp;
Added code to specify width, height.
----------------------------
revision 1.22
date: 1995/01/28 17:09:21;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.21
date: 1995/01/23 18:38:43;  author: john;  state: Exp;
Added listbox function.
----------------------------
revision 1.20
date: 1994/11/26 15:29:55;  author: matt;  state: Exp;
Allow escape out of change pilot menu
----------------------------
revision 1.19
date: 1994/11/26 14:17:05;  author: matt;  state: Exp;
Player can now only enter valid chars for his name
----------------------------
revision 1.18
date: 1994/11/18 16:17:13;  author: mike;  state: Exp;
prototype Max_linear_depth_objects.
----------------------------
revision 1.17
date: 1994/11/08 14:51:17;  author: john;  state: Exp;
Added nm_messagebox1, (like the original, only you can pass a function).
----------------------------
revision 1.16
date: 1994/11/05 14:31:45;  author: john;  state: Exp;
Added a new menu function for the background.
----------------------------
revision 1.15
date: 1994/11/05 14:05:46;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.14
date: 1994/11/03 19:37:35;  author: john;  state: Exp;
Added scrolling file list box
----------------------------
revision 1.13
date: 1994/10/13 11:34:03;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.12
date: 1994/10/11 17:08:32;  author: john;  state: Exp;
Added sliders for volume controls.
----------------------------
revision 1.11
date: 1994/10/04 10:26:23;  author: matt;  state: Exp;
Changed fade in to happen every time a global var is set
----------------------------
revision 1.10
date: 1994/10/03 14:43:56;  author: john;  state: Exp;
Added newmenu_do1, which allows you to pass the starting
item to the menu system
----------------------------
revision 1.9
date: 1994/09/30 11:51:33;  author: john;  state: Exp;
Added Matt's NM_TYPE_INPUT_MENU
----------------------------
revision 1.8
date: 1994/08/30 20:38:28;  author: john;  state: Exp;
Passed citem in newmenu sub.
----------------------------
revision 1.7
date: 1994/08/12 03:11:00;  author: john;  state: Exp;
Made network be default off; Moved network options into
main menu.  Made starting net game check that mines are the
same.
----------------------------
revision 1.6
date: 1994/08/11 13:47:05;  author: john;  state: Exp;
Made newmenu have subtitles, passed key through to
the newmenu subfunctions.
----------------------------
revision 1.5
date: 1994/07/27 16:12:24;  author: john;  state: Exp;
Changed newmenu system to have a callback function.
/.
----------------------------
revision 1.4
date: 1994/07/24 17:41:38;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/07/24 17:33:01;  author: john;  state: Exp;
Added percent item.  Also neatend up a bit.
----------------------------
revision 1.2
date: 1994/07/22 17:48:12;  author: john;  state: Exp;
Added new menuing system.
----------------------------
revision 1.1
date: 1994/07/22 13:55:51;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/object.c,v
Working file: main/object.c
head: 1.5
description: object rendering
----------------------------
revision 1.5
date: 1995/10/26 14:08:03;  author: allender;  state: Exp;
optimization to do physics on objects that didn't render last
frame only every so often
----------------------------
revision 1.4
date: 1995/10/20 00:50:57;  author: allender;  state: Exp;
make alt texture for player ship work correctly when cloaked
----------------------------
revision 1.3
date: 1995/09/14 14:11:32;  author: allender;  state: Exp;
fix_object_segs returns void
----------------------------
revision 1.2
date: 1995/08/12 11:31:01;  author: allender;  state: Exp;
removed #ifdef NEWDEMO -- always in
----------------------------
revision 1.1
date: 1995/05/16 15:29:23;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/21 08:38:51;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:28:14;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.335
date: 1995/02/22 12:57:30;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.334
date: 1995/02/09 22:04:40;  author: mike;  state: Exp;
fix lifeleft on badass weapons.
----------------------------
revision 1.333
date: 1995/02/08 12:54:00;  author: matt;  state: Exp;
Fixed object freeing code which was deleting some explosions it shouldn't
----------------------------
revision 1.332
date: 1995/02/08 11:37:26;  author: mike;  state: Exp;
Check for failures in call to obj_create.
----------------------------
revision 1.331
date: 1995/02/05 17:48:52;  author: rob;  state: Exp;
Changed assert in obj_relink, more robust.
----------------------------
revision 1.330
date: 1995/02/05 13:39:48;  author: mike;  state: Exp;
remove invulnerability effect code (actually, comment out).
----------------------------
revision 1.329
date: 1995/02/04 12:29:52;  author: rob;  state: Exp;
Get rid of potential assert error for explosion detachment.
----------------------------
revision 1.328
date: 1995/02/01 18:15:57;  author: rob;  state: Exp;
Removed debugging output from engine glow change.
----------------------------
revision 1.327
date: 1995/02/01 16:20:12;  author: matt;  state: Exp;
Made engine glow vary over a wider range, and made the glow be based
on thrust/speed, without regard to direction.
----------------------------
revision 1.326
date: 1995/01/29 14:46:24;  author: rob;  state: Exp;
Fixed invul. vclip to only appear on player who is invul.
----------------------------
revision 1.325
date: 1995/01/29 13:48:16;  author: mike;  state: Exp;
Add invulnerability graphical effect viewable by other players.
----------------------------
revision 1.324
date: 1995/01/29 11:39:25;  author: mike;  state: Exp;
Add invulnerability effect.
----------------------------
revision 1.323
date: 1995/01/27 17:02:41;  author: mike;  state: Exp;
add more information to an Error call.
----------------------------
revision 1.322
date: 1995/01/26 22:11:30;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.321
date: 1995/01/25 20:04:10;  author: matt;  state: Exp;
Moved matrix check to avoid orthogonalizing an uninitialize matrix
----------------------------
revision 1.320
date: 1995/01/25 12:11:35;  author: matt;  state: Exp;
Make sure orient matrix is orthogonal when resetting player object
----------------------------
revision 1.319
date: 1995/01/21 21:46:22;  author: mike;  state: Exp;
Optimize code in Assert (and prevent warning message).
----------------------------
revision 1.318
date: 1995/01/21 21:22:16;  author: rob;  state: Exp;
Removed HUD clear messages.
Added more Asserts to try and find illegal control type bug.
----------------------------
revision 1.317
date: 1995/01/15 15:34:30;  author: matt;  state: Exp;
When freeing object slots, don't free fireballs that will be deleting
other objects.
----------------------------
revision 1.316
date: 1995/01/14 19:16:48;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.315
date: 1995/01/12 18:53:37;  author: john;  state: Exp;
Fixed parameter passing error.
----------------------------
revision 1.314
date: 1995/01/12 12:09:47;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.313
date: 1994/12/15 16:45:44;  author: matt;  state: Exp;
Took out slew stuff for release version
----------------------------
revision 1.312
date: 1994/12/15 13:04:25;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.311
date: 1994/12/15 11:01:04;  author: mike;  state: Exp;
add Object_minus_one for debugging.
----------------------------
revision 1.310
date: 1994/12/15 03:03:33;  author: matt;  state: Exp;
Added error checking for NULL return from object_create_explosion()
----------------------------
revision 1.309
date: 1994/12/14 17:25:31;  author: matt;  state: Exp;
Made next viewer func based on release not ndebug
----------------------------
revision 1.308
date: 1994/12/13 12:55:42;  author: mike;  state: Exp;
hostages on board messages for when you die.
----------------------------
revision 1.307
date: 1994/12/12 17:18:11;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.306
date: 1994/12/12 00:27:11;  author: matt;  state: Exp;
Added support for no-levelling option
----------------------------
revision 1.305
date: 1994/12/11 22:41:14;  author: matt;  state: Exp;
Added command-line option, -nolevel, which turns off player ship levelling
----------------------------
revision 1.304
date: 1994/12/11 22:03:23;  author: mike;  state: Exp;
free up object slots as necessary.
----------------------------
revision 1.303
date: 1994/12/11 14:09:31;  author: mike;  state: Exp;
make boss explosion sounds softer.
----------------------------
revision 1.302
date: 1994/12/11 13:25:11;  author: matt;  state: Exp;
Restored calls to fix_object_segs() when debugging is turned off, since
it's not a big routine, and could fix some possibly bad problems.
----------------------------
revision 1.301
date: 1994/12/11 12:38:25;  author: mike;  state: Exp;
make boss explosion sounds louder in create_small_fireball.
----------------------------
revision 1.300
date: 1994/12/10 15:28:37;  author: matt;  state: Exp;
Added asserts for debugging
----------------------------
revision 1.299
date: 1994/12/09 16:18:51;  author: matt;  state: Exp;
Fixed init_player_object, for editor
----------------------------
revision 1.298
date: 1994/12/09 15:03:10;  author: matt;  state: Exp;
Two changes for Mike:
  1.  Do better placement of camera during death sequence (prevents hang)
  2.  Only record dodging information if the player fired in a frame
----------------------------
revision 1.297
date: 1994/12/09 14:59:12;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.296
date: 1994/12/08 20:05:07;  author: matt;  state: Exp;
Removed unneeded debug message
----------------------------
revision 1.295
date: 1994/12/08 12:36:02;  author: matt;  state: Exp;
Added new object allocation & deallocation functions so other code
could stop messing around with internal object data structures.
----------------------------
revision 1.294
date: 1994/12/07 20:13:37;  author: matt;  state: Exp;
Added debris object limiter
----------------------------
revision 1.293
date: 1994/12/06 16:58:38;  author: matt;  state: Exp;
Killed warnings
----------------------------
revision 1.292
date: 1994/12/05 22:34:35;  author: matt;  state: Exp;
Make tmap_override objects use override texture as alt texture.  This 
should have the effect of making simpler models use the override texture.
----------------------------
revision 1.291
date: 1994/12/05 12:23:53;  author: mike;  state: Exp;
make camera start closer, but move away from player in death sequence.
----------------------------
revision 1.290
date: 1994/12/02 11:11:18;  author: mike;  state: Exp;
hook sound effect to player small explosions (ctrlcen, too).
----------------------------
revision 1.289
date: 1994/11/28 21:50:52;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.288
date: 1994/11/27 23:12:28;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.287
date: 1994/11/27 20:35:50;  author: matt;  state: Exp;
Fixed dumb mistake
----------------------------
revision 1.286
date: 1994/11/27 20:30:52;  author: matt;  state: Exp;
Got rid of warning
----------------------------
revision 1.285
date: 1994/11/21 11:43:21;  author: mike;  state: Exp;
ndebug stuff.
----------------------------
revision 1.284
date: 1994/11/19 15:19:37;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.283
date: 1994/11/18 23:41:59;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.282
date: 1994/11/18 16:16:17;  author: mike;  state: Exp;
Separate depth on objects vs. walls.
----------------------------
revision 1.281
date: 1994/11/18 12:05:35;  author: rob;  state: Exp;
Removed unnecessary invulnerability flag set in player death.
(I hope its unnecessary.. its commented out if it proves crucial)
fixes powerup dropping bug for net play.
----------------------------
revision 1.280
date: 1994/11/16 20:36:34;  author: rob;  state: Exp;
Changed player explosion (small) code.
----------------------------
revision 1.279
date: 1994/11/16 18:26:04;  author: matt;  state: Exp;
Clear tmap override on player, to fix "rock ship" bug
----------------------------
revision 1.278
date: 1994/11/16 14:54:12;  author: rob;  state: Exp;
Moved hook for network explosions.
----------------------------
revision 1.277
date: 1994/11/14 11:40:42;  author: mike;  state: Exp;
plot inner polygon on laser based on detail level.
----------------------------
revision 1.276
date: 1994/11/10 14:02:59;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.275
date: 1994/11/08 12:19:08;  author: mike;  state: Exp;
Make a generally useful function for putting small explosions on any object.
----------------------------
revision 1.274
date: 1994/11/04 19:55:54;  author: rob;  state: Exp;
Changed calls to player_explode to accomodate new parameter.
----------------------------
revision 1.273
date: 1994/11/02 21:54:27;  author: matt;  state: Exp;
Delete the camera when the death sequence is done
----------------------------
revision 1.272
date: 1994/11/02 11:36:35;  author: rob;  state: Exp;
Added player-in-process-of-dying explosions to network play.
----------------------------
revision 1.271
date: 1994/10/31 17:25:33;  author: matt;  state: Exp;
Fixed cloaked bug
----------------------------
revision 1.270
date: 1994/10/31 16:11:19;  author: allender;  state: Exp;
on demo recording, store letterbox mode in demo.
----------------------------
revision 1.269
date: 1994/10/31 10:36:18;  author: mike;  state: Exp;
Make cloak effect fadein/fadeout different for robots versus player.
----------------------------
revision 1.268
date: 1994/10/30 14:11:44;  author: mike;  state: Exp;
rip out repair center stuff.
----------------------------
revision 1.267
date: 1994/10/28 19:43:52;  author: mike;  state: Exp;
Boss cloaking effect.
----------------------------
revision 1.266
date: 1994/10/27 11:33:42;  author: mike;  state: Exp;
Add Highest_ever_object_index -- high water mark in object creation.
----------------------------
revision 1.265
date: 1994/10/25 10:51:12;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.264
date: 1994/10/24 20:49:24;  author: matt;  state: Exp;
Made cloaked objects pulse
----------------------------
revision 1.263
date: 1994/10/21 12:19:45;  author: matt;  state: Exp;
Clear transient objects when saving (& loading) games
----------------------------
revision 1.262
date: 1994/10/21 11:25:23;  author: mike;  state: Exp;
Use new constant IMMORTAL_TIME.
----------------------------
revision 1.261
date: 1994/10/19 16:50:35;  author: matt;  state: Exp;
If out of segment, put player in center of segment when checking objects
----------------------------
revision 1.260
date: 1994/10/17 23:21:55;  author: mike;  state: Exp;
Clean up robot cloaking, move more to ai.c
----------------------------
revision 1.259
date: 1994/10/17 21:34:49;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.258
date: 1994/10/17 21:18:04;  author: mike;  state: Exp;
robot cloaking.
----------------------------
revision 1.257
date: 1994/10/17 14:12:23;  author: matt;  state: Exp;
Cleaned up problems with player dying from mine explosion
----------------------------
revision 1.256
date: 1994/10/15 19:04:31;  author: mike;  state: Exp;
Don't remove proximity bombs after you die.
----------------------------
revision 1.255
date: 1994/10/14 15:57:00;  author: mike;  state: Exp;
Don't show ids in network mode.
Fix, I hope, but in death sequence.
----------------------------
revision 1.254
date: 1994/10/12 08:04:29;  author: mike;  state: Exp;
Don't decloak player on death.
----------------------------
revision 1.253
date: 1994/10/11 20:36:16;  author: matt;  state: Exp;
Clear "transient" objects (weapons,explosions,etc.) when starting a level
----------------------------
revision 1.252
date: 1994/10/11 12:24:09;  author: matt;  state: Exp;
Cleaned up/change badass explosion calls
----------------------------
revision 1.251
date: 1994/10/08 19:30:20;  author: matt;  state: Exp;
Fixed (I hope) a bug in cloaking of multiplayer objects
----------------------------
revision 1.250
date: 1994/10/08 14:03:15;  author: rob;  state: Exp;
Changed cloaking routine.
----------------------------
revision 1.249
date: 1994/10/07 22:17:27;  author: mike;  state: Exp;
Asserts on valid segnum.
----------------------------
revision 1.248
date: 1994/10/07 19:11:14;  author: matt;  state: Exp;
Added cool cloak transition effect
 Global variables
=============================================================================
RCS file: /Smoke/miner/source/main/object.h,v
Working file: main/object.h
head: 1.6
description: object system definitions
----------------------------
revision 1.6
date: 1995/09/20 14:24:45;  author: allender;  state: Exp;
swap bytes on extractshortpos
----------------------------
revision 1.5
date: 1995/09/14 14:11:42;  author: allender;  state: Exp;
fix_object_segs returns void
----------------------------
revision 1.4
date: 1995/08/12 12:02:44;  author: allender;  state: Exp;
added flag to create_shortpos
----------------------------
revision 1.3
date: 1995/07/12 12:55:08;  author: allender;  state: Exp;
move structures back to original form as found on PC because
of network play
----------------------------
revision 1.2
date: 1995/06/19 07:55:06;  author: allender;  state: Exp;
rearranged structure members for possible better alignment
----------------------------
revision 1.1
date: 1995/05/16 16:00:40;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/31 12:24:10;  author: john;  state: Exp;
I had changed alt_textures from a pointer to a byte. This hosed old
saved games, so I restored it to an int.
----------------------------
revision 2.0
date: 1995/02/27 11:26:47;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.122
date: 1995/02/22 12:35:53;  author: allender;  state: Exp;
remove anonymous unions
----------------------------
revision 1.121
date: 1995/02/06 20:43:25;  author: rob;  state: Exp;
Extern'ed Dead_player_camera so it can be reset by multi.c
----------------------------
revision 1.120
date: 1995/02/01 16:34:07;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.119
date: 1995/01/29 13:46:42;  author: mike;  state: Exp;
adapt to new create_small_fireball_on_object prototype.
----------------------------
revision 1.118
date: 1995/01/26 22:11:27;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.117
date: 1995/01/24 12:09:29;  author: mike;  state: Exp;
Boost MAX_OBJECTS from 250 to 350.
----------------------------
revision 1.116
date: 1995/01/13 19:39:51;  author: rob;  state: Exp;
Removed outdated remote_info structure.  (looking for cause of bugs
----------------------------
revision 1.115
date: 1995/01/12 12:09:38;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.114
date: 1994/12/15 13:04:20;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.113
date: 1994/12/12 17:18:09;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.112
date: 1994/12/09 14:58:42;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.111
date: 1994/12/08 12:35:35;  author: matt;  state: Exp;
Added new object allocation & deallocation functions so other code
could stop messing around with internal object data structures.
----------------------------
revision 1.110
date: 1994/11/21 17:30:21;  author: matt;  state: Exp;
Increased max number of objects
----------------------------
revision 1.109
date: 1994/11/18 23:41:52;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.108
date: 1994/11/10 14:02:45;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.107
date: 1994/11/08 12:19:27;  author: mike;  state: Exp;
Small explosions on objects.
----------------------------
revision 1.106
date: 1994/10/25 10:51:17;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.105
date: 1994/10/21 12:19:41;  author: matt;  state: Exp;
Clear transient objects when saving (& loading) games
----------------------------
revision 1.104
date: 1994/10/21 11:25:04;  author: mike;  state: Exp;
Add IMMORTAL_TIME.
----------------------------
revision 1.103
date: 1994/10/17 21:34:54;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.102
date: 1994/10/14 18:12:28;  author: mike;  state: Exp;
Make egg dropping return object number.
----------------------------
revision 1.101
date: 1994/10/12 21:07:19;  author: matt;  state: Exp;
Killed unused field in object structure
----------------------------
revision 1.100
date: 1994/10/12 10:38:24;  author: mike;  state: Exp;
Add field OF_SILENT to obj->flags.
----------------------------
revision 1.99
date: 1994/10/11 20:35:48;  author: matt;  state: Exp;
Clear "transient" objects (weapons,explosions,etc.) when starting a level
----------------------------
revision 1.98
date: 1994/10/03 20:56:13;  author: rob;  state: Exp;
Added velocity to shortpos strucutre.
----------------------------
revision 1.97
date: 1994/09/30 18:24:00;  author: rob;  state: Exp;
Added new control type CT_REMOTE for remote controlled objects.
Also added a union struct 'remote_info' for this type.
----------------------------
revision 1.96
date: 1994/09/28 09:23:05;  author: mike;  state: Exp;
Prototype Object_type_names.
----------------------------
revision 1.95
date: 1994/09/25 23:32:37;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.94
date: 1994/09/25 15:45:28;  author: matt;  state: Exp;
Added OBJ_LIGHT, a type of object that casts light
Added generalized lifeleft, and moved it to local_object
----------------------------
revision 1.93
date: 1994/09/24 17:41:19;  author: mike;  state: Exp;
Add stuff to Local_object structure for materialization centers.
----------------------------
revision 1.92
date: 1994/09/24 13:16:50;  author: matt;  state: Exp;
Added (hacked in, really) support for overriding the bitmaps used on to
texture map a polygon object, and using a new bitmap for all the faces.
----------------------------
revision 1.91
date: 1994/09/22 19:02:14;  author: mike;  state: Exp;
Prototype functions extract_shortpos and create_shortpos which reside in
gameseg.c, but are prototyped here to prevent circular dependencies.
----------------------------
revision 1.90
date: 1994/09/15 21:47:14;  author: mike;  state: Exp;
Prototype dead_player_end().
----------------------------
revision 1.89
date: 1994/09/15 16:34:47;  author: mike;  state: Exp;
Add danger_laser_num and danger_laser_signature to object_local to
enable robots to efficiently (too efficiently!) avoid player fire.
----------------------------
revision 1.88
date: 1994/09/11 22:46:19;  author: mike;  state: Exp;
Death_sequence_aborted prototyped.
----------------------------
revision 1.87
date: 1994/09/09 20:04:30;  author: mike;  state: Exp;
Add vclips for weapons.
----------------------------
revision 1.86
date: 1994/09/09 14:20:54;  author: matt;  state: Exp;
Added flag that says object uses thrust
----------------------------
revision 1.85
date: 1994/09/08 14:51:32;  author: mike;  state: Exp;
Make a crucial name change to a field of local_object struct.
----------------------------
revision 1.84
date: 1994/09/07 19:16:45;  author: mike;  state: Exp;
Homing missile.
----------------------------
revision 1.83
date: 1994/09/06 17:05:43;  author: matt;  state: Exp;
Added new type for dead player
----------------------------
revision 1.82
date: 1994/09/02 11:56:09;  author: mike;  state: Exp;
Add persistency (PF_PERSISTENT) to physics_info.
----------------------------
revision 1.81
date: 1994/08/28 19:10:28;  author: mike;  state: Exp;
Add Player_is_dead.
----------------------------
revision 1.80
date: 1994/08/18 15:11:44;  author: mike;  state: Exp;
powerup stuff.
----------------------------
revision 1.79
date: 1994/08/15 15:24:54;  author: john;  state: Exp;
Made players know who killed them; Disabled cheat menu
during net player; fixed bug with not being able to turn
of invulnerability; Made going into edit/starting new leve
l drop you out of a net game; made death dialog box.
----------------------------
revision 1.78
date: 1994/08/14 23:15:12;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.77
date: 1994/08/13 14:58:27;  author: matt;  state: Exp;
Finished adding support for miscellaneous objects
----------------------------
revision 1.76
date: 1994/08/09 16:04:13;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.75
date: 1994/08/03 21:06:19;  author: matt;  state: Exp;
Added prototype for fix_object_segs(), and renamed now-unused spawn_pos
----------------------------
revision 1.74
date: 1994/08/02 12:30:27;  author: matt;  state: Exp;
Added support for spinning objects
----------------------------
revision 1.73
date: 1994/07/27 20:53:25;  author: matt;  state: Exp;
Added rotational drag & thrust, so turning now has momemtum like moving
----------------------------
revision 1.72
date: 1994/07/27 19:44:21;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.71
date: 1994/07/22 20:43:29;  author: matt;  state: Exp;
Fixed flares, by adding a physics flag that makes them stick to walls.
----------------------------
revision 1.70
date: 1994/07/21 12:42:10;  author: mike;  state: Exp;
Prototype new find_object_seg and update_object_seg.
----------------------------
revision 1.69
date: 1994/07/19 15:26:39;  author: mike;  state: Exp;
New ai_static structure.
----------------------------
revision 1.68
date: 1994/07/13 00:15:06;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.67
date: 1994/07/12 12:40:12;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.66
date: 1994/07/06 15:26:23;  author: yuan;  state: Exp;
Added chase mode.
=============================================================================
RCS file: /Smoke/miner/source/main/paging.c,v
Working file: main/paging.c
head: 1.5
description: Routines for paging in/out textures.
----------------------------
revision 1.5
date: 1995/10/30 11:06:58;  author: allender;  state: Exp;
added change to paging code ala John -- check tmap_override
when paging in robots
----------------------------
revision 1.4
date: 1995/09/13 08:48:28;  author: allender;  state: Exp;
John's new paging code
----------------------------
revision 1.3
date: 1995/08/18 10:20:31;  author: allender;  state: Exp;
changed hard coded black pixel value to use BM_XRGB
----------------------------
revision 1.2
date: 1995/07/26 17:02:10;  author: allender;  state: Exp;
small fix to page in effect bitmaps correctly
----------------------------
revision 1.1
date: 1995/05/16 15:29:35;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:39;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.18
date: 1995/02/22 14:12:28;  author: allender;  state: Exp;
remove anonyous union from object structure
----------------------------
revision 1.17
date: 1995/02/11 22:54:15;  author: john;  state: Exp;
Made loading for pig not show up for demos.
----------------------------
revision 1.16
date: 1995/02/11 22:37:04;  author: john;  state: Exp;
Made cockpit redraw.
----------------------------
revision 1.15
date: 1995/01/28 16:29:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.14
date: 1995/01/27 17:16:18;  author: john;  state: Exp;
Added code to page in all the weapons.
----------------------------
revision 1.13
date: 1995/01/24 21:51:22;  author: matt;  state: Exp;
Clear the boxed message to fix a mem leakage
----------------------------
revision 1.12
date: 1995/01/23 13:00:46;  author: john;  state: Exp;
Added hostage vclip paging.
----------------------------
revision 1.11
date: 1995/01/23 12:29:52;  author: john;  state: Exp;
Added code to page in eclip on robots, dead control center,
gauges bitmaps, and weapon pictures.
----------------------------
revision 1.10
date: 1995/01/21 12:54:15;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1995/01/21 12:41:29;  author: adam;  state: Exp;
changed orb to loading box
----------------------------
revision 1.8
date: 1995/01/18 15:09:02;  author: john;  state: Exp;
Added start/stop time around paging.
Made paging clear screen around globe.
----------------------------
revision 1.7
date: 1995/01/18 10:37:00;  author: john;  state: Exp;
Added code to page in exploding monitors.
----------------------------
revision 1.6
date: 1995/01/17 19:03:35;  author: john;  state: Exp;
Added cool spinning orb during loading.
----------------------------
revision 1.5
date: 1995/01/17 14:49:26;  author: john;  state: Exp;
Paged in weapons.
----------------------------
revision 1.4
date: 1995/01/17 12:14:07;  author: john;  state: Exp;
Made walls, object explosion vclips load at level start.
----------------------------
revision 1.3
date: 1995/01/15 13:23:24;  author: john;  state: Exp;
First working version
----------------------------
revision 1.2
date: 1995/01/15 11:56:45;  author: john;  state: Exp;
Working version of paging.
----------------------------
revision 1.1
date: 1995/01/15 11:33:37;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/paging.h,v
Working file: main/paging.h
head: 1.1
description: Prototypes for paging.
----------------------------
revision 1.1
date: 1995/05/16 16:00:48;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:30:12;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1995/01/15 11:56:39;  author: john;  state: Exp;
Working version of paging.
----------------------------
revision 1.1
date: 1995/01/15 11:33:52;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/digi.c,v
Working file: main/digi.c
head: 2.3
description: Routines to access digital sound hardware
----------------------------
revision 2.3
date: 1995/05/26 16:16:03;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.2
date: 1995/03/30 16:36:04;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.1
date: 1995/03/15 11:41:23;  author: john;  state: Exp;
Better Saturn CD-ROM support.
----------------------------
revision 2.0
date: 1995/02/27 11:29:15;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.172
date: 1995/02/15 09:57:53;  author: john;  state: Exp;
Fixed bug with loading new banks while song is playing.
----------------------------
revision 1.171
date: 1995/02/14 16:36:26;  author: john;  state: Exp;
Fixed bug with countdown voice getting cut off.
----------------------------
revision 1.170
date: 1995/02/13 20:34:51;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.169
date: 1995/02/13 15:18:21;  author: john;  state: Exp;
Added code to reset sounds.
----------------------------
revision 1.168
date: 1995/02/13 12:53:11;  author: john;  state: Exp;
Fixed bug with demos recording wrong volumes.
----------------------------
revision 1.167
date: 1995/02/11 15:04:29;  author: john;  state: Exp;
Made FM files load as if you have FM card.
----------------------------
revision 1.166
date: 1995/02/11 12:41:35;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.165
date: 1995/02/10 16:24:58;  author: john;  state: Exp;
MAde previous change only reverse for RAP10.
----------------------------
revision 1.164
date: 1995/02/10 13:47:37;  author: john;  state: Exp;
Made digi init before midi to maybe fix RAP10 bug.
----------------------------
revision 1.163
date: 1995/02/08 21:05:22;  author: john;  state: Exp;
Added code that loads patches for every FM song.
----------------------------
revision 1.162
date: 1995/02/03 17:17:51;  author: john;  state: Exp;
Made digi lowmem default to off.
----------------------------
revision 1.161
date: 1995/02/03 17:08:22;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.160
date: 1995/02/01 22:37:06;  author: john;  state: Exp;
Reduced sound travel distance to 1.25 times original.
----------------------------
revision 1.159
date: 1995/02/01 22:20:41;  author: john;  state: Exp;
Added digi_is_sound_playing.
----------------------------
revision 1.158
date: 1995/01/28 15:56:56;  author: john;  state: Exp;
Made sounds carry 1.5 times farther.
----------------------------
revision 1.157
date: 1995/01/27 17:17:09;  author: john;  state: Exp;
Made max sounds relate better to MAX_SOUND_OBJECTS
----------------------------
revision 1.156
date: 1995/01/25 12:18:06;  author: john;  state: Exp;
Fixed bug with not closing MIDI files when midi volume is 0.
----------------------------
revision 1.155
date: 1995/01/24 17:52:17;  author: john;  state: Exp;
MAde midi music stop playing when volume is 0.
----------------------------
revision 1.154
date: 1995/01/21 21:22:31;  author: mike;  state: Exp;
Correct bogus error message.
----------------------------
revision 1.153
date: 1995/01/17 14:53:38;  author: john;  state: Exp;
IFDEF'D out digital drums.
----------------------------
revision 1.152
date: 1995/01/11 16:26:50;  author: john;  state: Exp;
Restored MIDI pausing to actually setting volume to 0,.
----------------------------
revision 1.151
date: 1995/01/10 16:38:46;  author: john;  state: Exp;
Made MIDI songs pause, not lower volume when pausing, and
had to fix an HMI bug by clearing the TRACKINFO array or something.
----------------------------
revision 1.150
date: 1995/01/05 19:46:27;  author: john;  state: Exp;
Added code to reset the midi tracks to use the ones 
in the midi file before each song is played.
----------------------------
revision 1.149
date: 1994/12/21 15:08:59;  author: matt;  state: Exp;
Bumped MAX_SOUND_OBJECTS back up to match v1.00 of shareware
----------------------------
revision 1.148
date: 1994/12/20 18:22:54;  author: john;  state: Exp;
Added code to support non-looping songs, and put
it in for endlevel and credits.
----------------------------
revision 1.147
date: 1994/12/19 17:58:19;  author: john;  state: Exp;
Changed Assert for too many sounds to gracefully exit.
----------------------------
revision 1.146
date: 1994/12/14 16:03:27;  author: john;  state: Exp;
Made the digi/midi deinit in reverse order for anything
other than GUS.
----------------------------
revision 1.145
date: 1994/12/14 14:51:06;  author: john;  state: Exp;
Added assert.
----------------------------
revision 1.144
date: 1994/12/14 12:14:40;  author: john;  state: Exp;
Relplaced a bunch of (a*b)/c with fixmuldiv
to get rid of a overflow bug mike found.
----------------------------
revision 1.143
date: 1994/12/13 17:30:16;  author: john;  state: Exp;
Made the timer rate be changed right after initializing it.
----------------------------
revision 1.142
date: 1994/12/13 14:08:35;  author: john;  state: Exp;
Made Pause key set midi volume to 0.
Made digi_init set midi volume to proper level.
----------------------------
revision 1.141
date: 1994/12/13 12:42:31;  author: jasen;  state: Exp;
Fixed sound priority bugs... -john
----------------------------
revision 1.140
date: 1994/12/13 12:11:38;  author: john;  state: Exp;
Added debugging code.
----------------------------
revision 1.139
date: 1994/12/13 11:45:19;  author: john;  state: Exp;
Disabled interrupts around the midisetvolume because awe32
hangs if you don't.
----------------------------
revision 1.138
date: 1994/12/13 11:33:45;  author: john;  state: Exp;
MAde so that sounds with volumes > f1_0 don't cut off.
----------------------------
revision 1.137
date: 1994/12/13 02:24:29;  author: matt;  state: Exp;
digi_init() now doesn't return error when no sound card
----------------------------
revision 1.136
date: 1994/12/13 00:46:27;  author: john;  state: Exp;
Split digi and midi volume into 2 seperate functions.
----------------------------
revision 1.135
date: 1994/12/12 22:19:20;  author: john;  state: Exp;
Made general midi versions of files load...
.hmq instead of .hmp.
----------------------------
revision 1.134
date: 1994/12/12 21:32:49;  author: john;  state: Exp;
Made volume work better by making sure volumes are valid
and set correctly at program startup.
----------------------------
revision 1.133
date: 1994/12/12 20:52:35;  author: john;  state: Exp;
Fixed bug with pause calling set mastervolume to 0.
----------------------------
revision 1.132
date: 1994/12/12 20:39:52;  author: john;  state: Exp;
Changed so that instead of using MasterVolume for 
digital sounds, I just scale the volume I play the
sound by.
----------------------------
revision 1.131
date: 1994/12/12 13:58:21;  author: john;  state: Exp;
MAde -nomusic work.
Fixed GUS hang at exit by deinitializing digi before midi.
----------------------------
revision 1.130
date: 1994/12/11 23:29:39;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.129
date: 1994/12/11 23:18:07;  author: john;  state: Exp;
Added -nomusic.
Added RealFrameTime.
Put in a pause when sound initialization error.
Made controlcen countdown and framerate use RealFrameTime.
----------------------------
revision 1.128
date: 1994/12/11 13:35:26;  author: john;  state: Exp;
Let sounds play louder than F1_0.  btw, 4*f1_0 is maxed.
----------------------------
revision 1.127
date: 1994/12/11 00:43:45;  author: john;  state: Exp;
Fixed bug with sounds taking over channels that sound objects own.
----------------------------
revision 1.126
date: 1994/12/10 20:35:03;  author: john;  state: Exp;
Added digi_kill_sound_linked_to_object.
----------------------------
revision 1.125
date: 1994/12/10 15:44:20;  author: john;  state: Exp;
Added max_distance passing for sound objects.
----------------------------
revision 1.124
date: 1994/12/09 20:16:37;  author: john;  state: Exp;
Made it so that when Mike's AI code passes bogus values, the
digi code will saturate them.
----------------------------
revision 1.123
date: 1994/12/09 17:07:52;  author: john;  state: Exp;
Fixed abrupt fan cutoff.
----------------------------
revision 1.122
date: 1994/12/08 17:19:14;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.121
date: 1994/12/06 19:24:08;  author: john;  state: Exp;
CLosed HMI timer after making our not call it.
----------------------------
revision 1.120
date: 1994/12/06 19:00:42;  author: john;  state: Exp;
Moved digi_reset_sounds to reset instead of digi_close.
----------------------------
revision 1.119
date: 1994/12/06 18:23:48;  author: matt;  state: Exp;
Don't pause midi songs, becuase it can lock up
----------------------------
revision 1.118
date: 1994/12/06 16:07:09;  author: john;  state: Exp;
MAde the gus pats only load if using midi==midi_gus.
----------------------------
revision 1.117
date: 1994/12/06 10:17:07;  author: john;  state: Exp;
MAde digi_close call reset_sounds.
----------------------------
revision 1.116
date: 1994/12/05 23:36:50;  author: john;  state: Exp;
Took out lock down of GETDS, because, I, john, was wrong, and it
was me, not the HMI people, that was calling GETDS in an interrupt.
I un-formally apologize to HMI.
----------------------------
revision 1.115
date: 1994/12/05 22:50:09;  author: john;  state: Exp;
Put in code to lock down GETDS, because the HMI
people don't lock it down, even tho they use it 
in their timerhandler interrupt.
----------------------------
revision 1.114
date: 1994/12/05 18:54:09;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.113
date: 1994/12/05 18:52:11;  author: john;  state: Exp;
Locked down the TrackMap array, since SOS references it in an interupt.
Added -noloadpats command line option.
----------------------------
revision 1.112
date: 1994/12/05 16:55:45;  author: john;  state: Exp;
Made so that digi_init_System is  called before 
the timer system calls the timer handler.
----------------------------
revision 1.111
date: 1994/12/05 12:56:19;  author: john;  state: Exp;
Made the intruments patches only load for FM devices.
----------------------------
revision 1.110
date: 1994/12/05 12:17:16;  author: john;  state: Exp;
Added code that locks/unlocks digital sounds on demand.
----------------------------
revision 1.109
date: 1994/12/04 14:30:10;  author: john;  state: Exp;
Added hooks for music..
----------------------------
revision 1.108
date: 1994/12/02 13:58:27;  author: matt;  state: Exp;
Put in Int3()s when try to play a non-existant sound
----------------------------
revision 1.107
date: 1994/12/02 10:35:58;  author: john;  state: Exp;
Took out loadpats.c
----------------------------
revision 1.106
date: 1994/12/01 02:22:33;  author: john;  state: Exp;
Incorporated LOADPATS.EXE into our code.
----------------------------
revision 1.105
date: 1994/12/01 00:59:51;  author: john;  state: Exp;
Fixed some pot. bugs with closing.
----------------------------
revision 1.104
date: 1994/11/30 23:54:40;  author: rob;  state: Exp;
Tweaked some volume params due to a fix in find_connected_distance.
----------------------------
revision 1.103
date: 1994/11/30 19:36:44;  author: john;  state: Exp;
Made Gravis Ultrasound work again.  Made the scores blink
at a constant rate.  Revamped the newmenu background storage,
which hopefully fixed some bugs.  Made menus in ame not pause
sound, except for the pause key.               ^== Game!
----------------------------
revision 1.102
date: 1994/11/30 15:14:25;  author: rob;  state: Exp;
Removed unused include file..
----------------------------
revision 1.101
date: 1994/11/30 15:08:45;  author: john;  state: Exp;
Changed some open/close stuff with sound.
----------------------------
revision 1.100
date: 1994/11/29 13:35:41;  author: john;  state: Exp;
Test code.
----------------------------
revision 1.99
date: 1994/11/29 03:46:32;  author: john;  state: Exp;
Added joystick sensitivity; Added sound channels to detail menu.  Removed -maxchannels
command line arg.
----------------------------
revision 1.98
date: 1994/11/28 18:37:59;  author: john;  state: Exp;
Made sample play once work.
----------------------------
revision 1.97
date: 1994/11/28 18:35:19;  author: john;  state: Exp;
Made the digi_max_channels cut of an old sound instead of
not playing a new sound.
----------------------------
revision 1.96
date: 1994/11/28 01:32:02;  author: mike;  state: Exp;
use quick form of matrix function.
----------------------------
revision 1.95
date: 1994/11/27 23:12:14;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.94
date: 1994/11/22 17:13:31;  author: john;  state: Exp;
Fixed bug with the digital drums hanging.
----------------------------
revision 1.93
date: 1994/11/21 19:09:21;  author: john;  state: Exp;
Made so if digi and midi both 0, same as -nosound.
----------------------------
revision 1.92
date: 1994/11/21 16:46:46;  author: john;  state: Exp;
Limited digital channels to 10.
----------------------------
revision 1.91
date: 1994/11/21 16:28:42;  author: john;  state: Exp;
Fixed bug with digi_close hanging.
----------------------------
revision 1.90
date: 1994/11/21 15:40:28;  author: john;  state: Exp;
Locked down the instrument data.
----------------------------
revision 1.89
date: 1994/11/21 14:43:55;  author: john;  state: Exp;
Fixed some bugs with setting volumes even when -nosound was used. Duh!
----------------------------
revision 1.88
date: 1994/11/21 11:55:26;  author: john;  state: Exp;
Fixed some sound pausing in menus bugs.
----------------------------
revision 1.87
date: 1994/11/21 11:02:21;  author: john;  state: Exp;
Made fan sounds be 1/2 the volume so that they
don'
don't carry as far.
----------------------------
revision 1.86
date: 1994/11/20 17:47:51;  author: john;  state: Exp;
Fixed a potential bug with sound initializing.
----------------------------
revision 1.85
date: 1994/11/20 17:29:07;  author: john;  state: Exp;
Fixed bug with page fault during digi_close.
----------------------------
revision 1.84
date: 1994/11/19 15:19:24;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.83
date: 1994/11/16 23:38:33;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.82
date: 1994/11/14 18:12:46;  author: john;  state: Exp;
Took out some sound objects stuff.
=============================================================================
RCS file: /Smoke/miner/source/main/physics.c,v
Working file: main/physics.c
head: 1.5
description: Code for flying through the mines
----------------------------
revision 1.5
date: 1995/10/12 17:28:08;  author: allender;  state: Exp;
put in code to move and object to center of segment in
do_physics sim when fvi fails with bad point
----------------------------
revision 1.4
date: 1995/08/23 21:32:44;  author: allender;  state: Exp;
fix mcc compiler warnings
----------------------------
revision 1.3
date: 1995/07/28 15:38:56;  author: allender;  state: Exp;
removed isqrt thing -- not required here
----------------------------
revision 1.2
date: 1995/07/28 15:13:29;  author: allender;  state: Exp;
fixed vector magnitude thing
----------------------------
revision 1.1
date: 1995/05/16 15:29:42;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/24 14:48:54;  author: john;  state: Exp;
Added cheat for player to go thru walls.
----------------------------
revision 2.1
date: 1995/03/20 18:15:59;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:32:06;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.213
date: 1995/02/22 13:40:48;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.212
date: 1995/02/22 13:24:42;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.211
date: 1995/02/06 19:46:59;  author: matt;  state: Exp;
New function (untested), set_thrust_from_velocity()
----------------------------
revision 1.210
date: 1995/02/02 16:26:12;  author: matt;  state: Exp;
Changed assert that was causing a problem
----------------------------
revision 1.209
date: 1995/02/02 14:07:00;  author: matt;  state: Exp;
Fixed confusion about which segment you are touching when you're 
touching a wall.  This manifested itself in spurious lava burns.
----------------------------
revision 1.208
date: 1995/02/01 21:03:24;  author: john;  state: Exp;
Lintified.
----------------------------
revision 1.207
date: 1995/01/25 13:53:35;  author: rob;  state: Exp;
Removed an Int3 from multiplayer games.
----------------------------
revision 1.206
date: 1995/01/23 17:30:47;  author: rob;  state: Exp;
Removed Int3 on bogus sim time.
----------------------------
revision 1.205
date: 1995/01/17 11:08:56;  author: matt;  state: Exp;
Disable new-ish FVI edge checking for all objects except the player,
since it was causing problems with the fusion cannon.
----------------------------
revision 1.204
date: 1995/01/05 09:43:49;  author: matt;  state: Exp;
Took out int3s from new code
----------------------------
revision 1.203
date: 1995/01/04 22:19:23;  author: matt;  state: Exp;
Added hack to keep player from squeezing through closed walls/doors
----------------------------
revision 1.202
date: 1995/01/02 12:38:48;  author: mike;  state: Exp;
physics hack to crazy josh not get hung up on proximity bombs.  Matt notified via email.
----------------------------
revision 1.201
date: 1994/12/13 15:39:22;  author: mike;  state: Exp;
#ifndef NDEBUG some code.
----------------------------
revision 1.200
date: 1994/12/13 13:28:34;  author: yuan;  state: Exp;
Fixed type.
----------------------------
revision 1.199
date: 1994/12/13 13:25:00;  author: matt;  state: Exp;
Made bump hack compile out if so desired
----------------------------
revision 1.198
date: 1994/12/13 12:02:39;  author: matt;  state: Exp;
Added hack to bump player a little if stuck
----------------------------
revision 1.197
date: 1994/12/12 00:32:23;  author: matt;  state: Exp;
When objects other than player go out of mine, jerk to center of segment
----------------------------
revision 1.196
date: 1994/12/10 22:52:42;  author: mike;  state: Exp;
make physics left-the-mine checking always be in.
----------------------------
revision 1.195
date: 1994/12/08 00:53:01;  author: mike;  state: Exp;
oops...phys rot bug.
----------------------------
revision 1.194
date: 1994/12/07 12:54:54;  author: mike;  state: Exp;
tweak rotvel applied from collisions.
----------------------------
revision 1.193
date: 1994/12/07 00:36:08;  author: mike;  state: Exp;
fix phys_apply_rot for robots -- ai was bashing effect in next frame.
----------------------------
revision 1.192
date: 1994/12/05 17:23:10;  author: matt;  state: Exp;
Made a bunch of debug code compile out
----------------------------
revision 1.191
date: 1994/12/05 16:30:10;  author: matt;  state: Exp;
Was illegally changing an object's segment...shoot me.
----------------------------
revision 1.190
date: 1994/12/05 11:58:51;  author: mike;  state: Exp;
fix stupid apply_force_rot() bug.
----------------------------
revision 1.189
date: 1994/12/05 09:42:17;  author: mike;  state: Exp;
fix 0 mag problem when object applies force to itself.
----------------------------
revision 1.188
date: 1994/12/04 22:48:40;  author: matt;  state: Exp;
Physics & FVI now only build seglist for player objects, and they 
responsilby deal with buffer full conditions
----------------------------
revision 1.187
date: 1994/12/04 22:14:07;  author: mike;  state: Exp;
apply instantaneous rotation to an object due to a force blow.
----------------------------
revision 1.186
date: 1994/12/04 18:51:30;  author: matt;  state: Exp;
When weapons get stuck, delete them!
----------------------------
revision 1.185
date: 1994/12/04 18:38:56;  author: matt;  state: Exp;
Added better handling of point-not-in-seg problem
----------------------------
revision 1.184
date: 1994/11/27 23:13:42;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.183
date: 1994/11/25 23:46:18;  author: matt;  state: Exp;
Fixed drag problems with framerates over 60Hz
----------------------------
revision 1.182
date: 1994/11/25 22:15:52;  author: matt;  state: Exp;
Added asserts to try to trap frametime < 0 bug
----------------------------
revision 1.181
date: 1994/11/21 11:42:44;  author: mike;  state: Exp;
ndebug stuff.
----------------------------
revision 1.180
date: 1994/11/19 15:15:04;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.179
date: 1994/11/16 11:25:22;  author: matt;  state: Exp;
Abort physics if negative frametime
----------------------------
revision 1.178
date: 1994/10/05 19:50:41;  author: rob;  state: Exp;
Removed a non-critical Int3 where an object's segnum is checked.
Left mprintf message.
----------------------------
revision 1.177
date: 1994/10/03 22:57:50;  author: matt;  state: Exp;
Fixed problem with matrix corruption of non-moving (but rotating) objects
----------------------------
revision 1.176
date: 1994/09/28 09:23:28;  author: mike;  state: Exp;
Add useful information to mprintf(1,... error messages.
----------------------------
revision 1.175
date: 1994/09/21 17:16:54;  author: mike;  state: Exp;
Make objects stuck in doors go away when door opens.
----------------------------
revision 1.174
date: 1994/09/12 14:19:06;  author: matt;  state: Exp;
Drag & thrust now handled differently
----------------------------
revision 1.173
date: 1994/09/09 14:21:12;  author: matt;  state: Exp;
Use new thrust flag
----------------------------
revision 1.172
date: 1994/09/08 16:21:57;  author: matt;  state: Exp;
Cleaned up player-hit-wall code, and added object scrape handling
Also added weapon-on-weapon hit sound
----------------------------
revision 1.171
date: 1994/09/02 12:30:37;  author: matt;  state: Exp;
Fixed weapons which go through objects
----------------------------
revision 1.170
date: 1994/09/02 11:55:14;  author: mike;  state: Exp;
Kill redefinition of a constant which is properly defined in object.h
----------------------------
revision 1.169
date: 1994/09/02 11:35:01;  author: matt;  state: Exp;
Fixed typo
----------------------------
revision 1.168
date: 1994/09/02 11:32:48;  author: matt;  state: Exp;
Fixed object/object collisions, so you can't fly through robots anymore.
Cleaned up object damage system.
----------------------------
revision 1.167
date: 1994/08/30 21:58:15;  author: matt;  state: Exp;
Made phys_apply_force() do nothing to an object if it's not a phys object
----------------------------
revision 1.166
date: 1994/08/26 10:47:01;  author: john;  state: Exp;
New version of controls.
----------------------------
revision 1.165
date: 1994/08/25 21:53:57;  author: mike;  state: Exp;
Prevent counts of -1 which eventually add up to a positive number in do_ai_frame, causing
the too-many-retries behavior.
----------------------------
revision 1.164
date: 1994/08/25 18:43:33;  author: john;  state: Exp;
First revision of new control code.
----------------------------
revision 1.163
date: 1994/08/17 22:18:05;  author: mike;  state: Exp;
Make robots which have rotvel or rotthrust, but not movement, move.
----------------------------
revision 1.162
date: 1994/08/13 17:31:18;  author: mike;  state: Exp;
retry count stuff.
----------------------------
revision 1.161
date: 1994/08/11 18:59:16;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.160
date: 1994/08/10 19:53:47;  author: mike;  state: Exp;
Debug code (which is still in...)
and adapt to changed interface to create_path_to_player.
----------------------------
revision 1.159
date: 1994/08/08 21:38:43;  author: matt;  state: Exp;
Cleaned up a code a little and optimized a little
----------------------------
revision 1.158
date: 1994/08/08 15:21:50;  author: mike;  state: Exp;
Trap retry count >= 4, but don't do AI hack unless >= 6.
----------------------------
revision 1.157
date: 1994/08/08 11:47:15;  author: matt;  state: Exp;
Cleaned up fvi and physics a little
----------------------------
revision 1.156
date: 1994/08/05 10:10:10;  author: yuan;  state: Exp;
Commented out debug stuff that was killing framerate.
----------------------------
revision 1.155
date: 1994/08/04 19:12:36;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.154
date: 1994/08/04 16:33:57;  author: mike;  state: Exp;
Kill a pile of RCS stuff.
Call create_path_to_player for a stuck object.
----------------------------
revision 1.153
date: 1994/08/04 00:21:02;  author: matt;  state: Exp;
Cleaned up fvi & physics error handling; put in code to make sure objects
are in correct segment; simplified segment finding for objects and points
----------------------------
revision 1.152
date: 1994/08/01 16:25:34;  author: matt;  state: Exp;
Check for moved_time == 0 when computing hit speed
----------------------------
revision 1.151
date: 1994/08/01 13:30:32;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.150
date: 1994/07/29 23:41:46;  author: matt;  state: Exp;
Fixed turn banking, which changed when I added rotational velocity
----------------------------
revision 1.149
date: 1994/07/27 20:53:23;  author: matt;  state: Exp;
Added rotational drag & thrust, so turning now has momemtum like moving
=============================================================================
RCS file: /Smoke/miner/source/main/physics.h,v
Working file: main/physics.h
head: 1.2
description: Headers for physics functions and data
----------------------------
revision 1.2
date: 1995/08/23 21:33:04;  author: allender;  state: Exp;
fix mcc compiler warnings
----------------------------
revision 1.1
date: 1995/05/16 16:00:56;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:33:06;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.29
date: 1995/02/06 19:47:18;  author: matt;  state: Exp;
New function (untested), set_thrust_from_velocity()
----------------------------
revision 1.28
date: 1994/12/04 22:14:20;  author: mike;  state: Exp;
apply instantaneous rotation to an object due to a force blow.
----------------------------
revision 1.27
date: 1994/08/01 13:29:42;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.26
date: 1994/07/28 12:35:22;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.25
date: 1994/07/13 21:48:05;  author: matt;  state: Exp;
FVI() and physics now keep lists of segments passed through which the
trigger code uses.
----------------------------
revision 1.24
date: 1994/06/30 19:01:55;  author: matt;  state: Exp;
Moved flying controls code from physics.c to controls.c
----------------------------
revision 1.23
date: 1994/06/16 14:14:20;  author: mike;  state: Exp;
Change physics_lookahead to return hit_info.
----------------------------
revision 1.22
date: 1994/06/09 09:58:43;  author: matt;  state: Exp;
Moved find_vector_intersection() from physics.c to new file fvi.c
----------------------------
revision 1.21
date: 1994/05/20 16:11:07;  author: matt;  state: Exp;
Added new parm, ignore_obj, to find_vector_intersection()
----------------------------
revision 1.20
date: 1994/05/20 15:16:58;  author: matt;  state: Exp;
Added new fvi return type; took out some troublesome (and troubling) asserts
=============================================================================
RCS file: /Smoke/miner/source/main/piggy.c,v
Working file: main/piggy.c
head: 1.16
description: Functions for managing the pig files.
----------------------------
revision 1.16
date: 1995/11/09 17:27:47;  author: allender;  state: Exp;
put in missing quote on new gauge name
----------------------------
revision 1.15
date: 1995/11/08 17:28:03;  author: allender;  state: Exp;
add PC gauges to gauge list of non-substitutatble bitmaps
----------------------------
revision 1.14
date: 1995/11/08 15:14:49;  author: allender;  state: Exp;
fixed horrible bug where the piggy cache size was incorrect
for mac shareware
----------------------------
revision 1.13
date: 1995/11/03 12:53:37;  author: allender;  state: Exp;
shareware changes
----------------------------
revision 1.12
date: 1995/10/21 22:25:14;  author: allender;  state: Exp;
added bald guy cheat
----------------------------
revision 1.11
date: 1995/10/20 22:42:15;  author: allender;  state: Exp;
changed load path of descent.pig to :data:descent.pig
----------------------------
revision 1.10
date: 1995/10/20 00:08:01;  author: allender;  state: Exp;
put in event loop calls when loading data (hides it nicely
from user) so TM can get it's strokes stuff
----------------------------
revision 1.9
date: 1995/09/13 08:48:01;  author: allender;  state: Exp;
added lower memory requirement to load alternate bitmaps
----------------------------
revision 1.8
date: 1995/08/16 09:39:13;  author: allender;  state: Exp;
moved "loading" text up a little
----------------------------
revision 1.7
date: 1995/08/08 13:54:26;  author: allender;  state: Exp;
added macsys header file
----------------------------
revision 1.6
date: 1995/07/12 12:49:56;  author: allender;  state: Exp;
total hack for bitmaps > 512 bytes wide -- check these by name
----------------------------
revision 1.5
date: 1995/07/05 16:47:05;  author: allender;  state: Exp;
kitchen stuff
----------------------------
revision 1.4
date: 1995/06/23 08:55:28;  author: allender;  state: Exp;
make "loading data" text y loc based off of curcanv
----------------------------
revision 1.3
date: 1995/06/08 14:08:52;  author: allender;  state: Exp;
PPC aligned data sets
----------------------------
revision 1.2
date: 1995/05/26 06:54:27;  author: allender;  state: Exp;
removed refences to sound data at end of pig file (since they will
now be Macintosh snd resources for effects
----------------------------
revision 1.1
date: 1995/05/16 15:29:51;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.9
date: 1995/04/14 14:05:24;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 2.8
date: 1995/04/12 13:39:37;  author: john;  state: Exp;
Fixed bug with -lowmem not working.
----------------------------
revision 2.7
date: 1995/03/29 23:23:17;  author: john;  state: Exp;
Fixed major bug with sounds not building into pig right.
----------------------------
revision 2.6
date: 1995/03/28 18:05:00;  author: john;  state: Exp;
Fixed it so you don't have to delete pig after changing bitmaps.tbl
----------------------------
revision 2.5
date: 1995/03/16 23:13:06;  author: john;  state: Exp;
Fixed bug with piggy paging in bitmap not checking for disk
error, hence bogifying textures if you pull the CD out.
----------------------------
revision 2.4
date: 1995/03/14 16:22:27;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.3
date: 1995/03/06 15:23:20;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.2
date: 1995/02/27 13:13:40;  author: john;  state: Exp;
Removed floating point.
----------------------------
revision 2.1
date: 1995/02/27 12:31:25;  author: john;  state: Exp;
Made work without editor.
----------------------------
revision 2.0
date: 1995/02/27 11:28:02;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.85
date: 1995/02/09 12:54:24;  author: john;  state: Exp;
Made paged out bitmaps have bm_data be a valid pointer
instead of NULL, in case anyone accesses it.
----------------------------
revision 1.84
date: 1995/02/09 12:50:59;  author: john;  state: Exp;
Bullet-proofed the piggy loading code.
----------------------------
revision 1.83
date: 1995/02/07 17:08:51;  author: john;  state: Exp;
Added some error handling stuff instead of asserts.
----------------------------
revision 1.82
date: 1995/02/03 17:06:48;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.81
date: 1995/02/02 21:56:39;  author: matt;  state: Exp;
Added data for new gauge bitmaps
----------------------------
revision 1.80
date: 1995/02/01 23:31:57;  author: john;  state: Exp;
Took out loading bar.
----------------------------
revision 1.79
date: 1995/01/28 15:13:18;  author: allender;  state: Exp;
bumped up Piggy_bitmap_cache_size
----------------------------
revision 1.78
date: 1995/01/26 12:30:43;  author: john;  state: Exp;
Took out prev.
----------------------------
revision 1.77
date: 1995/01/26 12:12:17;  author: john;  state: Exp;
Made buffer be big for bitmaps.
----------------------------
revision 1.76
date: 1995/01/25 20:15:38;  author: john;  state: Exp;
Made editor allocate all mem.
----------------------------
revision 1.75
date: 1995/01/25 14:52:56;  author: john;  state: Exp;
Made bitmap buffer be 1.5 MB.
----------------------------
revision 1.74
date: 1995/01/22 16:03:19;  author: mike;  state: Exp;
localization.
----------------------------
revision 1.73
date: 1995/01/22 15:58:36;  author: mike;  state: Exp;
localization
----------------------------
revision 1.72
date: 1995/01/18 20:51:20;  author: john;  state: Exp;
Took out warnings.
----------------------------
revision 1.71
date: 1995/01/18 20:47:21;  author: john;  state: Exp;
Added code to allocate sounds & bitmaps into diff
buffers, also made sounds not be compressed for registered.
----------------------------
revision 1.70
date: 1995/01/18 15:08:41;  author: john;  state: Exp;
Added start/stop time around paging.
Made paging clear screen around globe.
----------------------------
revision 1.69
date: 1995/01/18 10:07:51;  author: john;  state: Exp;
Took out debugging mprintfs.
----------------------------
revision 1.68
date: 1995/01/17 14:27:42;  author: john;  state: Exp;
y
----------------------------
revision 1.67
date: 1995/01/17 12:14:39;  author: john;  state: Exp;
Made walls, object explosion vclips load at level start.
----------------------------
revision 1.66
date: 1995/01/15 13:15:44;  author: john;  state: Exp;
Made so that paging always happens, lowmem just loads less.
Also, make KB load print to hud.
----------------------------
revision 1.65
date: 1995/01/15 11:56:28;  author: john;  state: Exp;
Working version of paging.
----------------------------
revision 1.64
date: 1995/01/14 19:17:07;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.63
date: 1994/12/15 12:26:44;  author: john;  state: Exp;
Added -nolowmem function.
----------------------------
revision 1.62
date: 1994/12/14 21:12:26;  author: john;  state: Exp;
Fixed bug with page fault when exiting and using
-nosound.
----------------------------
revision 1.61
date: 1994/12/14 11:35:31;  author: john;  state: Exp;
Evened out thermometer for pig read.
----------------------------
revision 1.60
date: 1994/12/14 10:51:00;  author: john;  state: Exp;
Sped up sound loading.
----------------------------
revision 1.59
date: 1994/12/14 10:12:08;  author: john;  state: Exp;
Sped up pig loading.
----------------------------
revision 1.58
date: 1994/12/13 09:14:47;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.57
date: 1994/12/13 09:12:57;  author: john;  state: Exp;
Made the bar always fill up.
----------------------------
revision 1.56
date: 1994/12/13 03:49:08;  author: john;  state: Exp;
Made -lowmem not load the unnecessary bitmaps.
----------------------------
revision 1.55
date: 1994/12/06 16:06:35;  author: john;  state: Exp;
Took out piggy sorting.
----------------------------
revision 1.54
date: 1994/12/06 15:11:14;  author: john;  state: Exp;
Fixed bug with reading pigs.
----------------------------
revision 1.53
date: 1994/12/06 14:14:47;  author: john;  state: Exp;
Added code to set low mem based on memory.
----------------------------
revision 1.52
date: 1994/12/06 14:01:10;  author: john;  state: Exp;
Fixed bug that was causing -lowmem all the time..
----------------------------
revision 1.51
date: 1994/12/06 13:33:48;  author: john;  state: Exp;
Added lowmem option.
----------------------------
revision 1.50
date: 1994/12/05 19:40:10;  author: john;  state: Exp;
If -nosound or no sound card selected, don't load sounds from pig.
----------------------------
revision 1.49
date: 1994/12/05 12:17:44;  author: john;  state: Exp;
Added code that locks/unlocks digital sounds on demand.
----------------------------
revision 1.48
date: 1994/12/05 11:39:03;  author: matt;  state: Exp;
Fixed little mistake
----------------------------
revision 1.47
date: 1994/12/05 09:29:22;  author: john;  state: Exp;
Added clength to the sound field.
----------------------------
revision 1.46
date: 1994/12/04 15:27:15;  author: john;  state: Exp;
Fixed my stupid bug that looked at -nosound instead of digi_driver_card
to see whether or not to lock down sound memory.
----------------------------
revision 1.45
date: 1994/12/03 14:17:00;  author: john;  state: Exp;
Took out my debug mprintf.
----------------------------
revision 1.44
date: 1994/12/03 13:32:37;  author: john;  state: Exp;
Fixed bug with offscreen bitmap.
----------------------------
revision 1.43
date: 1994/12/03 13:07:13;  author: john;  state: Exp;
Made the pig read/write compressed sounds.
----------------------------
revision 1.42
date: 1994/12/03 11:48:51;  author: matt;  state: Exp;
Added option to not dump sounds to pigfile
----------------------------
revision 1.41
date: 1994/12/02 20:02:20;  author: matt;  state: Exp;
Made sound files constant match constant for table
----------------------------
revision 1.40
date: 1994/11/29 11:03:09;  author: adam;  state: Exp;
upped # of sounds
----------------------------
revision 1.39
date: 1994/11/27 23:13:51;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.38
date: 1994/11/20 18:40:34;  author: john;  state: Exp;
MAde the piggy.lst and piggy.all not dump for release.
----------------------------
revision 1.37
date: 1994/11/19 23:54:45;  author: mike;  state: Exp;
up number of bitmaps for shareware version.
----------------------------
revision 1.36
date: 1994/11/19 19:53:05;  author: mike;  state: Exp;
change MAX_BITMAP_FILES
----------------------------
revision 1.35
date: 1994/11/19 10:42:56;  author: matt;  state: Exp;
Increased number of bitmaps for non-shareware version
----------------------------
revision 1.34
date: 1994/11/19 09:11:52;  author: john;  state: Exp;
Added avg_color to bitmaps saved in pig.
----------------------------
revision 1.33
date: 1994/11/19 00:07:05;  author: john;  state: Exp;
Fixed bug with 8 char sound filenames not getting read from pig.
----------------------------
revision 1.32
date: 1994/11/18 22:24:54;  author: john;  state: Exp;
Added -bigpig command line that doesn't rle your pig.
----------------------------
revision 1.31
date: 1994/11/18 21:56:53;  author: john;  state: Exp;
Added a better, leaner pig format.
----------------------------
revision 1.30
date: 1994/11/16 12:06:16;  author: john;  state: Exp;
Fixed bug with calling .bbms abms.
----------------------------
revision 1.29
date: 1994/11/16 12:00:56;  author: john;  state: Exp;
Added piggy.all dump.
----------------------------
revision 1.28
date: 1994/11/10 21:16:02;  author: adam;  state: Exp;
nothing important
----------------------------
revision 1.27
date: 1994/11/10 13:42:00;  author: john;  state: Exp;
Made sounds not lock down if using -nosound.
----------------------------
revision 1.26
date: 1994/11/09 19:55:40;  author: john;  state: Exp;
Added full rle support with texture rle caching.
----------------------------
revision 1.25
date: 1994/11/09 16:36:42;  author: john;  state: Exp;
First version with RLE bitmaps in Pig.
----------------------------
revision 1.24
date: 1994/10/27 19:42:59;  author: john;  state: Exp;
Disable the piglet option.
----------------------------
revision 1.23
date: 1994/10/27 18:51:40;  author: john;  state: Exp;
Added -piglet option that only loads needed textures for a 
mine.  Only saved ~1MB, and code still doesn't free textures
before you load a new mine.
----------------------------
revision 1.22
date: 1994/10/25 13:11:42;  author: john;  state: Exp;
Made the sounds sort. Dumped piggy.lst.
----------------------------
revision 1.21
date: 1994/10/06 17:06:23;  author: john;  state: Exp;
Took out rle stuff.
----------------------------
revision 1.20
date: 1994/10/06 15:45:36;  author: adam;  state: Exp;
bumped MAX_BITMAP_FILES again!
----------------------------
revision 1.19
date: 1994/10/06 11:01:17;  author: yuan;  state: Exp;
Upped MAX_BITMAP_FILES
----------------------------
revision 1.18
date: 1994/10/06 10:44:45;  author: john;  state: Exp;
Added diagnostic message and psuedo run-length-encoder
to see how much memory we would save by storing bitmaps
in a RLE method.  Also, I commented out the code that
stores 4K bitmaps on a 4K boundry to reduce pig size 
a bit.
----------------------------
revision 1.17
date: 1994/10/04 20:03:13;  author: matt;  state: Exp;
Upped maximum number of bitmaps
----------------------------
revision 1.16
date: 1994/10/03 18:04:20;  author: john;  state: Exp;
Fixed bug with data_offset not set right for bitmaps
that are 64x64 and not aligned on a 4k boundry.
----------------------------
revision 1.15
date: 1994/09/28 11:30:55;  author: john;  state: Exp;
changed inferno.pig to descent.pig, changed the way it
is read.
----------------------------
revision 1.14
date: 1994/09/22 16:14:17;  author: john;  state: Exp;
Redid intro sequecing.
----------------------------
revision 1.13
date: 1994/09/19 14:42:47;  author: john;  state: Exp;
Locked down sounds with Virtual memory.
----------------------------
revision 1.12
date: 1994/09/10 17:31:52;  author: mike;  state: Exp;
Increase number of loadable bitmaps.
----------------------------
revision 1.11
date: 1994/09/01 19:32:49;  author: mike;  state: Exp;
Boost texture map allocation.
----------------------------
revision 1.10
date: 1994/08/16 11:51:02;  author: john;  state: Exp;
Added grwased pigs.
----------------------------
revision 1.9
date: 1994/07/06 09:18:03;  author: adam;  state: Exp;
upped bitmap #s
----------------------------
revision 1.8
date: 1994/06/20 22:02:15;  author: matt;  state: Exp;
Fixed bug from last change
----------------------------
revision 1.7
date: 1994/06/20 21:33:18;  author: matt;  state: Exp;
Made bm.h not include sounds.h, to reduce dependencies
----------------------------
revision 1.6
date: 1994/06/20 16:52:19;  author: john;  state: Exp;
cleaned up init output a bit.
----------------------------
revision 1.5
date: 1994/06/08 14:20:57;  author: john;  state: Exp;
Made piggy dump before going into game.
----------------------------
revision 1.4
date: 1994/06/02 18:59:22;  author: matt;  state: Exp;
Clear selector field of bitmap loaded from pig file
----------------------------
revision 1.3
date: 1994/05/06 15:31:41;  author: john;  state: Exp;
Made name field a bit longer.
----------------------------
revision 1.2
date: 1994/05/06 13:02:44;  author: john;  state: Exp;
Added piggy stuff; worked on supertransparency
----------------------------
revision 1.1
date: 1994/05/06 11:47:26;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/piggy.h,v
Working file: main/piggy.h
head: 1.1
description: Interface to piggy functions.
----------------------------
revision 1.1
date: 1995/05/16 16:01:04;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:21;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.10
date: 1995/02/03 17:08:29;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.9
date: 1995/01/24 14:33:49;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1995/01/24 14:32:35;  author: john;  state: Exp;
Took out paging in code.
----------------------------
revision 1.7
date: 1995/01/23 12:30:17;  author: john;  state: Exp;
Made debug code that mprintf what bitmap gets paged in.
----------------------------
revision 1.6
date: 1995/01/17 14:11:37;  author: john;  state: Exp;
Added function that is called after level loaded.
----------------------------
revision 1.5
date: 1995/01/14 19:16:58;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.4
date: 1994/10/27 18:51:57;  author: john;  state: Exp;
Added -piglet option that only loads needed textures for a 
mine.  Only saved ~1MB, and code still doesn't free textures
before you load a new mine.
----------------------------
revision 1.3
date: 1994/06/08 14:20:47;  author: john;  state: Exp;
Made piggy dump before going into game.
----------------------------
revision 1.2
date: 1994/05/06 13:02:40;  author: john;  state: Exp;
Added piggy stuff; worked on supertransparency
----------------------------
revision 1.1
date: 1994/05/06 11:47:46;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/player.h,v
Working file: main/player.h
head: 1.1
description: Structure information for the player
----------------------------
revision 1.1
date: 1995/05/16 16:01:11;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:30:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.41
date: 1994/12/20 17:56:43;  author: yuan;  state: Exp;
Multiplayer object capability.
----------------------------
revision 1.40
date: 1994/12/02 15:04:42;  author: matt;  state: Exp;
Fixed bogus weapon constants and arrays
----------------------------
revision 1.39
date: 1994/11/25 22:47:08;  author: matt;  state: Exp;
Made saved game descriptions longer
----------------------------
revision 1.38
date: 1994/11/21 17:29:38;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.37
date: 1994/11/17 12:57:13;  author: rob;  state: Exp;
Changed net_kills_level to net_killed_total.
----------------------------
revision 1.36
date: 1994/11/14 17:20:33;  author: rob;  state: Exp;
Bumped player file version.
----------------------------
revision 1.35
date: 1994/11/04 19:55:06;  author: rob;  state: Exp;
Changed a previously unused pad character to represent whether or not
the player is connected to a net game (used to be objnum=-1 but we
want to keep the objnum info in case of re-joins)
----------------------------
revision 1.34
date: 1994/10/22 14:13:54;  author: mike;  state: Exp;
Add homing_object_dist field to player struct.
----------------------------
revision 1.33
date: 1994/10/22 00:08:45;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.32
date: 1994/10/21 20:43:03;  author: mike;  state: Exp;
Add hostages_on_board to player struct.
----------------------------
revision 1.31
date: 1994/10/19 20:00:00;  author: john;  state: Exp;
Added bonus points at the end of level based on skill level.
----------------------------
revision 1.30
date: 1994/10/19 15:14:24;  author: john;  state: Exp;
Took % hits out of player structure, made %kills work properly.
----------------------------
revision 1.29
date: 1994/10/19 12:12:27;  author: john;  state: Exp;
Added hour variable.
----------------------------
revision 1.28
date: 1994/10/17 17:24:48;  author: john;  state: Exp;
Added starting_level to player struct.
----------------------------
revision 1.27
date: 1994/10/13 15:42:02;  author: mike;  state: Exp;
Remove afterburner.
----------------------------
revision 1.26
date: 1994/10/10 17:00:23;  author: mike;  state: Exp;
Lower number of players from 10 to 8.
----------------------------
revision 1.25
date: 1994/10/09 14:53:26;  author: matt;  state: Exp;
Made player cockpit state & window size save/restore with saved games & automap
----------------------------
revision 1.24
date: 1994/10/08 20:24:10;  author: matt;  state: Exp;
Added difficulty level to player structure for game load/save
----------------------------
revision 1.23
date: 1994/10/05 17:39:53;  author: rob;  state: Exp;
Changed killer_objnum to a short (was char)
----------------------------
revision 1.22
date: 1994/10/03 22:59:07;  author: matt;  state: Exp;
Limit callsign to 8 chars long, so we can use it as filename
----------------------------
revision 1.21
date: 1994/09/23 10:14:30;  author: mike;  state: Exp;
Rename PLAYER_FLAGS_INVINCIBLE to PLAYER_FLAGS_INVULNERABLE.
Add INVULNERABLE_TIME_MAX = 30 seconds.
----------------------------
revision 1.20
date: 1994/09/21 20:44:22;  author: matt;  state: Exp;
Player explosion fireball now specified in bitmaps.tbl
----------------------------
revision 1.19
date: 1994/09/21 12:27:37;  author: mike;  state: Exp;
Move CLOAK_TIME_MAX here from game.c
----------------------------
revision 1.18
date: 1994/09/16 13:10:16;  author: mike;  state: Exp;
Add afterburner and cloak stuff.
----------------------------
revision 1.17
date: 1994/09/11 20:30:26;  author: matt;  state: Exp;
Cleaned up thrust vars, changing a few names
----------------------------
revision 1.16
date: 1994/09/09 14:22:45;  author: matt;  state: Exp;
Added extra gun for player
----------------------------
revision 1.15
date: 1994/09/07 13:30:11;  author: john;  state: Exp;
Added code to tell how many packets were lost.
----------------------------
revision 1.14
date: 1994/09/02 11:56:33;  author: mike;  state: Exp;
Alignment on the player struct.
----------------------------
revision 1.13
date: 1994/08/25 18:12:05;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.12
date: 1994/08/22 15:49:40;  author: mike;  state: Exp;
change spelling on num_missles -> num_missiles.
----------------------------
revision 1.11
date: 1994/08/18 10:47:32;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.10
date: 1994/08/17 16:50:05;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.9
date: 1994/08/15 00:24:10;  author: john;  state: Exp;
First version of netgame with players killing
each other. still buggy...
----------------------------
revision 1.8
date: 1994/08/12 22:41:26;  author: john;  state: Exp;
Took away Player_stats; add Players array.
----------------------------
revision 1.7
date: 1994/08/09 17:53:25;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1994/07/13 00:15:05;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.5
date: 1994/07/08 21:44:17;  author: matt;  state: Exp;
Made laser powerups saturate correctly
----------------------------
revision 1.4
date: 1994/07/07 14:59:02;  author: john;  state: Exp;
Made radar powerups.
----------------------------
revision 1.3
date: 1994/07/02 13:49:39;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.2
date: 1994/07/02 13:10:03;  author: matt;  state: Exp;
Moved player stats struct from gameseq.h to player.h
----------------------------
revision 1.1
date: 1994/07/02 11:00:43;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/main/playsave.c,v
Working file: main/playsave.c
head: 1.1
description: Functions to load & save player games
----------------------------
revision 1.1
date: 1995/12/05 16:05:47;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.10
date: 1995/11/03 12:53:24;  author: allender;  state: Exp;
shareware changes
----------------------------
revision 1.9
date: 1995/10/31 10:19:12;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.8
date: 1995/10/23 14:50:11;  author: allender;  state: Exp;
set control type for new player *before* calling kc_set_controls
----------------------------
revision 1.7
date: 1995/10/21 22:25:31;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1995/10/17 15:57:42;  author: allender;  state: Exp;
removed line setting wrong COnfig_control_type
----------------------------
revision 1.5
date: 1995/10/17 13:16:44;  author: allender;  state: Exp;
new controller support
----------------------------
revision 1.4
date: 1995/08/24 16:03:38;  author: allender;  state: Exp;
call joystick code when player file uses joystick
----------------------------
revision 1.3
date: 1995/08/03 15:15:39;  author: allender;  state: Exp;
got player save file working (more to go for shareware)
----------------------------
revision 1.2
date: 1995/08/01 13:57:20;  author: allender;  state: Exp;
macified the player file stuff -- in a seperate folder
----------------------------
revision 1.1
date: 1995/05/16 15:30:00;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/24 17:48:21;  author: john;  state: Exp;
Made player files from saturn excrement the highest level for
normal descent levels.
----------------------------
revision 2.1
date: 1995/03/21 14:38:49;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:27:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.57
date: 1995/02/13 20:34:55;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.56
date: 1995/02/13 13:23:24;  author: john;  state: Exp;
Fixed bug with new player joystick selection.
----------------------------
revision 1.55
date: 1995/02/13 12:01:19;  author: john;  state: Exp;
Fixed bug with joystick throttle still asking for 
calibration with new pilots.
----------------------------
revision 1.54
date: 1995/02/13 10:29:12;  author: john;  state: Exp;
Fixed bug with creating new player not resetting everything to default.
----------------------------
revision 1.53
date: 1995/02/03 10:58:46;  author: john;  state: Exp;
Added code to save shareware style saved games into new format...
Also, made new player file format not have the saved game array in it.
----------------------------
revision 1.52
date: 1995/02/02 21:09:28;  author: matt;  state: Exp;
Let player start of level 8 if he made it to level 7 in the shareware
----------------------------
revision 1.51
date: 1995/02/02 18:50:14;  author: john;  state: Exp;
Added warning for FCS when new pilot chooses.
----------------------------
revision 1.50
date: 1995/02/02 11:21:34;  author: john;  state: Exp;
Made joystick calibrate when new user selects.
----------------------------
revision 1.49
date: 1995/02/01 18:06:38;  author: rob;  state: Exp;
Put defaults macros into descent.tex
----------------------------
revision 1.48
date: 1995/01/25 14:37:53;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.47
date: 1995/01/24 19:37:12;  author: matt;  state: Exp;
Took out incorrect mprintf
----------------------------
revision 1.46
date: 1995/01/22 18:57:22;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.45
date: 1995/01/21 16:36:05;  author: matt;  state: Exp;
Made starting level system work for now, pending integration with
mission code.
----------------------------
revision 1.44
date: 1995/01/20 22:47:32;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.43
date: 1995/01/04 14:58:39;  author: rob;  state: Exp;
Fixed for shareware build.
----------------------------
revision 1.42
date: 1995/01/04 11:36:43;  author: rob;  state: Exp;
Added compatibility with older shareware pilot files.
----------------------------
revision 1.41
date: 1995/01/03 11:01:58;  author: rob;  state: Exp;
fixed a default macro.
----------------------------
revision 1.40
date: 1995/01/03 10:44:06;  author: rob;  state: Exp;
Added default taunt macros.
----------------------------
revision 1.39
date: 1994/12/13 10:01:16;  author: allender;  state: Exp;
pop up message box when unable to correctly save player file
----------------------------
revision 1.38
date: 1994/12/12 11:37:14;  author: matt;  state: Exp;
Fixed auto leveling defaults & saving
----------------------------
revision 1.37
date: 1994/12/12 00:26:59;  author: matt;  state: Exp;
Added support for no-levelling option
----------------------------
revision 1.36
date: 1994/12/10 19:09:54;  author: matt;  state: Exp;
Added assert for valid player number when loading game
----------------------------
revision 1.35
date: 1994/12/08 10:53:07;  author: rob;  state: Exp;
Fixed a bug in highest_level tracking.
----------------------------
revision 1.34
date: 1994/12/08 10:01:36;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.33
date: 1994/12/07 18:30:38;  author: rob;  state: Exp;
Load highest level along with player (used to be only if higher)
Capped at LAST_LEVEL in case a person loads a registered player in shareware.
----------------------------
revision 1.32
date: 1994/12/03 16:01:12;  author: matt;  state: Exp;
When player file has bad version, force player to choose another
----------------------------
revision 1.31
date: 1994/12/02 19:54:00;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.30
date: 1994/12/02 11:01:36;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.29
date: 1994/11/29 03:46:28;  author: john;  state: Exp;
Added joystick sensitivity; Added sound channels to detail menu.  Removed -maxchannels
command line arg.
----------------------------
revision 1.28
date: 1994/11/29 01:10:23;  author: john;  state: Exp;
Took out code that allowed new players to
configure keyboard.
----------------------------
revision 1.27
date: 1994/11/25 22:47:10;  author: matt;  state: Exp;
Made saved game descriptions longer
----------------------------
revision 1.26
date: 1994/11/22 12:10:42;  author: rob;  state: Exp;
Fixed file handle left open if player file versions don't
match.
----------------------------
revision 1.25
date: 1994/11/21 19:35:30;  author: john;  state: Exp;
Replaced calls to joy_init with if (joy_present)
----------------------------
revision 1.24
date: 1994/11/21 17:29:34;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.23
date: 1994/11/21 11:10:01;  author: john;  state: Exp;
Fixed bug with read-only .plr file making the config file 
not update.
----------------------------
revision 1.22
date: 1994/11/20 19:03:08;  author: john;  state: Exp;
Fixed bug with if not having a joystick, default 
player input device is cyberman.
----------------------------
revision 1.21
date: 1994/11/17 12:24:07;  author: matt;  state: Exp;
Made an array the right size, to fix error loading games
----------------------------
revision 1.20
date: 1994/11/14 17:52:54;  author: allender;  state: Exp;
add call to WriteConfigFile when player files gets written
----------------------------
revision 1.19
date: 1994/11/14 17:19:23;  author: rob;  state: Exp;
Removed gamma, joystick calibration, and sound settings from player file.
Added default difficulty and multi macros.
----------------------------
revision 1.18
date: 1994/11/07 14:01:23;  author: john;  state: Exp;
Changed the gamma correction sequencing.
----------------------------
revision 1.17
date: 1994/11/05 17:22:49;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.16
date: 1994/11/01 16:40:11;  author: john;  state: Exp;
Added Gamma correction.
----------------------------
revision 1.15
date: 1994/10/24 19:56:50;  author: john;  state: Exp;
Made the new user setup prompt for config options.
----------------------------
revision 1.14
date: 1994/10/24 17:44:21;  author: john;  state: Exp;
Added stereo channel reversing.
----------------------------
revision 1.13
date: 1994/10/24 16:05:12;  author: matt;  state: Exp;
Improved handling of player names that are the names of DOS devices
----------------------------
revision 1.12
date: 1994/10/22 00:08:51;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.11
date: 1994/10/19 19:59:57;  author: john;  state: Exp;
Added bonus points at the end of level based on skill level.
----------------------------
revision 1.10
date: 1994/10/19 15:14:34;  author: john;  state: Exp;
Took % hits out of player structure, made %kills work properly.
----------------------------
revision 1.9
date: 1994/10/19 12:44:26;  author: john;  state: Exp;
Added hours field to player structure.
----------------------------
revision 1.8
date: 1994/10/17 17:24:34;  author: john;  state: Exp;
Added starting_level to player struct.
----------------------------
revision 1.7
date: 1994/10/17 13:07:15;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.6
date: 1994/10/09 14:54:31;  author: matt;  state: Exp;
Made player cockpit state & window size save/restore with saved games & automap
----------------------------
revision 1.5
date: 1994/10/08 23:08:09;  author: matt;  state: Exp;
Added error check & handling for game load/save disk io
----------------------------
revision 1.4
date: 1994/10/05 17:40:54;  author: rob;  state: Exp;
Bumped save_file_version to 5 due to change in player.h
----------------------------
revision 1.3
date: 1994/10/03 23:00:54;  author: matt;  state: Exp;
New file version for shorter callsigns
----------------------------
revision 1.2
date: 1994/09/28 17:25:05;  author: matt;  state: Exp;
Added first draft of game save/load system
----------------------------
revision 1.1
date: 1994/09/27 14:39:12;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/playsave.h,v
Working file: main/playsave.h
head: 1.1
description: Header for playsave.c
----------------------------
revision 1.1
date: 1995/05/16 16:01:19;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:24;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.10
date: 1995/01/22 18:57:04;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.9
date: 1994/12/12 11:37:15;  author: matt;  state: Exp;
Fixed auto leveling defaults & saving
----------------------------
revision 1.8
date: 1994/12/08 10:01:37;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.7
date: 1994/11/25 22:46:56;  author: matt;  state: Exp;
Made saved game descriptions longer
----------------------------
revision 1.6
date: 1994/10/24 20:00:02;  author: john;  state: Exp;
Added prototype for read_player_file.
----------------------------
revision 1.5
date: 1994/10/17 13:07:12;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.4
date: 1994/10/09 14:54:32;  author: matt;  state: Exp;
Made player cockpit state & window size save/restore with saved games & automap
----------------------------
revision 1.3
date: 1994/10/08 23:08:09;  author: matt;  state: Exp;
Added error check & handling for game load/save disk io
----------------------------
revision 1.2
date: 1994/09/28 17:25:06;  author: matt;  state: Exp;
Added first draft of game save/load system
----------------------------
revision 1.1
date: 1994/09/27 15:47:23;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/polyobj.c,v
Working file: main/polyobj.c
head: 1.3
description: Hacked-in polygon objects
----------------------------
revision 1.3
date: 1995/10/25 14:07:07;  author: allender;  state: Exp;
removed load_poly_model function
----------------------------
revision 1.2
date: 1995/09/14 14:10:20;  author: allender;  state: Exp;
two funtions should be void
----------------------------
revision 1.1
date: 1995/05/16 15:30:08;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:44;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.64
date: 1995/01/14 19:16:43;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.63
date: 1994/12/14 18:06:54;  author: matt;  state: Exp;
Removed compile warnings
----------------------------
revision 1.62
date: 1994/12/09 17:54:31;  author: john;  state: Exp;
Made the CFILE's close right after reading in data.
----------------------------
revision 1.61
date: 1994/12/09 16:13:28;  author: mike;  state: Exp;
speedup pof file reading, but still horribly slow using hog file...problem somewhere else.
----------------------------
revision 1.60
date: 1994/12/08 17:41:20;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.59
date: 1994/11/21 11:02:19;  author: matt;  state: Exp;
Added error checking
----------------------------
revision 1.58
date: 1994/11/14 11:32:49;  author: matt;  state: Exp;
Allow switching to simpler models even when alt_textures specified
----------------------------
revision 1.57
date: 1994/11/13 21:15:24;  author: matt;  state: Exp;
Added basic support for more than one level of detail simplification
----------------------------
revision 1.56
date: 1994/11/11 19:29:25;  author: matt;  state: Exp;
Added code to show low detail polygon models
----------------------------
revision 1.55
date: 1994/11/10 14:02:57;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.54
date: 1994/11/03 11:01:59;  author: matt;  state: Exp;
Made robot pics lighted
----------------------------
revision 1.53
date: 1994/11/02 16:18:34;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor
----------------------------
revision 1.52
date: 1994/10/18 14:38:11;  author: matt;  state: Exp;
Restored assert now that bug is fixed
----------------------------
revision 1.51
date: 1994/10/17 21:35:03;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.50
date: 1994/10/14 17:46:23;  author: yuan;  state: Exp;
Made the soft Int3 only work in net mode.
----------------------------
revision 1.49
date: 1994/10/14 17:43:47;  author: yuan;  state: Exp;
Added soft int3's instead of Asserts  for some common network bugs.
----------------------------
revision 1.48
date: 1994/10/14 17:09:04;  author: yuan;  state: Exp;
Made Assert on line 610 be if in an attempt
to bypass.
----------------------------
revision 1.47
date: 1994/09/09 14:23:42;  author: matt;  state: Exp;
Added glow code to polygon models for engine glow
----------------------------
revision 1.46
date: 1994/08/26 18:03:30;  author: matt;  state: Exp;
Added code to remap polygon model numbers by matching filenames
----------------------------
revision 1.45
date: 1994/08/26 15:35:58;  author: matt;  state: Exp;
Made eclips usable on more than one object at a time
----------------------------
revision 1.44
date: 1994/08/25 18:11:58;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.43
date: 1994/07/25 00:14:18;  author: matt;  state: Exp;
Made a couple of minor changes for the drivethrough
----------------------------
revision 1.42
date: 1994/07/25 00:02:41;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
=============================================================================
RCS file: /Smoke/miner/source/main/polyobj.h,v
Working file: main/polyobj.h
head: 1.2
description: Header for polyobj.c, the polygon object code
----------------------------
revision 1.2
date: 1995/09/14 14:10:30;  author: allender;  state: Exp;
two functions should be void
----------------------------
revision 1.1
date: 1995/05/16 16:01:27;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/02/27 18:21:54;  author: john;  state: Exp;
Added extern for robot_points.
----------------------------
revision 2.0
date: 1995/02/27 11:29:58;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.28
date: 1995/01/12 12:10:16;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.27
date: 1994/11/11 19:28:58;  author: matt;  state: Exp;
Added code to show low detail polygon models
----------------------------
revision 1.26
date: 1994/11/10 14:03:05;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.25
date: 1994/11/02 16:18:24;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor
----------------------------
revision 1.24
date: 1994/10/18 10:55:57;  author: adam;  state: Exp;
bumped MAX_POLYGON_OBJECTS up
----------------------------
revision 1.23
date: 1994/10/17 21:35:01;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.22
date: 1994/09/09 14:23:42;  author: matt;  state: Exp;
Added glow code to polygon models for engine glow
----------------------------
revision 1.21
date: 1994/08/26 18:03:43;  author: matt;  state: Exp;
Added code to remap polygon model numbers by matching filenames
----------------------------
revision 1.20
date: 1994/08/26 15:36:00;  author: matt;  state: Exp;
Made eclips usable on more than one object at a time
----------------------------
revision 1.19
date: 1994/07/22 20:44:23;  author: matt;  state: Exp;
Killed unused fields in polygon model structure
----------------------------
revision 1.18
date: 1994/06/16 17:52:11;  author: matt;  state: Exp;
Made submodels rotate around their centers, not their pivot points
----------------------------
revision 1.17
date: 1994/06/14 12:22:05;  author: matt;  state: Exp;
Integrated with drive code, using #defines to switch versions
----------------------------
revision 1.16
date: 1994/06/09 16:25:01;  author: matt;  state: Exp;
Fixed confusion with two constants, MAX_SUBOBJS & MAX_SUBMODELS, which
were used for the same things, but had different values.
----------------------------
revision 1.15
date: 1994/06/08 10:56:38;  author: matt;  state: Exp;
Improved debris: now get submodel size from new POF files; debris now has
limited life; debris can now be blown up.
----------------------------
revision 1.14
date: 1994/06/07 16:51:57;  author: matt;  state: Exp;
Made object lighting work correctly; changed name of Ambient_light to
Dynamic_light; cleaned up polygobj object rendering a little.
----------------------------
revision 1.13
date: 1994/05/26 21:08:59;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.12
date: 1994/05/18 19:35:05;  author: matt;  state: Exp;
Added fields for the rest of the subobj data
----------------------------
revision 1.11
date: 1994/05/16 16:17:13;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.10
date: 1994/05/13 11:08:31;  author: matt;  state: Exp;
Added support for multiple gun positions on polygon models
----------------------------
revision 1.9
date: 1994/04/29 09:18:04;  author: matt;  state: Exp;
Added support for multiple-piece explosions
----------------------------
revision 1.8
date: 1994/04/28 18:44:18;  author: matt;  state: Exp;
Took out code for old-style (non-interpreted) objects.
----------------------------
revision 1.7
date: 1994/03/25 16:54:38;  author: matt;  state: Exp;
draw_polygon_object() now takes pointer to animation data
----------------------------
revision 1.6
date: 1994/03/15 17:44:33;  author: matt;  state: Exp;
Changed a bunch of names
----------------------------
revision 1.5
date: 1994/03/07 20:02:29;  author: matt;  state: Exp;
Added pointer to normals in polyobj struct
Added prototype for draw_polygon_object()
----------------------------
revision 1.4
date: 1994/03/01 17:16:19;  author: matt;  state: Exp;
Lots of changes to support loadable binary ".pof" robot files
----------------------------
revision 1.3
date: 1994/01/31 15:51:20;  author: matt;  state: Exp;
Added ptr for rgb table for robot colors
----------------------------
revision 1.2
date: 1994/01/28 13:52:01;  author: matt;  state: Exp;
Added flesh to this previously skeletal file.
----------------------------
revision 1.1
date: 1994/01/28 13:47:42;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/powerup.c,v
Working file: main/powerup.c
head: 1.2
description: Code for powerup objects.
----------------------------
revision 1.2
date: 1995/10/31 10:18:55;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.1
date: 1995/05/16 15:30:16;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/24 13:50:36;  author: john;  state: Exp;
Added mega-wowie zowie to release.
----------------------------
revision 2.1
date: 1995/03/21 14:38:39;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:27:15;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.94
date: 1995/02/22 13:46:03;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.93
date: 1995/02/06 15:52:51;  author: mike;  state: Exp;
add mini megawow powerup for giving reasonable weapons.
----------------------------
revision 1.92
date: 1995/01/23 22:49:59;  author: mike;  state: Exp;
drop energy instead of primary weapon if you have primary weapon
(drop nothing if want to drop vulcan ammo and you are maxed out)
if you have primary weapon and primary weapon there, get energy instead.
----------------------------
revision 1.91
date: 1995/01/19 09:42:22;  author: allender;  state: Exp;
record laser levels for demos
----------------------------
revision 1.90
date: 1994/12/31 12:28:01;  author: rob;  state: Exp;
Added sound for coop key grabs.
----------------------------
revision 1.89
date: 1994/12/19 19:55:17;  author: rob;  state: Exp;
Fixing key semantics for coop game.
----------------------------
revision 1.88
date: 1994/12/07 12:55:21;  author: mike;  state: Exp;
tweak vulcan amounts.
----------------------------
revision 1.87
date: 1994/12/06 13:55:36;  author: matt;  state: Exp;
Made shield & energy powerup messages round to match HUD message
----------------------------
revision 1.86
date: 1994/12/03 19:03:57;  author: matt;  state: Exp;
Fixed vulcan ammo HUD message
----------------------------
revision 1.85
date: 1994/11/29 11:35:41;  author: rob;  state: Exp;
Added sound casting for grabbing powerups.
----------------------------
revision 1.84
date: 1994/11/28 11:26:38;  author: matt;  state: Exp;
Cleaned up hud message printing for picking up weapons
----------------------------
revision 1.83
date: 1994/11/27 23:14:01;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.82
date: 1994/11/21 16:02:51;  author: mike;  state: Exp;
comment out unused powerups.
----------------------------
revision 1.81
date: 1994/11/20 18:25:47;  author: john;  state: Exp;
Fixed some #ifndef RELEASE inconsistancies.
----------------------------
revision 1.80
date: 1994/11/19 23:54:13;  author: mike;  state: Exp;
limit megawowiezowie to shareware powerups if in shareware version.
----------------------------
revision 1.79
date: 1994/11/14 16:06:16;  author: yuan;  state: Exp;
Made cloak and invulnerability only picked up once.
----------------------------
revision 1.78
date: 1994/11/07 17:41:06;  author: mike;  state: Exp;
messages for when you're fully stocked with missiles.
----------------------------
revision 1.77
date: 1994/10/28 14:42:50;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.76
date: 1994/10/26 15:55:23;  author: yuan;  state: Exp;
Made vulcan cannon give 100 ammo if it has less than that.
----------------------------
revision 1.75
date: 1994/10/26 15:54:57;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.74
date: 1994/10/25 14:31:25;  author: allender;  state: Exp;
Fixed bug where getting cloak powerup while cloaked resulted in
player being cloaked forever.
----------------------------
revision 1.73
date: 1994/10/25 10:51:21;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.72
date: 1994/10/21 20:41:32;  author: mike;  state: Exp;
Fix silly backwards (- instead of +) bug in invulnerability powerup.
----------------------------
revision 1.71
date: 1994/10/20 09:49:23;  author: mike;  state: Exp;
Fix up powerups in some way.
----------------------------
revision 1.70
date: 1994/10/19 11:16:25;  author: mike;  state: Exp;
Limit amount of each type of ammo player can hold.
----------------------------
revision 1.69
date: 1994/10/17 14:12:11;  author: matt;  state: Exp;
Added sound for powerup disappearance effect
----------------------------
revision 1.68
date: 1994/10/17 14:07:04;  author: mike;  state: Exp;
Make shields and energy max out at 200.
----------------------------
revision 1.67
date: 1994/10/16 12:43:37;  author: mike;  state: Exp;
Don't allow you to pick up a primary weapon, or invulnerability, you already have.
Make cloak time additive.
----------------------------
revision 1.66
date: 1994/10/15 19:05:30;  author: mike;  state: Exp;
Define constants for vulcan ammo amounts.
----------------------------
revision 1.65
date: 1994/10/14 15:57:28;  author: mike;  state: Exp;
When you pick up a laser boost or quad_laser powerup, update weapon display.
----------------------------
revision 1.64
date: 1994/10/13 10:57:51;  author: adam;  state: Exp;
fiddled with powerup disappearance
----------------------------
revision 1.63
date: 1994/10/12 13:07:33;  author: mike;  state: Exp;
Make powerup play vclip when it goes away.
----------------------------
revision 1.62
date: 1994/10/12 08:04:42;  author: mike;  state: Exp;
Make proximity powerup worth 4 bombs.
----------------------------
revision 1.61
date: 1994/10/08 23:37:33;  author: matt;  state: Exp;
Don't pick up weapons you already have; also fixed auto_select bug
for seconary weapons
----------------------------
revision 1.60
date: 1994/10/08 15:41:00;  author: mike;  state: Exp;
Diminish palette effect due to powerups.
----------------------------
revision 1.59
date: 1994/10/07 23:37:45;  author: matt;  state: Exp;
Made weapons select when pick up better one
----------------------------
revision 1.58
date: 1994/10/07 22:09:20;  author: rob;  state: Exp;
Added network hook for grabbing the cloaking device.
=============================================================================
RCS file: /Smoke/miner/source/main/powerup.h,v
Working file: main/powerup.h
head: 1.1
description: Powerup header file.
----------------------------
revision 1.1
date: 1995/05/16 16:01:35;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:35;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.34
date: 1995/02/06 15:52:37;  author: mike;  state: Exp;
add mini megawow powerup for giving reasonable weapons.
----------------------------
revision 1.33
date: 1995/01/30 17:14:11;  author: mike;  state: Exp;
halve rate of vulcan ammo consumption.
----------------------------
revision 1.32
date: 1995/01/15 20:47:56;  author: mike;  state: Exp;
add lighting field to powerups.
----------------------------
revision 1.31
date: 1994/12/12 21:39:58;  author: matt;  state: Exp;
Changed vulcan ammo: 10K max, 5K w/weapon, 1250 per powerup
----------------------------
revision 1.30
date: 1994/12/07 12:55:26;  author: mike;  state: Exp;
tweak vulcan amounts.
----------------------------
revision 1.29
date: 1994/12/02 20:06:46;  author: matt;  state: Exp;
Made vulcan ammo print at approx 25 times actual
----------------------------
revision 1.28
date: 1994/10/26 15:56:27;  author: yuan;  state: Exp;
Made vulcan cannon give 100 ammo if it has less than that.
----------------------------
revision 1.27
date: 1994/10/15 19:07:10;  author: mike;  state: Exp;
Define constants for amount of vulcan ammo per powerup.
----------------------------
revision 1.26
date: 1994/09/26 13:29:38;  author: matt;  state: Exp;
Added extra life each 100,000 points, and show icons on HUD for num lives
----------------------------
revision 1.25
date: 1994/09/22 19:00:25;  author: mike;  state: Exp;
Kill constants ENERGY_BOOST and SHIELD_BOOST: it's now difficulty level dependent.
----------------------------
revision 1.24
date: 1994/09/20 19:46:11;  author: mike;  state: Exp;
Fix powerup number assignments.
----------------------------
revision 1.23
date: 1994/09/02 11:53:34;  author: mike;  state: Exp;
Add the megawow powerup.  If you don't know about it, that's because it's a secret.
----------------------------
revision 1.22
date: 1994/09/01 10:41:35;  author: matt;  state: Exp;
Sizes for powerups now specified in bitmaps.tbl; blob bitmaps now plot
correctly if width & height of bitmap are different.
----------------------------
revision 1.21
date: 1994/08/31 19:26:14;  author: mike;  state: Exp;
Start adding new pile of powerups.
----------------------------
revision 1.20
date: 1994/08/25 17:56:08;  author: matt;  state: Exp;
Added quad laser powerup
----------------------------
revision 1.19
date: 1994/08/18 15:11:50;  author: mike;  state: Exp;
missile powerups.
----------------------------
revision 1.18
date: 1994/08/09 17:54:33;  author: adam;  state: Exp;
upped no. of powerup types
----------------------------
revision 1.17
date: 1994/08/09 17:53:39;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/07/27 19:44:16;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.15
date: 1994/07/26 18:31:32;  author: mike;  state: Exp;
Move some constants here from eobject.c.
----------------------------
revision 1.14
date: 1994/07/20 17:35:03;  author: yuan;  state: Exp;
Some minor bug fixes and new key gauges...
----------------------------
revision 1.13
date: 1994/07/12 15:53:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1994/07/12 15:30:47;  author: mike;  state: Exp;
Prototype diminish_towards_max.
----------------------------
revision 1.11
date: 1994/07/07 14:59:04;  author: john;  state: Exp;
Made radar powerups.
----------------------------
revision 1.10
date: 1994/07/01 16:35:40;  author: yuan;  state: Exp;
Added key system
----------------------------
revision 1.9
date: 1994/06/29 19:43:33;  author: matt;  state: Exp;
Made powerup animation not happen in render routine
----------------------------
revision 1.8
date: 1994/06/21 18:54:03;  author: matt;  state: Exp;
Added support for powerups that don't get picked up if not needed, but this
feature is commented out at the end of do_powerup(), since the physics gave 
me all sorts of problems, with the player getting stuck on a powerup.
----------------------------
revision 1.7
date: 1994/06/08 18:16:32;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.6
date: 1994/05/18 13:26:30;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/05/17 17:01:48;  author: yuan;  state: Exp;
Added constant for boosts.
----------------------------
revision 1.4
date: 1994/04/06 14:42:50;  author: yuan;  state: Exp;
Adding new powerups.
----------------------------
revision 1.3
date: 1994/04/01 14:36:59;  author: yuan;  state: Exp;
John's head is an extra life...
----------------------------
revision 1.2
date: 1994/04/01 11:15:22;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.1
date: 1994/03/31 17:01:43;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/radar.h,v
Working file: main/radar.h
head: 1.1
description: Prototypes for radar.
----------------------------
revision 1.1
date: 1995/05/16 16:01:43;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1994/07/07 14:59:03;  author: john;  state: Exp;
Made radar powerups.
----------------------------
revision 1.2
date: 1994/07/06 19:36:36;  author: john;  state: Exp;
Initial version of radar.
----------------------------
revision 1.1
date: 1994/07/06 17:22:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/render.c,v
Working file: main/render.c
head: 1.9
description: Sample setup for RCS header
----------------------------
revision 1.9
date: 1995/11/20 17:17:48;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1995/10/26 14:08:35;  author: allender;  state: Exp;
added assigment for physics optimization
----------------------------
revision 1.7
date: 1995/09/22 14:28:46;  author: allender;  state: Exp;
changed render_zoom to make game match PC aspect
----------------------------
revision 1.6
date: 1995/08/14 14:35:54;  author: allender;  state: Exp;
change transparency to 0
----------------------------
revision 1.5
date: 1995/08/12 11:32:02;  author: allender;  state: Exp;
removed #ifdef NEWDEMO -- always in
----------------------------
revision 1.4
date: 1995/07/05 16:48:31;  author: allender;  state: Exp;
kitchen stuff
----------------------------
revision 1.3
date: 1995/06/23 10:22:54;  author: allender;  state: Exp;
fix outline mode
----------------------------
revision 1.2
date: 1995/06/16 16:11:18;  author: allender;  state: Exp;
changed sort func to accept const parameters
----------------------------
revision 1.1
date: 1995/05/16 15:30:24;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.4
date: 1995/03/20 12:15:53;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.3
date: 1995/03/13 16:11:05;  author: john;  state: Exp;
Maybe fixed bug that lighting didn't work with vr helmets.
----------------------------
revision 2.2
date: 1995/03/09 15:33:49;  author: john;  state: Exp;
Fixed bug with iglasses timeout too long, and objects
disappearing from left eye.
----------------------------
revision 2.1
date: 1995/03/06 15:23:59;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:31:01;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.252
date: 1995/02/22 13:49:38;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.251
date: 1995/02/11 15:07:26;  author: matt;  state: Exp;
Took out code which was mostly intended as part of a larger renderer
change which never happened.  This new code was causing problems with
the level 4 control center.
----------------------------
revision 1.250
date: 1995/02/07 16:28:53;  author: matt;  state: Exp;
Fixed problem with new code
----------------------------
revision 1.249
date: 1995/02/06 14:38:58;  author: matt;  state: Exp;
Took out some code that didn't compile when editor in
----------------------------
revision 1.248
date: 1995/02/06 13:45:25;  author: matt;  state: Exp;
Structural changes, plus small sorting improvements
----------------------------
revision 1.247
date: 1995/02/02 15:59:26;  author: matt;  state: Exp;
Changed assert to int3.
----------------------------
revision 1.246
date: 1995/02/01 21:02:27;  author: matt;  state: Exp;
Added partial fix for rendering bugs
Ripped out laser hack system
----------------------------
revision 1.245
date: 1995/01/20 15:14:30;  author: matt;  state: Exp;
Added parens to fix precedence bug
----------------------------
revision 1.244
date: 1995/01/14 19:16:59;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.243
date: 1995/01/03 20:19:25;  author: john;  state: Exp;
Pretty good working version of game save.
----------------------------
revision 1.242
date: 1994/12/29 13:51:05;  author: john;  state: Exp;
Made the floating reticle draw in the spot
regardless of the eye offset.
----------------------------
revision 1.241
date: 1994/12/23 15:02:55;  author: john;  state: Exp;
Tweaked floating reticle.
----------------------------
revision 1.240
date: 1994/12/23 14:27:45;  author: john;  state: Exp;
Changed offset of floating reticle to line up with
lasers a bit better.
----------------------------
revision 1.239
date: 1994/12/23 14:22:50;  author: john;  state: Exp;
Added floating reticle for VR helments.  
----------------------------
revision 1.238
date: 1994/12/13 14:07:50;  author: matt;  state: Exp;
Fixed tmap_num2 bug in search mode
----------------------------
revision 1.237
date: 1994/12/11 00:45:53;  author: matt;  state: Exp;
Fixed problem when object sort buffer got full
----------------------------
revision 1.236
date: 1994/12/09 18:46:06;  author: matt;  state: Exp;
Added a little debugging
----------------------------
revision 1.235
date: 1994/12/09 14:59:16;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.234
date: 1994/12/08 15:46:54;  author: matt;  state: Exp;
Fixed buffer overflow that caused seg depth screwup
----------------------------
revision 1.233
date: 1994/12/08 11:51:53;  author: matt;  state: Exp;
Took out some unused stuff
----------------------------
revision 1.232
date: 1994/12/06 16:31:48;  author: mike;  state: Exp;
fix detriangulation problems.
----------------------------
revision 1.231
date: 1994/12/05 15:32:51;  author: matt;  state: Exp;
Changed an assert to an int3 & return
----------------------------
revision 1.230
date: 1994/12/04 17:28:04;  author: matt;  state: Exp;
Got rid of unused no_render_flag array, and took out box clear when searching
----------------------------
revision 1.229
date: 1994/12/04 15:51:14;  author: matt;  state: Exp;
Fixed linear tmap transition for objects
----------------------------
revision 1.228
date: 1994/12/03 20:16:50;  author: matt;  state: Exp;
Turn off window clip for objects
----------------------------
revision 1.227
date: 1994/12/03 14:48:00;  author: matt;  state: Exp;
Restored some default settings
----------------------------
revision 1.226
date: 1994/12/03 14:44:32;  author: matt;  state: Exp;
Fixed another difficult bug in the window clip system
----------------------------
revision 1.225
date: 1994/12/02 13:19:56;  author: matt;  state: Exp;
Fixed rect clears at terminus of rendering
Made a bunch of debug code compile out
----------------------------
revision 1.224
date: 1994/12/02 11:58:21;  author: matt;  state: Exp;
Fixed window clip bug
----------------------------
revision 1.223
date: 1994/11/28 21:50:42;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.222
date: 1994/11/28 01:32:15;  author: mike;  state: Exp;
turn off window clearing.
----------------------------
revision 1.221
date: 1994/11/27 23:11:52;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.220
date: 1994/11/20 15:58:55;  author: matt;  state: Exp;
Don't migrate the control center, since it doesn't move out of its segment
----------------------------
revision 1.219
date: 1994/11/19 23:54:36;  author: mike;  state: Exp;
change window colors.
----------------------------
revision 1.218
date: 1994/11/19 15:20:25;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.217
date: 1994/11/18 13:21:24;  author: mike;  state: Exp;
Clear only view portals into rest of world based on value of Clear_window.
----------------------------
revision 1.216
date: 1994/11/15 17:02:10;  author: matt;  state: Exp;
Re-added accidentally deleted variable
----------------------------
revision 1.215
date: 1994/11/15 16:51:50;  author: matt;  state: Exp;
Made rear view only switch to rear cockpit if cockpit on in front view
----------------------------
revision 1.214
date: 1994/11/14 20:47:57;  author: john;  state: Exp;
Attempted to strip out all the code in the game 
directory that uses any ui code.
----------------------------
revision 1.213
date: 1994/11/11 15:37:07;  author: mike;  state: Exp;
write orange for background to show render bugs.
----------------------------
revision 1.212
date: 1994/11/09 22:57:18;  author: matt;  state: Exp;
Keep tract of depth of segments rendered, for detail level optimization
----------------------------
revision 1.211
date: 1994/11/01 23:40:14;  author: matt;  state: Exp;
Elegantly handler buffer getting full
----------------------------
revision 1.210
date: 1994/10/31 22:28:13;  author: mike;  state: Exp;
Fix detriangulation bug.
----------------------------
revision 1.209
date: 1994/10/31 11:48:56;  author: mike;  state: Exp;
Optimize detriangulation, speedup of about 4% in many cases, 0% in many.
----------------------------
revision 1.208
date: 1994/10/30 20:08:34;  author: matt;  state: Exp;
For endlevel: added big explosion at tunnel exit; made lights in tunnel 
go out; made more explosions on walls.
----------------------------
revision 1.207
date: 1994/10/27 14:14:35;  author: matt;  state: Exp;
Don't do light flash during endlevel sequence
----------------------------
revision 1.206
date: 1994/10/11 12:05:42;  author: mike;  state: Exp;
Improve detriangulation.
----------------------------
revision 1.205
date: 1994/10/07 15:27:00;  author: john;  state: Exp;
Commented out the code that moves your eye
forward.
----------------------------
revision 1.204
date: 1994/10/05 16:07:38;  author: mike;  state: Exp;
Don't detriangulate sides if in player's segment.  Prevents player going behind a wall,
though there are cases in which it would be ok to detriangulate these.
----------------------------
revision 1.203
date: 1994/10/03 12:44:05;  author: matt;  state: Exp;
Took out unreferenced code
----------------------------
revision 1.202
date: 1994/09/28 14:08:45;  author: john;  state: Exp;
Added Zoom stuff back in, but ifdef'd it out.
----------------------------
revision 1.201
date: 1994/09/25 23:41:49;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.200
date: 1994/09/25 15:50:10;  author: mike;  state: Exp;
Integrate my debug changes which shows how many textures were rendered
this frame.
----------------------------
revision 1.199
date: 1994/09/25 15:45:22;  author: matt;  state: Exp;
Added OBJ_LIGHT, a type of object that casts light
Added generalized lifeleft, and moved it to local_object
----------------------------
revision 1.198
date: 1994/09/15 21:23:32;  author: matt;  state: Exp;
Changed system to keep track of whether & what cockpit is up
----------------------------
revision 1.197
date: 1994/09/15 16:30:12;  author: mike;  state: Exp;
Comment out call to object_render_targets, which did nothing.
----------------------------
revision 1.196
date: 1994/09/07 22:25:51;  author: matt;  state: Exp;
Don't migrate through semi-transparent walls
----------------------------
revision 1.195
date: 1994/09/07 19:16:21;  author: mike;  state: Exp;
Homing missile.
----------------------------
revision 1.194
date: 1994/08/31 20:54:17;  author: matt;  state: Exp;
Don't do flash effect while whiting out
----------------------------
revision 1.193
date: 1994/08/23 17:20:12;  author: john;  state: Exp;
Added rear-view cockpit.
----------------------------
revision 1.192
date: 1994/08/22 14:36:35;  author: john;  state: Exp;
Made R key make a "reverse" view render.
----------------------------
revision 1.191
date: 1994/08/19 20:09:26;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.190
date: 1994/08/10 19:56:17;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.189
date: 1994/08/10 14:45:05;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.188
date: 1994/08/09 16:04:06;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.187
date: 1994/08/05 17:07:05;  author: john;  state: Exp;
Made lasers be two objects, one drawing after the other
all the time.
----------------------------
revision 1.186
date: 1994/08/05 10:07:57;  author: matt;  state: Exp;
Disable window check checking (i.e., always use window check)
----------------------------
revision 1.185
date: 1994/08/04 19:11:30;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.184
date: 1994/08/04 00:21:14;  author: matt;  state: Exp;
Cleaned up fvi & physics error handling; put in code to make sure objects
are in correct segment; simplified segment finding for objects and points
----------------------------
revision 1.183
date: 1994/08/02 19:04:28;  author: matt;  state: Exp;
Cleaned up vertex list functions
----------------------------
revision 1.182
date: 1994/07/29 15:13:33;  author: matt;  state: Exp;
When window check turned off, cut render depth in half
----------------------------
revision 1.181
date: 1994/07/29 11:03:50;  author: matt;  state: Exp;
Use highest_segment_index instead of num_segments so render works from
the editor
----------------------------
revision 1.180
date: 1994/07/29 10:04:34;  author: mike;  state: Exp;
Update Cursegp when an object is selected.
----------------------------
revision 1.179
date: 1994/07/25 00:02:50;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.178
date: 1994/07/24 14:37:49;  author: matt;  state: Exp;
Added angles for player head
----------------------------
revision 1.177
date: 1994/07/20 19:08:07;  author: matt;  state: Exp;
If in editor, don't move eye from center of viewer object
=============================================================================
RCS file: /Smoke/miner/source/main/render.h,v
Working file: main/render.h
head: 1.1
description: Header for rendering-based functions
----------------------------
revision 1.1
date: 1995/05/16 16:01:51;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:33:00;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.17
date: 1994/11/30 12:33:33;  author: mike;  state: Exp;
prototype Clear_window.
----------------------------
revision 1.16
date: 1994/11/02 16:19:52;  author: matt;  state: Exp;
Increased size of extra object buffer
----------------------------
revision 1.15
date: 1994/07/25 00:02:49;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.14
date: 1994/07/24 14:37:42;  author: matt;  state: Exp;
Added angles for player head
----------------------------
revision 1.13
date: 1994/06/24 17:01:34;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.12
date: 1994/06/16 10:55:57;  author: matt;  state: Exp;
Made a bunch of test code dependent on #defines
----------------------------
revision 1.11
date: 1994/06/01 00:01:36;  author: matt;  state: Exp;
Added mine destruction flashing effect
----------------------------
revision 1.10
date: 1994/05/22 18:47:36;  author: mike;  state: Exp;
make Render_list a globally accessible variable.
----------------------------
revision 1.9
date: 1994/05/22 15:29:32;  author: mike;  state: Exp;
Separation of lighting from render.c to lighting.c.
----------------------------
revision 1.8
date: 1994/05/14 17:59:39;  author: matt;  state: Exp;
Added extern.
----------------------------
revision 1.7
date: 1994/05/14 17:15:17;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.6
date: 1994/02/17 11:32:41;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.5
date: 1994/01/21 17:31:48;  author: matt;  state: Exp;
Moved code from render_frame() to caller, making code cleaner
----------------------------
revision 1.4
date: 1994/01/06 09:46:12;  author: john;  state: Exp;
Added removable walls... all code that checked for
children to see if a wall was a doorway, i changed
to yuan's wall_is_doorway function that is in wall.c...
doesn't work yet.
----------------------------
revision 1.3
date: 1994/01/05 11:25:47;  author: john;  state: Exp;
Changed Player_zoom to Render_zoom
----------------------------
revision 1.2
date: 1994/01/05 10:53:43;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.1
date: 1993/11/04 14:01:43;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/robot.c,v
Working file: main/robot.c
head: 1.1
description: Code for handling robots
----------------------------
revision 1.1
date: 1995/05/16 15:30:34;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/07 16:52:02;  author: john;  state: Exp;
Fixed robots not moving without edtiro bug.
----------------------------
revision 2.0
date: 1995/02/27 11:31:11;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.19
date: 1995/02/22 13:58:09;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.18
date: 1995/01/27 11:17:06;  author: rob;  state: Exp;
Avoid problems with illegal gun num.
----------------------------
revision 1.17
date: 1994/11/19 15:15:02;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.16
date: 1994/11/05 16:41:31;  author: adam;  state: Exp;
upped MAX_ROBOT_JOINTS
----------------------------
revision 1.15
date: 1994/09/26 15:29:29;  author: matt;  state: Exp;
Allow morphing objects to fire
----------------------------
revision 1.14
date: 1994/06/20 14:31:02;  author: matt;  state: Exp;
Don't include joint zero in animation data
----------------------------
revision 1.13
date: 1994/06/10 14:39:58;  author: matt;  state: Exp;
Increased limit of robot joints
----------------------------
revision 1.12
date: 1994/06/10 10:59:18;  author: matt;  state: Exp;
Do error checking on list of angles
----------------------------
revision 1.11
date: 1994/06/09 16:21:32;  author: matt;  state: Exp;
Took out special-case and test code.
----------------------------
revision 1.10
date: 1994/06/07 13:21:14;  author: matt;  state: Exp;
Added support for new chunk-based POF files, with robot animation data.
----------------------------
revision 1.9
date: 1994/06/01 17:58:24;  author: mike;  state: Exp;
Greater flinch effect.
----------------------------
revision 1.8
date: 1994/06/01 14:59:25;  author: matt;  state: Exp;
Fixed calc_gun_position(), which was rotating the wrong way for the
object orientation.
----------------------------
revision 1.7
date: 1994/06/01 12:44:04;  author: matt;  state: Exp;
Added flinch state for test robot
----------------------------
revision 1.6
date: 1994/05/31 19:17:24;  author: matt;  state: Exp;
Fixed test robot angles
----------------------------
revision 1.5
date: 1994/05/30 19:43:50;  author: mike;  state: Exp;
Call set_test_robot.
----------------------------
revision 1.4
date: 1994/05/30 00:02:44;  author: matt;  state: Exp;
Got rid of robot render type, and generally cleaned up polygon model
render objects.
----------------------------
revision 1.3
date: 1994/05/29 18:46:15;  author: matt;  state: Exp;
Added stuff for getting robot animation info for different states
----------------------------
revision 1.2
date: 1994/05/26 21:09:15;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.1
date: 1994/05/26 18:02:04;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/robot.h,v
Working file: main/robot.h
head: 1.1
description: Header for robot.c
----------------------------
revision 1.1
date: 1995/05/16 16:01:59;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/07 16:52:00;  author: john;  state: Exp;
Fixed robots not moving without edtiro bug.
----------------------------
revision 2.0
date: 1995/02/27 11:30:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.25
date: 1994/11/30 14:02:44;  author: mike;  state: Exp;
fields for see/attack/claw sounds.
----------------------------
revision 1.24
date: 1994/10/27 15:55:41;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/10/20 15:17:03;  author: mike;  state: Exp;
Add boss flag.
----------------------------
revision 1.22
date: 1994/10/20 09:51:00;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.21
date: 1994/10/18 10:52:54;  author: mike;  state: Exp;
Support robots lunging as an attack_type.
----------------------------
revision 1.20
date: 1994/10/17 21:19:02;  author: mike;  state: Exp;
robot cloaking.
----------------------------
revision 1.19
date: 1994/09/27 00:03:39;  author: mike;  state: Exp;
Add score_value to robot_info struct.
----------------------------
revision 1.18
date: 1994/09/22 19:01:12;  author: mike;  state: Exp;
Move NDL from here to game.h
----------------------------
revision 1.17
date: 1994/09/22 15:46:55;  author: mike;  state: Exp;
Add default contained objects for robots.
----------------------------
revision 1.16
date: 1994/09/22 10:46:57;  author: mike;  state: Exp;
Add difficulty levels.
----------------------------
revision 1.15
date: 1994/09/15 16:34:16;  author: mike;  state: Exp;
Change rapidfire_count to a byte, add evade_speed, dum1, dum2.
----------------------------
revision 1.14
date: 1994/09/09 14:21:58;  author: matt;  state: Exp;
Increased maximum number of games
----------------------------
revision 1.13
date: 1994/08/25 18:12:13;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.12
date: 1994/08/23 16:37:24;  author: mike;  state: Exp;
Add rapidfire_count to robot_info.
----------------------------
revision 1.11
date: 1994/07/27 19:45:01;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.10
date: 1994/07/12 12:40:01;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.9
date: 1994/06/21 12:17:12;  author: mike;  state: Exp;
Add circle_distance to robot_info.
----------------------------
revision 1.8
date: 1994/06/09 16:22:28;  author: matt;  state: Exp;
Moved header for calc_gun_point() here, where it belongs
----------------------------
revision 1.7
date: 1994/06/08 18:16:23;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.6
date: 1994/06/03 11:38:09;  author: john;  state: Exp;
Made robots get their strength for RobotInfo->strength, which
is read in from bitmaps.tbl
----------------------------
revision 1.5
date: 1994/05/30 19:43:31;  author: mike;  state: Exp;
Add voluminous comment for robot_get_anim_state.
----------------------------
revision 1.4
date: 1994/05/30 00:03:18;  author: matt;  state: Exp;
Got rid of robot render type, and generally cleaned up polygon model
render objects.
----------------------------
revision 1.3
date: 1994/05/29 18:46:37;  author: matt;  state: Exp;
Added stuff for getting robot animation info for different states
----------------------------
revision 1.2
date: 1994/05/26 21:09:18;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.1
date: 1994/05/26 18:02:12;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /BigRed/miner/source/main/scores.c,v
Working file: main/scores.c
head: 1.1
description: Inferno High Scores and Statistics System
----------------------------
revision 1.1
date: 1995/12/05 16:06:29;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1995/08/14 09:25:16;  author: allender;  state: Exp;
add byteswap header
----------------------------
revision 1.2
date: 1995/07/14 13:45:17;  author: allender;  state: Exp;
fixed up high score code to work and look pretty good
needs some work tho'
----------------------------
revision 1.1
date: 1995/05/16 15:30:42;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/06 15:23:57;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:30:53;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.109
date: 1995/02/09 12:23:19;  author: rob;  state: Exp;
Added assert for length of filename.
----------------------------
revision 1.108
date: 1995/01/03 17:33:24;  author: john;  state: Exp;
Made scrolling textbox. Used it for scores cool saying.
----------------------------
revision 1.107
date: 1994/12/28 10:42:51;  author: john;  state: Exp;
More VFX tweaking.
----------------------------
revision 1.106
date: 1994/12/28 10:26:19;  author: john;  state: Exp;
Fixed some VFX problems.
----------------------------
revision 1.105
date: 1994/12/15 16:42:12;  author: adam;  state: Exp;
some fix
----------------------------
revision 1.104
date: 1994/12/14 11:59:19;  author: john;  state: Exp;
Changed the default high scores.
----------------------------
revision 1.103
date: 1994/12/09 00:41:12;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.102
date: 1994/12/07 00:36:26;  author: mike;  state: Exp;
scores sequencing stuff.
----------------------------
revision 1.101
date: 1994/12/06 15:14:21;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.100
date: 1994/12/03 17:07:52;  author: yuan;  state: Exp;
Localization 368
----------------------------
revision 1.99
date: 1994/12/03 14:49:27;  author: mark;  state: Exp;
Fixed john's bug with previous.
----------------------------
revision 1.98
date: 1994/12/03 14:43:54;  author: john;  state: Exp;
Added enter, space  to exit scores.
----------------------------
revision 1.97
date: 1994/12/03 14:32:34;  author: john;  state: Exp;
Added integrated-super-deluxe-ctrl-r to reset high scores.
----------------------------
revision 1.96
date: 1994/12/01 20:15:20;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.95
date: 1994/11/30 19:36:36;  author: john;  state: Exp;
Made Gravis Ultrasound work again.  Made the scores blink
at a constant rate.  Revamped the newmenu background storage,
which hopefully fixed some bugs.  Made menus in ame not pause
sound, except for the pause key.               ^== Game!
----------------------------
revision 1.94
date: 1994/11/30 12:32:08;  author: john;  state: Exp;
Made secret levels print correctly.
----------------------------
revision 1.93
date: 1994/11/30 12:06:47;  author: mike;  state: Exp;
fix bug: looper not initialized.
----------------------------
revision 1.92
date: 1994/11/29 13:20:04;  author: john;  state: Exp;
changed the "Wow! You placed .." to something better.
----------------------------
revision 1.91
date: 1994/11/29 01:35:38;  author: john;  state: Exp;
Made it so that even if you don't get a high score, you still show
up on the chart..
----------------------------
revision 1.90
date: 1994/11/23 17:29:29;  author: mike;  state: Exp;
fix xx-xx level bug in high scores.
----------------------------
revision 1.89
date: 1994/11/22 16:55:27;  author: mike;  state: Exp;
allow high scores even in pudly trainee level.
----------------------------
revision 1.88
date: 1994/11/21 17:28:33;  author: john;  state: Exp;
Changed default score values.
----------------------------
revision 1.87
date: 1994/11/18 23:37:53;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.86
date: 1994/11/13 15:39:24;  author: john;  state: Exp;
Added critical error handler to game.  Took out -editor command line
option because it didn't work anymore and wasn't worth fixing.  Made scores
not use MINER enviroment variable on release version, and made scores
not print an error if there is no descent.hi.
----------------------------
revision 1.85
date: 1994/11/06 10:15:58;  author: john;  state: Exp;
Took out kill % and hostage %
----------------------------
revision 1.84
date: 1994/11/05 15:03:39;  author: john;  state: Exp;
Added non-popup menu for the main menu, so that scores and credits don't have to save
the background.
----------------------------
revision 1.83
date: 1994/11/05 14:05:57;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.82
date: 1994/11/04 20:11:41;  author: john;  state: Exp;
Neatening up palette stuff with demos.
----------------------------
revision 1.81
date: 1994/11/04 12:02:34;  author: john;  state: Exp;
Fixed fading transitions a bit more.
----------------------------
revision 1.80
date: 1994/10/27 12:10:39;  author: john;  state: Exp;
Moved kill % a little to the right.
----------------------------
revision 1.79
date: 1994/10/24 20:25:03;  author: john;  state: Exp;
Fixed bug with space at end of 1 line message.
Made Enter go between the two input lines.
----------------------------
revision 1.78
date: 1994/10/24 18:20:18;  author: john;  state: Exp;
Made the current high score flash.
----------------------------
revision 1.77
date: 1994/10/24 13:37:22;  author: mike;  state: Exp;
Fix grammar error.  --anal Mike.
----------------------------
revision 1.76
date: 1994/10/22 13:19:19;  author: john;  state: Exp;
Made joy/mouse buttons leave score screen.
----------------------------
revision 1.75
date: 1994/10/21 15:26:57;  author: john;  state: Exp;
Used PrtScr instead of F2.
----------------------------
revision 1.74
date: 1994/10/21 13:54:21;  author: matt;  state: Exp;
Replace '1' with special wide '1' to make numbers line up
----------------------------
revision 1.73
date: 1994/10/19 20:48:01;  author: john;  state: Exp;
Made so that people playing on wimp level
can't get high scores.
----------------------------
revision 1.72
date: 1994/10/19 15:14:05;  author: john;  state: Exp;
Took % hits out of player structure, made %kills work properly.
----------------------------
revision 1.71
date: 1994/10/19 14:39:27;  author: john;  state: Exp;
Finished up; added keys to prtscr, int3.
----------------------------
revision 1.70
date: 1994/10/19 12:44:09;  author: john;  state: Exp;
Added hours field to player structure.
----------------------------
revision 1.69
date: 1994/10/19 11:25:21;  author: john;  state: Exp;
Looking good.
----------------------------
revision 1.68
date: 1994/10/19 10:54:12;  author: john;  state: Exp;
Test version.
----------------------------
revision 1.67
date: 1994/10/19 10:00:27;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.66
date: 1994/10/19 09:59:03;  author: john;  state: Exp;
Made cool saying have the potential to be up to 50 chars
----------------------------
revision 1.65
date: 1994/10/19 09:53:30;  author: john;  state: Exp;
Working version of scores.
----------------------------
revision 1.64
date: 1994/10/18 21:07:46;  author: john;  state: Exp;
Fixed bug that didn't print name correctly.
----------------------------
revision 1.63
date: 1994/10/18 18:21:46;  author: john;  state: Exp;
NEw score system.
----------------------------
revision 1.62
date: 1994/10/17 20:31:42;  author: john;  state: Exp;
Made the text for the difficulty labels global so that
the high score screen can print "rookie" or whatever.
----------------------------
revision 1.61
date: 1994/10/17 17:27:44;  author: john;  state: Exp;
Added starting_level to high score system.
----------------------------
revision 1.60
date: 1994/10/17 16:56:35;  author: john;  state: Exp;
Added starting level to stats menu.
----------------------------
revision 1.59
date: 1994/10/17 16:55:25;  author: john;  state: Exp;
Added starting level, but didn't hook it to anything.
----------------------------
revision 1.58
date: 1994/10/17 16:47:17;  author: john;  state: Exp;
Added diff. level.
----------------------------
revision 1.57
date: 1994/10/17 15:49:53;  author: john;  state: Exp;
Added stats screen.
----------------------------
revision 1.56
date: 1994/10/03 23:02:29;  author: matt;  state: Exp;
After player added or not to scores, scores are now displayed
----------------------------
revision 1.55
date: 1994/09/01 18:09:38;  author: john;  state: Exp;
Made commas in scores work correctly .
----------------------------
revision 1.54
date: 1994/09/01 18:03:57;  author: john;  state: Exp;
Neatened up scores a bit.
----------------------------
revision 1.53
date: 1994/08/26 14:27:37;  author: john;  state: Exp;
Made it prompt for name
----------------------------
revision 1.52
date: 1994/08/26 13:03:17;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.51
date: 1994/08/26 13:01:52;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.50
date: 1994/08/10 19:57:01;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.49
date: 1994/07/25 15:40:27;  author: matt;  state: Exp;
Took out debugging code accidentally left in.
=============================================================================
RCS file: /Smoke/miner/source/main/scores.h,v
Working file: main/scores.h
head: 1.1
description: Scores header.
----------------------------
revision 1.1
date: 1995/05/16 16:02:07;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:53;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.13
date: 1994/12/07 00:36:36;  author: mike;  state: Exp;
scores sequencing stuff.
----------------------------
revision 1.12
date: 1994/11/28 11:26:09;  author: matt;  state: Exp;
Took out scores for weapons, which are no longer used
----------------------------
revision 1.11
date: 1994/10/24 18:20:03;  author: john;  state: Exp;
Made the current high score flash.
----------------------------
revision 1.10
date: 1994/10/18 18:21:36;  author: john;  state: Exp;
NEw score system.
----------------------------
revision 1.9
date: 1994/10/03 23:01:58;  author: matt;  state: Exp;
New parms for scores_view()
----------------------------
revision 1.8
date: 1994/09/27 16:10:37;  author: adam;  state: Exp;
changed scores of course
----------------------------
revision 1.7
date: 1994/08/31 19:25:46;  author: mike;  state: Exp;
Add score values for new powerups.
----------------------------
revision 1.6
date: 1994/08/26 16:00:18;  author: mike;  state: Exp;
enhanced (?) scoring.
----------------------------
revision 1.5
date: 1994/08/26 13:01:45;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.4
date: 1994/05/30 16:33:21;  author: yuan;  state: Exp;
Revamping high scores.
----------------------------
revision 1.3
date: 1994/05/14 17:15:07;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.2
date: 1994/05/13 13:13:57;  author: yuan;  state: Exp;
Added player death...
When you die, if just pops up a a message.
When game is over, a message is popped up, and if you have a high score,
you get to enter it.
----------------------------
revision 1.1
date: 1994/05/13 10:22:16;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/screens.h,v
Working file: main/screens.h
head: 1.1
description: Info on canvases, screens, etc.
----------------------------
revision 1.1
date: 1995/05/16 16:02:15;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/14 12:14:00;  author: john;  state: Exp;
Made VR helmets have 4 resolutions to choose from.
----------------------------
revision 2.1
date: 1995/03/06 15:24:09;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:31:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.15
date: 1994/08/10 19:56:45;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.14
date: 1994/07/20 21:04:26;  author: john;  state: Exp;
Add VictorMax VR helment support.
----------------------------
revision 1.13
date: 1994/06/24 17:01:28;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.12
date: 1994/04/20 20:30:03;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1994/03/30 21:12:05;  author: yuan;  state: Exp;
Use only 119 lines (saves 3 scanlines)
----------------------------
revision 1.10
date: 1994/03/17 16:49:37;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1994/02/11 15:07:44;  author: matt;  state: Exp;
Added extern of Canv_game_offscrn
----------------------------
revision 1.8
date: 1994/01/31 16:52:43;  author: john;  state: Exp;
redid cockpit bounds.
----------------------------
revision 1.7
date: 1994/01/26 18:13:53;  author: john;  state: Exp;
Changed 3d constants..
----------------------------
revision 1.6
date: 1994/01/25 17:11:46;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/01/25 11:43:25;  author: john;  state: Exp;
Changed game window size.
----------------------------
revision 1.4
date: 1993/12/13 16:32:39;  author: yuan;  state: Exp;
Fixed menu system memory errors, and other bugs.
----------------------------
revision 1.3
date: 1993/12/10 16:07:23;  author: yuan;  state: Exp;
Working on menu system.  Updated the title screen.
----------------------------
revision 1.2
date: 1993/12/09 21:27:46;  author: matt;  state: Exp;
Added 3d window sizing constants
----------------------------
revision 1.1
date: 1993/12/06 09:50:33;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/segment.h,v
Working file: main/segment.h
head: 1.4
description: Include file for functions which need to access segment data structure.
----------------------------
revision 1.4
date: 1995/11/03 12:53:11;  author: allender;  state: Exp;
shareware changes
----------------------------
revision 1.3
date: 1995/07/26 16:53:45;  author: allender;  state: Exp;
put sides and segment structure back the PC way for checksumming reasons
----------------------------
revision 1.2
date: 1995/06/19 07:55:22;  author: allender;  state: Exp;
rearranged structure members for possible better alignment
----------------------------
revision 1.1
date: 1995/05/16 16:02:22;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/20 12:15:22;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:26:49;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.89
date: 1995/01/24 15:07:55;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.88
date: 1994/12/12 01:04:06;  author: yuan;  state: Exp;
Boosted MAX_GAME_VERTS.
----------------------------
revision 1.87
date: 1994/12/11 16:18:14;  author: mike;  state: Exp;
add constants so we can detect too-large mines for game while in editor.
----------------------------
revision 1.86
date: 1994/12/08 15:07:29;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.85
date: 1994/12/01 21:06:39;  author: matt;  state: Exp;
Moved plane tolerance constant to gameseg.c, the only file that used it.
----------------------------
revision 1.84
date: 1994/11/27 14:01:41;  author: matt;  state: Exp;
Fixed segment structure so LVLs work
----------------------------
revision 1.83
date: 1994/11/26 22:50:20;  author: matt;  state: Exp;
Removed editor-only fields from segment structure when editor is compiled
out, and padded segment structure to even multiple of 4 bytes.
----------------------------
revision 1.82
date: 1994/11/21 11:43:36;  author: mike;  state: Exp;
smaller segment and vertex buffers.
----------------------------
revision 1.81
date: 1994/11/17 11:39:35;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.80
date: 1994/10/30 14:12:05;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.79
date: 1994/10/27 11:33:58;  author: mike;  state: Exp;
lower number of segments by 100, saving 116K.
----------------------------
revision 1.78
date: 1994/08/25 21:54:50;  author: mike;  state: Exp;
Add macro IS_CHILD to make checking for the presence of a child centralized.
----------------------------
revision 1.77
date: 1994/08/11 18:58:16;  author: mike;  state: Exp;
Add prototype for Side_to_verts_int.
----------------------------
revision 1.76
date: 1994/08/01 11:04:13;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.75
date: 1994/07/25 00:04:19;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.74
date: 1994/07/21 19:01:30;  author: mike;  state: Exp;
new lsegment structure.
----------------------------
revision 1.73
date: 1994/06/08 14:30:48;  author: matt;  state: Exp;
Added static_light field to segment structure, and padded side struct
to be longword aligned.
----------------------------
revision 1.72
date: 1994/05/19 23:25:17;  author: mike;  state: Exp;
Change MINE_VERSION to 15, DEFAULT_LIGHTING to 0
----------------------------
revision 1.71
date: 1994/05/12 14:45:54;  author: mike;  state: Exp;
New segment data structure (!!), group, special, object, value = short.
----------------------------
revision 1.70
date: 1994/05/03 11:06:46;  author: mike;  state: Exp;
Remove constants VMAG and UMAG which are editor specific..
----------------------------
revision 1.69
date: 1994/04/18 10:40:28;  author: yuan;  state: Exp;
Increased segment limit to 1000
(From 500)
=============================================================================
RCS file: /Smoke/miner/source/main/segment2.h,v
Working file: main/segment2.h
head: 1.1
description: Include file for makeseg program, not necessary for game or editor.
----------------------------
revision 1.1
date: 1995/05/16 16:02:31;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1993/09/20 15:17:49;  author: mike;  state: Exp;
Define constants: NUM_FACES, NUM_VERTICES, NUM_UVS, NUM_RGBS, NUM_FACE_VERTS
----------------------------
revision 1.1
date: 1993/09/15 19:12:32;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/segpoint.h,v
Working file: main/segpoint.h
head: 1.1
description: Hopefully temporary file to hold external definition of Segment_points[]
----------------------------
revision 1.1
date: 1995/05/16 16:02:38;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:26:54;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/02/16 17:14:40;  author: matt;  state: Exp;
Added include of 3d.h
----------------------------
revision 1.1
date: 1993/12/06 09:51:37;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/serial.h,v
Working file: main/serial.h
head: 1.1
description: .
----------------------------
revision 1.1
date: 1995/05/16 16:02:46;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:33;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/07/21 21:31:33;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.1
date: 1994/07/21 18:40:47;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/ship.h,v
Working file: main/ship.h
head: 1.1
description: Functions that affect the ship (Player_stats)
----------------------------
revision 1.1
date: 1995/05/16 16:03:01;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1994/03/01 18:12:56;  author: yuan;  state: Exp;
Walls, switches, and triggers...
----------------------------
revision 1.1
date: 1994/02/25 15:52:13;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/slew.c,v
Working file: main/slew.c
head: 1.1
description: Basic slew system for moving around the mine
----------------------------
revision 1.1
date: 1995/05/16 15:30:57;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:29:32;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.34
date: 1995/02/22 14:23:28;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.33
date: 1995/02/22 13:24:26;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.32
date: 1994/09/10 15:46:42;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.31
date: 1994/08/31 18:29:58;  author: matt;  state: Exp;
Made slew work with new key system
----------------------------
revision 1.30
date: 1994/08/31 14:10:48;  author: john;  state: Exp;
Made slew go faster.
----------------------------
revision 1.29
date: 1994/08/29 19:16:38;  author: matt;  state: Exp;
Made slew object not have physics movement type, so slew objects don't
get bumped.
----------------------------
revision 1.28
date: 1994/08/24 18:59:59;  author: john;  state: Exp;
Changed key_down_time to return fixed seconds instead of
milliseconds.
----------------------------
revision 1.27
date: 1994/07/01 11:33:05;  author: john;  state: Exp;
Fixed bug with looking for stick even if one not present.
----------------------------
revision 1.26
date: 1994/05/20 11:56:33;  author: matt;  state: Exp;
Cleaned up find_vector_intersection() interface
Killed check_point_in_seg(), check_player_seg(), check_object_seg()
----------------------------
revision 1.25
date: 1994/05/19 12:08:41;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.24
date: 1994/05/14 17:16:18;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.23
date: 1994/05/03 12:26:38;  author: matt;  state: Exp;
Removed use of physics_info var rotvel, which wasn't used for rotational
velocity at all.
----------------------------
revision 1.22
date: 1994/02/17 11:32:34;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.21
date: 1994/01/18 14:03:53;  author: john;  state: Exp;
made joy_get_pos use the new ints instead of
shorts.
----------------------------
revision 1.20
date: 1994/01/10 17:11:35;  author: mike;  state: Exp;
Add prototype for check_object_seg
----------------------------
revision 1.19
date: 1994/01/05 10:53:38;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.18
date: 1993/12/22 15:32:50;  author: john;  state: Exp;
took out previos code that attempted to make
modifiers cancel keydowntime.
----------------------------
revision 1.17
date: 1993/12/22 11:41:56;  author: john;  state: Exp;
Made so that keydowntime recognizes editor special case!
----------------------------
revision 1.16
date: 1993/12/14 18:13:52;  author: matt;  state: Exp;
Made slew work in editor even when game isn't in slew mode
----------------------------
revision 1.15
date: 1993/12/07 23:53:39;  author: matt;  state: Exp;
Made slew work in editor even when game isn't in slew mode
----------------------------
revision 1.14
date: 1993/12/05 22:47:49;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.13
date: 1993/12/01 11:44:14;  author: matt;  state: Exp;
Chagned Frfract to FrameTime
----------------------------
revision 1.12
date: 1993/11/08 16:21:42;  author: john;  state: Exp;
made stop_slew or whatever return an int
----------------------------
revision 1.11
date: 1993/11/01 13:59:49;  author: john;  state: Exp;
more slew experiments.
=============================================================================
RCS file: /Smoke/miner/source/main/slew.h,v
Working file: main/slew.h
head: 1.1
description: Prototypes, etc., for slew system
----------------------------
revision 1.1
date: 1995/05/16 16:03:09;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:33:05;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/15 16:43:58;  author: matt;  state: Exp;
Made slew functions compile out for release versions
----------------------------
revision 1.4
date: 1994/02/17 11:32:41;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.3
date: 1994/01/05 10:53:42;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.2
date: 1993/12/05 22:48:57;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.1
date: 1993/12/05 20:20:16;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/songs.c,v
Working file: main/songs.c
head: 1.5
description: Routines to manage the songs in Descent.
----------------------------
revision 1.5
date: 1995/11/03 12:52:59;  author: allender;  state: Exp;
shareware changes
----------------------------
revision 1.4
date: 1995/10/18 01:51:33;  author: allender;  state: Exp;
fixed up stuff for redbook
----------------------------
revision 1.3
date: 1995/10/17 13:13:44;  author: allender;  state: Exp;
dont' add resource value to songs to play -- now done in digi
code
----------------------------
revision 1.2
date: 1995/07/17 08:50:35;  author: allender;  state: Exp;
make work with new music system
----------------------------
revision 1.1
date: 1995/05/16 15:31:05;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:13;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1995/02/11 12:42:12;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.1
date: 1995/02/11 10:20:33;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/songs.h,v
Working file: main/songs.h
head: 1.5
description: .
----------------------------
revision 1.5
date: 1995/11/03 12:52:43;  author: allender;  state: Exp;
shareware changes
shareware changes
----------------------------
revision 1.4
date: 1995/10/18 01:51:45;  author: allender;  state: Exp;
redbook fixes
----------------------------
revision 1.3
date: 1995/10/17 13:14:14;  author: allender;  state: Exp;
fixed track numbers for redbook
----------------------------
revision 1.2
date: 1995/07/17 08:50:45;  author: allender;  state: Exp;
changed some constants around
----------------------------
revision 1.1
date: 1995/05/16 16:03:17;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:30:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1995/02/11 22:21:44;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1995/02/11 19:10:49;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1995/02/11 18:34:40;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1995/02/11 18:04:51;  author: adam;  state: Exp;
upped songs
----------------------------
revision 1.2
date: 1995/02/11 12:42:12;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.1
date: 1995/02/11 10:20:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/sounds.h,v
Working file: main/sounds.h
head: 1.1
description: Numbering system for the sounds.
----------------------------
revision 1.1
date: 1995/05/16 16:03:32;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:32;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.41
date: 1995/02/03 17:08:28;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.40
date: 1995/01/30 21:45:17;  author: adam;  state: Exp;
added weapon change sounds
----------------------------
revision 1.39
date: 1995/01/30 21:11:57;  author: mike;  state: Exp;
Use new weapon selection sounds, different for primary and secondary.
----------------------------
revision 1.38
date: 1995/01/26 17:02:58;  author: mike;  state: Exp;
make fusion cannon have more chrome, make fusion, mega rock you!
----------------------------
revision 1.37
date: 1995/01/18 19:46:15;  author: matt;  state: Exp;
Added sound for invulnerability wearing off, and voice message for cheating
----------------------------
revision 1.36
date: 1995/01/18 19:05:04;  author: john;  state: Exp;
Increased MAX_SOUNDS.
----------------------------
revision 1.35
date: 1994/12/14 16:57:08;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/12/08 21:31:40;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.33
date: 1994/12/08 12:33:01;  author: mike;  state: Exp;
make boss dying more interesting.
----------------------------
revision 1.32
date: 1994/12/04 21:39:40;  author: matt;  state: Exp;
Added sound constants for endlevel explosions
----------------------------
revision 1.31
date: 1994/11/30 14:02:58;  author: mike;  state: Exp;
see/claw/attack sounds.
----------------------------
revision 1.30
date: 1994/11/29 20:43:54;  author: matt;  state: Exp;
Deleted a bunch of unused constants
----------------------------
revision 1.29
date: 1994/11/29 15:48:11;  author: matt;  state: Exp;
Cleaned up, & added new sounds
----------------------------
revision 1.28
date: 1994/11/29 14:35:36;  author: adam;  state: Exp;
moved lava noise index
----------------------------
revision 1.27
date: 1994/11/29 13:23:30;  author: matt;  state: Exp;
Cleaned up sound constants
----------------------------
revision 1.26
date: 1994/11/29 13:01:04;  author: rob;  state: Exp;
ADded badass explosion define.
----------------------------
revision 1.25
date: 1994/11/29 11:34:23;  author: rob;  state: Exp;
Added new HUD sounds.
----------------------------
revision 1.24
date: 1994/11/15 16:52:01;  author: mike;  state: Exp;
hiss sound placeholder.
----------------------------
revision 1.23
date: 1994/10/25 16:21:45;  author: adam;  state: Exp;
changed homing sound
----------------------------
revision 1.22
date: 1994/10/23 00:27:34;  author: matt;  state: Exp;
Made exploding wall do one long sound, instead of lots of small ones
----------------------------
revision 1.21
date: 1994/10/22 14:12:35;  author: mike;  state: Exp;
Add sound for missile tracking player.
----------------------------
revision 1.20
date: 1994/10/11 12:25:21;  author: matt;  state: Exp;
Added "hot rocks" that create badass explosion when hit by weapons
----------------------------
revision 1.19
date: 1994/10/10 20:57:50;  author: matt;  state: Exp;
Added sound for exploding wall (hostage door)
----------------------------
revision 1.18
date: 1994/10/04 15:33:31;  author: john;  state: Exp;
Took out the old PLAY_SOUND??? code and replaced it
with direct calls into digi_link_??? so that all sounds
can be made 3d.
----------------------------
revision 1.17
date: 1994/09/29 21:13:41;  author: john;  state: Exp;
Added Master volumes for digi and midi. Also took out panning,
because it doesn't work with MasterVolume stuff. 
----------------------------
revision 1.16
date: 1994/09/29 00:42:29;  author: matt;  state: Exp;
Made hitting a locked door play a sound
----------------------------
revision 1.15
date: 1994/09/20 19:14:34;  author: john;  state: Exp;
Massaged the sound system; used a better formula for determining
which l/r balance, also, put in Mike's stuff that searches for a connection
between the 2 sounds' segments, stopping for closed doors, etc.
----------------------------
revision 1.14
date: 1994/07/06 15:23:59;  author: john;  state: Exp;
Revamped hostage sound.
----------------------------
revision 1.13
date: 1994/06/21 19:13:27;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1994/06/21 12:09:54;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1994/06/21 12:03:15;  author: john;  state: Exp;
Added more sounds.
----------------------------
revision 1.10
date: 1994/06/20 22:01:54;  author: matt;  state: Exp;
Added prototype for Play3D()
----------------------------
revision 1.9
date: 1994/06/20 21:06:06;  author: yuan;  state: Exp;
Fixed up menus.
----------------------------
revision 1.8
date: 1994/06/17 12:21:54;  author: mike;  state: Exp;
Hook for robot hits player.
----------------------------
revision 1.7
date: 1994/06/15 19:01:35;  author: john;  state: Exp;
Added the capability to make 3d sounds play just once for the
laser hit wall effects.
----------------------------
revision 1.6
date: 1994/06/08 11:43:03;  author: john;  state: Exp;
Enable 3D sound.
----------------------------
revision 1.5
date: 1994/06/07 18:21:20;  author: john;  state: Exp;
Start changing sound to the new 3D system.
----------------------------
revision 1.4
date: 1994/05/16 16:17:41;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.3
date: 1994/05/09 21:11:38;  author: john;  state: Exp;
Sound changes; pass index instead of pointer to digi routines.
Made laser sound cut off the last laser sound.
----------------------------
revision 1.2
date: 1994/04/27 11:47:46;  author: john;  state: Exp;
First version.
----------------------------
revision 1.1
date: 1994/04/26 10:44:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/state.c,v
Working file: main/state.c
head: 1.7
description: Functions to save/restore game state.
----------------------------
revision 1.7
date: 1995/10/31 10:18:25;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.6
date: 1995/10/21 22:25:45;  author: allender;  state: Exp;
put in creator code and file type for saved games.
put save games in players folder
----------------------------
revision 1.5
date: 1995/10/20 00:51:21;  author: allender;  state: Exp;
close boxes and proper mouse support on save game stuff
----------------------------
revision 1.4
date: 1995/10/17 13:19:02;  author: allender;  state: Exp;
close boxes for load and save game
----------------------------
revision 1.3
date: 1995/09/18 08:09:15;  author: allender;  state: Exp;
made larger thumbnail and handled NULL gr_bitmap pointers
better
----------------------------
revision 1.2
date: 1995/08/14 14:36:12;  author: allender;  state: Exp;
change transparency to 0
----------------------------
revision 1.1
date: 1995/05/16 15:31:12;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.13
date: 1995/04/06 15:12:20;  author: john;  state: Exp;
Fixed bug with lunacy not working.
----------------------------
revision 2.12
date: 1995/04/04 13:33:05;  author: john;  state: Exp;
Removed multiplayer save.
----------------------------
revision 2.11
date: 1995/03/31 13:42:10;  author: john;  state: Exp;
Made saved games from the bogus saturn version read in
correctly.
----------------------------
revision 2.10
date: 1995/03/31 12:45:28;  author: john;  state: Exp;
Fixed bug with previous.
----------------------------
revision 2.9
date: 1995/03/31 12:24:40;  author: john;  state: Exp;
I had changed alt_textures from a pointer to a byte. This hosed old
saved games, so I restored it to an int.
----------------------------
revision 2.8
date: 1995/03/28 11:22:47;  author: john;  state: Exp;
Added cheats to save file. Changed lunacy text.
----------------------------
revision 2.7
date: 1995/03/27 21:41:03;  author: john;  state: Exp;
Added code to verify that the proper multi save file
is used when restoring a network game.
----------------------------
revision 2.6
date: 1995/03/27 18:04:18;  author: john;  state: Exp;
Made multi save/restore require the -multisave command line arg.
----------------------------
revision 2.5
date: 1995/03/27 17:01:52;  author: john;  state: Exp;
Made deafult choice work better.
----------------------------
revision 2.4
date: 1995/03/27 15:49:44;  author: john;  state: Exp;
Added slots to save games.
----------------------------
revision 2.3
date: 1995/03/27 12:59:19;  author: john;  state: Exp;
Initial version of multiplayer save games.
----------------------------
revision 2.2
date: 1995/03/24 13:11:35;  author: john;  state: Exp;
Added save game during briefing screens.
----------------------------
revision 2.1
date: 1995/03/21 14:38:36;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:27:00;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.43
date: 1995/02/22 14:32:41;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.42
date: 1995/02/13 20:34:33;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.41
date: 1995/02/13 10:37:30;  author: john;  state: Exp;
Saved Buggin' cheat mode to save file.
----------------------------
revision 1.40
date: 1995/02/09 10:24:25;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.39
date: 1995/02/09 10:22:20;  author: john;  state: Exp;
Fixed bug with callsign getting trashed if you copy somebody else
's save game file into your directory.
----------------------------
revision 1.38
date: 1995/02/08 21:01:27;  author: john;  state: Exp;
Closed state file around the code that shows briefing screens so that the
code works on machines with clean boot with only 5 file handles.
----------------------------
revision 1.37
date: 1995/02/07 14:02:33;  author: john;  state: Exp;
Added code to verify game restore.
----------------------------
revision 1.36
date: 1995/02/07 11:07:43;  author: john;  state: Exp;
Added hooks for confirm on game state restore.
----------------------------
revision 1.35
date: 1995/02/03 11:27:36;  author: john;  state: Exp;
Made inbetween level save's thumbnail's have correct aspect.
----------------------------
revision 1.34
date: 1995/02/03 10:58:43;  author: john;  state: Exp;
Added code to save shareware style saved games into new format...
Also, made new player file format not have the saved game array in it.
----------------------------
revision 1.33
date: 1995/02/02 19:40:52;  author: john;  state: Exp;
Added 10 save game slots.
----------------------------
revision 1.32
date: 1995/02/02 12:23:20;  author: john;  state: Exp;
Made between level saves have picture.
----------------------------
revision 1.31
date: 1995/01/31 11:21:43;  author: john;  state: Exp;
Added code for fixed with menus.
----------------------------
revision 1.30
date: 1995/01/29 21:37:29;  author: mike;  state: Exp;
initialize variables on game load so you don't drain your energy when you fire.
----------------------------
revision 1.29
date: 1995/01/29 13:47:58;  author: mike;  state: Exp;
Restore some variables on game load (in game).
----------------------------
revision 1.28
date: 1995/01/26 10:46:57;  author: john;  state: Exp;
Fixed bug with state names getting hosed.
----------------------------
revision 1.27
date: 1995/01/26 09:51:23;  author: john;  state: Exp;
Fixed bug with game descriptions getting hosed.
----------------------------
revision 1.26
date: 1995/01/25 16:35:49;  author: john;  state: Exp;
Made so that when you hit enter during
game save, -empty- goes away.
----------------------------
revision 1.25
date: 1995/01/25 15:01:39;  author: john;  state: Exp;
Upped the save file version.
----------------------------
revision 1.24
date: 1995/01/24 20:35:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1995/01/24 20:34:24;  author: john;  state: Exp;
Fixed bug with player stats not being set right for in
between level saves.
----------------------------
revision 1.22
date: 1995/01/23 10:39:03;  author: john;  state: Exp;
Added mission stuff to game saves.
----------------------------
revision 1.21
date: 1995/01/22 16:07:12;  author: mike;  state: Exp;
localization.
----------------------------
revision 1.20
date: 1995/01/22 15:58:32;  author: mike;  state: Exp;
localization
----------------------------
revision 1.19
date: 1995/01/20 11:04:40;  author: john;  state: Exp;
Upped state save version.
----------------------------
revision 1.18
date: 1995/01/19 17:00:44;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.17
date: 1995/01/17 14:27:33;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1995/01/17 13:36:37;  author: john;  state: Exp;
Moved pig loading into StartNewLevelSub.
----------------------------
revision 1.15
date: 1995/01/16 16:53:38;  author: john;  state: Exp;
Added code to save cheat state during save game.
----------------------------
revision 1.14
date: 1995/01/15 16:55:22;  author: john;  state: Exp;
Improved mine texture parsing.
----------------------------
revision 1.13
date: 1995/01/12 10:45:15;  author: john;  state: Exp;
Added difficulty level to save/restore game.
----------------------------
revision 1.12
date: 1995/01/05 15:46:55;  author: john;  state: Exp;
Made weapons not rearm when starting a saved game.
----------------------------
revision 1.11
date: 1995/01/05 11:51:45;  author: john;  state: Exp;
Added better Abort game menu.
Made save state return success or nopt.
----------------------------
revision 1.10
date: 1995/01/05 11:34:51;  author: john;  state: Exp;
Took out endlevel save stuff for registered.
----------------------------
revision 1.9
date: 1995/01/04 18:19:52;  author: john;  state: Exp;
Added automap visited list saving.
----------------------------
revision 1.8
date: 1995/01/04 17:29:56;  author: john;  state: Exp;
Made save/restore ALT+F?. Also made them not work
in network mode, and if recording a demo, will 
quit recording.
----------------------------
revision 1.7
date: 1995/01/04 13:18:31;  author: john;  state: Exp;
Added cool 6 game save.
----------------------------
revision 1.6
date: 1995/01/03 20:38:46;  author: john;  state: Exp;
Saved morph objects.
----------------------------
revision 1.5
date: 1995/01/03 20:19:29;  author: john;  state: Exp;
Pretty good working version of game save.
----------------------------
revision 1.4
date: 1995/01/03 14:18:18;  author: matt;  state: Exp;
ifdefs added to compile code add.  Added by Mike, I think.
----------------------------
revision 1.3
date: 1994/12/29 18:40:19;  author: john;  state: Exp;
Initial version.
----------------------------
revision 1.2
date: 1994/12/29 15:26:40;  author: john;  state: Exp;
Put in hooks for saving/restoring game state.
----------------------------
revision 1.1
date: 1994/12/29 15:16:02;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/state.h,v
Working file: main/state.h
head: 1.1
description: Prototypes for state saving functions.
----------------------------
revision 1.1
date: 1995/05/16 16:03:40;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/27 21:40:35;  author: john;  state: Exp;
Added code to verify that the proper multi save file
is used when restoring a network game.
----------------------------
revision 2.0
date: 1995/02/27 11:28:44;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1995/02/07 10:54:05;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1995/02/03 10:58:12;  author: john;  state: Exp;
Added code to save shareware style saved games into new format...
Also, made new player file format not have the saved game array in it.
----------------------------
revision 1.4
date: 1995/01/19 17:00:51;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.3
date: 1995/01/05 11:51:44;  author: john;  state: Exp;
Added better Abort game menu.
Made save state return success or nopt.
----------------------------
revision 1.2
date: 1994/12/29 15:26:39;  author: john;  state: Exp;
Put in hooks for saving/restoring game state.
----------------------------
revision 1.1
date: 1994/12/29 15:15:47;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/switch.c,v
Working file: main/switch.c
head: 1.2
description: New Triggers and Switches.
----------------------------
revision 1.2
date: 1995/10/31 10:18:10;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.1
date: 1995/05/16 15:31:21;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/21 08:39:08;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:28:41;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.51
date: 1995/01/31 15:26:23;  author: rob;  state: Exp;
Don't trigger matcens in anarchy games.
----------------------------
revision 1.50
date: 1995/01/26 12:18:26;  author: rob;  state: Exp;
Changed network_do_frame call.
----------------------------
revision 1.49
date: 1995/01/18 18:50:35;  author: allender;  state: Exp;
don't process triggers if in demo playback mode.  Fix for Rob to only do
multi_send_endlevel_start if in multi player game
----------------------------
revision 1.48
date: 1995/01/13 11:59:40;  author: rob;  state: Exp;
Added palette fade after secret level exit.
----------------------------
revision 1.47
date: 1995/01/12 17:00:41;  author: rob;  state: Exp;
Fixed a problem with switches and secret levels.
----------------------------
revision 1.46
date: 1995/01/12 13:35:11;  author: rob;  state: Exp;
Added data flush after secret level exit.
----------------------------
revision 1.45
date: 1995/01/03 15:25:11;  author: rob;  state: Exp;
Fixed a compile error.
----------------------------
revision 1.44
date: 1995/01/03 15:12:02;  author: rob;  state: Exp;
Adding multiplayer switching.
----------------------------
revision 1.43
date: 1994/11/29 16:52:12;  author: yuan;  state: Exp;
Removed some obsolete commented out code.
----------------------------
revision 1.42
date: 1994/11/27 23:15:07;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.41
date: 1994/11/22 18:36:45;  author: rob;  state: Exp;
Added new hook for endlevel for secret doors.
----------------------------
revision 1.40
date: 1994/11/21 17:29:43;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.39
date: 1994/11/19 15:20:32;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.38
date: 1994/10/25 16:09:52;  author: yuan;  state: Exp;
Fixed byte bug.
----------------------------
revision 1.37
date: 1994/10/24 16:05:28;  author: matt;  state: Exp;
Removed clear of fuelcen_control_center_destroyed
----------------------------
revision 1.36
date: 1994/10/08 14:21:13;  author: matt;  state: Exp;
Added include
----------------------------
revision 1.35
date: 1994/10/07 12:34:09;  author: matt;  state: Exp;
Added code fot going to/from secret levels
----------------------------
revision 1.34
date: 1994/10/05 15:16:10;  author: rob;  state: Exp;
Used to be that only player #0 could trigger switches, now only the
LOCAL player can do it (and he's expected to tell the other guy with
a com message if its important!)
----------------------------
revision 1.33
date: 1994/09/24 17:42:03;  author: mike;  state: Exp;
Kill temporary version of function written by Yuan, replaced by MK.
----------------------------
revision 1.32
date: 1994/09/24 17:10:00;  author: yuan;  state: Exp;
Added Matcen triggers.
----------------------------
revision 1.31
date: 1994/09/23 18:02:21;  author: yuan;  state: Exp;
Completed wall checking.
----------------------------
revision 1.30
date: 1994/08/19 20:09:41;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.29
date: 1994/08/18 10:47:36;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.28
date: 1994/08/12 22:42:11;  author: john;  state: Exp;
Took away Player_stats; added Players array.
----------------------------
revision 1.27
date: 1994/07/02 13:50:44;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.26
date: 1994/06/27 16:32:25;  author: yuan;  state: Exp;
Commented out incomplete code...
----------------------------
revision 1.25
date: 1994/06/27 15:53:27;  author: john;  state: Exp;
#define'd out the newdemo stuff
----------------------------
revision 1.24
date: 1994/06/27 15:10:04;  author: yuan;  state: Exp;
Might mess up triggers.
----------------------------
revision 1.23
date: 1994/06/24 17:01:43;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.22
date: 1994/06/16 16:20:15;  author: john;  state: Exp;
Made player start out in physics mode; Neatend up game loop a bit.
----------------------------
revision 1.21
date: 1994/06/15 14:57:22;  author: john;  state: Exp;
Added triggers to demo recording.
----------------------------
revision 1.20
date: 1994/06/10 17:44:25;  author: mike;  state: Exp;
Assert on result of find_connect_side == -1
----------------------------
revision 1.19
date: 1994/06/08 10:20:15;  author: yuan;  state: Exp;
Removed unused testing.
----------------------------
revision 1.18
date: 1994/06/07 13:10:48;  author: yuan;  state: Exp;
Fixed bug in check trigger... Still working on other bugs.
----------------------------
revision 1.17
date: 1994/05/30 20:22:04;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.16
date: 1994/05/27 10:32:46;  author: yuan;  state: Exp;
New dialog boxes (Walls and Triggers) added.
----------------------------
revision 1.15
date: 1994/05/25 18:06:46;  author: yuan;  state: Exp;
Making new dialog box controls for walls and triggers.
----------------------------
revision 1.14
date: 1994/05/10 19:05:32;  author: yuan;  state: Exp;
Made end of level flag rather than menu popping up
----------------------------
revision 1.13
date: 1994/04/29 15:05:25;  author: yuan;  state: Exp;
Added menu pop-up at exit trigger.
=============================================================================
RCS file: /Smoke/miner/source/main/switch.h,v
Working file: main/switch.h
head: 1.1
description: Triggers and Switches.
----------------------------
revision 1.1
date: 1995/05/16 16:03:48;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:26:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.19
date: 1995/01/12 17:00:36;  author: rob;  state: Exp;
Fixed a problem with switches and secret levels.
----------------------------
revision 1.18
date: 1994/10/06 21:24:40;  author: matt;  state: Exp;
Added switch for exit to secret level
----------------------------
revision 1.17
date: 1994/09/29 17:05:52;  author: matt;  state: Exp;
Removed unused constant
----------------------------
revision 1.16
date: 1994/09/24 17:10:07;  author: yuan;  state: Exp;
Added Matcen triggers.
----------------------------
revision 1.15
date: 1994/08/15 18:06:39;  author: yuan;  state: Exp;
Added external trigger.
----------------------------
revision 1.14
date: 1994/06/16 16:20:52;  author: john;  state: Exp;
Made player start out in physics mode; Neatend up game loop a bit.
----------------------------
revision 1.13
date: 1994/05/30 20:22:08;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.12
date: 1994/05/27 10:32:44;  author: yuan;  state: Exp;
New dialog boxes (Walls and Triggers) added.
----------------------------
revision 1.11
date: 1994/05/25 18:06:32;  author: yuan;  state: Exp;
Making new dialog box controls for walls and triggers.
----------------------------
revision 1.10
date: 1994/04/28 18:04:40;  author: yuan;  state: Exp;
Gamesave added.
Trigger problem fixed (seg pointer is replaced by index now.)
----------------------------
revision 1.9
date: 1994/04/26 11:19:01;  author: yuan;  state: Exp;
Make it so a trigger can only be triggered every 5 seconds.
=============================================================================
RCS file: /Smoke/miner/source/main/terrain.c,v
Working file: main/terrain.c
head: 1.1
description: Code to render cool external-scene terrain
----------------------------
revision 1.1
date: 1995/05/16 15:31:29;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:27;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.12
date: 1994/12/03 00:18:00;  author: matt;  state: Exp;
Made endlevel sequence cut off early
Made exit model and bit explosion always plot last (after all terrain)
----------------------------
revision 1.11
date: 1994/11/27 23:13:46;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.10
date: 1994/11/21 18:04:36;  author: matt;  state: Exp;
Fixed alloc/free problem with height array
----------------------------
revision 1.9
date: 1994/11/21 17:30:42;  author: matt;  state: Exp;
Properly free light array
----------------------------
revision 1.8
date: 1994/11/19 12:40:55;  author: matt;  state: Exp;
Added system to read endlevel data from file, and to make it work
with any exit tunnel.
----------------------------
revision 1.7
date: 1994/11/16 11:49:44;  author: matt;  state: Exp;
Added code to rotate terrain to match mine
----------------------------
revision 1.6
date: 1994/11/02 16:22:59;  author: matt;  state: Exp;
Killed mprintf
----------------------------
revision 1.5
date: 1994/10/30 20:09:19;  author: matt;  state: Exp;
For endlevel: added big explosion at tunnel exit; made lights in tunnel 
go out; made more explosions on walls.
----------------------------
revision 1.4
date: 1994/10/27 21:15:07;  author: matt;  state: Exp;
Added better error handling
----------------------------
revision 1.3
date: 1994/10/27 01:03:17;  author: matt;  state: Exp;
Made terrain renderer use aribtary point in height array as origin
----------------------------
revision 1.2
date: 1994/08/19 20:09:44;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.1
date: 1994/08/17 20:20:49;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/terrain.h,v
Working file: main/terrain.h
head: 1.1
description: Header for terrain.c
----------------------------
revision 1.1
date: 1995/05/16 16:03:56;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:53;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/10/27 01:03:51;  author: matt;  state: Exp;
Made terrain renderer use aribtary point in height array as origin
----------------------------
revision 1.2
date: 1994/08/19 20:09:45;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.1
date: 1994/08/17 20:33:36;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/main/texmerge.c,v
Working file: main/texmerge.c
head: 1.1
description: Routines to cache merged textures.
----------------------------
revision 1.1
date: 1995/05/16 15:31:36;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:08;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.28
date: 1995/01/14 19:16:56;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.27
date: 1994/12/14 18:21:58;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.26
date: 1994/12/13 09:50:08;  author: john;  state: Exp;
Added Asserts to stop if wall looks like door.
----------------------------
revision 1.25
date: 1994/12/07 00:35:24;  author: mike;  state: Exp;
change how flat shading average color is computed for paste-ons.
----------------------------
revision 1.24
date: 1994/11/19 15:20:29;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.23
date: 1994/11/12 16:38:51;  author: mike;  state: Exp;
deal with avg_color in texture merging.
----------------------------
revision 1.22
date: 1994/11/09 19:55:39;  author: john;  state: Exp;
Added full rle support with texture rle caching.
----------------------------
revision 1.21
date: 1994/10/20 15:21:16;  author: john;  state: Exp;
Took out the texmerge caching.
----------------------------
revision 1.20
date: 1994/10/10 19:00:57;  author: john;  state: Exp;
Made caching info print every 1000 frames.
----------------------------
revision 1.19
date: 1994/10/10 18:41:21;  author: john;  state: Exp;
Printed out texture caching info.
----------------------------
revision 1.18
date: 1994/08/11 18:59:02;  author: mike;  state: Exp;
Use new assembler version of merge functions.
----------------------------
revision 1.17
date: 1994/06/09 12:13:14;  author: john;  state: Exp;
Changed selectors so that all bitmaps have a selector of
0, but inside the texture mapper they get a selector set.
----------------------------
revision 1.16
date: 1994/05/14 17:15:15;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.15
date: 1994/05/09 17:21:09;  author: john;  state: Exp;
Took out mprintf with cache hits/misses.
----------------------------
revision 1.14
date: 1994/05/05 12:55:07;  author: john;  state: Exp;
Made SuperTransparency work.
----------------------------
revision 1.13
date: 1994/05/04 11:15:37;  author: john;  state: Exp;
Added Super Transparency
----------------------------
revision 1.12
date: 1994/04/28 23:36:04;  author: john;  state: Exp;
Took out a debugging mprintf.
----------------------------
revision 1.11
date: 1994/04/22 17:44:48;  author: john;  state: Exp;
Made top 2 bits of paste-ons pick the
orientation of the bitmap.
----------------------------
revision 1.10
date: 1994/03/31 12:05:51;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.9
date: 1994/03/15 16:31:52;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(And structures)
----------------------------
revision 1.8
date: 1994/01/24 13:15:19;  author: john;  state: Exp;
Made caching work with pointers, not texture numbers,
that way, the animated textures cache.
----------------------------
revision 1.7
date: 1994/01/21 16:38:10;  author: john;  state: Exp;
Took out debug info.
----------------------------
revision 1.6
date: 1994/01/21 16:28:43;  author: john;  state: Exp;
added warning to print cache hit/miss.
----------------------------
revision 1.5
date: 1994/01/21 16:22:30;  author: john;  state: Exp;
Put in caching/
----------------------------
revision 1.4
date: 1994/01/21 15:34:49;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/01/21 15:33:08;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/01/21 15:15:35;  author: john;  state: Exp;
Created new module texmerge, that merges textures together and 
caches the results.
----------------------------
revision 1.1
date: 1994/01/21 14:55:29;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/texmerge.h,v
Working file: main/texmerge.h
head: 1.1
description: Definitions for texture merging caching stuff.
----------------------------
revision 1.1
date: 1995/05/16 16:04:03;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:05;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1995/01/14 19:16:26;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.3
date: 1994/01/21 15:23:26;  author: john;  state: Exp;
made texmerge_close return void.
----------------------------
revision 1.2
date: 1994/01/21 15:16:01;  author: john;  state: Exp;
Created new module texmerge, that merges textures together and 
caches the results.
----------------------------
revision 1.1
date: 1994/01/21 15:03:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/text.c,v
Working file: main/text.c
head: 1.1
description: Code for localizable text
----------------------------
revision 1.1
date: 1995/05/16 15:31:44;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:33:09;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.11
date: 1994/12/14 12:53:23;  author: matt;  state: Exp;
Improved error handling
----------------------------
revision 1.10
date: 1994/12/09 18:36:44;  author: john;  state: Exp;
Added code to make text read from hogfile.
----------------------------
revision 1.9
date: 1994/12/08 20:56:34;  author: john;  state: Exp;
More cfile stuff.
----------------------------
revision 1.8
date: 1994/12/08 17:20:06;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.7
date: 1994/12/05 15:10:36;  author: allender;  state: Exp;
support encoded descent.tex file (descent.txb)
----------------------------
revision 1.6
date: 1994/12/01 14:18:34;  author: matt;  state: Exp;
Now support backslash chars in descent.tex file
----------------------------
revision 1.5
date: 1994/10/27 00:13:10;  author: john;  state: Exp;
Took out cfile.
----------------------------
revision 1.4
date: 1994/07/11 15:33:49;  author: matt;  state: Exp;
Put in command-line switch to load different text files
----------------------------
revision 1.3
date: 1994/07/10 09:56:25;  author: yuan;  state: Exp;
#include <stdio.h> added for FILE type.
----------------------------
revision 1.2
date: 1994/07/09 22:48:14;  author: matt;  state: Exp;
Added localizable text
----------------------------
revision 1.1
date: 1994/07/09 21:30:46;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/text.h,v
Working file: main/text.h
head: 1.3
description: Header for text.c, including symbolics for text messages
----------------------------
revision 1.3
date: 1995/10/18 23:30:29;  author: allender;  state: Exp;
fixed horrendous misspelling
----------------------------
revision 1.2
date: 1995/10/18 23:27:33;  author: allender;  state: Exp;
added new printscreen line to end of text string
----------------------------
revision 1.1
date: 1995/05/16 16:04:11;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.2
date: 1995/03/30 16:36:22;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.1
date: 1995/03/08 15:33:24;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 2.0
date: 1995/02/27 11:30:21;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.63
date: 1995/02/11 14:59:42;  author: rob;  state: Exp;
Added string for controlcen invul.
----------------------------
revision 1.62
date: 1995/02/10 15:19:38;  author: allender;  state: Exp;
added text for bad write on demo write
----------------------------
revision 1.61
date: 1995/02/08 10:59:11;  author: rob;  state: Exp;
Added string used in kill list view.
----------------------------
revision 1.60
date: 1995/02/07 20:38:40;  author: rob;  state: Exp;
Added new localized strings for new multi options.
----------------------------
revision 1.59
date: 1995/02/02 15:29:17;  author: matt;  state: Exp;
Changed & localized secret level text
----------------------------
revision 1.58
date: 1995/02/02 12:24:14;  author: adam;  state: Exp;
added automap string
----------------------------
revision 1.57
date: 1995/02/01 18:06:50;  author: rob;  state: Exp;
Localize default macros, other stuff frm network.c
----------------------------
revision 1.56
date: 1995/01/30 15:29:53;  author: rob;  state: Exp;
Localizing.
----------------------------
revision 1.55
date: 1995/01/30 13:54:25;  author: allender;  state: Exp;
added mission/demo text
----------------------------
revision 1.54
date: 1995/01/24 22:03:22;  author: mike;  state: Exp;
text localization.
----------------------------
revision 1.53
date: 1995/01/23 13:05:59;  author: adam;  state: Exp;
added save/load game text
----------------------------
revision 1.52
date: 1995/01/22 15:58:42;  author: mike;  state: Exp;
localization
----------------------------
revision 1.51
date: 1994/12/29 12:08:47;  author: rob;  state: Exp;
removed new text strings.
----------------------------
revision 1.50
date: 1994/12/28 16:47:14;  author: rob;  state: Exp;
Added new com setup strings.
----------------------------
revision 1.49
date: 1994/12/15 23:24:22;  author: rob;  state: Exp;
Added string for rejoin failure.
----------------------------
revision 1.48
date: 1994/12/15 10:16:06;  author: adam;  state: Exp;
added lame trademark notice
----------------------------
revision 1.47
date: 1994/12/14 18:21:23;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.46
date: 1994/12/14 16:57:01;  author: matt;  state: Exp;
Added text for hat2
----------------------------
revision 1.45
date: 1994/12/14 08:50:12;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.44
date: 1994/12/13 19:43:29;  author: rob;  state: Exp;
Added string.
----------------------------
revision 1.43
date: 1994/12/13 12:54:45;  author: mike;  state: Exp;
add strings for hostages on board when you die.
----------------------------
revision 1.42
date: 1994/12/13 10:04:09;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.41
date: 1994/12/12 22:20:23;  author: rob;  state: Exp;
Added two new localized strings for modem.c
----------------------------
revision 1.40
date: 1994/12/09 19:46:26;  author: yuan;  state: Exp;
Localized the sucker.
----------------------------
revision 1.39
date: 1994/12/09 14:35:30;  author: yuan;  state: Exp;
Added localization string for Rob.
----------------------------
revision 1.38
date: 1994/12/09 14:08:16;  author: mike;  state: Exp;
text message for remaining ships at end bonus.
----------------------------
revision 1.37
date: 1994/12/09 00:28:26;  author: rob;  state: Exp;
Added "died in mine" string.
----------------------------
revision 1.36
date: 1994/12/08 14:30:31;  author: yuan;  state: Exp;
Fixed off by one problem.
----------------------------
revision 1.35
date: 1994/12/08 11:18:56;  author: allender;  state: Exp;
demo text string
----------------------------
revision 1.33
date: 1994/12/07 19:14:33;  author: matt;  state: Exp;
Cleaned up command-line options and command-line help message
----------------------------
revision 1.32
date: 1994/12/07 17:20:34;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.31
date: 1994/12/07 16:49:15;  author: yuan;  state: Exp;
More localization
----------------------------
revision 1.30
date: 1994/12/07 14:52:11;  author: yuan;  state: Exp;
Localization 492
----------------------------
revision 1.29
date: 1994/12/07 11:28:12;  author: matt;  state: Exp;
Did a little localization support
----------------------------
revision 1.28
date: 1994/12/06 18:29:31;  author: mike;  state: Exp;
Add text for cheat: Start at any level.
----------------------------
revision 1.27
date: 1994/12/06 16:30:39;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.26
date: 1994/12/06 15:14:55;  author: yuan;  state: Exp;
Fixed number of textstrings.
----------------------------
revision 1.25
date: 1994/12/06 15:13:52;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.24
date: 1994/12/06 13:46:24;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/12/05 23:17:28;  author: yuan;  state: Exp;
Localization bugs fixed.
----------------------------
revision 1.22
date: 1994/12/05 23:05:41;  author: yuan;  state: Exp;
Localization 425
----------------------------
revision 1.21
date: 1994/12/05 22:42:27;  author: rob;  state: Exp;
Added new connect status strings
----------------------------
revision 1.20
date: 1994/12/05 16:47:30;  author: rob;  state: Exp;
Added a new string.
----------------------------
revision 1.19
date: 1994/12/03 22:35:17;  author: yuan;  state: Exp;
Localization 412
----------------------------
revision 1.18
date: 1994/12/03 17:53:42;  author: yuan;  state: Exp;
382.
=============================================================================
RCS file: /Smoke/miner/source/main/textures.h,v
Working file: main/textures.h
head: 1.1
description: Array of textures, and other stuff
----------------------------
revision 1.1
date: 1995/05/16 16:04:20;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:54;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/03/15 16:32:56;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(Fixed structures too)
----------------------------
revision 1.2
date: 1993/12/05 22:49:53;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.1
date: 1993/12/05 20:16:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/titles.c,v
Working file: main/titles.c
head: 1.13
description: Routines to display title screens...
----------------------------
revision 1.13
date: 1995/11/03 12:52:23;  author: allender;  state: Exp;
shareware changes
----------------------------
revision 1.12
date: 1995/10/31 10:17:56;  author: allender;  state: Exp;
shareware stuff
----------------------------
revision 1.11
date: 1995/10/24 18:12:02;  author: allender;  state: Exp;
don't do special processing on do_appl_quit anymore
----------------------------
revision 1.10
date: 1995/10/21 22:25:02;  author: allender;  state: Exp;
added bald guy cheat
----------------------------
revision 1.9
date: 1995/10/17 13:14:30;  author: allender;  state: Exp;
mouse will now move through title stuff
----------------------------
revision 1.8
date: 1995/10/15 23:00:34;  author: allender;  state: Exp;
made mouse move through screens and do event processing
at title screens
----------------------------
revision 1.7
date: 1995/10/10 11:52:10;  author: allender;  state: Exp;
use appropriate end01 file for registered
----------------------------
revision 1.6
date: 1995/09/24 10:53:09;  author: allender;  state: Exp;
added cmd-q to quit during titles screens and briefing screens
----------------------------
revision 1.5
date: 1995/08/25 15:39:37;  author: allender;  state: Exp;
save and resotre interpolation method during briefing screens
----------------------------
revision 1.4
date: 1995/08/24 16:10:57;  author: allender;  state: Exp;
endgame screen changes, and fixups to other stuff
----------------------------
revision 1.3
date: 1995/08/14 14:40:37;  author: allender;  state: Exp;
fixed up briefing screens to look correct.
made robot canvas smaller for now for speec
----------------------------
revision 1.2
date: 1995/06/13 13:07:05;  author: allender;  state: Exp;
do a bitblt during tight loops to get spinning robots and cursor flashing
----------------------------
revision 1.1
date: 1995/05/16 15:31:52;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.7
date: 1995/03/24 13:11:36;  author: john;  state: Exp;
Added save game during briefing screens.
----------------------------
revision 2.6
date: 1995/03/21 14:41:17;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.5
date: 1995/03/15 14:33:45;  author: john;  state: Exp;
Added code to force the Descent CD-rom in the drive.
----------------------------
revision 2.4
date: 1995/03/14 18:24:50;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.3
date: 1995/03/10 13:05:52;  author: john;  state: Exp;
Added code so that palette is correct for VFX1 helmets.
----------------------------
revision 2.2
date: 1995/03/07 14:19:28;  author: mike;  state: Exp;
More destination saturn stuff.
----------------------------
revision 2.1
date: 1995/03/06 15:24:16;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:32:50;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.95
date: 1995/02/12 04:07:19;  author: matt;  state: Exp;
After freeing Robot_canv, set ptr to NULL
----------------------------
revision 1.94
date: 1995/02/11 12:41:57;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.93
date: 1995/02/11 09:51:59;  author: john;  state: Exp;
Stripped out all SVGA references.
----------------------------
revision 1.92
date: 1995/02/07 09:56:10;  author: john;  state: Exp;
Fixed bug with wrong title screen drawing during save btwn lvls.
----------------------------
revision 1.91
date: 1995/02/04 13:53:16;  author: john;  state: Exp;
Added code to display the correct titles between levels
that have robot maps..
----------------------------
revision 1.90
date: 1995/02/02 16:36:33;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.89
date: 1995/02/02 12:23:30;  author: john;  state: Exp;
Made between level saves have picture.
----------------------------
revision 1.88
date: 1995/02/02 01:50:16;  author: adam;  state: Exp;
rearranged robot briefings.
----------------------------
revision 1.87
date: 1995/02/01 22:28:54;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.86
date: 1995/02/01 17:12:21;  author: mike;  state: Exp;
Make score come after endgame screens.
----------------------------
revision 1.85
date: 1995/02/01 14:04:17;  author: adam;  state: Exp;
mucked with screens
----------------------------
revision 1.84
date: 1995/01/28 16:59:30;  author: adam;  state: Exp;
added hook for special first briefing music
----------------------------
revision 1.83
date: 1995/01/21 17:04:35;  author: mike;  state: Exp;
fix endgame text bogosity.
----------------------------
revision 1.82
date: 1995/01/21 16:26:29;  author: matt;  state: Exp;
Made endlevel briefing work with missions
----------------------------
revision 1.81
date: 1995/01/21 13:15:20;  author: adam;  state: Exp;
added new robot briefings.
----------------------------
revision 1.80
date: 1995/01/20 22:47:33;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.79
date: 1995/01/20 14:57:52;  author: mike;  state: Exp;
support arbitrary number of screens/level.
----------------------------
revision 1.78
date: 1995/01/15 14:29:12;  author: john;  state: Exp;
Made the exit door page in.
----------------------------
revision 1.77
date: 1995/01/15 14:27:09;  author: adam;  state: Exp;
messed with endgame stuff
----------------------------
revision 1.76
date: 1995/01/14 15:42:49;  author: mike;  state: Exp;
Make endgame for registered support 3 screens.
----------------------------
revision 1.75
date: 1995/01/14 14:00:59;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.74
date: 1995/01/09 11:28:53;  author: mike;  state: Exp;
Support new $O thingy for bitmaps which cycle and are not the exit door.
----------------------------
revision 1.73
date: 1995/01/02 12:39:13;  author: mike;  state: Exp;
fix secret level sequencing.
----------------------------
revision 1.72
date: 1994/12/12 19:44:14;  author: rob;  state: Exp;
Added kill matrix to end of game sequence.
----------------------------
revision 1.71
date: 1994/12/09 22:32:57;  author: adam;  state: Exp;
messed with text positioning
----------------------------
revision 1.70
date: 1994/12/09 14:08:37;  author: mike;  state: Exp;
make briefing text work with hog files.
----------------------------
revision 1.69
date: 1994/12/09 00:41:47;  author: mike;  state: Exp;
fix hang in automap print screen.
----------------------------
revision 1.68
date: 1994/12/08 20:56:36;  author: john;  state: Exp;
More cfile stuff.
----------------------------
revision 1.67
date: 1994/12/08 17:19:11;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.66
date: 1994/12/07 11:28:00;  author: matt;  state: Exp;
Did a localization suppport
----------------------------
revision 1.65
date: 1994/12/06 17:10:23;  author: yuan;  state: Exp;
Fixed missing )
----------------------------
revision 1.64
date: 1994/12/06 17:00:45;  author: rob;  state: Exp;
Fixed problem with finishing the game in modem/serial mode.
----------------------------
revision 1.63
date: 1994/12/06 16:58:37;  author: matt;  state: Exp;
Killed warnings
----------------------------
revision 1.62
date: 1994/12/06 15:54:28;  author: mike;  state: Exp;
fix guy at end...
=============================================================================
RCS file: /Smoke/miner/source/main/titles.h,v
Working file: main/titles.h
head: 1.1
description: .
----------------------------
revision 1.1
date: 1995/05/16 16:04:28;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.12
date: 1995/02/02 12:23:29;  author: john;  state: Exp;
Made between level saves have picture.
----------------------------
revision 1.11
date: 1995/01/21 16:27:11;  author: matt;  state: Exp;
Made endlevel briefing work with missions
----------------------------
revision 1.10
date: 1995/01/20 22:48:02;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.9
date: 1994/12/07 19:14:07;  author: matt;  state: Exp;
Kill briefing screen disable switch for release version
----------------------------
revision 1.8
date: 1994/11/21 16:40:24;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.7
date: 1994/11/05 14:05:54;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.6
date: 1994/11/01 17:57:48;  author: mike;  state: Exp;
Briefing screens.
----------------------------
revision 1.5
date: 1994/10/31 22:28:04;  author: mike;  state: Exp;
briefing screens
----------------------------
revision 1.4
date: 1994/09/16 16:14:31;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.3
date: 1994/06/22 00:26:53;  author: matt;  state: Exp;
Added support for Interplay's animating title sequence
----------------------------
revision 1.2
date: 1994/06/17 12:13:36;  author: john;  state: Exp;
More newdemo stuff; made editor->game transition start in slew mode.
----------------------------
revision 1.1
date: 1994/06/17 10:50:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/vclip.c,v
Working file: main/vclip.c
head: 1.2
description: Routines for vclips.
----------------------------
revision 1.2
date: 1995/09/14 14:14:31;  author: allender;  state: Exp;
return void in draw_vclip_object
----------------------------
revision 1.1
date: 1995/05/16 15:32:00;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:41;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.8
date: 1994/09/25 23:40:52;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.7
date: 1994/09/25 15:45:26;  author: matt;  state: Exp;
Added OBJ_LIGHT, a type of object that casts light
Added generalized lifeleft, and moved it to local_object
----------------------------
revision 1.6
date: 1994/09/09 20:05:57;  author: mike;  state: Exp;
Add vclips for weapons.
----------------------------
revision 1.5
date: 1994/06/14 21:14:35;  author: matt;  state: Exp;
Made rod objects draw lighted or not depending on a parameter, so the
materialization effect no longer darkens.
----------------------------
revision 1.4
date: 1994/06/08 18:16:24;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/06/03 10:47:17;  author: matt;  state: Exp;
Made vclips (used by explosions) which can be either rods or blobs, as
specified in BITMAPS.TBL.  (This is for the materialization center effect).
----------------------------
revision 1.2
date: 1994/05/11 09:25:25;  author: john;  state: Exp;
Abandoned new vclip system for now because each wallclip, vclip,
etc, is different and it would be a huge pain to change all of them.
----------------------------
revision 1.1
date: 1994/05/10 15:21:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/vclip.h,v
Working file: main/vclip.h
head: 1.2
description: Stuff for video clips.
----------------------------
revision 1.2
date: 1995/09/14 14:14:45;  author: allender;  state: Exp;
return void in draw_vclip_object
----------------------------
revision 1.1
date: 1995/05/16 16:04:35;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:32:42;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.33
date: 1994/11/21 11:17:57;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.32
date: 1994/10/12 13:07:07;  author: mike;  state: Exp;
Add VCLIP_POWERUP_DISAPPEARANCE.
----------------------------
revision 1.31
date: 1994/10/12 10:23:54;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.30
date: 1994/10/11 12:25:21;  author: matt;  state: Exp;
Added "hot rocks" that create badass explosion when hit by weapons
----------------------------
revision 1.29
date: 1994/10/06 14:10:07;  author: matt;  state: Exp;
Added constant for player appearence effect
----------------------------
revision 1.28
date: 1994/09/26 08:40:30;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.27
date: 1994/09/10 17:30:57;  author: mike;  state: Exp;
move a prototype here, had been defined in object.c
----------------------------
revision 1.26
date: 1994/09/09 20:04:25;  author: mike;  state: Exp;
Add weapon_vclip.
----------------------------
revision 1.25
date: 1994/08/31 19:27:09;  author: mike;  state: Exp;
Increase max number of Vclips for new pile of weapon powerups.
----------------------------
revision 1.24
date: 1994/08/14 23:14:43;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.23
date: 1994/07/23 19:56:39;  author: matt;  state: Exp;
Took out unused constant
----------------------------
revision 1.22
date: 1994/07/22 10:42:10;  author: adam;  state: Exp;
upped max no. of vclips
----------------------------
revision 1.21
date: 1994/06/14 21:15:14;  author: matt;  state: Exp;
Made rod objects draw lighted or not depending on a parameter, so the
materialization effect no longer darkens.
----------------------------
revision 1.20
date: 1994/06/09 19:38:16;  author: john;  state: Exp;
Made each Vclip have its own sound... but only used in the
materialization center.
----------------------------
revision 1.19
date: 1994/06/09 11:46:26;  author: john;  state: Exp;
Took out unused vclip defines.
----------------------------
revision 1.18
date: 1994/06/08 18:16:33;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.17
date: 1994/06/08 12:49:01;  author: mike;  state: Exp;
Add light_value to vclip.
----------------------------
revision 1.16
date: 1994/06/08 11:43:28;  author: mike;  state: Exp;
Allow 20 vclips, I think (anyway, more than it used to be, probably 12).
----------------------------
revision 1.15
date: 1994/06/03 10:48:22;  author: matt;  state: Exp;
Made vclips (used by explosions) which can be either rods or blobs, as
specified in BITMAPS.TBL.  (This is for the materialization center effect).
----------------------------
revision 1.14
date: 1994/06/01 17:21:08;  author: john;  state: Exp;
Added muzzle flash
----------------------------
revision 1.13
date: 1994/06/01 10:34:02;  author: john;  state: Exp;
Added robot morphing effect.
----------------------------
revision 1.12
date: 1994/05/16 16:17:38;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.11
date: 1994/05/10 18:32:50;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/04/29 14:35:52;  author: matt;  state: Exp;
Added second kind of fireball
----------------------------
revision 1.9
date: 1994/04/11 10:36:31;  author: yuan;  state: Exp;
Started adding types for exploding hostages.
----------------------------
revision 1.8
date: 1994/04/07 16:27:43;  author: yuan;  state: Exp;
Added SUPERPIG the robot with 200 hit points.
Now robots can take multiple hits before blowing up.
----------------------------
revision 1.7
date: 1994/04/07 13:45:58;  author: yuan;  state: Exp;
Defined Pclips... maybe shouldn't be in this file.
----------------------------
revision 1.6
date: 1994/03/28 20:58:22;  author: yuan;  state: Exp;
Added blood vclip constant
----------------------------
revision 1.5
date: 1994/03/15 16:31:56;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(And structures)
----------------------------
revision 1.4
date: 1994/03/04 17:09:43;  author: yuan;  state: Exp;
New wall stuff
----------------------------
revision 1.3
date: 1994/01/11 10:59:01;  author: yuan;  state: Exp;
Added effects
----------------------------
revision 1.2
date: 1994/01/06 17:13:15;  author: john;  state: Exp;
Added Video clip functionality
----------------------------
revision 1.1
date: 1994/01/06 15:10:15;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/vfx.h,v
Working file: main/vfx.h
head: 1.1
description: Prototypes for vfx.c
----------------------------
revision 1.1
date: 1995/05/16 16:04:51;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/10 12:58:04;  author: john;  state: Exp;
Added vfx_set_palette_sub function.
----------------------------
revision 2.0
date: 1995/02/27 11:31:19;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/28 10:43:02;  author: john;  state: Exp;
More VFX tweaking.
----------------------------
revision 1.4
date: 1994/12/28 10:26:49;  author: john;  state: Exp;
Fixed some VFX problems.
----------------------------
revision 1.3
date: 1994/09/20 19:36:01;  author: matt;  state: Exp;
Added seperate function to set palette
----------------------------
revision 1.2
date: 1994/06/24 17:03:51;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.1
date: 1994/06/23 09:14:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/vfx1.h,v
Working file: main/vfx1.h
head: 1.1
description: .
----------------------------
revision 1.1
date: 1995/05/16 16:04:59;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:28:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/09/15 16:11:26;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.2
date: 1994/06/24 17:03:54;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.1
date: 1994/06/23 17:59:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/victor.h,v
Working file: main/victor.h
head: 1.1
description: Prototypes for the VictorMaxx VR helment.
----------------------------
revision 1.1
date: 1995/05/16 16:05:07;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:27:31;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/11/12 14:46:55;  author: john;  state: Exp;
Added support for victor head tracking.
----------------------------
revision 1.3
date: 1994/07/21 21:31:12;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.2
date: 1994/07/20 21:04:32;  author: john;  state: Exp;
Add VictorMax VR helment support.
----------------------------
revision 1.1
date: 1994/07/20 20:49:19;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/wall.c,v
Working file: main/wall.c
head: 1.1
description: Destroyable wall stuff
----------------------------
revision 1.1
date: 1995/05/16 15:32:08;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/21 08:39:04;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:28:32;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.112
date: 1995/02/22 13:53:07;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.111
date: 1995/02/01 17:32:17;  author: adam;  state: Exp;
Took out a bogus int3.
----------------------------
revision 1.110
date: 1995/02/01 17:20:24;  author: john;  state: Exp;
Lintized.
----------------------------
revision 1.109
date: 1995/01/21 17:39:50;  author: matt;  state: Exp;
Cleaned up laser/player hit wall confusions
----------------------------
revision 1.108
date: 1995/01/21 17:14:17;  author: rob;  state: Exp;
Fixed bug in multiplayer door-butting.
----------------------------
revision 1.107
date: 1995/01/18 18:57:11;  author: rob;  state: Exp;
Added new hostage door hooks.
----------------------------
revision 1.106
date: 1995/01/18 18:48:18;  author: allender;  state: Exp;
removed #ifdef newdemo's.  Added function call to record a door that
starts to open. This fixes the rewind problem
----------------------------
revision 1.105
date: 1995/01/16 11:55:39;  author: mike;  state: Exp;
make control center (and robots whose id == your playernum) not able to open doors.
----------------------------
revision 1.104
date: 1994/12/11 23:07:21;  author: matt;  state: Exp;
Fixed stuck objects & blastable walls
----------------------------
revision 1.103
date: 1994/12/10 16:44:34;  author: matt;  state: Exp;
Added debugging code to track down door that turns into rock
----------------------------
revision 1.102
date: 1994/12/06 16:27:05;  author: matt;  state: Exp;
Added debugging
----------------------------
revision 1.101
date: 1994/12/02 10:50:27;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.100
date: 1994/11/30 19:41:22;  author: rob;  state: Exp;
Put in a fix so that door opening sounds travel through the door.
----------------------------
revision 1.99
date: 1994/11/28 11:59:50;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.98
date: 1994/11/28 11:25:45;  author: matt;  state: Exp;
Cleaned up key hud messages
----------------------------
revision 1.97
date: 1994/11/27 23:15:11;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.96
date: 1994/11/19 15:18:29;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.95
date: 1994/11/17 14:57:12;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.94
date: 1994/11/07 08:47:30;  author: john;  state: Exp;
Made wall state record.
----------------------------
revision 1.93
date: 1994/11/04 16:06:37;  author: rob;  state: Exp;
Fixed network damage of blastable walls.
----------------------------
revision 1.92
date: 1994/11/02 21:54:01;  author: matt;  state: Exp;
Don't let objects with zero size keep door from shutting
----------------------------
revision 1.91
date: 1994/10/31 13:48:42;  author: rob;  state: Exp;
Fixed bug in opening doors over network/modem.  Added a new message
type to multi.c that communicates door openings across the net. 
Changed includes in multi.c and wall.c to accomplish this.
----------------------------
revision 1.90
date: 1994/10/28 14:42:41;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.89
date: 1994/10/23 19:16:55;  author: matt;  state: Exp;
Fixed bug with "no key" messages
=============================================================================
RCS file: /Smoke/miner/source/main/wall.h,v
Working file: main/wall.h
head: 1.1
description: ----------------------------
revision 1.1
date: 1995/05/16 16:05:14;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:36;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.47
date: 1994/11/19 15:20:35;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.46
date: 1994/10/25 15:40:12;  author: yuan;  state: Exp;
MAX_WALLS pumped up
----------------------------
revision 1.45
date: 1994/10/23 19:17:07;  author: matt;  state: Exp;
Fixed bug with "no key" messages
----------------------------
revision 1.44
date: 1994/10/18 15:38:03;  author: mike;  state: Exp;
Define hidden walls.
----------------------------
revision 1.43
date: 1994/10/04 13:32:26;  author: adam;  state: Exp;
commented out MAX_DOOR_ANIMS
----------------------------
revision 1.42
date: 1994/10/04 13:31:21;  author: adam;  state: Exp;
upped MAX_WALL_ANIMS to 30
----------------------------
revision 1.41
date: 1994/09/29 00:42:30;  author: matt;  state: Exp;
Made hitting a locked door play a sound
----------------------------
revision 1.40
date: 1994/09/27 15:42:41;  author: mike;  state: Exp;
Prototype Wall_names.
----------------------------
revision 1.39
date: 1994/09/23 22:15:32;  author: matt;  state: Exp;
Made doors not close on objects, made doors open again if shot while
closing, and cleaned up walls/doors a bit.
----------------------------
revision 1.38
date: 1994/09/22 15:31:33;  author: matt;  state: Exp;
Mucked with, and hopefully improved, exploding walls
----------------------------
revision 1.37
date: 1994/09/21 17:17:05;  author: mike;  state: Exp;
Make objects stuck in doors go away when door opens.
----------------------------
revision 1.36
date: 1994/09/13 21:10:46;  author: matt;  state: Exp;
Added wclips that use tmap1 instead of tmap2, saving lots of merging
----------------------------
revision 1.35
date: 1994/09/13 20:11:08;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/09/10 13:31:53;  author: matt;  state: Exp;
Made exploding walls a type of blastable walls.
Cleaned up blastable walls, making them tmap2 bitmaps.
----------------------------
revision 1.33
date: 1994/08/17 12:55:34;  author: matt;  state: Exp;
Added external walls to wall_is_doorway
----------------------------
revision 1.32
date: 1994/08/15 17:54:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.31
date: 1994/08/15 17:46:56;  author: yuan;  state: Exp;
Added external walls, fixed blastable walls.
----------------------------
revision 1.30
date: 1994/08/05 21:17:21;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.29
date: 1994/08/01 10:39:10;  author: matt;  state: Exp;
Parenthesized parms to WID() macro
----------------------------
revision 1.28
date: 1994/07/20 17:35:03;  author: yuan;  state: Exp;
Some minor bug fixes and new key gauges...
----------------------------
revision 1.27
date: 1994/07/19 14:32:03;  author: yuan;  state: Exp;
Fixed keys bug... renumbered some constants.
----------------------------
revision 1.26
date: 1994/07/14 22:38:29;  author: matt;  state: Exp;
Added exploding doors
----------------------------
revision 1.25
date: 1994/07/11 15:08:43;  author: yuan;  state: Exp;
Wall anim file names stored in structure.
 
=============================================================================
RCS file: /Smoke/miner/source/main/weapon.c,v
Working file: main/weapon.c
head: 1.2
description: Functions for weapons...
----------------------------
revision 1.2
date: 1995/10/31 10:17:39;  author: allender;  state: Exp;
new shareware stuff
----------------------------
revision 1.1
date: 1995/05/16 15:32:16;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.1
date: 1995/03/21 08:38:43;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:27:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.54
date: 1995/02/15 15:21:48;  author: mike;  state: Exp;
make smart missile select if mega missiles used up.
----------------------------
revision 1.53
date: 1995/02/12 02:12:30;  author: john;  state: Exp;
Fixed bug with state restore making weapon beeps.
----------------------------
revision 1.52
date: 1995/02/09 20:42:15;  author: mike;  state: Exp;
change weapon autoselect, always autoselect smart, mega.
----------------------------
revision 1.51
date: 1995/02/07 20:44:26;  author: mike;  state: Exp;
autoselect mega, smart when you pick them up.
----------------------------
revision 1.50
date: 1995/02/07 13:32:25;  author: rob;  state: Exp;
Added include of multi.h
----------------------------
revision 1.49
date: 1995/02/07 13:21:33;  author: yuan;  state: Exp;
Fixed 2nd typo
----------------------------
revision 1.48
date: 1995/02/07 13:16:39;  author: yuan;  state: Exp;
Fixed typo.
----------------------------
revision 1.47
date: 1995/02/07 12:53:12;  author: rob;  state: Exp;
Added network sound prop. to weapon switch.
----------------------------
revision 1.46
date: 1995/02/06 15:53:17;  author: mike;  state: Exp;
don't autoselect smart or mega missile when you pick it up.
----------------------------
revision 1.45
date: 1995/02/02 21:43:34;  author: mike;  state: Exp;
make autoselection better.
----------------------------
revision 1.44
date: 1995/02/02 16:27:21;  author: mike;  state: Exp;
make concussion missiles trade up.
----------------------------
revision 1.43
date: 1995/02/01 23:34:57;  author: adam;  state: Exp;
messed with weapon change sounds
----------------------------
revision 1.42
date: 1995/02/01 17:12:47;  author: mike;  state: Exp;
Make smart missile, mega missile not auto-select.
----------------------------
revision 1.41
date: 1995/02/01 15:50:54;  author: mike;  state: Exp;
fix bogus weapon selection sound code.
----------------------------
revision 1.40
date: 1995/01/31 16:16:31;  author: mike;  state: Exp;
Separate smart blobs for robot and player.
----------------------------
revision 1.39
date: 1995/01/30 21:12:11;  author: mike;  state: Exp;
Use new weapon selection sounds, different for primary and secondary.
----------------------------
revision 1.38
date: 1995/01/29 13:46:52;  author: mike;  state: Exp;
Don't auto-select fusion cannon when you run out of energy.
----------------------------
revision 1.37
date: 1995/01/20 11:11:13;  author: allender;  state: Exp;
record weapon changes again.  (John somehow lost my 1.35 changes).
----------------------------
revision 1.36
date: 1995/01/19 17:00:46;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.34
date: 1995/01/09 17:03:48;  author: mike;  state: Exp;
fix autoselection of weapons.
----------------------------
revision 1.33
date: 1995/01/05 15:46:31;  author: john;  state: Exp;
Made weapons not rearm when starting a saved game.
----------------------------
revision 1.32
date: 1995/01/03 12:34:23;  author: mike;  state: Exp;
autoselect next lower weapon if run out of smart or mega missile.
----------------------------
revision 1.31
date: 1994/12/12 21:39:37;  author: matt;  state: Exp;
Changed vulcan ammo: 10K max, 5K w/weapon, 1250 per powerup
----------------------------
revision 1.30
date: 1994/12/09 19:55:04;  author: matt;  state: Exp;
Added weapon name in "not available in shareware" message
----------------------------
revision 1.29
date: 1994/12/06 13:50:24;  author: adam;  state: Exp;
added shareware msg. when choosing 4 top weapons
----------------------------
revision 1.28
date: 1994/12/02 22:07:13;  author: mike;  state: Exp;
if you gots 19 concussion missiles and you runs over 4, say you picks up 1, not 4, we do the math, see?
----------------------------
revision 1.27
date: 1994/12/02 20:06:24;  author: matt;  state: Exp;
Made vulcan ammo print at approx 25 times actual
----------------------------
revision 1.26
date: 1994/12/02 15:05:03;  author: matt;  state: Exp;
Fixed bogus weapon constants and arrays
----------------------------
revision 1.25
date: 1994/12/02 10:50:34;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.24
date: 1994/11/29 15:48:28;  author: matt;  state: Exp;
selecting weapon now makes sound
----------------------------
revision 1.23
date: 1994/11/28 11:26:58;  author: matt;  state: Exp;
Cleaned up hud message printing for picking up weapons
----------------------------
revision 1.22
date: 1994/11/27 23:13:39;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.21
date: 1994/11/12 16:38:34;  author: mike;  state: Exp;
clean up default ammo stuff.
----------------------------
revision 1.20
date: 1994/11/07 17:41:18;  author: mike;  state: Exp;
messages for when you try to fire a weapon you don't have or don't have ammo for.
----------------------------
revision 1.19
date: 1994/10/21 20:40:05;  author: mike;  state: Exp;
fix double vulcan ammo.
----------------------------
revision 1.18
date: 1994/10/20 09:49:05;  author: mike;  state: Exp;
kill messages no one liked...*sniff* *sniff*
----------------------------
revision 1.17
date: 1994/10/19 11:17:07;  author: mike;  state: Exp;
Limit amount of player ammo.
----------------------------
revision 1.16
date: 1994/10/12 08:04:18;  author: mike;  state: Exp;
Fix proximity/homing confusion.
----------------------------
revision 1.15
date: 1994/10/11 18:27:58;  author: matt;  state: Exp;
Changed auto selection of secondary weapons
----------------------------
revision 1.14
date: 1994/10/08 23:37:54;  author: matt;  state: Exp;
Don't pick up weapons you already have; also fixed auto_select bug
for seconary weapons
----------------------------
revision 1.13
date: 1994/10/08 14:55:47;  author: matt;  state: Exp;
Fixed bug that selected vulcan cannon when picked up ammo, even though
you didn't have the weapon.
----------------------------
revision 1.12
date: 1994/10/08 12:50:32;  author: matt;  state: Exp;
Fixed bug that let you select weapons you don't have
----------------------------
revision 1.11
date: 1994/10/07 23:37:56;  author: matt;  state: Exp;
Made weapons select when pick up better one
----------------------------
revision 1.10
date: 1994/10/07 16:02:08;  author: matt;  state: Exp;
Fixed problem with weapon auto-select
----------------------------
revision 1.9
date: 1994/10/05 17:00:20;  author: matt;  state: Exp;
Made player_has_weapon() public and moved constants to header file
----------------------------
revision 1.8
date: 1994/09/26 11:27:13;  author: mike;  state: Exp;
Fix auto selection of weapon when you run out of ammo.
----------------------------
revision 1.7
date: 1994/09/13 16:40:45;  author: mike;  state: Exp;
Add rearm delay and missile firing delay.
----------------------------
revision 1.6
date: 1994/09/13 14:43:12;  author: matt;  state: Exp;
Added cockpit weapon displays
----------------------------
revision 1.5
date: 1994/09/03 15:23:06;  author: mike;  state: Exp;
Auto select next weaker weapon when one runs out, clean up code.
----------------------------
revision 1.4
date: 1994/09/02 16:38:19;  author: mike;  state: Exp;
Eliminate a pile of arrays, associate weapon data with Weapon_info.
----------------------------
revision 1.3
date: 1994/09/02 11:57:10;  author: mike;  state: Exp;
Add a bunch of stuff, I forget what.
----------------------------
revision 1.2
date: 1994/06/03 16:26:32;  author: john;  state: Exp;
Initial version.
----------------------------
revision 1.1
date: 1994/06/03 14:40:43;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/main/weapon.h,v
Working file: main/weapon.h
head: 1.2
description: Protypes for weapon stuff.
----------------------------
revision 1.2
date: 1995/09/14 14:07:10;  author: allender;  state: Exp;
fixed prototypes to have return value
----------------------------
revision 1.1
date: 1995/05/16 16:05:22;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 2.0
date: 1995/02/27 11:31:10;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.44
date: 1995/01/30 17:14:18;  author: mike;  state: Exp;
halve rate of vulcan ammo consumption.
----------------------------
revision 1.43
date: 1995/01/19 17:45:04;  author: mike;  state: Exp;
damage_force removed, that information coming from strength field.
----------------------------
revision 1.42
date: 1995/01/05 15:46:11;  author: john;  state: Exp;
Made weapons not rearm when starting a saved game.
----------------------------
revision 1.41
date: 1995/01/04 12:20:27;  author: john;  state: Exp;
Declearations to work better with game state save.
----------------------------
revision 1.40
date: 1994/12/13 12:54:16;  author: mike;  state: Exp;
fix proximity, homing flags, backwards!
----------------------------
revision 1.39
date: 1994/12/11 16:17:57;  author: mike;  state: Exp;
change default weapon life so shots from ctrlcen on level 6 won't evaporate before they hit you.
----------------------------
revision 1.38
date: 1994/12/09 19:55:26;  author: matt;  state: Exp;
Added weapon name in "not available in shareware" message
----------------------------
revision 1.37
date: 1994/12/07 12:55:27;  author: mike;  state: Exp;
tweak vulcan amounts.
----------------------------
revision 1.36
date: 1994/12/03 19:03:56;  author: matt;  state: Exp;
Fixed vulcan ammo HUD message
----------------------------
revision 1.35
date: 1994/12/02 15:05:02;  author: matt;  state: Exp;
Fixed bogus weapon constants and arrays
----------------------------
revision 1.34
date: 1994/11/29 14:26:05;  author: john;  state: Exp;
Again.
----------------------------
revision 1.33
date: 1994/11/29 14:13:47;  author: adam;  state: Exp;
Changed the byte flash sound to short.
----------------------------
revision 1.32
date: 1994/11/12 16:36:55;  author: mike;  state: Exp;
default ammo stuff.
----------------------------
revision 1.31
date: 1994/10/21 10:55:24;  author: adam;  state: Exp;
upped MAX_WEAPON_TYPES to 30
----------------------------
revision 1.30
date: 1994/10/19 11:16:37;  author: mike;  state: Exp;
Limit ammo amounts.
----------------------------
revision 1.29
date: 1994/10/12 08:05:04;  author: mike;  state: Exp;
Clean up homing/proximity mess.
----------------------------
revision 1.28
date: 1994/10/08 23:37:53;  author: matt;  state: Exp;
Don't pick up weapons you already have; also fixed auto_select bug
for seconary weapons
----------------------------
revision 1.27
date: 1994/10/07 23:37:56;  author: matt;  state: Exp;
Made weapons select when pick up better one
----------------------------
revision 1.26
date: 1994/10/07 16:02:17;  author: matt;  state: Exp;
Fixed problem with weapon auto-select
----------------------------
revision 1.25
date: 1994/10/05 17:07:44;  author: matt;  state: Exp;
Made player_has_weapon() public and moved constants to header file
----------------------------
revision 1.24
date: 1994/09/30 21:50:49;  author: mike;  state: Exp;
Add homing_flag and 3 dummy bytes to weapon_info.
----------------------------
revision 1.23
date: 1994/09/30 13:47:41;  author: mike;  state: Exp;
Make speed and strength be difficulty level based.
----------------------------
revision 1.22
date: 1994/09/20 16:10:13;  author: mike;  state: Exp;
Prototype Primary_weapon_names and Secondary_weapon_names.
----------------------------
revision 1.21
date: 1994/09/20 12:17:21;  author: adam;  state: Exp;
upped weapon types
----------------------------
revision 1.20
date: 1994/09/13 16:40:29;  author: mike;  state: Exp;
Define REARM_TIME -- time it takes until you can fire a newly armed weapon.
----------------------------
revision 1.19
date: 1994/09/13 14:43:03;  author: matt;  state: Exp;
Added cockpit weapon displays
----------------------------
revision 1.18
date: 1994/09/11 15:50:34;  author: mike;  state: Exp;
Add matter and bounce to weapon_info.
----------------------------
revision 1.17
date: 1994/09/10 17:32:17;  author: mike;  state: Exp;
Add thrust to weapon_info.
----------------------------
revision 1.16
date: 1994/09/09 20:04:54;  author: mike;  state: Exp;
Add vclips for weapons.
----------------------------
revision 1.15
date: 1994/09/07 15:59:14;  author: mike;  state: Exp;
Add default lifetimes to weapons, destroyable, lifetime, damage_radius, damage_force fields to weapons.
----------------------------
revision 1.14
date: 1994/09/03 15:18:06;  author: mike;  state: Exp;
Add prototype for auto_select_weapon.
----------------------------
revision 1.13
date: 1994/09/02 16:38:33;  author: mike;  state: Exp;
Move data from global arrays to Weapon_info.
----------------------------
revision 1.12
date: 1994/09/02 11:54:59;  author: mike;  state: Exp;
Add a whole slew of constants for the whole slew of new weapons.
----------------------------
revision 1.11
date: 1994/08/23 16:39:15;  author: mike;  state: Exp;
Add light to weapon struct
=============================================================================
RCS file: /Smoke/miner/source/mem/mem.c,v
Working file: mem/mem.c
head: 1.16
description: Files for debugging memory allocator
----------------------------
revision 1.16
date: 1995/10/26 19:24:31;  author: allender;  state: Exp;
removed stray character
----------------------------
revision 1.15
date: 1995/10/26 14:13:25;  author: allender;  state: Exp;
removed output to file for debugging
----------------------------
revision 1.14
date: 1995/10/21 23:49:58;  author: allender;  state: Exp;
took out memory output to external file #define
----------------------------
revision 1.13
date: 1995/09/13 12:13:35;  author: allender;  state: Exp;
assignments should be = not ==
----------------------------
revision 1.12
date: 1995/09/13 11:42:28;  author: allender;  state: Exp;
free space in heap calcs and warning messages
----------------------------
revision 1.11
date: 1995/09/04 11:39:10;  author: allender;  state: Exp;
took out some debug stuff and fixed the mem_align call
----------------------------
revision 1.10
date: 1995/08/31 15:45:03;  author: allender;  state: Exp;
memory debugging stuff
----------------------------
revision 1.9
date: 1995/07/05 16:16:46;  author: allender;  state: Exp;
use newptrclear instead of just NewPtr
----------------------------
revision 1.8
date: 1995/06/25 21:54:25;  author: allender;  state: Exp;
comment out align malloc for debug purposes
----------------------------
revision 1.7
date: 1995/06/15 09:51:29;  author: allender;  state: Exp;
new malloc to align data on specified memory boundry
----------------------------
revision 1.6
date: 1995/06/07 08:02:54;  author: allender;  state: Exp;
misspelling
----------------------------
revision 1.5
date: 1995/06/07 08:01:34;  author: allender;  state: Exp;
make unfreed bytes only show if show_mem_info is true. (I think
the info is not right anyway.)
----------------------------
revision 1.4
date: 1995/05/12 11:24:45;  author: allender;  state: Exp;
removed full memory checking -- Zero out all bytes on NewPtr
----------------------------
revision 1.3
date: 1995/05/04 20:08:57;  author: allender;  state: Exp;
call NewPtr instead of malloc
----------------------------
revision 1.2
date: 1995/03/27 14:51:48;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:57:42;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.17
date: 1994/11/29 15:40:38;  author: matt;  state: Exp;
Added extra newline after message
----------------------------
revision 1.16
date: 1994/11/15 18:27:56;  author: john;  state: Exp;
Took away show mem info by default.
----------------------------
revision 1.15
date: 1994/11/10 10:00:37;  author: john;  state: Exp;
Made it show_mem_info by default.
----------------------------
revision 1.14
date: 1994/11/10 09:53:06;  author: john;  state: Exp;
Put in more efficient, but less debugging info version.
----------------------------
revision 1.13
date: 1994/10/27 00:56:45;  author: john;  state: Exp;
Reduced number of blocks; made show mem usage by default.
----------------------------
revision 1.12
date: 1994/10/06 19:15:17;  author: john;  state: Exp;
Upped the number of blocks.
----------------------------
revision 1.11
date: 1994/07/27 20:04:22;  author: john;  state: Exp;
Neatend printed output.
----------------------------
revision 1.10
date: 1994/07/20 10:22:17;  author: yuan;  state: Exp;
Added overwrite error
----------------------------
revision 1.9
date: 1994/03/23 12:58:43;  author: john;  state: Exp;
Made message global.
----------------------------
revision 1.8
date: 1994/03/15 11:12:59;  author: john;  state: Exp;
Made calloc fill block with zeros like it's
supposed to.
----------------------------
revision 1.7
date: 1994/02/18 12:43:21;  author: john;  state: Exp;
Only print mem debugging info if show_mem_info
is true. Need to set in debugger, btw.
----------------------------
revision 1.6
date: 1994/02/17 17:01:34;  author: john;  state: Exp;
Took out MEM_LEAKAGE warning!
----------------------------
revision 1.5
date: 1994/01/24 16:04:47;  author: john;  state: Exp;
Added mem_print_all function to dump all
allocated memory to inferno.mem file.
----------------------------
revision 1.4
date: 1994/01/18 11:01:41;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/12/10 12:20:50;  author: john;  state: Exp;
Speed up by replacing mem_find_unused_id with a table lookup.
----------------------------
revision 1.2
date: 1993/12/08 12:38:22;  author: mike;  state: Exp;
Change 10000 to MAX_INDEX
Use LargestIndex in place of MAX_INDEX as appropriate.
----------------------------
revision 1.1
date: 1993/11/02 17:45:28;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/mem/mem.h,v
Working file: mem/mem.h
head: 1.6
description: Headers for safe malloc stuff.
----------------------------
revision 1.6
date: 1995/09/04 11:39:39;  author: allender;  state: Exp;
change mem_align macro to call normal malloc
----------------------------
revision 1.5
date: 1995/06/15 09:51:22;  author: allender;  state: Exp;
new malloc prototype
----------------------------
revision 1.4
date: 1995/05/12 11:28:34;  author: allender;  state: Exp;
have two sets of memory routines which do the same thing to cover all bases
----------------------------
revision 1.3
date: 1995/05/12 11:24:04;  author: allender;  state: Exp;
changed #defines so that it is more clear which memory functions we are using
----------------------------
revision 1.2
date: 1995/05/04 20:09:25;  author: allender;  state: Exp;
removed some ifdefs which should probably be added back
----------------------------
revision 1.1
date: 1995/03/09 09:58:08;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.4
date: 1994/11/27 21:10:58;  author: matt;  state: Exp;
Now supports NDEBUG to turn off all special mem checking
----------------------------
revision 1.3
date: 1994/03/15 11:12:40;  author: john;  state: Exp;
Made calloc fill block with zeros like it's
supposed to.
----------------------------
revision 1.2
date: 1993/11/04 14:02:39;  author: matt;  state: Exp;
Added calloc() macro
----------------------------
revision 1.1
date: 1993/11/02 17:45:33;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/misc/byteswap.c,v
Working file: misc/byteswap.c
head: 1.3
description: code to swap bytes because of big/little endian problems.
----------------------------
revision 1.3
date: 1995/08/18 15:51:17;  author: allender;  state: Exp;
put back in old byteswapping code
----------------------------
revision 1.2
date: 1995/05/04 20:10:06;  author: allender;  state: Exp;
use unsigned to prevent sign problems
----------------------------
revision 1.1
date: 1995/03/30 15:01:49;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/misc/byteswap.h,v
Working file: misc/byteswap.h
head: 1.4
description: code to swap bytes because of big/little endian problems.
----------------------------
revision 1.4
date: 1995/08/23 21:28:15;  author: allender;  state: Exp;
fix mcc compiler warning
----------------------------
revision 1.3
date: 1995/08/18 15:51:42;  author: allender;  state: Exp;
put back in old byteswapping code
----------------------------
revision 1.2
date: 1995/05/04 20:10:18;  author: allender;  state: Exp;
proper prototypes
----------------------------
revision 1.1
date: 1995/03/30 15:02:11;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/misc/error.c,v
Working file: misc/error.c
head: 1.10
description: functions to deal with error and warning dialogs
----------------------------
revision 1.10
date: 1995/10/13 14:42:34;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1995/10/12 17:40:45;  author: allender;  state: Exp;
fixed code so error/warning dialogs will display properly
on second monitor
----------------------------
revision 1.8
date: 1995/07/31 15:25:53;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1995/07/28 13:11:52;  author: allender;  state: Exp;
cursor manipulation during warning and error dialogs
----------------------------
revision 1.6
date: 1995/07/13 11:16:13;  author: allender;  state: Exp;
call to debug_video mode on error or warning
----------------------------
revision 1.5
date: 1995/07/05 16:21:45;  author: allender;  state: Exp;
extern definitions
----------------------------
revision 1.4
date: 1995/06/06 12:19:14;  author: allender;  state: Exp;
call comm_close on error to close the comm port
----------------------------
revision 1.3
date: 1995/05/12 13:06:24;  author: allender;  state: Exp;
removed Error call from MyAssert so tracing out of this
function is possible
----------------------------
revision 1.2
date: 1995/05/11 12:57:22;  author: allender;  state: Exp;
added MyAssert function
----------------------------
revision 1.1
date: 1995/05/04 20:12:23;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1995/03/17 09:40:01;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:30:21;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/misc/error.h,v
Working file: misc/error.h
head: 1.6
description: prototypes for error and warning dialogs
----------------------------
revision 1.6
date: 1995/09/04 11:42:21;  author: allender;  state: Exp;
made call to debug_video_mode on error and warning
in case screen is faded
----------------------------
revision 1.5
date: 1995/08/23 21:28:44;  author: allender;  state: Exp;
fix mcc compiler warning
----------------------------
revision 1.4
date: 1995/08/16 10:00:59;  author: allender;  state: Exp;
call key_close on Int3 -- made bios code restart key handler
if not installed
----------------------------
revision 1.3
date: 1995/07/05 16:18:21;  author: allender;  state: Exp;
new macro for Int3 to restore colors for debugger
----------------------------
revision 1.2
date: 1995/05/11 12:57:11;  author: allender;  state: Exp;
changed assert macro to do something useful
----------------------------
revision 1.1
date: 1995/05/04 20:12:10;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1995/04/18 16:03:06;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 09:31:23;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/misc/fileutil.c,v
Working file: misc/fileutil.c
head: 1.6
description: utilities for file manipulation
----------------------------
revision 1.6
date: 1995/10/30 11:09:51;  author: allender;  state: Exp;
use FILE, not CFILE on the write* routines
----------------------------
revision 1.5
date: 1995/05/11 13:00:34;  author: allender;  state: Exp;
added write functions which swap bytes
----------------------------
revision 1.4
date: 1995/05/04 20:10:38;  author: allender;  state: Exp;
remove include for fcntl
----------------------------
revision 1.3
date: 1995/04/26 10:14:39;  author: allender;  state: Exp;
added byteswap header file
----------------------------
revision 1.2
date: 1995/04/26 10:13:21;  author: allender;  state: Exp;
----------------------------
revision 1.1
date: 1995/03/30 15:02:34;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/misc/fileutil.h,v
Working file: misc/fileutil.h
head: 1.4
description: header file for file utilities
----------------------------
revision 1.4
date: 1995/10/25 14:06:34;  author: allender;  state: Exp;
don't write with CFILE -- use FILE
----------------------------
revision 1.3
date: 1995/05/11 13:00:45;  author: allender;  state: Exp;
added functions which write swapped bytes
----------------------------
revision 1.2
date: 1995/04/26 10:13:12;  author: allender;  state: Exp;
added routines to read basic data types
----------------------------
revision 1.1
date: 1995/03/30 15:02:51;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/misc/strutil.c,v
Working file: misc/strutil.c
head: 1.3
description: string manipulation utility code
----------------------------
revision 1.3
date: 1995/07/17 10:44:11;  author: allender;  state: Exp;
fixed strrev
----------------------------
revision 1.2
date: 1995/05/04 20:10:59;  author: allender;  state: Exp;
added some string routines
----------------------------
revision 1.1
date: 1995/03/30 15:03:55;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/misc/strutil.h,v
Working file: misc/strutil.h
head: 1.2
description: header file for string utilities
----------------------------
revision 1.2
date: 1995/05/04 20:11:07;  author: allender;  state: Exp;
add string utilities prototypes
----------------------------
revision 1.1
date: 1995/03/30 15:04:12;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/resource/resource.h,v
Working file: resource/resource.h
head: 1.4
description:  macros and definitions for resource values
----------------------------
revision 1.4
date: 1995/10/07 16:57:58;  author: allender;  state: Exp;
added MEMORY_ALERT for not enough memory warning
----------------------------
revision 1.3
date: 1995/09/13 08:42:44;  author: allender;  state: Exp;
changed resource ids around
----------------------------
revision 1.2
date: 1995/04/04 13:59:45;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1995/03/09 10:03:45;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/texmap/ntmap.c,v
Working file: texmap/ntmap.c
head: 1.8
description: Start of conversion to new texture mapper.
----------------------------
revision 1.8
date: 1995/09/13 08:43:11;  author: allender;  state: Exp;
put in Mike's check to help with overflow
----------------------------
revision 1.7
date: 1995/09/04 14:21:50;  author: allender;  state: Exp;
brute force texture points inbetween buffer bounds
----------------------------
revision 1.6
date: 1995/08/31 15:48:41;  author: allender;  state: Exp;
call assembly on no light texture map
----------------------------
revision 1.5
date: 1995/08/14 14:28:05;  author: allender;  state: Exp;
has quadtratic interpolator
----------------------------
revision 1.54
date: 1995/05/26 16:08:03;  author: matt;  state: Exp;
Took out evil include of Descent main directory header file
----------------------------
revision 1.53
date: 1995/04/18 14:36:14;  author: matt;  state: Exp;
Moved window_clip vars to texmap library from Descent main source
----------------------------
revision 1.52
date: 1995/03/14 15:13:06;  author: john;  state: Exp;
Increased MAX_Y_Pointers to 480.
----------------------------
revision 1.51
date: 1995/02/23 14:25:09;  author: john;  state: Exp;
Added editor tmap.
----------------------------
revision 1.50
date: 1995/02/20 18:22:58;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.49
date: 1995/02/20 17:09:11;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.48
date: 1995/01/06 11:11:30;  author: mike;  state: Exp;
even when not in editor, have 400 lines in texture map scanline table.
----------------------------
revision 1.47
date: 1994/12/15 16:43:25;  author: matt;  state: Exp;
Took out code only needed by editor
----------------------------
revision 1.46
date: 1994/12/09 22:35:37;  author: mike;  state: Exp;
fix bug in before call to asm_tmap_scanline_per causing write of pixel onto past right border onto left.
----------------------------
revision 1.45
date: 1994/12/06 16:31:06;  author: mike;  state: Exp;
fix bug in asm_tmap_scanline_matt interface.
----------------------------
revision 1.44
date: 1994/12/04 20:37:18;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.43
date: 1994/12/02 23:30:04;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.42
date: 1994/11/30 00:57:43;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.41
date: 1994/11/28 13:34:27;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.40
date: 1994/11/28 01:30:01;  author: mike;  state: Exp;
kill warning.
----------------------------
revision 1.39
date: 1994/11/28 01:28:59;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.38
date: 1994/11/21 14:08:07;  author: john;  state: Exp;
Took out all multiple instead of divide code.
----------------------------
revision 1.37
date: 1994/11/19 15:21:52;  author: mike;  state: Exp;
rip out unused code.
----------------------------
revision 1.36
date: 1994/11/14 11:42:51;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.35
date: 1994/11/12 16:41:36;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/11/10 21:28:41;  author: mike;  state: Exp;
remove call to init_interface_vars_to_assembler.
----------------------------
revision 1.33
date: 1994/11/10 11:08:59;  author: mike;  state: Exp;
detail level stuff.
----------------------------
revision 1.32
date: 1994/11/09 22:55:52;  author: matt;  state: Exp;
Added variable Current_seg_depth for detail level optimization
----------------------------
revision 1.31
date: 1994/11/09 19:57:31;  author: john;  state: Exp;
Added texture rle caching.
----------------------------
revision 1.30
date: 1994/11/09 19:54:48;  author: mike;  state: Exp;
Call flat shader if Tmap_flat_flag set.
----------------------------
revision 1.29
date: 1994/11/02 21:33:31;  author: john;  state: Exp;
Added Burger Bill's optimization, ie.. 2 muls per 8 pixels.
----------------------------
revision 1.28
date: 1994/11/02 11:32:16;  author: john;  state: Exp;
Added code for c callable inner loop and code to 
test dividing out z0.
----------------------------
revision 1.27
date: 1994/10/28 20:54:32;  author: matt;  state: Exp;
Added error checking
----------------------------
revision 1.26
date: 1994/10/25 11:20:20;  author: mike;  state: Exp;
fix bug in lighting overflow checking for one scanline tall linear texture maps.
----------------------------
revision 1.25
date: 1994/08/03 15:40:33;  author: mike;  state: Exp;
Prevent divide overflows, decrease occurrence of precision-caused glitches.
----------------------------
revision 1.24
date: 1994/07/27 09:31:16;  author: mike;  state: Exp;
Fix concave texture map problem, decrease occurrence of unimportant int 3.
----------------------------
revision 1.23
date: 1994/06/17 12:23:31;  author: mike;  state: Exp;
Support non-lighted texture maps.
----------------------------
revision 1.22
date: 1994/06/11 08:10:24;  author: mike;  state: Exp;
Fix mysterious hang bug, lighting value was out of range.
----------------------------
revision 1.21
date: 1994/06/09 16:10:16;  author: mike;  state: Exp;
Change SC2000 from constant to variable.
=============================================================================
RCS file: /Smoke/miner/source/texmap/scanline.c,v
Working file: texmap/scanline.c
head: 1.4
description: Routines to draw the texture mapped scanlines.
----------------------------
revision 1.4
date: 1995/08/14 14:28:28;  author: allender;  state: Exp;
changed transparency color to 0
----------------------------
revision 1.3
date: 1995/07/05 16:22:47;  author: allender;  state: Exp;
all asm verison when necessary
----------------------------
revision 1.2
date: 1995/05/11 12:59:05;  author: allender;  state: Exp;
mike subdivision, plus change transparency color
----------------------------
revision 1.1
date: 1995/05/04 20:14:19;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1995/02/20 18:23:39;  author: john;  state: Exp;
Added new module for C versions of inner loops.
----------------------------
revision 1.1
date: 1995/02/20 17:42:27;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/texmap/scanline.h,v
Working file: texmap/scanline.h
head: 1.1
description: Prototypes for C versions of texture mapped scanlines.
----------------------------
revision 1.1
date: 1995/05/04 20:14:36;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1995/02/20 18:23:40;  author: john;  state: Exp;
Added new module for C versions of inner loops.
----------------------------
revision 1.1
date: 1995/02/20 17:44:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/texmap/texmap.h,v
Working file: texmap/texmap.h
head: 1.2
description: Include file for entities using texture mapper library.
----------------------------
revision 1.2
date: 1995/09/04 14:22:10;  author: allender;  state: Exp;
#defines for fixed point limits on render buffer
----------------------------
revision 1.1
date: 1995/05/04 20:14:50;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.17
date: 1994/11/10 11:09:16;  author: mike;  state: Exp;
detail level stuff.
----------------------------
revision 1.16
date: 1994/11/09 22:55:32;  author: matt;  state: Exp;
Added variable Current_seg_depth for detail level optimization
----------------------------
revision 1.15
date: 1994/06/09 16:10:04;  author: mike;  state: Exp;
Add prototype for SC2000
----------------------------
revision 1.14
date: 1994/05/25 18:46:16;  author: matt;  state: Exp;
Added gr_upoly_tmap_ylr(), which generates ylr's for a polygon
----------------------------
revision 1.13
date: 1994/05/25 09:47:12;  author: mike;  state: Exp;
Added interface support for linear texture mapper (Mike change, Matt commnet)
----------------------------
revision 1.12
date: 1994/05/24 17:30:43;  author: mike;  state: Exp;
Prototype a bunch of linear, vertical scanning functions.
----------------------------
revision 1.11
date: 1994/05/19 23:26:14;  author: mike;  state: Exp;
Add constants NUM_LIGHTING_VALUES, MAX_LIGHTING_VALUE, MIN_LIGHTING_VALUE,
all part of new lighting_values_in_0_to_1 system.
----------------------------
revision 1.10
date: 1994/05/14 17:19:21;  author: matt;  state: Exp;
Added externs
----------------------------
revision 1.9
date: 1994/04/13 23:55:44;  author: matt;  state: Exp;
Increased max_tmap_verts from 16 to 25
----------------------------
revision 1.8
date: 1994/03/31 08:35:43;  author: mike;  state: Exp;
Prototype for gr_upoly_tmap.
----------------------------
revision 1.7
date: 1994/02/08 15:17:54;  author: mike;  state: Exp;
define label for MAX_TMAP_VERTS
----------------------------
revision 1.6
date: 1994/01/31 15:41:51;  author: mike;  state: Exp;
Add texture_map_lin_lin_sky_v
----------------------------
revision 1.5
date: 1994/01/18 10:49:40;  author: mike;  state: Exp;
prototype for texture_map_lin_lin_sky
----------------------------
revision 1.4
date: 1993/11/30 17:09:46;  author: mike;  state: Exp;
prototype for compute_lighting_value.
----------------------------
revision 1.3
date: 1993/11/22 10:50:38;  author: matt;  state: Exp;
Add ifndef around body of file
----------------------------
revision 1.2
date: 1993/10/06 12:41:25;  author: mike;  state: Exp;
Change prototype for draw_tmap.
----------------------------
revision 1.1
date: 1993/09/08 17:29:11;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/texmap/texmapl.h,v
Working file: texmap/texmapl.h
head: 1.1
description: Local include file for texture mapper library -- NOT to be included by users.
----------------------------
revision 1.1
date: 1995/05/04 20:15:25;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.14
date: 1995/02/20 18:23:02;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.13
date: 1995/02/20 17:09:16;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.12
date: 1994/11/28 13:34:34;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.11
date: 1994/11/12 16:41:27;  author: mike;  state: Exp;
function prototype.
----------------------------
revision 1.10
date: 1994/05/24 17:30:00;  author: mike;  state: Exp;
Prototype fix_recip, asm_tmap_scanline_lin_v.
----------------------------
revision 1.9
date: 1994/04/21 15:04:26;  author: mike;  state: Exp;
Add prototype for texmapl.h
----------------------------
revision 1.8
date: 1994/03/31 08:34:53;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/03/22 20:37:04;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1994/03/14 15:43:03;  author: mike;  state: Exp;
streamline code.
----------------------------
revision 1.5
date: 1994/01/31 15:43:18;  author: mike;  state: Exp;
window_height, asm_tmap_scanline_lin_sky_v
----------------------------
revision 1.4
date: 1994/01/21 21:12:27;  author: mike;  state: Exp;
Prototype asm_tmap_scanline_lin_sky
----------------------------
revision 1.3
date: 1994/01/14 14:01:45;  author: mike;  state: Exp;
Add a bunch of variables.
----------------------------
revision 1.2
date: 1993/11/22 10:25:11;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:13;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/texmap/tmap.c,v
Working file: texmap/tmap.c
head: 1.1
description: Texture mapper
----------------------------
revision 1.1
date: 1995/05/04 20:15:38;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.19
date: 1994/03/14 15:44:27;  author: mike;  state: Exp;
Streamline code, rendering this file obsolete, replaced by ntmap.c
----------------------------
revision 1.18
date: 1994/02/10 18:35:15;  author: matt;  state: Exp;
Got rid of DEBUG_ON define, now replaced by NDEBUG system
----------------------------
revision 1.17
date: 1994/02/08 15:21:28;  author: mike;  state: Exp;
sc2000 stuff.
----------------------------
revision 1.16
date: 1994/01/31 15:43:01;  author: mike;  state: Exp;
who knows, probably a lot of stuff...
----------------------------
revision 1.15
date: 1994/01/26 11:50:28;  author: mike;  state: Exp;
Don't make dark textures not plot.
----------------------------
revision 1.14
date: 1994/01/21 21:12:53;  author: mike;  state: Exp;
sky stuff.
----------------------------
revision 1.13
date: 1994/01/21 11:58:47;  author: john;  state: Exp;
Changed lighting.
----------------------------
revision 1.12
date: 1994/01/18 10:51:11;  author: mike;  state: Exp;
Interface to sky texture mapper.
----------------------------
revision 1.11
date: 1994/01/14 14:02:43;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1993/12/20 13:56:45;  author: mike;  state: Exp;
Remove "negative lighting value" message.
----------------------------
revision 1.9
date: 1993/12/17 19:59:58;  author: mike;  state: Exp;
Change lighting.
----------------------------
revision 1.8
date: 1993/12/07 12:28:01;  author: john;  state: Exp;
Moved bmd_palette to gr_palette
----------------------------
revision 1.7
date: 1993/12/06 13:28:11;  author: mike;  state: Exp;
Prevent divide overflow.
----------------------------
revision 1.6
date: 1993/11/30 17:17:11;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/11/23 18:08:13;  author: mike;  state: Exp;
Put in check for under/over flowing lighting values.
----------------------------
revision 1.4
date: 1993/11/23 15:09:19;  author: mike;  state: Exp;
Added lighting to perspective tmapper
----------------------------
revision 1.3
date: 1993/11/22 10:24:04;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/06 12:41:45;  author: mike;  state: Exp;
Change draw_tmap to conform to Matt's new interface.
----------------------------
revision 1.1
date: 1993/09/08 17:29:09;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/texmap/tmapflat.c,v
Working file: texmap/tmapflat.c
head: 1.4
description: Flat shader derived from texture mapper (a little slow)
----------------------------
revision 1.4
date: 1995/09/04 14:22:26;  author: allender;  state: Exp;
brute force texture points to stay in buffer bounds
----------------------------
revision 1.3
date: 1995/08/10 16:22:43;  author: allender;  state: Exp;
conditional compile NASM being defined
----------------------------
revision 1.2
date: 1995/06/25 21:52:24;  author: allender;  state: Exp;
call c versions of asm routines for now since some asm not
implemented yet
----------------------------
revision 1.1
date: 1995/05/04 20:15:55;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.13
date: 1995/02/20 18:23:24;  author: john;  state: Exp;
Added new module for C versions of inner loops.
----------------------------
revision 1.12
date: 1995/02/20 17:09:17;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.11
date: 1994/11/30 00:58:01;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.10
date: 1994/11/28 13:34:32;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.9
date: 1994/11/19 15:21:46;  author: mike;  state: Exp;
rip out unused code.
----------------------------
revision 1.8
date: 1994/11/12 16:41:41;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/11/09 23:05:12;  author: mike;  state: Exp;
do lighting on texture maps which get flat shaded instead.
----------------------------
revision 1.6
date: 1994/10/06 19:53:07;  author: matt;  state: Exp;
Added function that takes same parms as draw_tmap(), but renders flat
----------------------------
revision 1.5
date: 1994/10/06 18:38:12;  author: john;  state: Exp;
Added the ability to fade a scanline by calling gr_upoly_tmap
with Gr_scanline_darkening_level with a value < MAX_FADE_LEVELS.
----------------------------
revision 1.4
date: 1994/05/25 18:46:32;  author: matt;  state: Exp;
Added gr_upoly_tmap_ylr(), which generates ylr's for a polygon
----------------------------
revision 1.3
date: 1994/04/08 16:25:58;  author: mike;  state: Exp;
Comment out some includes (of header files)
call init_interface_vars_to_assembler.
----------------------------
revision 1.2
date: 1994/03/31 08:33:44;  author: mike;  state: Exp;
Fixup flat shading version of texture mapper (get it?)
(Or maybe not, I admit to not testing my code...hahahah!)
----------------------------
revision 1.1
date: 1993/09/08 17:29:10;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: /Smoke/miner/source/vecmat/vecmat.c,v
Working file: vecmat/vecmat.c
head: 1.5
description: C version of vecmat library
----------------------------
revision 1.5
date: 1995/10/30 11:08:16;  author: allender;  state: Exp;
fix check_vec to return if vector is the NULL vector
----------------------------
revision 1.4
date: 1995/09/23 09:38:14;  author: allender;  state: Exp;
removed calls for PPC that are now handled in asm
----------------------------
revision 1.3
date: 1995/08/31 15:50:24;  author: allender;  state: Exp;
fixing up of functions for PPC
----------------------------
revision 1.2
date: 1995/07/05 16:40:21;  author: allender;  state: Exp;
some vecmat stuff might be using isqrt -- commented out
for now
----------------------------
revision 1.1
date: 1995/04/17 16:18:02;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1995/03/08 15:56:50;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: /Buggin/miner/source/vecmat/vecmat.h,v
Working file: vecmat/vecmat.h
head: 1.1
description: Header file for vector/matrix library
----------------------------
revision 1.1
date: 1995/04/17 16:18:05;  author: allender;  state: Exp;
Initial revision
----------------------------
revision 1.37
date: 1995/02/22 13:23:22;  author: john;  state: Exp;
Added the vms_vector_array structure, to access a vms_vector
with an array.
----------------------------
revision 1.36
date: 1995/02/22 12:34:33;  author: john;  state: Exp;
Took out anonymous unions.
----------------------------
revision 1.35
date: 1994/12/13 14:44:20;  author: matt;  state: Exp;
Added vm_vector_2_matrix_norm()
----------------------------
revision 1.34
date: 1994/09/11 19:22:55;  author: matt;  state: Exp;
Added vm_vec_normalized_dir_quick()
----------------------------
revision 1.33
date: 1994/08/04 19:45:38;  author: matt;  state: Exp;
Added option to make a bunch of functions (add, sub, dotprod) inline
----------------------------
revision 1.32
date: 1994/07/19 18:52:36;  author: matt;  state: Exp;
Added vm_vec_normalize_quick() and vm_vec_copy_normalize_quick()
----------------------------
revision 1.31
date: 1994/06/16 18:24:30;  author: matt;  state: Exp;
Added vm_vec_mag_quick()
----------------------------
revision 1.30
date: 1994/06/10 23:19:00;  author: matt;  state: Exp;
New register usage for vm_vec_ang_2_matrix()
----------------------------
revision 1.29
date: 1994/06/01 17:32:06;  author: matt;  state: Exp;
Fixed modify list for vm_vec_normalized_dir()
----------------------------
revision 1.28
date: 1994/05/19 12:07:20;  author: matt;  state: Exp;
Fixed globals and macros and added a constant
----------------------------
revision 1.27
date: 1994/05/19 09:19:15;  author: matt;  state: Exp;
Made vm_vec_normalized_dir() return mag of vector
----------------------------
revision 1.26
date: 1994/05/18 22:28:57;  author: matt;  state: Exp;
Added function vm_vec_normalized_dir()
Added C macros IS_ZERO_VEC(), vm_vec_zero(), and vm_set_identity()
Added C global static vars vmd_zero_vector & vmd_identity_matrix
----------------------------
revision 1.25
date: 1994/05/18 21:45:06;  author: matt;  state: Exp;
Added functions:
  vm_extract_angles_vector()
  vm_extract_angles_vector_normalized()
  vm_vec_copy_normalize()
----------------------------
revision 1.24
date: 1994/05/13 12:42:16;  author: matt;  state: Exp;
Added new function, vm_vec_dist_quick(), which does an approximation.
----------------------------
revision 1.23
date: 1994/03/30 13:37:34;  author: matt;  state: Exp;
Added prototype for vm_vec_scale_add(), and fixed typos
----------------------------
revision 1.22
date: 1994/03/30 13:29:42;  author: matt;  state: Exp;
Header for vm_vec_scale_add2()
----------------------------
revision 1.21
date: 1994/01/31 19:45:13;  author: matt;  state: Exp;
Added function vm_extract_angles_matrix()
----------------------------
revision 1.20
date: 1993/12/21 19:46:14;  author: matt;  state: Exp;
Added function vm_dist_to_plane()
----------------------------
revision 1.19
date: 1993/12/13 17:26:41;  author: matt;  state: Exp;
Added vm_vec_dist()
----------------------------
revision 1.18
date: 1993/12/02 12:45:11;  author: matt;  state: Exp;
New functions: vm_vec_copy_scale(), vm_vec_scale2()
Aliases: vm_transpose(), vm_vec_dot(), vm_vec_cross(), vm_copy_transpose()
----------------------------
revision 1.17
date: 1993/10/29 22:38:36;  author: matt;  state: Exp;
Changed matrix order, making direction vectors the rows
----------------------------
revision 1.16
date: 1993/10/25 11:49:57;  author: matt;  state: Exp;
Made vm_vec_delta_ang() take optional forward vector to return signed delta
----------------------------
revision 1.15
date: 1993/10/20 01:10:05;  author: matt;  state: Exp;
Added vm_vec_delta_ang(), vm_vec_delta_ang_norm(), and vm_vec_ang_2_matrix()
----------------------------
revision 1.14
date: 1993/10/17 17:02:52;  author: matt;  state: Exp;
vm_vector_2_matrix() now takes optional right vector
----------------------------
revision 1.13
date: 1993/10/12 19:31:39;  author: matt;  state: Exp;
Added IDENTITY_MATRIX constant
----------------------------
revision 1.12
date: 1993/10/08 18:10:16;  author: matt;  state: Exp;
Changed vm_vec_make() and vm_angvec_make() to be inline assembly 
functions, to get rid of compiler warnings.  Did not change vm_mat_make(),
which could still get warnings if the return value is unused.
----------------------------
revision 1.11
date: 1993/09/29 12:10:07;  author: matt;  state: Exp;
Changed modified regs in pragmas to include return register
----------------------------
revision 1.10
date: 1993/09/28 12:15:41;  author: matt;  state: Exp;
Added func vm_vector_2_matrix()
----------------------------
revision 1.9
date: 1993/09/24 21:18:38;  author: matt;  state: Exp;
Added vm_vec_avg(), vm_vec_avg4(), and vm_angvec_make().
Documented which functions could have dest==source
----------------------------
revision 1.8
date: 1993/09/20 14:56:11;  author: matt;  state: Exp;
Added new function, vm_vec_perp()
----------------------------
revision 1.7
date: 1993/09/20 14:27:42;  author: mike;  state: Exp;
unfix last fix which introduced a bug
----------------------------
revision 1.6
date: 1993/09/20 10:11:53;  author: mike;  state: Exp;
no changes
----------------------------
revision 1.5
date: 1993/09/20 09:58:58;  author: mike;  state: Exp;
Re-fix vm_vec_make
----------------------------
revision 1.4
date: 1993/09/20 09:41:21;  author: mike;  state: Exp;
Correct vm_vec_make and vm_mat_make macros to return the destination
as the value of the macro.
----------------------------
revision 1.3
date: 1993/09/17 11:23:47;  author: matt;  state: Exp;
Added row access (via xrow,yrow,zrow) to vms_matrix
Added macro vm_mat_make(), like vm_vec_make()
----------------------------
revision 1.2
date: 1993/09/17 11:10:32;  author: matt;  state: Exp;
Added vm_vec_add2() and vm_vec_sub2(), which take 2 args (dest==src0)
----------------------------
revision 1.1
date: 1993/09/16 20:10:01;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/vecmat/vecmat.inc,v
Working file: vecmat/vecmat.inc
head: 1.21
description: Header file for vector/matrix library
----------------------------
revision 1.21
date: 1994/12/13 14:44:21;  author: matt;  state: Exp;
Added vm_vector_2_matrix_norm()
----------------------------
revision 1.20
date: 1994/09/11 19:23:04;  author: matt;  state: Exp;
Added vm_vec_normalized_dir_quick()
----------------------------
revision 1.19
date: 1994/07/19 18:52:55;  author: matt;  state: Exp;
Added vm_vec_normalize_quick() and vm_vec_copy_normalize_quick()
----------------------------
revision 1.18
date: 1994/06/16 18:24:31;  author: matt;  state: Exp;
Added vm_vec_mag_quick()
----------------------------
revision 1.17
date: 1994/05/19 12:07:20;  author: matt;  state: Exp;
Fixed globals and macros and added a constant
----------------------------
revision 1.16
date: 1994/05/18 22:28:55;  author: matt;  state: Exp;
Added function vm_vec_normalized_dir()
Added C macros IS_ZERO_VEC(), vm_vec_zero(), and vm_set_identity()
Added C global static vars vmd_zero_vector & vmd_identity_matrix
----------------------------
revision 1.15
date: 1994/05/18 21:45:05;  author: matt;  state: Exp;
Added functions:
  vm_extract_angles_vector()
  vm_extract_angles_vector_normalized()
  vm_vec_copy_normalize()
----------------------------
revision 1.14
date: 1994/05/13 12:42:09;  author: matt;  state: Exp;
Added new function, vm_vec_dist_quick(), which does an approximation.
----------------------------
revision 1.13
date: 1994/03/30 15:43:54;  author: matt;  state: Exp;
Added two functions, vm_vec_scale_add() & vm_vec_scale_add2()
----------------------------
revision 1.12
date: 1994/01/31 19:45:24;  author: matt;  state: Exp;
Added function vm_extract_angles_matrix()
----------------------------
revision 1.11
date: 1993/12/21 19:46:29;  author: matt;  state: Exp;
Added function vm_dist_to_plane()
----------------------------
revision 1.10
date: 1993/12/13 17:26:40;  author: matt;  state: Exp;
Added vm_vec_dist()
----------------------------
revision 1.9
date: 1993/12/02 12:44:04;  author: matt;  state: Exp;
New functions: vm_vec_copy_scale(), vm_vec_scale2()
----------------------------
revision 1.8
date: 1993/10/29 22:39:08;  author: matt;  state: Exp;
Changed matrix order, making direction vectors the rows
----------------------------
revision 1.7
date: 1993/10/25 11:49:58;  author: matt;  state: Exp;
Made vm_vec_delta_ang() take optional forward vector to return signed delta
----------------------------
revision 1.6
date: 1993/10/20 01:10:04;  author: matt;  state: Exp;
Added vm_vec_delta_ang(), vm_vec_delta_ang_norm(), and vm_vec_ang_2_matrix()
----------------------------
revision 1.5
date: 1993/09/28 12:16:04;  author: matt;  state: Exp;
Added func vm_vector_2_matrix()
----------------------------
revision 1.4
date: 1993/09/24 21:19:14;  author: matt;  state: Exp;
Added vm_vec_avg() and vm_vec_avg4()
----------------------------
revision 1.3
date: 1993/09/20 14:56:35;  author: matt;  state: Exp;
Added new function, vm_vec_perp()
----------------------------
revision 1.2
date: 1993/09/17 11:09:57;  author: matt;  state: Exp;
Added vm_vec_add2() and vm_vec_sub2(), which take 2 args (dest==src0)
----------------------------
revision 1.1
date: 1993/09/16 20:19:29;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/fix/fix.inc,v
Working file: fix/fix.inc
head: 1.7
description: Header for fixed-point library
----------------------------
revision 1.7
date: 1994/01/19 23:12:00;  author: matt;  state: Exp;
Made fix_atan2() left-handed, like our coordinate system
----------------------------
revision 1.6
date: 1993/10/20 01:08:49;  author: matt;  state: Exp;
Add fix_asin(), improved fix_atan2()
----------------------------
revision 1.5
date: 1993/10/19 23:53:36;  author: matt;  state: Exp;
Added fix_atan2()
----------------------------
revision 1.4
date: 1993/10/19 22:32:12;  author: matt;  state: Exp;
Added fix_acos()
----------------------------
revision 1.3
date: 1993/09/13 12:09:42;  author: matt;  state: Exp;
Added extf,extfa macros to generate externdef's of fixed-point types
----------------------------
revision 1.2
date: 1993/09/10 11:54:12;  author: matt;  state: Exp;
Added missing 'endif' at end of file
----------------------------
revision 1.1
date: 1993/08/24 12:59:36;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/3d.h,v
Working file: 3d/3d.h
head: 1.34
branch:
description: Header file for 3d library
----------------------------
revision 1.34
date: 1994/11/11 19:22:14;  author: matt;  state: Exp;
Added new function, g3_calc_point_depth()
----------------------------
revision 1.33
date: 1994/09/09 14:23:58;  author: matt;  state: Exp;
Added support for glowing textures, to add engine glow to Descent.
----------------------------
revision 1.32
date: 1994/09/01 10:42:27;  author: matt;  state: Exp;
Blob routine, renamed g3_draw_bitmap(), now takes seperate 3d width & height.
----------------------------
revision 1.31
date: 1994/07/29 18:16:14;  author: matt;  state: Exp;
Added instance by angles, and corrected parms for g3_init()
----------------------------
revision 1.30
date: 1994/07/25 00:00:00;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.29
date: 1994/07/22 17:57:27;  author: matt;  state: Exp;
Changed the name of the rod functions, and took out some debugging code
----------------------------
revision 1.28
date: 1994/06/07 16:49:12;  author: matt;  state: Exp;
Made interpreter take lighting value as parm, rather than in global var
----------------------------
revision 1.27
date: 1994/05/31 18:35:28;  author: matt;  state: Exp;
Added light value to g3_draw_facing_bitmap()
----------------------------
revision 1.26
date: 1994/05/30 22:48:04;  author: matt;  state: Exp;
Added support for morph effect
----------------------------
revision 1.25
date: 1994/05/30 11:34:57;  author: matt;  state: Exp;
Added g3_set_special_render() to allow a user to specify functions to
call for 2d draws.
----------------------------
revision 1.24
date: 1994/05/19 21:46:31;  author: matt;  state: Exp;
Moved texture lighting out of 3d and into the game
----------------------------
revision 1.23
date: 1994/05/14 15:26:48;  author: matt;  state: Exp;
Added extern for polyobj outline flag
----------------------------
revision 1.22
date: 1994/04/19 18:26:33;  author: matt;  state: Exp;
Added g3_draw_sphere() function.
----------------------------
revision 1.21
date: 1994/03/25 18:22:28;  author: matt;  state: Exp;
g3_draw_polygon_model() now takes ptr to list of angles
----------------------------
revision 1.20
date: 1994/03/15 21:23:23;  author: matt;  state: Exp;
Added interpreter functions
----------------------------
revision 1.19
date: 1994/02/15 17:37:34;  author: matt;  state: Exp;
New function, g3_draw_blob()
----------------------------
revision 1.18
date: 1994/02/09 11:47:47;  author: matt;  state: Exp;
Added rod & delta point functions
----------------------------
revision 1.17
date: 1994/01/26 12:38:11;  author: matt;  state: Exp;
Added function g3_compute_lighting_value()
----------------------------
revision 1.16
date: 1994/01/25 18:00:02;  author: yuan;  state: Exp;
Fixed variable beam_brightness...
----------------------------
revision 1.15
date: 1994/01/24 14:08:34;  author: matt;  state: Exp;
Added instancing functions
----------------------------
revision 1.14
date: 1994/01/22 18:21:48;  author: matt;  state: Exp;
New lighting stuff now done in 3d; g3_draw_tmap() takes lighting parm
----------------------------
revision 1.13
date: 1994/01/20 17:21:24;  author: matt;  state: Exp;
New function g3_compute_sky_polygon()
----------------------------
revision 1.12
date: 1994/01/14 17:20:25;  author: matt;  state: Exp;
Added prototype for new function g3_draw_horizon()
----------------------------
revision 1.10
date: 1993/12/20 20:21:52;  author: matt;  state: Exp;
Added g3_point_2_vec()
----------------------------
revision 1.9
date: 1993/12/07 23:05:47;  author: matt;  state: Exp;
Fixed mistyped function name.
----------------------------
revision 1.8
date: 1993/12/05 23:47:03;  author: matt;  state: Exp;
Added function g3_draw_line_ptrs()
----------------------------
revision 1.7
date: 1993/12/05 23:13:22;  author: matt;  state: Exp;
Added prototypes for g3_rotate_point() and g3_project_point()
----------------------------
revision 1.6
date: 1993/12/05 23:03:28;  author: matt;  state: Exp;
Changed uvl structs to g3s_uvl
----------------------------
revision 1.5
date: 1993/11/22 10:51:09;  author: matt;  state: Exp;
Moved uvl structure here from segment.h, made texture map functions use it
----------------------------
revision 1.4
date: 1993/11/21 20:08:31;  author: matt;  state: Exp;
Added function g3_draw_object()
----------------------------
revision 1.3
date: 1993/11/04 18:49:19;  author: matt;  state: Exp;
Added system to only rotate points once per frame
----------------------------
revision 1.2
date: 1993/11/04 08:16:06;  author: mike;  state: Exp;
Add light field (p3_l) to g3s_point.
----------------------------
revision 1.1
date: 1993/10/29 22:20:56;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/dpmi.c,v
Working file: bios/dpmi.c
head: 1.19
branch:
description: Routines that access DPMI services...
----------------------------
revision 1.19
date: 1995/02/23 09:02:57;  author: john;  state: Exp;
Fixed bug with dos_selector.
----------------------------
revision 1.18
date: 1995/02/02 11:10:22;  author: john;  state: Exp;
Made real mode calls have a 2K stack.
----------------------------
revision 1.17
date: 1995/01/14 19:20:28;  author: john;  state: Exp;
Added function to set a selector's base address.
----------------------------
revision 1.16
date: 1994/12/14 16:11:40;  author: john;  state: Exp;
Locked down the memory referenced by GETDS.
----------------------------
revision 1.15
date: 1994/12/06 16:08:06;  author: john;  state: Exp;
MAde memory checking return better results.
----------------------------
revision 1.14
date: 1994/12/05 23:34:54;  author: john;  state: Exp;
Made dpmi_init lock down GETDS and chain_intr.
----------------------------
revision 1.13
date: 1994/11/28 21:19:02;  author: john;  state: Exp;
Made memory checking a bit better.
----------------------------
revision 1.12
date: 1994/11/28 20:22:18;  author: john;  state: Exp;
Added some variables that return the amount of available 
memory.
----------------------------
revision 1.11
date: 1994/11/15 18:27:21;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/11/15 18:26:45;  author: john;  state: Exp;
Added verbose flag.
----------------------------
revision 1.9
date: 1994/10/27 19:54:37;  author: john;  state: Exp;
Added unlock region function,.
----------------------------
revision 1.8
date: 1994/10/05 16:17:31;  author: john;  state: Exp;
Took out locked down message.
----------------------------
revision 1.7
date: 1994/10/03 17:21:20;  author: john;  state: Exp;
Added the code that allocates a 1K DOS buffer.
----------------------------
revision 1.6
date: 1994/09/29 18:29:40;  author: john;  state: Exp;
Shorted mem info printout
----------------------------
revision 1.5
date: 1994/09/27 11:54:35;  author: john;  state: Exp;
Added DPMI init function.
----------------------------
revision 1.4
date: 1994/09/19 14:50:43;  author: john;  state: Exp;
Took out mono debug.
----------------------------
revision 1.3
date: 1994/09/19 14:41:23;  author: john;  state: Exp;
Fixed some bugs with allocating selectors.
----------------------------
revision 1.2
date: 1994/08/24 18:53:51;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.1
date: 1994/08/24 10:22:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/dpmi.h,v
Working file: bios/dpmi.h
head: 1.9
branch:
description: Prototypes for DPMI services.
----------------------------
revision 1.9
date: 1995/01/14 19:20:14;  author: john;  state: Exp;
Added function to set a selector's base address.
----------------------------
revision 1.8
date: 1994/11/28 20:22:03;  author: john;  state: Exp;
Added some variables that return the amount of available 
memory.
----------------------------
revision 1.7
date: 1994/11/15 18:26:38;  author: john;  state: Exp;
Added verbose flag.
----------------------------
revision 1.6
date: 1994/11/07 11:35:05;  author: john;  state: Exp;
Added prototype for real_free
----------------------------
revision 1.5
date: 1994/10/27 19:54:48;  author: john;  state: Exp;
Added unlock region function,.
----------------------------
revision 1.4
date: 1994/09/27 18:27:56;  author: john;  state: Exp;
Added pragma to make inp,outp,enable,disable intrinsic
----------------------------
revision 1.3
date: 1994/09/27 11:54:45;  author: john;  state: Exp;
Added DPMI init function.
----------------------------
revision 1.2
date: 1994/08/24 18:53:51;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.1
date: 1994/08/24 10:22:48;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/ipx.c,v
Working file: bios/ipx.c
head: 2.10
branch:
description: Routines for IPX communications.
----------------------------
revision 2.10
date: 1995/03/29 17:27:55;  author: john;  state: Exp;
Added code to not duplicate broadcasts.
----------------------------
revision 2.9
date: 1995/03/29 15:32:07;  author: john;  state: Exp;
NEatened.
----------------------------
revision 2.8
date: 1995/03/29 15:07:31;  author: john;  state: Exp;
Added network support.
----------------------------
revision 2.7
date: 1995/03/29 11:22:27;  author: john;  state: Exp;
Added broadcasting over a net.
----------------------------
revision 2.6
date: 1995/03/28 20:05:03;  author: john;  state: Exp;
Took away alternate server stuff.
----------------------------
revision 2.5
date: 1995/03/23 19:14:29;  author: john;  state: Exp;
Added better MAX_USERS message.
----------------------------
revision 2.4
date: 1995/03/23 19:00:02;  author: john;  state: Exp;
Added user list capabitly.
----------------------------
revision 2.3
date: 1995/03/23 12:27:05;  author: john;  state: Exp;
Move IPX into bios lib.
----------------------------
revision 2.2
date: 1995/03/22 19:08:15;  author: john;  state: Exp;
Added code to fix sending packets over router... now
we just need to make broadcasts go over router!!
----------------------------
revision 2.1
date: 1995/03/21 08:40:16;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:30:45;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.31
date: 1995/02/16 17:35:03;  author: john;  state: Exp;
Added code to allow dynamic socket changing.
----------------------------
revision 1.30
date: 1995/02/01 21:03:45;  author: john;  state: Exp;
Lintified.
----------------------------
revision 1.29
date: 1995/01/22 14:31:05;  author: john;  state: Exp;
Added key.h
----------------------------
revision 1.28
date: 1995/01/22 14:29:26;  author: john;  state: Exp;
Added code to bypass broadcast messages.
----------------------------
revision 1.27
date: 1995/01/03 13:46:16;  author: john;  state: Exp;
Added code that should make ipx work over different servers,
but ifdef'd it out with SHAREWARE in ipx.c.  I haven't tested
this, and I hope it doesn't introduce net bugs.
----------------------------
revision 1.26
date: 1994/12/14 11:54:37;  author: rob;  state: Exp;
Reduce # of ipx packets.
----------------------------
revision 1.25
date: 1994/12/11 00:43:28;  author: john;  state: Exp;
Locked down DOS ipx buffers... probably not necessary, tho.
----------------------------
revision 1.24
date: 1994/12/08 15:49:58;  author: rob;  state: Exp;
Bumped up the # of ipx packets.
----------------------------
revision 1.23
date: 1994/12/04 15:23:54;  author: rob;  state: Exp;
Reduced packet # constants.
----------------------------
revision 1.22
date: 1994/11/27 23:12:39;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.21
date: 1994/11/19 15:15:19;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.20
date: 1994/11/10 11:06:07;  author: rob;  state: Exp;
Raised number of ipx packets to 64 and buffers to 128 (for 8-way games)
Removed (commented out) all the spx support stuff.
----------------------------
revision 1.19
date: 1994/11/07 17:50:12;  author: rob;  state: Exp;
Bumped up max_packets and ipx_num_packets to double their previous
values.
----------------------------
revision 1.18
date: 1994/11/07 15:39:01;  author: rob;  state: Exp;
Removed temporary hacked ipx_send_object function.
Replaced with a more general thing.
----------------------------
revision 1.17
date: 1994/11/05 16:08:40;  author: rob;  state: Exp;
Made a change necessary for object syncing on rejoin.
----------------------------
revision 1.16
date: 1994/11/01 15:57:12;  author: rob;  state: Exp;
Added support for SPX sockets for critical messages.
----------------------------
revision 1.15
date: 1994/10/31 19:21:01;  author: rob;  state: Exp;
Added a routine for sending objects via ipx.  Its a hack and shoukld
be replaced by something more general time permitting.
----------------------------
revision 1.14
date: 1994/10/20 14:57:42;  author: john;  state: Exp;
Some test stuff.
----------------------------
revision 1.13
date: 1994/10/20 11:22:45;  author: john;  state: Exp;
Tweaked the number of waiting packets. Added code to print 
total packets missed, and to limit the packet send rate to
10 packets per second unless firing.
----------------------------
revision 1.12
date: 1994/10/03 20:50:11;  author: john;  state: Exp;
Started adding sound pause functions.
----------------------------
revision 1.11
date: 1994/09/15 08:54:24;  author: mike;  state: Exp;
comment out a mprintf.
----------------------------
revision 1.10
date: 1994/09/12 19:38:20;  author: john;  state: Exp;
Made some stuff that prints to the DOS screen go to the
mono instead, since it really is debugging info.
----------------------------
revision 1.9
date: 1994/09/07 13:32:03;  author: john;  state: Exp;
Made ipx_close explicitly close the socket we were using,
because it seems that VLM's don't automatically close them
like the older NETX stuff did (Going from Novell 3.11 driver
to 3.12 anyway).
----------------------------
revision 1.8
date: 1994/09/06 19:29:20;  author: john;  state: Exp;
Added trial version of rejoin function.
----------------------------
revision 1.7
date: 1994/08/09 19:31:50;  author: john;  state: Exp;
Networking changes.
----------------------------
revision 1.6
date: 1994/08/05 16:11:41;  author: john;  state: Exp;
Psuedo working version of networking.
----------------------------
revision 1.5
date: 1994/08/04 19:17:21;  author: john;  state: Exp;
Inbetween version of network stuff.
----------------------------
revision 1.4
date: 1994/07/29 16:08:57;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/07/25 12:33:31;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.2
date: 1994/07/20 15:58:28;  author: john;  state: Exp;
First installment of ipx stuff.
----------------------------
revision 1.1
date: 1994/07/19 15:42:00;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/ipx.h,v
Working file: bios/ipx.h
head: 2.6
branch:
description: Prototype for IPX communications.
----------------------------
revision 2.6
date: 1995/03/29 11:19:32;  author: john;  state: Exp;
Added broadcasting over a net.
----------------------------
revision 2.5
date: 1995/03/28 20:04:43;  author: john;  state: Exp;
Took away alternate server stuff.
----------------------------
revision 2.4
date: 1995/03/23 19:00:10;  author: john;  state: Exp;
Added user list capabitly.
----------------------------
revision 2.3
date: 1995/03/23 12:26:57;  author: john;  state: Exp;
Move IPX into bios lib.
----------------------------
revision 2.2
date: 1995/03/22 19:08:14;  author: john;  state: Exp;
Added code to fix sending packets over router... now
we just need to make broadcasts go over router!!
----------------------------
revision 2.1
date: 1995/03/21 08:39:56;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:30:16;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.16
date: 1995/02/16 17:34:52;  author: john;  state: Exp;
Added code to allow dynamic socket changing.
----------------------------
revision 1.15
date: 1995/01/04 21:43:27;  author: rob;  state: Exp;
Remove SPX size definition.
----------------------------
revision 1.14
date: 1995/01/03 13:46:18;  author: john;  state: Exp;
Added code that should make ipx work over different servers,
but ifdef'd it out with SHAREWARE in ipx.c.  I haven't tested
this, and I hope it doesn't introduce net bugs.
----------------------------
revision 1.13
date: 1994/11/02 11:37:16;  author: rob;  state: Exp;
Changed default socket number to a higher regions.
----------------------------
revision 1.12
date: 1994/11/01 15:56:51;  author: rob;  state: Exp;
Added defines for SPX socketsx.
----------------------------
revision 1.11
date: 1994/10/31 19:23:31;  author: rob;  state: Exp;
Added a prototype for the new object send function.
----------------------------
revision 1.10
date: 1994/09/07 13:37:25;  author: john;  state: Exp;
Changed default socket to 0x4000, because 
the ipx/spx book says that we can only use
sockets 0x4000 - 0x7fff.
----------------------------
revision 1.9
date: 1994/08/25 18:14:45;  author: matt;  state: Exp;
Changed socket because of packet change
----------------------------
revision 1.8
date: 1994/08/12 22:42:24;  author: john;  state: Exp;
Took away Player_stats; added Players array.
----------------------------
revision 1.7
date: 1994/08/09 19:31:47;  author: john;  state: Exp;
Networking changes.
----------------------------
revision 1.6
date: 1994/08/05 16:11:46;  author: john;  state: Exp;
Psuedo working version of networking.
----------------------------
revision 1.5
date: 1994/08/04 19:17:20;  author: john;  state: Exp;
Inbetween version of network stuff.
----------------------------
revision 1.4
date: 1994/07/29 16:08:59;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/07/25 12:33:22;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.2
date: 1994/07/20 15:58:29;  author: john;  state: Exp;
First installment of ipx stuff.
----------------------------
revision 1.1
date: 1994/07/19 15:43:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/joy.h,v
Working file: bios/joy.h
head: 1.17
branch:
description: Headers for joystick functions
----------------------------
revision 1.17
date: 1995/10/07 13:22:30;  author: john;  state: Exp;
Added new method of reading joystick that allows higher-priority
interrupts to go off.
----------------------------
revision 1.16
date: 1995/02/14 11:17:13;  author: john;  state: Exp;
Added BIOS readings for stick.
----------------------------
revision 1.15
date: 1995/02/14 10:09:58;  author: john;  state: Exp;
Added OS2 switch.
----------------------------
revision 1.14
date: 1994/12/28 13:49:20;  author: john;  state: Exp;
Added function to set joystick for slow reading
----------------------------
revision 1.13
date: 1994/10/13 11:36:06;  author: john;  state: Exp;
Made joy_down_time be kept track of in fixed seconds,
not ticks.
----------------------------
revision 1.12
date: 1994/10/12 17:03:16;  author: john;  state: Exp;
Added prototype for joy_get_scaled_reading.
----------------------------
revision 1.11
date: 1994/10/12 16:57:55;  author: john;  state: Exp;
Added function to set a joystick button's state.
----------------------------
revision 1.10
date: 1994/09/22 16:09:00;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.9
date: 1994/08/31 09:54:57;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1994/08/29 21:02:24;  author: john;  state: Exp;
Added joy_set_cal_values...
----------------------------
revision 1.7
date: 1994/08/29 20:51:52;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.6
date: 1994/07/01 10:55:44;  author: john;  state: Exp;
Fixed some bugs... added support for 4 axis.
----------------------------
revision 1.5
date: 1994/06/30 20:36:51;  author: john;  state: Exp;
Revamped joystick code.
----------------------------
revision 1.4
date: 1994/04/22 12:52:10;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/01/18 13:53:39;  author: john;  state: Exp;
Made all joystick functions return int's instead of
shorts.  Also made the stick reading be CPU speed
independant by using the timer_get_Stamp_64 
function.
----------------------------
revision 1.2
date: 1994/01/18 10:58:42;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/07/10 13:10:39;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/joyc.c,v
Working file: bios/joyc.c
head: 1.37
branch:
description: Routines for joystick reading.
----------------------------
revision 1.37
date: 1995/10/07 13:22:31;  author: john;  state: Exp;
Added new method of reading joystick that allows higher-priority
interrupts to go off.
----------------------------
revision 1.36
date: 1995/03/30 11:03:40;  author: john;  state: Exp;
Made -JoyBios read buttons using BIOS.
----------------------------
revision 1.35
date: 1995/02/14 11:39:25;  author: john;  state: Exp;
Added polled/bios joystick readers..
----------------------------
revision 1.34
date: 1995/02/10 17:06:12;  author: john;  state: Exp;
Fixed bug with plugging in a joystick not getting detected.
----------------------------
revision 1.33
date: 1995/01/27 16:39:42;  author: john;  state: Exp;
Made so that if no joystick detected, it wont't
read buttons.
----------------------------
revision 1.32
date: 1995/01/12 13:16:40;  author: john;  state: Exp;
Made it so that joystick can't lose an axis
by 1 weird reading. Reading has to occurr during
calibration for this to happen.
----------------------------
revision 1.31
date: 1994/12/28 15:56:03;  author: john;  state: Exp;
Fixed bug that refused to read joysticks whose 
min,cen,max were less than 100 apart.
----------------------------
revision 1.30
date: 1994/12/28 15:31:53;  author: john;  state: Exp;
Added code to read joystick axis not all at one time.
----------------------------
revision 1.29
date: 1994/12/27 15:44:36;  author: john;  state: Exp;
Made the joystick timeout be at 1/100th of a second, 
regardless of CPU speed.
----------------------------
revision 1.28
date: 1994/12/04 11:54:54;  author: john;  state: Exp;
Made stick read at whatever rate the clock is at, not
at 18.2 times/second.
----------------------------
revision 1.27
date: 1994/11/29 02:25:40;  author: john;  state: Exp;
Made it so that the scaled reading returns 0 
if the calibration factors look funny..
----------------------------
revision 1.26
date: 1994/11/22 11:08:07;  author: john;  state: Exp;
Commented out the ARCADE joystick.
----------------------------
revision 1.25
date: 1994/11/14 19:40:26;  author: john;  state: Exp;
Fixed bug with no joystick being detected.
----------------------------
revision 1.24
date: 1994/11/14 19:36:40;  author: john;  state: Exp;
Took out initial cheapy calibration.
----------------------------
revision 1.23
date: 1994/11/14 19:13:27;  author: john;  state: Exp;
Took out the calibration in joy_init
----------------------------
revision 1.22
date: 1994/10/17 10:09:57;  author: john;  state: Exp;
Made the state look at last_State, so that a joy_flush
doesn't cause a new down state to be added next reading.
----------------------------
revision 1.21
date: 1994/10/13 11:36:23;  author: john;  state: Exp;
Made joy_down_time be kept track of in fixed seconds,
not ticks.
----------------------------
revision 1.20
date: 1994/10/12 16:58:50;  author: john;  state: Exp;
Fixed bug w/ previous comment.
----------------------------
revision 1.19
date: 1994/10/12 16:57:44;  author: john;  state: Exp;
Added function to set a joystick button's state.
----------------------------
revision 1.18
date: 1994/10/11 10:20:13;  author: john;  state: Exp;
Fixed Flightstick Pro/
..
----------------------------
revision 1.17
date: 1994/09/29 18:29:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/09/27 19:17:23;  author: john;  state: Exp;
Added code so that is joy_init is never called, joystick is not
used at all.
----------------------------
revision 1.15
date: 1994/09/22 16:09:23;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.14
date: 1994/09/16 11:44:42;  author: john;  state: Exp;
Fixed bug with slow joystick.
----------------------------
revision 1.13
date: 1994/09/16 11:36:15;  author: john;  state: Exp;
Fixed bug with reading non-present channels.
----------------------------
revision 1.12
date: 1994/09/15 20:52:48;  author: john;  state: Exp;
rme john
Added support for the Arcade style joystick.
----------------------------
revision 1.11
date: 1994/09/13 20:04:49;  author: john;  state: Exp;
Fixed bug with joystick button down_time.
----------------------------
revision 1.10
date: 1994/09/10 13:48:07;  author: john;  state: Exp;
Made all 20 buttons read.
----------------------------
revision 1.9
date: 1994/08/31 09:55:02;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1994/08/29 21:02:14;  author: john;  state: Exp;
Added joy_set_cal_values...
----------------------------
revision 1.7
date: 1994/08/29 20:52:17;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.6
date: 1994/08/24 18:53:12;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.5
date: 1994/07/14 22:12:23;  author: john;  state: Exp;
Used intrinsic forms of outp to fix vmm error.
----------------------------
revision 1.4
date: 1994/07/07 19:52:59;  author: matt;  state: Exp;
Made joy_init() return success/fail flag
Made joy_init() properly detect a stick if one is plugged in after joy_init()
was called the first time.
----------------------------
revision 1.3
date: 1994/07/01 10:55:55;  author: john;  state: Exp;
Fixed some bugs... added support for 4 axis.
----------------------------
revision 1.2
date: 1994/06/30 20:36:55;  author: john;  state: Exp;
Revamped joystick code.
----------------------------
revision 1.1
date: 1994/06/30 15:42:15;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/key.c,v
Working file: bios/key.c
head: 1.35
branch:
description: Functions for keyboard handler.
----------------------------
revision 1.35
date: 1995/01/25 20:13:30;  author: john;  state: Exp;
Took out not passing keys to debugger if w10.
----------------------------
revision 1.34
date: 1995/01/14 19:19:31;  author: john;  state: Exp;
Made so when you press Shift+Baskspace, it release keys autmatically.
----------------------------
revision 1.33
date: 1994/12/13 09:21:48;  author: john;  state: Exp;
Took out keyd_editor_mode, and KEY_DEBUGGED stuff for NDEBUG versions.
----------------------------
revision 1.32
date: 1994/11/12 13:52:01;  author: john;  state: Exp;
Fixed bug with code that cleared bios buffer.
----------------------------
revision 1.31
date: 1994/10/24 15:16:16;  author: john;  state: Exp;
Added code to detect KEY_PAUSE.
----------------------------
revision 1.30
date: 1994/10/24 13:57:53;  author: john;  state: Exp;
Hacked in support for pause key onto code 0x61.
----------------------------
revision 1.29
date: 1994/10/21 15:18:13;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.28
date: 1994/10/21 15:17:24;  author: john;  state: Exp;
Made LSHIFT+BACKSPACE do what PrtScr used to.
----------------------------
revision 1.27
date: 1994/09/22 16:09:18;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.26
date: 1994/09/15 21:32:47;  author: john;  state: Exp;
Added bounds checking for down_count scancode
parameter.
----------------------------
revision 1.25
date: 1994/08/31 12:22:20;  author: john;  state: Exp;
Added KEY_DEBUGGED
----------------------------
revision 1.24
date: 1994/08/24 18:53:48;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.23
date: 1994/08/18 15:17:51;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.22
date: 1994/08/18 15:16:38;  author: john;  state: Exp;
fixed some bugs with clear_key_times and then
removed it because i fixed key_flush to do the
same.
----------------------------
revision 1.21
date: 1994/08/17 19:01:25;  author: john;  state: Exp;
Attempted to fix a bug with a key being held down
key_flush called, then the key released having too 
long of a time.
----------------------------
revision 1.20
date: 1994/08/08 10:43:48;  author: john;  state: Exp;
Recorded when a key was pressed for key_inkey_time.
----------------------------
revision 1.19
date: 1994/06/22 15:00:03;  author: john;  state: Exp;
Made keyboard close automatically on exit.
----------------------------
revision 1.18
date: 1994/06/21 09:16:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.17
date: 1994/06/21 09:08:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/06/21 09:05:01;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.15
date: 1994/06/21 09:04:24;  author: john;  state: Exp;
Made PrtScreen do an int5
----------------------------
revision 1.14
date: 1994/06/17 17:17:06;  author: john;  state: Exp;
Added keyd_time_last_key_was_pressed or something like that.
----------------------------
revision 1.13
date: 1994/05/14 13:55:16;  author: matt;  state: Exp;
Added #define to control key passing to bios
----------------------------
revision 1.12
date: 1994/05/05 18:09:39;  author: john;  state: Exp;
Took out BIOS to prevent stuck keys.
----------------------------
revision 1.11
date: 1994/05/03 17:39:12;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/04/29 12:14:20;  author: john;  state: Exp;
Locked all memory used during interrupts so that program
won't hang when using virtual memory.
----------------------------
revision 1.9
date: 1994/04/28 23:49:41;  author: john;  state: Exp;
Made key_flush flush more keys and also did something else but i forget what.
----------------------------
revision 1.8
date: 1994/04/22 12:52:12;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/04/01 10:44:59;  author: mike;  state: Exp;
Change key_getch() to call getch() if our interrupt hasn't been installed.
----------------------------
revision 1.6
date: 1994/03/09 10:45:48;  author: john;  state: Exp;
Neatend code a bit.
----------------------------
revision 1.5
date: 1994/02/17 17:24:16;  author: john;  state: Exp;
Neatened up a bit.
----------------------------
revision 1.4
date: 1994/02/17 16:30:29;  author: john;  state: Exp;
Put in code to pass keys when in debugger.
----------------------------
revision 1.3
date: 1994/02/17 15:57:59;  author: john;  state: Exp;
Made handler not chain to BIOS handler.
----------------------------
revision 1.2
date: 1994/02/17 15:56:06;  author: john;  state: Exp;
Initial version.
----------------------------
revision 1.1
date: 1994/02/17 15:54:07;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/key.h,v
Working file: bios/key.h
head: 1.19
branch:
description: Header for keyboard functions
----------------------------
revision 1.19
date: 1994/10/24 13:58:12;  author: john;  state: Exp;
Hacked in support for pause key onto code 0x61.
----------------------------
revision 1.18
date: 1994/10/21 15:17:10;  author: john;  state: Exp;
Added KEY_PRINT_SCREEN
----------------------------
revision 1.17
date: 1994/08/31 12:22:13;  author: john;  state: Exp;
Added KEY_DEBUGGED
----------------------------
revision 1.16
date: 1994/08/24 18:53:50;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.15
date: 1994/08/18 14:56:16;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.14
date: 1994/08/08 10:43:24;  author: john;  state: Exp;
Recorded when a key was pressed for key_inkey_time.
----------------------------
revision 1.13
date: 1994/06/17 17:17:28;  author: john;  state: Exp;
Added keyd_time_last_key_was_pressed or something like that.
----------------------------
revision 1.12
date: 1994/04/29 12:14:19;  author: john;  state: Exp;
Locked all memory used during interrupts so that program
won't hang when using virtual memory.
----------------------------
revision 1.11
date: 1994/02/17 15:57:14;  author: john;  state: Exp;
Changed key libary to C.
----------------------------
revision 1.10
date: 1994/01/31 08:34:09;  author: john;  state: Exp;
Fixed reversed lshift/rshift keys.
----------------------------
revision 1.9
date: 1994/01/18 10:58:17;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1993/10/16 19:24:43;  author: matt;  state: Exp;
Added new function key_clear_times() & key_clear_counts()
----------------------------
revision 1.7
date: 1993/10/15 10:17:09;  author: john;  state: Exp;
added keyd_last_key_pressed and released for use with recorder.
----------------------------
revision 1.6
date: 1993/10/06 16:20:37;  author: john;  state: Exp;
fixed down arrow bug
----------------------------
revision 1.5
date: 1993/10/04 13:26:42;  author: john;  state: Exp;
changed the #defines for scan codes.
----------------------------
revision 1.4
date: 1993/09/28 11:35:20;  author: john;  state: Exp;
added key_peekkey
----------------------------
revision 1.3
date: 1993/09/20 18:36:43;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/07/10 13:10:39;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/key.h,v
Working file: bios/key.h
head: 1.1
branch:
description: Header for keyboard functions
----------------------------
revision 1.1
date: 1993/07/10 13:10:39;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/mono.c,v
Working file: bios/mono.c
head: 1.12
branch:
description: Library functions for printing to mono card.
----------------------------
revision 1.12
date: 1995/02/23 11:59:57;  author: john;  state: Exp;
Made the windows smaller so they don't overwrite the debug file menus.
----------------------------
revision 1.11
date: 1994/11/27 23:07:50;  author: matt;  state: Exp;
Made changes needed to be able to compile out monochrome debugging code
----------------------------
revision 1.10
date: 1994/10/26 22:23:43;  author: john;  state: Exp;
Limited windows to 2.  Took away saving what was under
a window.
----------------------------
revision 1.9
date: 1994/07/14 23:25:44;  author: matt;  state: Exp;
Allow window 0 to be opened; don't allow mono to be initialized twice
----------------------------
revision 1.8
date: 1994/03/09 10:45:38;  author: john;  state: Exp;
Sped up scroll.
----------------------------
revision 1.7
date: 1994/01/26 08:56:55;  author: mike;  state: Exp;
Comment out int3 in mputc.
----------------------------
revision 1.6
date: 1994/01/12 15:56:34;  author: john;  state: Exp;
made backspace do an int3 during mono stuff.
.,
----------------------------
revision 1.5
date: 1993/12/07 12:33:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/10/15 10:10:25;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/09/14 20:55:13;  author: matt;  state: Exp;
Made minit() and mopen() check for presence of mono card in machine.
----------------------------
revision 1.2
date: 1993/07/22 13:10:21;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/07/10 13:10:38;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/mono.h,v
Working file: bios/mono.h
head: 1.6
branch:
description: Header for monochrome/mprintf functions
----------------------------
revision 1.6
date: 1994/12/03 17:07:37;  author: matt;  state: Exp;
Made mono code turn off with either NDEBUG or NMONO
----------------------------
revision 1.5
date: 1994/11/27 23:07:28;  author: matt;  state: Exp;
Made changes needed to be able to compile out monochrome debugging code
----------------------------
revision 1.4
date: 1993/12/07 12:33:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/09/14 20:54:50;  author: matt;  state: Exp;
Made minit() check for mono card, return -1 if present, 0 if not
----------------------------
revision 1.2
date: 1993/07/22 13:05:40;  author: john;  state: Exp;
added macros to print variables
----------------------------
revision 1.1
date: 1993/07/10 13:10:40;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/mouse.c,v
Working file: bios/mouse.c
head: 1.11
branch:
description: Functions to access Mouse and Cyberman...
----------------------------
revision 1.11
date: 1995/02/10 18:52:17;  author: john;  state: Exp;
Fixed bug with mouse not getting closed.
----------------------------
revision 1.10
date: 1995/02/02 11:10:33;  author: john;  state: Exp;
Changed a bunch of mouse stuff around to maybe get
around PS/2 mouse hang.
----------------------------
revision 1.9
date: 1995/01/14 19:19:52;  author: john;  state: Exp;
Fixed signed short error cmp with -1 that caused mouse
to break under Watcom 10.0
----------------------------
revision 1.8
date: 1994/12/27 12:38:23;  author: john;  state: Exp;
Made mouse use temporary dos buffer instead of
allocating its own.
----------------------------
revision 1.7
date: 1994/12/05 23:54:53;  author: john;  state: Exp;
Fixed bug with mouse_get_delta only returning positive numbers..
----------------------------
revision 1.6
date: 1994/11/18 23:18:18;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.5
date: 1994/09/13 12:34:02;  author: john;  state: Exp;
Added functions to get down count and state.
----------------------------
revision 1.4
date: 1994/08/29 20:52:19;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.3
date: 1994/08/24 18:54:32;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/08/24 18:53:46;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.1
date: 1994/08/24 13:56:37;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/mouse.h,v
Working file: bios/mouse.h
head: 1.10
branch:
description: Header for mouse functions
----------------------------
revision 1.10
date: 1995/02/02 10:22:29;  author: john;  state: Exp;
Added cyberman init parameter.
----------------------------
revision 1.9
date: 1994/11/18 23:18:09;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.8
date: 1994/09/13 12:33:49;  author: john;  state: Exp;
Added functions to get down count and state.
----------------------------
revision 1.7
date: 1994/08/29 20:52:20;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.6
date: 1994/08/24 17:54:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/08/24 17:51:43;  author: john;  state: Exp;
Added transparent cyberman support
----------------------------
revision 1.4
date: 1993/07/27 09:32:22;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/07/26 10:46:44;  author: john;  state: Exp;
added definition for mouse_set_pos
----------------------------
revision 1.2
date: 1993/07/22 13:07:59;  author: john;  state: Exp;
added header for mousesetlimts
----------------------------
revision 1.1
date: 1993/07/10 13:10:40;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/mousec.c,v
Working file: bios/mousec.c
head: 1.1
branch:
description: Routines to access a mouse..
----------------------------
revision 1.1
date: 1994/08/24 12:19:13;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/speaker.c,v
Working file: bios/speaker.c
head: 1.1
branch:
description: Controlling the PC speaker
----------------------------
revision 1.1
date: 1994/04/04 16:30:41;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/swiftcfg.h,v
Working file: bios/swiftcfg.h
head: 1.2
branch:
description: .
----------------------------
revision 1.2
date: 1994/04/01 16:09:50;  author: john;  state: Exp;
Added Cyberman supprt
----------------------------
revision 1.1
date: 1994/04/01 14:04:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/t.h,v
Working file: bios/t.h
head: 1.1
branch:
description: .
----------------------------
revision 1.1
date: 1994/12/10 12:09:47;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/timer.h,v
Working file: bios/timer.h
head: 1.8
branch:
description: Header for timer functions
----------------------------
revision 1.8
date: 1994/12/10 12:27:23;  author: john;  state: Exp;
Added timer_get_approx_seconds.
----------------------------
revision 1.7
date: 1994/12/10 12:10:25;  author: john;  state: Exp;
Added types.h.
----------------------------
revision 1.6
date: 1994/12/10 12:07:06;  author: john;  state: Exp;
Added tick counter variable.
----------------------------
revision 1.5
date: 1994/11/15 12:04:15;  author: john;  state: Exp;
Cleaned up timer code a bit... took out unused functions
like timer_get_milliseconds, etc.
----------------------------
revision 1.4
date: 1994/04/28 23:50:08;  author: john;  state: Exp;
Changed calling for init_timer.  Made the function that the
timer calls be a far function. All of this was done to make
our timer system compatible with the HMI sound stuff.
----------------------------
revision 1.3
date: 1994/02/17 15:57:12;  author: john;  state: Exp;
Changed key libary to C.
----------------------------
revision 1.2
date: 1994/01/18 10:58:34;  author: john;  state: Exp;
Added timer_get_fixed_seconds
----------------------------
revision 1.1
date: 1993/07/10 13:10:41;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/joy.h,v
Working file: bios/joy.h
head: 1.16
branch:
description: Headers for joystick functions
----------------------------
revision 1.16
date: 1995/02/14 11:17:13;  author: john;  state: Exp;
Added BIOS readings for stick.
----------------------------
revision 1.15
date: 1995/02/14 10:09:58;  author: john;  state: Exp;
Added OS2 switch.
----------------------------
revision 1.14
date: 1994/12/28 13:49:20;  author: john;  state: Exp;
Added function to set joystick for slow reading
----------------------------
revision 1.13
date: 1994/10/13 11:36:06;  author: john;  state: Exp;
Made joy_down_time be kept track of in fixed seconds,
not ticks.
----------------------------
revision 1.12
date: 1994/10/12 17:03:16;  author: john;  state: Exp;
Added prototype for joy_get_scaled_reading.
----------------------------
revision 1.11
date: 1994/10/12 16:57:55;  author: john;  state: Exp;
Added function to set a joystick button's state.
----------------------------
revision 1.10
date: 1994/09/22 16:09:00;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.9
date: 1994/08/31 09:54:57;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1994/08/29 21:02:24;  author: john;  state: Exp;
Added joy_set_cal_values...
----------------------------
revision 1.7
date: 1994/08/29 20:51:52;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.6
date: 1994/07/01 10:55:44;  author: john;  state: Exp;
Fixed some bugs... added support for 4 axis.
----------------------------
revision 1.5
date: 1994/06/30 20:36:51;  author: john;  state: Exp;
Revamped joystick code.
----------------------------
revision 1.4
date: 1994/04/22 12:52:10;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/01/18 13:53:39;  author: john;  state: Exp;
Made all joystick functions return int's instead of
shorts.  Also made the stick reading be CPU speed
independant by using the timer_get_Stamp_64 
function.
----------------------------
revision 1.2
date: 1994/01/18 10:58:42;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/07/10 13:10:39;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/joyc.c,v
Working file: bios/joyc.c
head: 1.36
branch:
description: Routines for joystick reading.
----------------------------
revision 1.36
date: 1995/03/30 11:03:40;  author: john;  state: Exp;
Made -JoyBios read buttons using BIOS.
----------------------------
revision 1.35
date: 1995/02/14 11:39:25;  author: john;  state: Exp;
Added polled/bios joystick readers..
----------------------------
revision 1.34
date: 1995/02/10 17:06:12;  author: john;  state: Exp;
Fixed bug with plugging in a joystick not getting detected.
----------------------------
revision 1.33
date: 1995/01/27 16:39:42;  author: john;  state: Exp;
Made so that if no joystick detected, it wont't
read buttons.
----------------------------
revision 1.32
date: 1995/01/12 13:16:40;  author: john;  state: Exp;
Made it so that joystick can't lose an axis
by 1 weird reading. Reading has to occurr during
calibration for this to happen.
----------------------------
revision 1.31
date: 1994/12/28 15:56:03;  author: john;  state: Exp;
Fixed bug that refused to read joysticks whose 
min,cen,max were less than 100 apart.
----------------------------
revision 1.30
date: 1994/12/28 15:31:53;  author: john;  state: Exp;
Added code to read joystick axis not all at one time.
----------------------------
revision 1.29
date: 1994/12/27 15:44:36;  author: john;  state: Exp;
Made the joystick timeout be at 1/100th of a second, 
regardless of CPU speed.
----------------------------
revision 1.28
date: 1994/12/04 11:54:54;  author: john;  state: Exp;
Made stick read at whatever rate the clock is at, not
at 18.2 times/second.
----------------------------
revision 1.27
date: 1994/11/29 02:25:40;  author: john;  state: Exp;
Made it so that the scaled reading returns 0 
if the calibration factors look funny..
----------------------------
revision 1.26
date: 1994/11/22 11:08:07;  author: john;  state: Exp;
Commented out the ARCADE joystick.
----------------------------
revision 1.25
date: 1994/11/14 19:40:26;  author: john;  state: Exp;
Fixed bug with no joystick being detected.
----------------------------
revision 1.24
date: 1994/11/14 19:36:40;  author: john;  state: Exp;
Took out initial cheapy calibration.
----------------------------
revision 1.23
date: 1994/11/14 19:13:27;  author: john;  state: Exp;
Took out the calibration in joy_init
----------------------------
revision 1.22
date: 1994/10/17 10:09:57;  author: john;  state: Exp;
Made the state look at last_State, so that a joy_flush
doesn't cause a new down state to be added next reading.
----------------------------
revision 1.21
date: 1994/10/13 11:36:23;  author: john;  state: Exp;
Made joy_down_time be kept track of in fixed seconds,
not ticks.
----------------------------
revision 1.20
date: 1994/10/12 16:58:50;  author: john;  state: Exp;
Fixed bug w/ previous comment.
----------------------------
revision 1.19
date: 1994/10/12 16:57:44;  author: john;  state: Exp;
Added function to set a joystick button's state.
----------------------------
revision 1.18
date: 1994/10/11 10:20:13;  author: john;  state: Exp;
Fixed Flightstick Pro/
..
----------------------------
revision 1.17
date: 1994/09/29 18:29:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/09/27 19:17:23;  author: john;  state: Exp;
Added code so that is joy_init is never called, joystick is not
used at all.
----------------------------
revision 1.15
date: 1994/09/22 16:09:23;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.14
date: 1994/09/16 11:44:42;  author: john;  state: Exp;
Fixed bug with slow joystick.
----------------------------
revision 1.13
date: 1994/09/16 11:36:15;  author: john;  state: Exp;
Fixed bug with reading non-present channels.
----------------------------
revision 1.12
date: 1994/09/15 20:52:48;  author: john;  state: Exp;
rme john
Added support for the Arcade style joystick.
----------------------------
revision 1.11
date: 1994/09/13 20:04:49;  author: john;  state: Exp;
Fixed bug with joystick button down_time.
----------------------------
revision 1.10
date: 1994/09/10 13:48:07;  author: john;  state: Exp;
Made all 20 buttons read.
----------------------------
revision 1.9
date: 1994/08/31 09:55:02;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1994/08/29 21:02:14;  author: john;  state: Exp;
Added joy_set_cal_values...
----------------------------
revision 1.7
date: 1994/08/29 20:52:17;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.6
date: 1994/08/24 18:53:12;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.5
date: 1994/07/14 22:12:23;  author: john;  state: Exp;
Used intrinsic forms of outp to fix vmm error.
----------------------------
revision 1.4
date: 1994/07/07 19:52:59;  author: matt;  state: Exp;
Made joy_init() return success/fail flag
Made joy_init() properly detect a stick if one is plugged in after joy_init()
was called the first time.
----------------------------
revision 1.3
date: 1994/07/01 10:55:55;  author: john;  state: Exp;
Fixed some bugs... added support for 4 axis.
----------------------------
revision 1.2
date: 1994/06/30 20:36:55;  author: john;  state: Exp;
Revamped joystick code.
----------------------------
revision 1.1
date: 1994/06/30 15:42:15;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/div/div0.h,v
Working file: div/div0.h
head: 1.2
branch:
description: Header file for divide by zero handler
----------------------------
revision 1.2
date: 1994/01/14 15:34:25;  author: john;  state: Exp;
Added counters for number of overflows.
----------------------------
revision 1.1
date: 1993/09/17 12:37:58;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/fix/fix.h,v
Working file: fix/fix.h
head: 1.13
branch:
description: FIX.H - prototypes and macros for fixed-point functions
Copyright (c) 1993  Matt Toschlog & Mike Kulas
----------------------------
revision 1.13
date: 1994/12/06 13:52:34;  author: matt;  state: Exp;
Added f2ir(), which is fix-to-int with rounding
----------------------------
revision 1.12
date: 1994/05/18 21:45:16;  author: matt;  state: Exp;
Added comments
----------------------------
revision 1.11
date: 1994/01/19 23:12:02;  author: matt;  state: Exp;
Made fix_atan2() left-handed, like our coordinate system
----------------------------
revision 1.10
date: 1993/10/20 01:09:00;  author: matt;  state: Exp;
Add fix_asin(), improved fix_atan2()
----------------------------
revision 1.9
date: 1993/10/19 23:53:46;  author: matt;  state: Exp;
Added fix_atan2()
----------------------------
revision 1.8
date: 1993/10/19 22:22:40;  author: matt;  state: Exp;
Added fix_acos()
----------------------------
revision 1.7
date: 1993/09/17 11:37:01;  author: mike;  state: Exp;
Add capitalized versions of "some handy constants", eg:
#define F1_0 f1_0
----------------------------
revision 1.6
date: 1993/08/24 13:00:48;  author: matt;  state: Exp;
Adopted new standard, and made assembly-callable routines not trash any regs
----------------------------
revision 1.5
date: 1993/08/12 13:12:45;  author: matt;  state: Exp;
Changed fixmul() to use SHRD instead of shl,shr,or
----------------------------
revision 1.4
date: 1993/08/04 19:57:18;  author: matt;  state: Exp;
Added parens in fix/float conversion macros
----------------------------
revision 1.3
date: 1993/08/04 11:41:45;  author: matt;  state: Exp;
Fixed bogus constants
----------------------------
revision 1.2
date: 1993/08/04 09:30:11;  author: matt;  state: Exp;
Added more constants
----------------------------
revision 1.1
date: 1993/08/03 17:45:53;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/iff/iff.h,v
Working file: iff/iff.h
head: 1.12
branch:
description: Header for IFF routines
----------------------------
revision 1.12
date: 1994/11/07 21:26:53;  author: matt;  state: Exp;
Added new function iff_read_into_bitmap()
----------------------------
revision 1.11
date: 1994/05/06 19:37:38;  author: matt;  state: Exp;
Improved error handling and checking
----------------------------
revision 1.10
date: 1994/04/16 20:12:54;  author: matt;  state: Exp;
Made masked (stenciled) bitmaps work
----------------------------
revision 1.9
date: 1994/04/13 23:46:00;  author: matt;  state: Exp;
Added function, iff_errormsg(), which returns ptr to error message.
----------------------------
revision 1.8
date: 1994/04/13 23:27:10;  author: matt;  state: Exp;
Put in support for anim brushes (.abm files)
----------------------------
revision 1.7
date: 1994/04/06 23:08:02;  author: matt;  state: Exp;
Cleaned up code; added prototype (but no new code) for anim brush read
----------------------------
revision 1.6
date: 1994/01/22 14:40:59;  author: john;  state: Exp;
Fixed bug with declareations.
----------------------------
revision 1.5
date: 1994/01/22 14:23:13;  author: john;  state: Exp;
Added global vars to check transparency
----------------------------
revision 1.4
date: 1993/10/27 12:47:42;  author: john;  state: Exp;
Extended the comments
----------------------------
revision 1.3
date: 1993/09/22 19:17:20;  author: matt;  state: Exp;
Fixed handling of pad byte in ILBM/PPB body - was writing pad byte to
destination buffer.
----------------------------
revision 1.2
date: 1993/09/08 19:23:25;  author: matt;  state: Exp;
Added additional return code, IFF_BAD_BM_TYPE
----------------------------
revision 1.1
date: 1993/09/08 14:24:21;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/iff/iff.c,v
Working file: iff/iff.c
head: 1.43
branch:
description: Routines for reading and writing IFF files
----------------------------
revision 1.43
date: 1994/12/08 19:03:17;  author: john;  state: Exp;
Added code to use cfile.
----------------------------
revision 1.42
date: 1994/12/08 17:45:32;  author: john;  state: Exp;
Put back in cfile stuff.
----------------------------
revision 1.41
date: 1994/11/19 16:41:06;  author: matt;  state: Exp;
Took out unused code
----------------------------
revision 1.40
date: 1994/11/07 21:26:39;  author: matt;  state: Exp;
Added new function iff_read_into_bitmap()
----------------------------
revision 1.39
date: 1994/10/27 00:12:03;  author: john;  state: Exp;
Used nocfile
----------------------------
revision 1.38
date: 1994/08/10 19:49:58;  author: matt;  state: Exp;
Fixed bitmaps in ILBM format with masking (stencil) on.
----------------------------
revision 1.37
date: 1994/06/02 18:53:17;  author: matt;  state: Exp;
Clear flags & selector in new bitmap structure
----------------------------
revision 1.36
date: 1994/05/17 14:00:33;  author: matt;  state: Exp;
Fixed bug with odd-width deltas & odd-length body chunks
----------------------------
revision 1.35
date: 1994/05/16 20:38:55;  author: matt;  state: Exp;
Made anim brushes work when odd width
----------------------------
revision 1.34
date: 1994/05/06 19:37:26;  author: matt;  state: Exp;
Improved error handling and checking
----------------------------
revision 1.33
date: 1994/04/27 20:57:07;  author: matt;  state: Exp;
Fixed problem with RLE decompression and odd-width bitmap
Added more error checking
----------------------------
revision 1.32
date: 1994/04/16 21:44:19;  author: matt;  state: Exp;
Fixed bug introduced last version
----------------------------
revision 1.31
date: 1994/04/16 20:12:40;  author: matt;  state: Exp;
Made masked (stenciled) bitmaps work
----------------------------
revision 1.30
date: 1994/04/13 23:46:16;  author: matt;  state: Exp;
Added function, iff_errormsg(), which returns ptr to error message.
----------------------------
revision 1.29
date: 1994/04/13 23:27:25;  author: matt;  state: Exp;
Put in support for anim brushes (.abm files)
----------------------------
revision 1.28
date: 1994/04/13 16:33:31;  author: matt;  state: Exp;
Cleaned up file read code, adding fake_file structure (FFILE), which
cleanly implements reading the entire file into a buffer and then reading
out of that buffer.
----------------------------
revision 1.27
date: 1994/04/06 23:07:43;  author: matt;  state: Exp;
Cleaned up code; added prototype (but no new code) for anim brush read
----------------------------
revision 1.26
date: 1994/03/19 02:51:52;  author: matt;  state: Exp;
Really did what I said I did last revision.
----------------------------
revision 1.25
date: 1994/03/19 02:16:07;  author: matt;  state: Exp;
Made work ILBMs which didn't have 8 planes
----------------------------
revision 1.24
date: 1994/03/15 14:45:26;  author: matt;  state: Exp;
When error, only free memory if has been allocated
----------------------------
revision 1.23
date: 1994/02/18 12:39:05;  author: john;  state: Exp;
Made code read from buffer.
----------------------------
revision 1.22
date: 1994/02/15 18:15:26;  author: john;  state: Exp;
Took out cfile attempt (too slow)
----------------------------
revision 1.21
date: 1994/02/15 13:17:48;  author: john;  state: Exp;
added assert to cfseek.
----------------------------
revision 1.20
date: 1994/02/15 13:13:11;  author: john;  state: Exp;
Made iff code work normally.
----------------------------
revision 1.19
date: 1994/02/15 12:51:07;  author: john;  state: Exp;
crappy inbetween version.
----------------------------
revision 1.18
date: 1994/02/10 18:31:32;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.17
date: 1994/01/24 11:51:26;  author: john;  state: Exp;
Made write routine write transparency info.
----------------------------
revision 1.16
date: 1994/01/22 14:41:11;  author: john;  state: Exp;
Fixed bug with declareations.
----------------------------
revision 1.15
date: 1994/01/22 14:23:00;  author: john;  state: Exp;
Added global vars to check transparency
----------------------------
revision 1.14
date: 1993/12/08 19:00:42;  author: matt;  state: Exp;
Changed while loop to memset
----------------------------
revision 1.13
date: 1993/12/08 17:23:51;  author: mike;  state: Exp;
Speedup by converting while...getc to fread.
----------------------------
revision 1.12
date: 1993/12/08 12:37:35;  author: mike;  state: Exp;
Optimize parse_body.
----------------------------
revision 1.11
date: 1993/12/05 17:30:14;  author: matt;  state: Exp;
Made bitmaps with width <= 64 not compress
----------------------------
revision 1.10
date: 1993/12/03 12:24:51;  author: matt;  state: Exp;
Fixed TINY chunk when bitmap was part of a larger bitmap
----------------------------
revision 1.9
date: 1993/11/22 17:26:43;  author: matt;  state: Exp;
iff write now writes out a tiny chunk
----------------------------
revision 1.8
date: 1993/11/21 22:04:13;  author: matt;  state: Exp;
Fixed error with non-compressed bitmaps
Added Yuan's code to free raw data if we get an error parsing the body
----------------------------
revision 1.7
date: 1993/11/11 12:12:12;  author: yuan;  state: Exp;
Changed mallocs to MALLOCs.
----------------------------
revision 1.6
date: 1993/11/01 19:02:23;  author: matt;  state: Exp;
Fixed a couple bugs in rle compression
----------------------------
revision 1.5
date: 1993/10/27 12:47:39;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/10/27 12:37:31;  author: yuan;  state: Exp;
Added mem.h
----------------------------
revision 1.3
date: 1993/09/22 19:16:57;  author: matt;  state: Exp;
Added new error type, IFF_CORRUPT, for internally bad IFF files.
----------------------------
revision 1.2
date: 1993/09/08 19:24:16;  author: matt;  state: Exp;
Fixed bug in RLE compression
Changed a bunch of unimportant values like aspect and page size when writing
Added new error condition, IFF_BAD_BM_TYPE
Make sub-bitmaps work correctly
Added compile flag to turn compression off (COMPRESS)
----------------------------
revision 1.1
date: 1993/09/08 14:24:15;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/includes/types.h,v
Working file: includes/types.h
head: 1.2
branch:
description: Common types for use in Miner
----------------------------
revision 1.2
date: 1993/09/14 12:12:30;  author: matt;  state: Exp;
Added #define for NULL
----------------------------
revision 1.1
date: 1993/08/24 12:50:40;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: h:/miner/source/xcolor/xcolor.c,v
head: 1.1
branch:
description: .
----------------------------
revision 1.1
date: 1994/01/24 11:09:24;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/ai.h,v
Working file: main/ai.h
head: 2.0
branch:
description: Header file for AI system.
----------------------------
revision 2.0
date: 1995/02/27 11:33:07;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.57
date: 1995/02/04 17:28:31;  author: mike;  state: Exp;
make station guys return better.
----------------------------
revision 1.56
date: 1995/02/04 10:03:23;  author: mike;  state: Exp;
Fly to exit cheat.
----------------------------
revision 1.55
date: 1995/02/01 19:23:52;  author: rob;  state: Exp;
Externed a boss var.
----------------------------
revision 1.54
date: 1995/01/30 13:00:58;  author: mike;  state: Exp;
Make robots fire at player other than one they are controlled by sometimes.
----------------------------
revision 1.53
date: 1995/01/26 15:09:16;  author: rob;  state: Exp;
Changed robot gating to accomodate multiplayer.
----------------------------
revision 1.52
date: 1995/01/26 12:23:12;  author: rob;  state: Exp;
Added new externs needed for multiplayer.
----------------------------
revision 1.51
date: 1995/01/21 21:22:14;  author: mike;  state: Exp;
Kill prototype of init_boss_segments, which didn't need to be public
and had changed.
----------------------------
revision 1.50
date: 1995/01/16 19:24:29;  author: mike;  state: Exp;
Publicize BOSS_GATE_MATCEN_NUM and Boss_been_hit.
----------------------------
revision 1.49
date: 1995/01/02 16:17:35;  author: mike;  state: Exp;
prototype some super boss function for gameseq.
----------------------------
revision 1.48
date: 1994/12/19 17:08:06;  author: mike;  state: Exp;
deal with new ai_multiplayer_awareness which returns a value saying whether this object can be moved by this player.
----------------------------
revision 1.47
date: 1994/12/12 17:18:04;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.46
date: 1994/12/08 15:46:16;  author: mike;  state: Exp;
better robot behavior.
----------------------------
revision 1.45
date: 1994/11/27 23:16:08;  author: matt;  state: Exp;
Made debug code go away when debugging turned off
----------------------------
revision 1.44
date: 1994/11/16 23:38:41;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.43
date: 1994/11/10 17:45:11;  author: mike;  state: Exp;
debugging.
----------------------------
revision 1.42
date: 1994/11/07 10:37:42;  author: mike;  state: Exp;
hooks for rob's network code.
----------------------------
revision 1.41
date: 1994/11/06 15:10:50;  author: mike;  state: Exp;
prototype a debug function for dumping ai info.
----------------------------
revision 1.40
date: 1994/11/02 17:57:30;  author: rob;  state: Exp;
Added extern of Believe_player_pos needed to get control centers
locating people.
----------------------------
revision 1.39
date: 1994/10/28 19:43:39;  author: mike;  state: Exp;
Prototype Boss_cloak_start_time, Boss_cloak_end_time.
----------------------------
revision 1.38
date: 1994/10/22 14:14:42;  author: mike;  state: Exp;
Prototype ai_reset_all_paths.
----------------------------
revision 1.37
date: 1994/10/21 20:42:01;  author: mike;  state: Exp;
Define MAX_PATH_LENGTH: maximum allowed length of a path.
----------------------------
revision 1.36
date: 1994/10/20 09:49:18;  author: mike;  state: Exp;
Prototype something.
----------------------------
revision 1.35
date: 1994/10/18 15:37:52;  author: mike;  state: Exp;
Define ROBOT_BOSS1.
----------------------------
revision 1.34
date: 1994/10/13 11:12:25;  author: mike;  state: Exp;
Prototype some door functions.
----------------------------
revision 1.33
date: 1994/10/12 21:28:51;  author: mike;  state: Exp;
Prototype create_n_segment_path_to_door
Prototype ai_open_doors_in_segment
Prototype ai_door_is_openable.
----------------------------
revision 1.32
date: 1994/10/11 15:59:41;  author: mike;  state: Exp;
Prototype Robot_firing_enabled.
----------------------------
revision 1.31
date: 1994/10/09 22:02:48;  author: mike;  state: Exp;
Adapt create_path_points and create_n_segment_path prototypes to use avoid_seg for player evasion.
----------------------------
revision 1.30
date: 1994/09/18 18:07:44;  author: mike;  state: Exp;
Update prototypes for create_path_points and create_path_to_player.
----------------------------
revision 1.29
date: 1994/09/15 16:34:08;  author: mike;  state: Exp;
Prototype do_ai_robot_hit_attack.
----------------------------
revision 1.28
date: 1994/09/12 19:12:35;  author: mike;  state: Exp;
Prototype attempt_to_resume_path.
----------------------------
revision 1.27
date: 1994/08/25 21:55:32;  author: mike;  state: Exp;
Add some prototypes.
----------------------------
revision 1.26
date: 1994/08/10 19:53:24;  author: mike;  state: Exp;
Prototype create_path_to_player and init_robots_for_level.
----------------------------
revision 1.25
date: 1994/08/04 16:32:58;  author: mike;  state: Exp;
prototype create_path_to_player.
----------------------------
revision 1.24
date: 1994/08/03 15:17:20;  author: mike;  state: Exp;
Prototype make_random_vector.
----------------------------
revision 1.23
date: 1994/07/31 18:10:34;  author: mike;  state: Exp;
Update prototype for create_path_points.
----------------------------
revision 1.22
date: 1994/07/28 12:36:14;  author: matt;  state: Exp;
Cleaned up object bumping code
=============================================================================
RCS file: f:/miner/source/main/aistruct.h,v
Working file: main/aistruct.h
head: 2.0
branch:
description: Structs and constants for AI system.
object.h depends on this.
ai.h depends on object.h.
Get it?
----------------------------
revision 2.0
date: 1995/02/27 11:30:19;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.34
date: 1995/01/25 13:50:46;  author: mike;  state: Exp;
Robots make angry sounds.
----------------------------
revision 1.33
date: 1994/12/29 12:44:56;  author: rob;  state: Exp;
Added new coop robot flag.
----------------------------
revision 1.32
date: 1994/12/20 20:41:54;  author: rob;  state: Exp;
Added new ai flag for multiplayer robots.
----------------------------
revision 1.31
date: 1994/12/19 16:37:39;  author: rob;  state: Exp;
Added a new flag for remote controlled objects.
----------------------------
revision 1.30
date: 1994/12/07 00:36:07;  author: mike;  state: Exp;
fix phys_apply_rot for robots -- ai was bashing effect in next frame.
----------------------------
revision 1.29
date: 1994/12/02 22:06:28;  author: mike;  state: Exp;
add fields to allow robots to make awareness sounds every so often, not every damn blasted frame
----------------------------
revision 1.28
date: 1994/11/04 17:18:35;  author: yuan;  state: Exp;
Increased MAX_SEG_POINTS to 2500.
----------------------------
revision 1.27
date: 1994/10/17 21:19:22;  author: mike;  state: Exp;
robot cloaking.
----------------------------
revision 1.26
date: 1994/10/12 21:28:38;  author: mike;  state: Exp;
Add new ai mode: AIM_OPEN_DOOR.
Add GOALSIDE to aip.
----------------------------
revision 1.25
date: 1994/09/25 23:41:08;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.24
date: 1994/09/21 12:28:11;  author: mike;  state: Exp;
Change AI behavior for when player cloaked
----------------------------
revision 1.23
date: 1994/09/19 21:43:00;  author: mike;  state: Exp;
Add follow_path_start_seg and follow_path_end_seg to aistruct.h.
----------------------------
revision 1.22
date: 1994/09/18 18:06:14;  author: mike;  state: Exp;
Add Last_uncloaked_time and Last_uncloaked_position variables.
----------------------------
revision 1.21
date: 1994/09/15 16:31:38;  author: mike;  state: Exp;
Define GREEN_GUY
Add previous_visibility to ai_local struct.
----------------------------
revision 1.20
date: 1994/09/12 19:12:45;  author: mike;  state: Exp;
Change some bytes to ints in ai_local so I could set watchpoints.
----------------------------
revision 1.19
date: 1994/08/25 21:53:31;  author: mike;  state: Exp;
Add behavior, taking place of what used to be mode.
----------------------------
revision 1.18
date: 1994/08/23 16:38:09;  author: mike;  state: Exp;
rapidfire_count in ai_local.
----------------------------
revision 1.17
date: 1994/08/19 17:38:23;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/08/17 22:18:58;  author: mike;  state: Exp;
add time_since_processed to ai_local.
----------------------------
revision 1.15
date: 1994/08/10 19:52:25;  author: mike;  state: Exp;
Add Overall_agitation.
----------------------------
revision 1.14
date: 1994/08/04 16:32:32;  author: mike;  state: Exp;
Add time_player_seen.
----------------------------
revision 1.13
date: 1994/07/28 16:58:11;  author: mike;  state: Exp;
Move constants from ai.c
----------------------------
revision 1.12
date: 1994/07/19 15:26:24;  author: mike;  state: Exp;
New ai_static and ai_local structures.
----------------------------
revision 1.11
date: 1994/07/15 15:17:19;  author: matt;  state: Exp;
Changes MAX_AI_FLAGS for better alignment
=============================================================================
RCS file: f:/miner/source/main/arcade.h,v
Working file: main/arcade.h
head: 2.0
branch:
description: Routines for arcade version.
----------------------------
revision 2.0
date: 1995/02/27 11:27:27;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/09/16 21:44:06;  author: matt;  state: Exp;
Made arcade code based on #define
----------------------------
revision 1.3
date: 1994/09/16 16:14:52;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.2
date: 1994/09/16 11:51:01;  author: john;  state: Exp;
Added first version of arcade joystick support;
Also fixed some bugs in kconfig.c, such as reading non-present
joysticks, which killed frame rate, and not reading key_down_time
when in slide mode or bank mode.
----------------------------
revision 1.1
date: 1994/09/16 09:59:29;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/args.h,v
Working file: main/args.h
head: 2.0
branch:
description: Prototypes for accessing arguments.
----------------------------
revision 2.0
date: 1995/02/27 11:33:09;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/07/11 16:27:28;  author: matt;  state: Exp;
Took out prototypes for netipx funcs
----------------------------
revision 1.3
date: 1994/05/11 19:45:34;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/05/09 17:02:55;  author: john;  state: Exp;
Split command line parameters into arg.c and arg.h.
Also added /dma, /port, /irq to digi.c
----------------------------
revision 1.1
date: 1994/05/09 16:47:49;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/automap.h,v
Working file: main/automap.h
head: 2.0
branch:
description: Prototypes for auto-map stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:29:35;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/09 00:41:21;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.4
date: 1994/07/14 11:25:29;  author: john;  state: Exp;
Made control centers destroy better; made automap use Tab key.
----------------------------
revision 1.3
date: 1994/07/12 15:45:51;  author: john;  state: Exp;
Made paritial map.
----------------------------
revision 1.2
date: 1994/07/07 18:35:05;  author: john;  state: Exp;
First version of automap
----------------------------
revision 1.1
date: 1994/07/07 15:12:13;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/bm.h,v
Working file: main/bm.h
head: 2.0
branch:
description: Bitmap and Palette loading functions.
----------------------------
revision 2.0
date: 1995/02/27 11:32:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.60
date: 1994/12/06 13:24:58;  author: matt;  state: Exp;
Made exit model come out of bitmaps.tbl
----------------------------
revision 1.59
date: 1994/11/10 14:02:48;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.58
date: 1994/10/27 13:32:17;  author: john;  state: Exp;
Made TmapList only be in if editor
----------------------------
revision 1.57
date: 1994/10/11 12:25:20;  author: matt;  state: Exp;
Added "hot rocks" that create badass explosion when hit by weapons
----------------------------
revision 1.56
date: 1994/09/29 12:38:13;  author: matt;  state: Exp;
Took out include of digi.h, saving hours of unneeded compiles
----------------------------
revision 1.55
date: 1994/09/25 00:39:51;  author: matt;  state: Exp;
Added the ability to make eclips (monitors, fans) which can be blown up
----------------------------
revision 1.54
date: 1994/09/17 01:40:59;  author: matt;  state: Exp;
Added status bar/sizable window mode, and in the process revamped the
whole cockpit mode system.
----------------------------
revision 1.53
date: 1994/09/08 16:20:48;  author: matt;  state: Exp;
Gave textures the ability to cause damage when scraped
----------------------------
revision 1.52
date: 1994/08/30 22:23:43;  author: matt;  state: Exp;
Added cabability for player ship to have alternate model to use to
create debris.
----------------------------
revision 1.51
date: 1994/08/26 15:35:57;  author: matt;  state: Exp;
Made eclips usable on more than one object at a time
----------------------------
revision 1.50
date: 1994/08/23 16:59:51;  author: john;  state: Exp;
Added 3 cockpuits
----------------------------
revision 1.49
date: 1994/08/19 20:09:43;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.48
date: 1994/08/12 22:20:45;  author: matt;  state: Exp;
Generalized polygon objects (such as control center)
----------------------------
revision 1.47
date: 1994/08/09 16:04:21;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.46
date: 1994/08/09 09:01:31;  author: john;  state: Exp;
Increase MAX_TEXTURES
----------------------------
revision 1.45
date: 1994/07/13 00:14:57;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.44
date: 1994/06/20 21:33:15;  author: matt;  state: Exp;
Made bm.h not include sounds.h, to reduce dependencies
----------------------------
revision 1.43
date: 1994/06/15 11:55:58;  author: matt;  state: Exp;
Added 3d model for player
----------------------------
revision 1.42
date: 1994/06/13 16:09:11;  author: adam;  state: Exp;
increased max textures to 600
----------------------------
revision 1.41
date: 1994/06/06 15:38:58;  author: john;  state: Exp;
Made fullscreen view be just another cockpit, but the "hole"
in the cockpit is just bigger.
----------------------------
revision 1.40
date: 1994/05/26 21:08:59;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.39
date: 1994/05/18 11:00:05;  author: mike;  state: Exp;
Add robot_info stuff.
----------------------------
revision 1.38
date: 1994/05/17 14:44:56;  author: mike;  state: Exp;
Get object type and id from ObjType and ObjId.
----------------------------
revision 1.37
date: 1994/05/17 12:04:45;  author: mike;  state: Exp;
Deal with little known fact that polygon object != robot.
----------------------------
revision 1.36
date: 1994/05/16 16:17:35;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.35
date: 1994/04/27 11:43:42;  author: john;  state: Exp;
First version of sound! Yay!
----------------------------
revision 1.34
date: 1994/04/22 10:53:48;  author: john;  state: Exp;
Increased MAX_TEXTURES to 500.
----------------------------
revision 1.33
date: 1994/04/01 11:15:05;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.32
date: 1994/03/25 17:30:37;  author: yuan;  state: Exp;
Checking in hostage stuff.
----------------------------
revision 1.31
date: 1994/03/17 18:07:28;  author: yuan;  state: Exp;
Removed switch code... Now we just have Walls, Triggers, and Links...
----------------------------
revision 1.30
date: 1994/03/15 17:03:51;  author: yuan;  state: Exp;
Added Robot/object bitmap capability
----------------------------
revision 1.29
date: 1994/03/15 16:32:58;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(Fixed structures too)
----------------------------
revision 1.28
date: 1994/03/04 17:09:13;  author: yuan;  state: Exp;
New door stuff.
----------------------------
revision 1.27
date: 1994/01/31 14:50:09;  author: yuan;  state: Exp;
Added Robotex
----------------------------
revision 1.26
date: 1994/01/31 12:27:14;  author: yuan;  state: Exp;
Added demo stuff (menu, etc.)
----------------------------
revision 1.25
date: 1994/01/25 17:11:43;  author: john;  state: Exp;
New texmaped lasers.
----------------------------
revision 1.24
date: 1994/01/24 11:48:06;  author: yuan;  state: Exp;
Lighting stuff
----------------------------
revision 1.23
date: 1994/01/22 13:40:15;  author: yuan;  state: Exp;
Modified the bmd_bitmap structure a bit.
(Saves some memory, and added reflection)
----------------------------
revision 1.22
date: 1994/01/11 10:58:38;  author: yuan;  state: Exp;
Added effects system
----------------------------
revision 1.21
date: 1994/01/06 17:13:12;  author: john;  state: Exp;
Added Video clip functionality
----------------------------
revision 1.20
date: 1993/12/21 20:00:15;  author: john;  state: Exp;
moved selector stuff to grs_bitmap
----------------------------
revision 1.19
date: 1993/12/21 19:33:58;  author: john;  state: Exp;
Added selector to bmd_bitmap.
----------------------------
revision 1.18
date: 1993/12/07 12:28:48;  author: john;  state: Exp;
moved bmd_palette to gr_palette
----------------------------
revision 1.17
date: 1993/12/06 18:40:37;  author: matt;  state: Exp;
Changed object loading & handling
----------------------------
revision 1.16
date: 1993/12/05 23:05:03;  author: matt;  state: Exp;
Added include of gr.h
----------------------------
revision 1.15
date: 1993/12/03 17:38:04;  author: yuan;  state: Exp;
Ooops. meant to say:
Moved MAX variables to bm.c, Arrays left open.
----------------------------
revision 1.14
date: 1993/12/03 17:37:26;  author: yuan;  state: Exp;
Added Asserts.
----------------------------
revision 1.13
date: 1993/12/02 17:22:54;  author: yuan;  state: Exp;
New global var. Num_object_types
----------------------------
revision 1.12
date: 1993/12/02 16:34:39;  author: yuan;  state: Exp;
Added fireball hack stuff.
----------------------------
revision 1.11
date: 1993/12/02 15:45:14;  author: yuan;  state: Exp;
Added a buncha constants, variables, and function prototypes
for the new bitmaps.tbl format.
----------------------------
revision 1.10
date: 1993/12/01 11:25:11;  author: yuan;  state: Exp;
Changed MALLOC'd buffers for filename and type in
the bmd_bitmap structure into arrays... Saves time
at load up.
----------------------------
revision 1.9
date: 1993/12/01 00:28:09;  author: yuan;  state: Exp;
New bitmap system structure.
----------------------------
revision 1.8
date: 1993/11/03 11:34:08;  author: john;  state: Exp;
made it use bitmaps.tbl
----------------------------
revision 1.7
date: 1993/10/26 18:11:03;  author: john;  state: Exp;
made all palette data be statically allocated
----------------------------
revision 1.6
date: 1993/10/19 12:17:51;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/10/16 20:02:41;  author: matt;  state: Exp;
Changed name of backdrop bitmap file
----------------------------
revision 1.4
date: 1993/10/12 15:08:52;  author: matt;  state: Exp;
Added a bunch of new textures
----------------------------
revision 1.3
date: 1993/10/12 12:30:41;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/12 11:27:58;  author: john;  state: Exp;
added more bitmaps
----------------------------
revision 1.1
date: 1993/09/23 13:09:10;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/cdrom.h,v
Working file: main/cdrom.h
head: 1.2
branch:
description: Prototypes for cdrom.c
----------------------------
revision 1.2
date: 1995/03/20 15:01:12;  author: john;  state: Exp;
Initial revision.
----------------------------
revision 1.1
date: 1995/03/14 17:01:37;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/centers.h,v
Working file: main/editor/centers.h
head: 2.0
branch:
description: Center header
----------------------------
revision 2.0
date: 1995/02/27 11:35:02;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/08/02 12:16:27;  author: mike;  state: Exp;
Prototype Center_names.
----------------------------
revision 1.2
date: 1994/07/21 19:35:20;  author: yuan;  state: Exp;
Fixed #include problem
----------------------------
revision 1.1
date: 1994/07/21 19:11:36;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/cfile/cfile.h,v
Working file: cfile/cfile.h
head: 1.10
branch:
description: Prototypes for compressed file functions...
----------------------------
revision 1.10
date: 1995/03/13 15:16:47;  author: john;  state: Exp;
Added alternate directory stuff.
----------------------------
revision 1.9
date: 1995/02/01 20:56:40;  author: john;  state: Exp;
Added cfexist function
----------------------------
revision 1.8
date: 1995/01/21 17:53:41;  author: john;  state: Exp;
Added alternate pig file thing.
----------------------------
revision 1.7
date: 1994/12/12 13:19:47;  author: john;  state: Exp;
Made cfile work with fiellentth.
----------------------------
revision 1.6
date: 1994/12/08 19:02:52;  author: john;  state: Exp;
Added cfgets.
----------------------------
revision 1.5
date: 1994/12/07 21:34:07;  author: john;  state: Exp;
Stripped out compression stuff...
----------------------------
revision 1.4
date: 1994/07/13 00:16:53;  author: matt;  state: Exp;
Added include
----------------------------
revision 1.3
date: 1994/02/17 17:36:19;  author: john;  state: Exp;
Added CF_READ_MODE and CF_WRITE_MODE constants.
----------------------------
revision 1.2
date: 1994/02/15 12:52:08;  author: john;  state: Exp;
Crappy inbetween version
----------------------------
revision 1.1
date: 1994/02/15 10:54:23;  author: john;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1994/02/10 15:50:54;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/pslib/cflib.h,v
Working file: pslib/cflib.h
head: 1.13
branch:
description: Sample setup for RCS header
----------------------------
revision 1.13
date: 1994/02/15 12:53:06;  author: john;  state: Exp;
Made numfiles stored in library be a short instead of char.
----------------------------
revision 1.12
date: 1993/12/08 17:06:34;  author: yuan;  state: Exp;
Added CheckFile.
----------------------------
revision 1.11
date: 1993/10/28 15:16:54;  author: yuan;  state: Exp;
Added WriteFile and AppendFile prototypes.
----------------------------
revision 1.10
date: 1993/10/28 14:41:13;  author: yuan;  state: Exp;
New cfread functions added to cflib.
----------------------------
revision 1.9
date: 1993/10/27 12:41:58;  author: yuan;  state: Exp;
Added prototype for ReadFileBuf.
----------------------------
revision 1.8
date: 1993/10/19 12:39:13;  author: matt;  state: Exp;
Added '#ifndef' around body of file
Added new error codes
Included readfile.h
----------------------------
revision 1.7
date: 1993/09/29 17:53:38;  author: yuan;  state: Exp;
lzw_compression and lzw_expand documented more clearly (hopefully)
some error flags added.
----------------------------
revision 1.6
date: 1993/09/27 17:12:21;  author: yuan;  state: Exp;
Documentation for using lib_init(), lib_close(), and LibReadFile() added.
----------------------------
revision 1.5
date: 1993/09/21 17:22:22;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/09/21 17:16:56;  author: yuan;  state: Exp;
cleaning up
----------------------------
revision 1.3
date: 1993/09/21 17:07:01;  author: yuan;  state: Exp;
broken and unbroken
----------------------------
revision 1.2
date: 1993/09/20 12:26:25;  author: yuan;  state: Exp;
ReadFile, WriteFile, AppendFile removed to readfile.h
----------------------------
revision 1.1
date: 1993/09/14 13:15:30;  author: yuan;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1993/09/09 15:41:22;  author: yuan;  state: Exp;
pslib.exe docs removed.
----------------------------
revision 1.2
date: 1993/09/09 12:40:03;  author: yuan;  state: Exp;
compression routine prototypes from library.h added.
----------------------------
revision 1.1
date: 1993/09/08 16:16:57;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/cntrlcen.h,v
Working file: main/cntrlcen.h
head: 2.0
branch:
description: Header for cntrlcen.c
----------------------------
revision 2.0
date: 1995/02/27 11:30:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.7
date: 1995/02/01 16:34:14;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.6
date: 1995/01/03 20:19:14;  author: john;  state: Exp;
Pretty good working version of game save.
----------------------------
revision 1.5
date: 1994/11/08 12:18:28;  author: mike;  state: Exp;
small explosions on control center.
----------------------------
revision 1.4
date: 1994/11/02 18:00:12;  author: rob;  state: Exp;
Added extern for Gun_pos array for network hooks.
----------------------------
revision 1.3
date: 1994/10/20 09:47:37;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/10/17 21:35:10;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.1
date: 1994/10/17 20:24:28;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/coindev.h,v
Working file: main/coindev.h
head: 2.0
branch:
description: Routines to read the coin counter.
----------------------------
revision 2.0
date: 1995/02/27 11:30:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/09/16 16:15:10;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.1
date: 1994/09/16 12:56:24;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/collide.h,v
Working file: main/collide.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:28:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.23
date: 1995/01/26 22:11:47;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.22
date: 1994/12/21 19:03:24;  author: rob;  state: Exp;
Fixing score accounting for multiplayer robots
----------------------------
revision 1.21
date: 1994/12/21 11:34:56;  author: mike;  state: Exp;
make control center take badass damage.
----------------------------
revision 1.20
date: 1994/10/29 16:53:16;  author: allender;  state: Exp;
added check_effect_blowup for demo recording to record monitor explosions
----------------------------
revision 1.19
date: 1994/10/09 13:46:48;  author: mike;  state: Exp;
Make public collide_player_and_powerup.
----------------------------
revision 1.18
date: 1994/10/05 14:54:29;  author: rob;  state: Exp;
Added serial game support in control center sequence..
----------------------------
revision 1.17
date: 1994/09/15 16:32:12;  author: mike;  state: Exp;
Prototype collide_player_and_nasty_robot.
----------------------------
revision 1.16
date: 1994/09/11 15:49:04;  author: mike;  state: Exp;
Prototype for maybe_detonate_weapon.
----------------------------
revision 1.15
date: 1994/09/09 14:20:07;  author: matt;  state: Exp;
Added prototype for scrape function
----------------------------
revision 1.14
date: 1994/09/02 14:00:44;  author: matt;  state: Exp;
Simplified explode_object() & mutliple-stage explosions
----------------------------
revision 1.13
date: 1994/08/18 10:47:35;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.12
date: 1994/08/17 16:50:08;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.11
date: 1994/08/03 16:45:31;  author: mike;  state: Exp;
Prototype a function.
----------------------------
revision 1.10
date: 1994/08/03 15:17:41;  author: mike;  state: Exp;
make matcen whack on you if it's ready to make a robot.
----------------------------
revision 1.9
date: 1994/07/22 12:08:03;  author: mike;  state: Exp;
Make robot hit vclip and sound weapon-based until robot dies, then robot-based.
----------------------------
revision 1.8
date: 1994/07/09 17:36:31;  author: mike;  state: Exp;
Prototype apply_damage_to_robot.
----------------------------
revision 1.7
date: 1994/07/09 13:20:36;  author: mike;  state: Exp;
Prototype apply_damage_to_player.
----------------------------
revision 1.6
date: 1994/06/20 23:35:52;  author: john;  state: Exp;
Bunch of stuff.
----------------------------
revision 1.5
date: 1994/06/17 18:04:03;  author: yuan;  state: Exp;
Added Immaterialization...
Fixed Invulnerability to allow being hit.
----------------------------
revision 1.4
date: 1994/05/13 20:28:02;  author: john;  state: Exp;
Version II of John's new object code.
----------------------------
revision 1.3
date: 1994/05/13 12:20:35;  author: john;  state: Exp;
Fixed some potential problems with code using global variables
that are set in fvi. 
----------------------------
revision 1.2
date: 1994/05/12 23:20:32;  author: john;  state: Exp;
Moved all object collision handling into collide.c.
----------------------------
revision 1.1
date: 1994/05/12 20:39:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/compbit.h,v
Working file: main/compbit.h
head: 2.0
branch:
description: Contains encryption key for bitmaps.tbl
----------------------------
revision 2.0
date: 1995/02/27 11:28:46;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/12/05 15:10:28;  author: allender;  state: Exp;
changed extern prototype definition
----------------------------
revision 1.2
date: 1994/10/19 15:43:33;  author: allender;  state: Exp;
header file which contains the xor value which is used when encrypting
bitmaps.tbl
----------------------------
revision 1.1
date: 1994/10/19 13:22:19;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/config.h,v
Working file: main/config.h
head: 2.0
branch:
description: prototype definitions for descent.cfg reading/writing
----------------------------
revision 2.0
date: 1995/02/27 11:32:48;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1995/02/11 16:20:06;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.3
date: 1994/12/08 10:01:41;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.2
date: 1994/11/14 17:53:17;  author: allender;  state: Exp;
extern definitions for ReadConfigFile and WriteConfigFile
----------------------------
revision 1.1
date: 1994/11/14 16:56:17;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/controls.h,v
Working file: main/controls.h
head: 2.0
branch:
description: Header for controls.c
----------------------------
revision 2.0
date: 1995/02/27 11:27:17;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/07/21 18:15:33;  author: matt;  state: Exp;
Ripped out a bunch of unused stuff
----------------------------
revision 1.3
date: 1994/07/15 09:32:08;  author: john;  state: Exp;
Changes player movement.
----------------------------
revision 1.2
date: 1994/06/30 19:02:22;  author: matt;  state: Exp;
Moved flying controls code from physics.c to controls.c
----------------------------
revision 1.1
date: 1994/06/30 18:41:36;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/credits.h,v
Working file: main/credits.h
head: 2.0
branch:
description: Prototypes for the credit sequence.
----------------------------
revision 2.0
date: 1995/02/27 11:32:30;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/11/03 20:17:40;  author: john;  state: Exp;
Added initial code for showing credits.
----------------------------
revision 1.1
date: 1994/11/03 20:09:19;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/dcflib.h,v
Working file: main/editor/dcflib.h
head: 2.0
branch:
description: temporary demo version for mine.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:25;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/02/14 20:14:27;  author: john;  state: Exp;
First version working with new cfile stuff.
----------------------------
revision 1.2
date: 1994/02/08 13:38:21;  author: yuan;  state: Exp;
mine loading functions converted.
----------------------------
revision 1.1
date: 1994/02/08 13:23:14;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/demo.h,v
Working file: main/demo.h
head: 2.0
branch:
description: Demo constants.
----------------------------
revision 2.0
date: 1995/02/27 11:27:03;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/05/14 17:16:10;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.4
date: 1994/02/02 09:40:49;  author: mike;  state: Exp;
prototypes, change MAX_DEMO_RECORDS.
----------------------------
revision 1.3
date: 1994/02/01 15:15:02;  author: mike;  state: Exp;
Self-running demo code.
----------------------------
revision 1.2
date: 1994/02/01 11:51:49;  author: mike;  state: Exp;
demo functions.
----------------------------
revision 1.1
date: 1994/01/31 19:15:05;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/desc_id.h,v
Working file: main/desc_id.h
head: 2.0
branch:
description: Header file which contains string for id and timestamp information
----------------------------
revision 2.0
date: 1995/02/27 11:29:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/10/19 09:52:57;  author: allender;  state: Exp;
Added variable for bogus error number return when game exits
----------------------------
revision 1.2
date: 1994/10/18 16:43:52;  author: allender;  state: Exp;
Added constants for id and time stamping
----------------------------
revision 1.1
date: 1994/10/17 09:56:47;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/digi.h,v
Working file: main/digi.h
head: 2.0
branch:
description: Include file for sound hardware.
----------------------------
revision 2.0
date: 1995/02/27 11:28:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.29
date: 1995/02/11 12:42:00;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.28
date: 1995/02/03 17:08:26;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.27
date: 1995/02/01 22:20:31;  author: john;  state: Exp;
Added digi_is_sound_playing.
----------------------------
revision 1.26
date: 1994/12/20 18:03:51;  author: john;  state: Exp;
Added loop midi flag.
----------------------------
revision 1.25
date: 1994/12/13 00:46:14;  author: john;  state: Exp;
Split digi and midi volume into 2 seperate functions.
----------------------------
revision 1.24
date: 1994/12/10 20:34:53;  author: john;  state: Exp;
Added digi_kill_sound_linked_to_object.
----------------------------
revision 1.23
date: 1994/12/10 15:59:39;  author: mike;  state: Exp;
Fixed bug.
----------------------------
revision 1.22
date: 1994/12/10 15:44:35;  author: john;  state: Exp;
Added max_distance passing for sound objects.
----------------------------
revision 1.21
date: 1994/12/05 12:17:40;  author: john;  state: Exp;
Added code that locks/unlocks digital sounds on demand.
----------------------------
revision 1.20
date: 1994/11/28 18:34:57;  author: john;  state: Exp;
Made the digi_max_channels cut of an old sound instead of
not playing a new sound.
----------------------------
revision 1.19
date: 1994/11/14 17:53:56;  author: allender;  state: Exp;
made some digi variables extern
----------------------------
revision 1.18
date: 1994/10/28 14:42:58;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.17
date: 1994/10/11 15:25:37;  author: john;  state: Exp;
Added new function to play a sound once...
----------------------------
revision 1.16
date: 1994/10/03 20:51:44;  author: john;  state: Exp;
Started added pause sound function; for the network I changed to 
packet structure a bit; never tested, though.
----------------------------
revision 1.15
date: 1994/10/03 13:09:43;  author: john;  state: Exp;
Added Pause function, but never tested it yet.
----------------------------
revision 1.14
date: 1994/09/30 10:09:24;  author: john;  state: Exp;
Changed sound stuff... made it so the reseting card doesn't hang, 
made volume change only if sound is installed.
----------------------------
revision 1.13
date: 1994/09/29 21:13:43;  author: john;  state: Exp;
Added Master volumes for digi and midi. Also took out panning,
because it doesn't work with MasterVolume stuff. 
----------------------------
revision 1.12
date: 1994/09/29 12:42:34;  author: john;  state: Exp;
Added sidenum to keep track of sound pos. Made sound functions
not do anything if nosound. Made sounds_init delete currently
playing sounds.
----------------------------
revision 1.11
date: 1994/09/29 12:23:42;  author: john;  state: Exp;
Added digi_kill_sound_linked_to_segment function.
----------------------------
revision 1.10
date: 1994/09/29 11:59:04;  author: john;  state: Exp;
Added digi_kill_sound
----------------------------
revision 1.9
date: 1994/09/29 10:37:38;  author: john;  state: Exp;
Added sound objects that dynamicaly change volume,pan.
----------------------------
revision 1.8
date: 1994/09/28 16:18:37;  author: john;  state: Exp;
Added capability to play midi song.
----------------------------
revision 1.7
date: 1994/06/17 18:01:41;  author: john;  state: Exp;
A bunch of new stuff by John
----------------------------
revision 1.6
date: 1994/06/15 19:00:58;  author: john;  state: Exp;
Added the capability to make 3d sounds play just once for the
laser hit wall effects.
----------------------------
revision 1.5
date: 1994/06/07 10:54:30;  author: john;  state: Exp;
Made key S reinit the sound system.
----------------------------
revision 1.4
date: 1994/05/09 21:11:39;  author: john;  state: Exp;
Sound changes; pass index instead of pointer to digi routines.
Made laser sound cut off the last laser sound.
----------------------------
revision 1.3
date: 1994/04/27 11:44:25;  author: john;  state: Exp;
First version of sound! Yay!
----------------------------
revision 1.2
date: 1994/04/20 21:58:50;  author: john;  state: Exp;
First version of sound stuff... hopefully everything
is commented out because it hangs..
----------------------------
revision 1.1
date: 1994/04/15 14:25:02;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/digicomp.h,v
Working file: main/digicomp.h
head: 2.0
branch:
description: prototypes for digicomp.c
----------------------------
revision 2.0
date: 1995/02/27 11:27:54;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/12/07 18:42:30;  author: john;  state: Exp;
Initial, unused version..
----------------------------
revision 1.1
date: 1994/12/05 09:37:23;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/div/div0.h,v
Working file: div/div0.h
head: 1.2
branch:
description: Header file for divide by zero handler
----------------------------
revision 1.2
date: 1994/01/14 15:34:25;  author: john;  state: Exp;
Added counters for number of overflows.
----------------------------
revision 1.1
date: 1993/09/17 12:37:58;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/dpmi.h,v
Working file: bios/dpmi.h
head: 1.9
branch:
description: Prototypes for DPMI services.
----------------------------
revision 1.9
date: 1995/01/14 19:20:14;  author: john;  state: Exp;
Added function to set a selector's base address.
----------------------------
revision 1.8
date: 1994/11/28 20:22:03;  author: john;  state: Exp;
Added some variables that return the amount of available 
memory.
----------------------------
revision 1.7
date: 1994/11/15 18:26:38;  author: john;  state: Exp;
Added verbose flag.
----------------------------
revision 1.6
date: 1994/11/07 11:35:05;  author: john;  state: Exp;
Added prototype for real_free
----------------------------
revision 1.5
date: 1994/10/27 19:54:48;  author: john;  state: Exp;
Added unlock region function,.
----------------------------
revision 1.4
date: 1994/09/27 18:27:56;  author: john;  state: Exp;
Added pragma to make inp,outp,enable,disable intrinsic
----------------------------
revision 1.3
date: 1994/09/27 11:54:45;  author: john;  state: Exp;
Added DPMI init function.
----------------------------
revision 1.2
date: 1994/08/24 18:53:51;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.1
date: 1994/08/24 10:22:48;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/editor.h,v
Working file: main/editor/editor.h
head: 2.0
branch:
description: Header for editor functions, data strcutures, etc.
----------------------------
revision 2.0
date: 1995/02/27 11:34:47;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.113
date: 1994/11/17 14:47:55;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.112
date: 1994/08/03 10:30:51;  author: mike;  state: Exp;
Prototype Stretch_scale_x and Stretch_scale_y.
----------------------------
revision 1.111
date: 1994/08/02 14:18:23;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.110
date: 1994/07/28 16:59:45;  author: mike;  state: Exp;
objects containing objects.
----------------------------
revision 1.109
date: 1994/07/21 12:45:18;  author: mike;  state: Exp;
Add Editor_time_of_day, prototype render_3d_in_big_window, move_object_to_mouse_click.
----------------------------
revision 1.108
date: 1994/07/20 16:43:33;  author: mike;  state: Exp;
Move a bunch of things here so eobject can access variables in med
----------------------------
revision 1.107
date: 1994/07/06 16:36:43;  author: mike;  state: Exp;
Prototype draw_world_from_game.
----------------------------
revision 1.106
date: 1994/06/24 17:04:26;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.105
date: 1994/06/08 18:13:53;  author: mike;  state: Exp;
Add prototype for med_validate_segment_all
----------------------------
revision 1.104
date: 1994/05/23 14:47:59;  author: mike;  state: Exp;
Make current segment be add segment.
----------------------------
revision 1.103
date: 1994/05/19 23:34:46;  author: mike;  state: Exp;
Change VMAG to be compatible with new uv coordinates in range 0..1.0.
----------------------------
revision 1.102
date: 1994/05/19 12:10:12;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.101
date: 1994/05/14 18:00:34;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.100
date: 1994/05/14 17:18:12;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.99
date: 1994/05/09 23:33:20;  author: mike;  state: Exp;
Current_group, make med_combine_duplicate_vertices take vlp parameter.
Change med_find_closest_threshold_segment_side take threshold as a parameter.
----------------------------
revision 1.98
date: 1994/05/06 14:39:46;  author: mike;  state: Exp;
Prototype place_object.
----------------------------
revision 1.97
date: 1994/05/04 19:16:12;  author: mike;  state: Exp;
Add prototype for Degenerate_segment_found.
----------------------------
revision 1.96
date: 1994/05/04 13:07:34;  author: matt;  state: Exp;
Moved a bunch of color constants to meddraw.c, which was the only file
that used them.
----------------------------
revision 1.95
date: 1994/05/03 11:06:08;  author: mike;  state: Exp;
Change VMAG, add constants for SEGSIZEMODE_FREE, etc.
----------------------------
revision 1.94
date: 1994/05/02 17:56:29;  author: yuan;  state: Exp;
Changed undo_status into array rather than malloced pointers.
----------------------------
revision 1.93
date: 1994/04/19 18:29:37;  author: matt;  state: Exp;
In wire-frame editor window, draw objects as "spheres"
----------------------------
revision 1.92
date: 1994/04/13 13:25:12;  author: mike;  state: Exp;
Add constant definitions for each keypad.
----------------------------
revision 1.91
date: 1994/04/01 11:17:08;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.90
date: 1994/03/21 16:54:16;  author: yuan;  state: Exp;
Fixed bogus group generated by segment rotation.
----------------------------
revision 1.89
date: 1994/02/16 13:49:07;  author: mike;  state: Exp;
enable editor to compile out.
----------------------------
revision 1.88
date: 1994/02/10 16:04:57;  author: mike;  state: Exp;
separate editor based on EDITOR flag.
----------------------------
revision 1.87
date: 1994/02/08 12:41:29;  author: yuan;  state: Exp;
Added med_load_game function prototype
----------------------------
revision 1.86
date: 1994/01/14 12:16:04;  author: yuan;  state: Exp;
Fixed function prototype for med_find_closest_threshold_segment_side.
----------------------------
revision 1.85
date: 1994/01/14 11:58:55;  author: yuan;  state: Exp;
New function in build menu. 
"Punch" through walls to force a joint formation with
closest segment:side, if the closest segment:side allows
a connection.
----------------------------
revision 1.84
date: 1994/01/06 12:57:47;  author: mike;  state: Exp;
Fix bug in assigning texture maps and uv coordinates to removable wall.
----------------------------
revision 1.83
date: 1994/01/05 17:51:04;  author: mike;  state: Exp;
Add prototypes for create_removable_wall and remove_removable_wall
----------------------------
revision 1.82
date: 1994/01/05 09:59:09;  author: yuan;  state: Exp;
Added med_load_pmine function prototype
----------------------------
revision 1.81
date: 1993/12/16 14:00:46;  author: mike;  state: Exp;
Add Curvert and Curedge.
----------------------------
revision 1.80
date: 1993/12/14 18:33:07;  author: yuan;  state: Exp;
Added prototype for timed autosave.
----------------------------
revision 1.79
date: 1993/12/10 14:48:48;  author: mike;  state: Exp;
Kill orthogonal views.
----------------------------
revision 1.78
date: 1993/12/09 16:27:16;  author: yuan;  state: Exp;
Added toggle for autosave
----------------------------
revision 1.77
date: 1993/12/09 14:02:52;  author: mike;  state: Exp;
Add prototype for med_combine_duplicate_vertices.
----------------------------
revision 1.76
date: 1993/12/08 10:59:52;  author: mike;  state: Exp;
Add DisplayCurrentRobotType and Cur_object_index.
----------------------------
revision 1.75
date: 1993/12/06 18:43:49;  author: matt;  state: Exp;
Changed object loading & handling
----------------------------
revision 1.74
date: 1993/12/05 22:50:49;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.73
date: 1993/12/02 17:51:31;  author: john;  state: Exp;
Changed my variable to match Mike's
----------------------------
revision 1.72
date: 1993/12/02 17:36:26;  author: john;  state: Exp;
added cur_obj_type
----------------------------
revision 1.71
date: 1993/11/30 17:06:33;  author: mike;  state: Exp;
Add prototype for med_set_vertex.
----------------------------
revision 1.70
date: 1993/11/29 19:47:11;  author: matt;  state: Exp;
Changed how coordinate axes draw routine gets vertices
Added functions alloc_vert() & free_vert()
=============================================================================
RCS file: f:/miner/source/2d/effect2d.h,v
Working file: 2d/effect2d.h
head: 1.2
branch:
description: .
----------------------------
revision 1.2
date: 1994/02/01 13:18:47;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/01/28 11:59:37;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/effects.h,v
Working file: 2d/effects.h
head: 1.2
branch:
description: Special effects stuff.
----------------------------
revision 1.2
date: 1993/10/26 13:17:58;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/10/25 14:56:02;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/ehostage.h,v
Working file: main/editor/ehostage.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:35:13;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/07/01 17:57:14;  author: john;  state: Exp;
First version of not-working hostage system
----------------------------
revision 1.1
date: 1994/07/01 14:24:41;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/endlevel.h,v
Working file: main/endlevel.h
head: 2.0
branch:
description: Header for newfile.c
----------------------------
revision 2.0
date: 1995/02/27 11:31:37;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/06 13:24:55;  author: matt;  state: Exp;
Made exit model come out of bitmaps.tbl
----------------------------
revision 1.4
date: 1994/11/19 12:41:35;  author: matt;  state: Exp;
Added system to read endlevel data from file, and to make it work
with any exit tunnel.
----------------------------
revision 1.3
date: 1994/10/30 20:09:20;  author: matt;  state: Exp;
For endlevel: added big explosion at tunnel exit; made lights in tunnel 
go out; made more explosions on walls.
----------------------------
revision 1.2
date: 1994/08/19 20:09:38;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.1
date: 1994/08/15 19:18:47;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/eobject.h,v
Working file: main/editor/eobject.h
head: 2.0
branch:
description: Header for eobject.c
----------------------------
revision 2.0
date: 1995/02/27 11:35:30;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.5
date: 1994/09/15 22:57:46;  author: matt;  state: Exp;
Made new objects be oriented to their segment
Added keypad function to flip an object upside-down
----------------------------
revision 1.4
date: 1994/08/25 21:57:23;  author: mike;  state: Exp;
Prototype ObjectSelectPrevInMine, and probably wrote it too, though not in this file.
----------------------------
revision 1.3
date: 1994/08/05 18:17:48;  author: matt;  state: Exp;
Made object rotation have 4x resolution, and SHIFT+rotate do old resolution.
----------------------------
revision 1.2
date: 1994/05/14 18:00:59;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 17:36:30;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/misc/error.h,v
Working file: misc/error.h
head: 1.12
branch:
description: Header for error handling/printing/exiting code
----------------------------
revision 1.12
date: 1994/06/17 15:22:46;  author: matt;  state: Exp;
Added pragma for Error() for when NDEBUG
----------------------------
revision 1.11
date: 1994/03/07 13:22:14;  author: matt;  state: Exp;
Since the Error() function has 'aborts' set in pragma, we do a jmp
to the function rather than call.
----------------------------
revision 1.10
date: 1994/02/17 12:37:15;  author: matt;  state: Exp;
Combined two pragma's for Error(), since second superseded the first
----------------------------
revision 1.9
date: 1994/02/10 18:02:53;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.8
date: 1994/02/09 15:18:29;  author: matt;  state: Exp;
Added pragma saying that Error() never returns
----------------------------
revision 1.7
date: 1993/10/19 12:57:53;  author: matt;  state: Exp;
If DEBUG_ON not defined, define it to be 1
----------------------------
revision 1.6
date: 1993/10/15 21:40:39;  author: matt;  state: Exp;
Made error functions generate int3's if debugging on
----------------------------
revision 1.5
date: 1993/10/14 15:29:22;  author: matt;  state: Exp;
Added new function clear_warn_func()
----------------------------
revision 1.4
date: 1993/10/08 16:16:47;  author: matt;  state: Exp;
Made Assert() call function _Assert(), rather to do 'if...' inline.
----------------------------
revision 1.3
date: 1993/09/29 11:39:07;  author: matt;  state: Exp;
Added Assert() macro, like the system one, but calls Error()
----------------------------
revision 1.2
date: 1993/09/27 11:47:03;  author: matt;  state: Exp;
Added function set_warn_func()
----------------------------
revision 1.1
date: 1993/09/23 20:17:46;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/eswitch.h,v
Working file: main/editor/eswitch.h
head: 2.0
branch:
description: Headers for switch adding functions
----------------------------
revision 2.0
date: 1995/02/27 11:35:40;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.6
date: 1994/05/30 20:22:35;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.5
date: 1994/05/27 10:34:35;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.4
date: 1994/05/25 18:08:39;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.3
date: 1994/04/28 23:46:56;  author: yuan;  state: Exp;
Added prototype for remove_trigger.
----------------------------
revision 1.2
date: 1994/03/15 16:34:20;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.1
date: 1994/03/10 14:49:03;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/fireball.h,v
Working file: main/fireball.h
head: 2.0
branch:
description: Header for fireball.c
----------------------------
revision 2.0
date: 1995/02/27 11:27:03;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.13
date: 1995/01/17 12:14:38;  author: john;  state: Exp;
Made walls, object explosion vclips load at level start.
----------------------------
revision 1.12
date: 1995/01/13 15:41:52;  author: rob;  state: Exp;
Added prototype for maybe_replace_powerup_with_energy
----------------------------
revision 1.11
date: 1994/11/17 16:28:36;  author: rob;  state: Exp;
Changed maybe_drop_cloak_powerup to maybe_drop_net_powerup (more
generic and useful)
----------------------------
revision 1.10
date: 1994/10/12 08:03:42;  author: mike;  state: Exp;
Prototype maybe_drop_cloak_powerup.
----------------------------
revision 1.9
date: 1994/10/11 12:24:39;  author: matt;  state: Exp;
Cleaned up/change badass explosion calls
----------------------------
revision 1.8
date: 1994/09/07 16:00:34;  author: mike;  state: Exp;
Add object pointer to parameter list of object_create_badass_explosion.
----------------------------
revision 1.7
date: 1994/09/02 14:00:39;  author: matt;  state: Exp;
Simplified explode_object() & mutliple-stage explosions
----------------------------
revision 1.6
date: 1994/08/17 16:49:58;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.5
date: 1994/07/14 22:39:19;  author: matt;  state: Exp;
Added exploding doors
----------------------------
revision 1.4
date: 1994/06/08 10:56:36;  author: matt;  state: Exp;
Improved debris: now get submodel size from new POF files; debris now has
limited life; debris can now be blown up.
----------------------------
revision 1.3
date: 1994/04/01 13:35:44;  author: matt;  state: Exp;
Added multiple-stage explosions
----------------------------
revision 1.2
date: 1994/02/17 11:33:32;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.1
date: 1994/02/16 22:41:15;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/fix/fix.h,v
Working file: fix/fix.h
head: 1.13
branch:
description: FIX.H - prototypes and macros for fixed-point functions
Copyright (c) 1993  Matt Toschlog & Mike Kulas
----------------------------
revision 1.13
date: 1994/12/06 13:52:34;  author: matt;  state: Exp;
Added f2ir(), which is fix-to-int with rounding
----------------------------
revision 1.12
date: 1994/05/18 21:45:16;  author: matt;  state: Exp;
Added comments
----------------------------
revision 1.11
date: 1994/01/19 23:12:02;  author: matt;  state: Exp;
Made fix_atan2() left-handed, like our coordinate system
----------------------------
revision 1.10
date: 1993/10/20 01:09:00;  author: matt;  state: Exp;
Add fix_asin(), improved fix_atan2()
----------------------------
revision 1.9
date: 1993/10/19 23:53:46;  author: matt;  state: Exp;
Added fix_atan2()
----------------------------
revision 1.8
date: 1993/10/19 22:22:40;  author: matt;  state: Exp;
Added fix_acos()
----------------------------
revision 1.7
date: 1993/09/17 11:37:01;  author: mike;  state: Exp;
Add capitalized versions of "some handy constants", eg:
#define F1_0 f1_0
----------------------------
revision 1.6
date: 1993/08/24 13:00:48;  author: matt;  state: Exp;
Adopted new standard, and made assembly-callable routines not trash any regs
----------------------------
revision 1.5
date: 1993/08/12 13:12:45;  author: matt;  state: Exp;
Changed fixmul() to use SHRD instead of shl,shr,or
----------------------------
revision 1.4
date: 1993/08/04 19:57:18;  author: matt;  state: Exp;
Added parens in fix/float conversion macros
----------------------------
revision 1.3
date: 1993/08/04 11:41:45;  author: matt;  state: Exp;
Fixed bogus constants
----------------------------
revision 1.2
date: 1993/08/04 09:30:11;  author: matt;  state: Exp;
Added more constants
----------------------------
revision 1.1
date: 1993/08/03 17:45:53;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/fuelcen.h,v
Working file: main/fuelcen.h
head: 2.0
branch:
description: Definitions for fueling centers.
----------------------------
revision 2.0
date: 1995/02/27 11:28:43;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.26
date: 1995/01/26 12:19:16;  author: rob;  state: Exp;
Added externs of things needed for multiplayer.
----------------------------
revision 1.25
date: 1994/10/30 14:11:10;  author: mike;  state: Exp;
rip out repair center stuff.
----------------------------
revision 1.24
date: 1994/10/03 23:36:36;  author: mike;  state: Exp;
Add segnum and fuelcen_num (renaming dest_seg and *path) in matcen_info struct.
----------------------------
revision 1.23
date: 1994/09/30 00:37:44;  author: mike;  state: Exp;
Change FuelCenter struct.
----------------------------
revision 1.22
date: 1994/09/27 15:42:49;  author: mike;  state: Exp;
Kill some obsolete matcen constants, Prototype Special_names.
----------------------------
revision 1.21
date: 1994/09/27 00:04:30;  author: mike;  state: Exp;
Moved FuelCenter struct here from fuelcen.c
----------------------------
revision 1.20
date: 1994/09/25 15:55:37;  author: mike;  state: Exp;
Prototype function disable_matcens.
----------------------------
revision 1.19
date: 1994/09/24 17:41:34;  author: mike;  state: Exp;
Prototype trigger_matcen.
----------------------------
revision 1.18
date: 1994/08/03 17:52:19;  author: matt;  state: Exp;
Tidied up repair centers a bit
----------------------------
revision 1.17
date: 1994/08/02 12:16:01;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/08/01 11:04:03;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.15
date: 1994/07/21 19:02:15;  author: mike;  state: Exp;
break repair centers.
----------------------------
revision 1.14
date: 1994/07/14 11:25:22;  author: john;  state: Exp;
Made control centers destroy better; made automap use Tab key.
----------------------------
revision 1.13
date: 1994/07/13 10:45:33;  author: john;  state: Exp;
Made control center object switch when dead.
----------------------------
revision 1.12
date: 1994/07/09 17:36:44;  author: mike;  state: Exp;
Add extern for find_connected_repair_seg.
----------------------------
revision 1.11
date: 1994/06/15 19:00:32;  author: john;  state: Exp;
Show timer in on top of 3d with mine destroyed...
----------------------------
revision 1.10
date: 1994/05/31 16:49:46;  author: john;  state: Exp;
Begin to add robot materialization centers.
----------------------------
revision 1.9
date: 1994/05/30 20:22:03;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.8
date: 1994/05/05 16:41:14;  author: matt;  state: Exp;
Cleaned up repair center code, and moved some from object.c to fuelcen.c
----------------------------
revision 1.7
date: 1994/04/21 20:41:21;  author: yuan;  state: Exp;
Added extern.
----------------------------
revision 1.6
date: 1994/04/21 20:28:32;  author: john;  state: Exp;
Added flag for Yuan to tell when a fuel center is destroyed.
----------------------------
revision 1.5
date: 1994/04/14 17:00:59;  author: john;  state: Exp;
Made repair cen's work properly; added reset_all_fuelcens.
----------------------------
revision 1.4
date: 1994/04/12 20:28:04;  author: john;  state: Exp;
Added control center.
----------------------------
revision 1.3
date: 1994/04/08 15:37:10;  author: john;  state: Exp;
Added repair centers.
----------------------------
revision 1.2
date: 1994/04/06 19:10:38;  author: john;  state: Exp;
NEw version.
----------------------------
revision 1.1
date: 1994/04/06 12:39:02;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/func.h,v
Working file: ui/func.h
head: 1.1
branch:
description: .
----------------------------
revision 1.1
date: 1994/11/27 14:52:03;  author: matt;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1994/11/21 14:13:31;  author: matt;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1993/11/15 12:28:13;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/fvi.h,v
Working file: main/fvi.h
head: 2.1
branch:
description: Header for fvi.c
----------------------------
revision 2.1
date: 1995/03/20 18:15:58;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:32:02;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.10
date: 1995/02/02 14:07:58;  author: matt;  state: Exp;
Fixed confusion about which segment you are touching when you're 
touching a wall.  This manifested itself in spurious lava burns.
----------------------------
revision 1.9
date: 1994/12/04 22:48:04;  author: matt;  state: Exp;
Physics & FVI now only build seglist for player objects, and they 
responsilby deal with buffer full conditions
----------------------------
revision 1.8
date: 1994/10/31 12:28:01;  author: matt;  state: Exp;
Added new function object_intersects_wall()
----------------------------
revision 1.7
date: 1994/10/10 13:10:00;  author: matt;  state: Exp;
Increased max_fvi_segs
----------------------------
revision 1.6
date: 1994/09/25 00:38:29;  author: matt;  state: Exp;
Made the 'find the point in the bitmap where something hit' system
publicly accessible.
----------------------------
revision 1.5
date: 1994/08/01 13:30:35;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.4
date: 1994/07/13 21:47:59;  author: matt;  state: Exp;
FVI() and physics now keep lists of segments passed through which the
trigger code uses.
----------------------------
revision 1.3
date: 1994/07/08 14:27:26;  author: matt;  state: Exp;
Non-needed powerups don't get picked up now; this required changing FVI to
take a list of ingore objects rather than just one ignore object.
----------------------------
revision 1.2
date: 1994/06/09 09:58:39;  author: matt;  state: Exp;
Moved find_vector_intersection() from physics.c to new file fvi.c
----------------------------
revision 1.1
date: 1994/06/09 09:26:14;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/game.h,v
Working file: main/game.h
head: 2.1
branch:
description: Constants & prototypes which pertain to the game only
----------------------------
revision 2.1
date: 1995/03/06 15:23:22;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:28:21;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.79
date: 1995/02/13 10:37:17;  author: john;  state: Exp;
Saved Buggin' cheat mode to save file.
----------------------------
revision 1.78
date: 1995/02/01 16:34:12;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.77
date: 1995/01/29 21:37:14;  author: mike;  state: Exp;
initialize variables on game load so you don't drain your energy when you fire.
----------------------------
revision 1.76
date: 1995/01/26 22:11:36;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.75
date: 1995/01/26 16:45:31;  author: mike;  state: Exp;
Add autofire fusion cannon stuff.
----------------------------
revision 1.74
date: 1994/12/11 23:18:06;  author: john;  state: Exp;
Added -nomusic.
Added RealFrameTime.
Put in a pause when sound initialization error.
Made controlcen countdown and framerate use RealFrameTime.
----------------------------
revision 1.73
date: 1994/12/09 00:41:24;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.72
date: 1994/12/04 13:47:00;  author: mike;  state: Exp;
enhance custom detail level support.
----------------------------
revision 1.71
date: 1994/12/02 15:05:44;  author: matt;  state: Exp;
Added new "official" cheats
----------------------------
revision 1.70
date: 1994/11/28 18:14:09;  author: rob;  state: Exp;
Added game_mode flag for team games.
----------------------------
revision 1.69
date: 1994/11/15 16:51:13;  author: matt;  state: Exp;
Made rear view only switch to rear cockpit if cockpit on in front view
----------------------------
revision 1.68
date: 1994/11/04 16:26:10;  author: john;  state: Exp;
Fixed bug with letterbox mode game after you finish a game.
----------------------------
revision 1.67
date: 1994/11/02 11:59:48;  author: john;  state: Exp;
Moved menu out of game into inferno main loop.
----------------------------
revision 1.66
date: 1994/10/26 23:02:19;  author: matt;  state: Exp;
Made palette flash saturate negative values
----------------------------
revision 1.65
date: 1994/10/26 15:21:05;  author: mike;  state: Exp;
Detail level stuff.  Make Render_depth public.
----------------------------
revision 1.64
date: 1994/10/19 00:13:01;  author: matt;  state: Exp;
Added prototypes
----------------------------
revision 1.63
date: 1994/10/09 14:54:39;  author: matt;  state: Exp;
Made player cockpit state & window size save/restore with saved games & automap
----------------------------
revision 1.62
date: 1994/10/08 19:56:32;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.61
date: 1994/10/07 22:19:32;  author: mike;  state: Exp;
Increase number of difficulty levels from 4 to 5.
----------------------------
revision 1.60
date: 1994/10/06 14:14:11;  author: matt;  state: Exp;
Added new function to reset time (to prevent big FrameTime) at start of level
----------------------------
revision 1.59
date: 1994/10/05 17:08:43;  author: matt;  state: Exp;
Changed order of cockpit bitmaps, since there's no longer a full-screen cockpit
----------------------------
revision 1.58
date: 1994/10/03 23:44:13;  author: matt;  state: Exp;
Save & restore palette effect around menus & pause message
----------------------------
revision 1.57
date: 1994/09/29 17:42:12;  author: matt;  state: Exp;
Cleaned up game_mode a little
----------------------------
revision 1.56
date: 1994/09/28 23:12:01;  author: matt;  state: Exp;
Macroized palette flash system
----------------------------
revision 1.55
date: 1994/09/24 16:56:13;  author: rob;  state: Exp;
Added new fields for the Game_mode bitvector for modem play.
----------------------------
revision 1.54
date: 1994/09/24 14:16:20;  author: mike;  state: Exp;
Added new game mode constants.
----------------------------
revision 1.53
date: 1994/09/22 19:00:57;  author: mike;  state: Exp;
Move NDL from robot.h to here.
----------------------------
revision 1.52
date: 1994/09/22 10:46:51;  author: mike;  state: Exp;
Add difficulty levels.
----------------------------
revision 1.51
date: 1994/09/17 01:39:52;  author: matt;  state: Exp;
Added status bar/sizable window mode, and in the process revamped the
whole cockpit mode system.
----------------------------
revision 1.50
date: 1994/09/15 21:23:10;  author: matt;  state: Exp;
Changed system to keep track of whether & what cockpit is up
----------------------------
revision 1.49
date: 1994/09/15 16:11:33;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.48
date: 1994/09/13 16:40:10;  author: mike;  state: Exp;
Prototype Global_missile_firing_count.
----------------------------
revision 1.47
date: 1994/09/13 11:19:05;  author: mike;  state: Exp;
Add Next_missile_fire_time.
----------------------------
revision 1.46
date: 1994/09/12 09:52:50;  author: john;  state: Exp;
Made global flush function that flushes keyboard,mouse, and joystick.
----------------------------
revision 1.45
date: 1994/09/03 15:24:14;  author: mike;  state: Exp;
Make global Global_laser_firing_count.
----------------------------
revision 1.44
date: 1994/08/31 19:26:57;  author: mike;  state: Exp;
Prototypes for Next_laser_fire_time, Laser_delay_time.
----------------------------
revision 1.43
date: 1994/08/18 10:47:22;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.42
date: 1994/08/11 18:03:53;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.41
date: 1994/06/29 20:41:38;  author: matt;  state: Exp;
Added new pause mode; cleaned up countdown & game startup code
----------------------------
revision 1.40
date: 1994/06/24 17:03:49;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.39
date: 1994/06/20 15:01:08;  author: yuan;  state: Exp;
Added death when mine blows up...
Continues onto next level.
----------------------------
revision 1.38
date: 1994/06/17 18:07:20;  author: matt;  state: Exp;
Moved some vars out of ifdef
----------------------------
revision 1.37
date: 1994/06/15 11:09:22;  author: yuan;  state: Exp;
Moved gauge_message to mono screen for now.
----------------------------
revision 1.36
date: 1994/05/30 20:22:11;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.35
date: 1994/05/27 10:32:48;  author: yuan;  state: Exp;
New dialog boxes (Walls and Triggers) added.
----------------------------
revision 1.34
date: 1994/05/20 11:56:45;  author: matt;  state: Exp;
Cleaned up find_vector_intersection() interface
Killed check_point_in_seg(), check_player_seg(), check_object_seg()
----------------------------
revision 1.33
date: 1994/05/19 21:45:21;  author: matt;  state: Exp;
Removed unused prototypes
----------------------------
revision 1.32
date: 1994/05/19 18:53:17;  author: yuan;  state: Exp;
Changing player structure...
----------------------------
revision 1.31
date: 1994/05/16 16:38:35;  author: yuan;  state: Exp;
Fixed palette add so it doesn't show up in the menu.
----------------------------
revision 1.30
date: 1994/05/16 09:28:17;  author: matt;  state: Exp;
Renamed init_player() to be init_player_stats(), added new funtion
init_player_object()
----------------------------
revision 1.29
date: 1994/05/14 17:14:57;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
=============================================================================
RCS file: f:/miner/source/main/gamefont.h,v
Working file: main/gamefont.h
head: 2.0
branch:
description: Font declarations for the game,.
----------------------------
revision 2.0
date: 1995/02/27 11:31:09;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.7
date: 1994/11/18 16:41:28;  author: adam;  state: Exp;
trimmed meat
----------------------------
revision 1.6
date: 1994/11/17 13:07:00;  author: adam;  state: Exp;
removed unused font
----------------------------
revision 1.5
date: 1994/11/03 21:36:02;  author: john;  state: Exp;
Added code for credit fonts.
----------------------------
revision 1.4
date: 1994/08/17 20:20:25;  author: matt;  state: Exp;
Took out alternate-color versions of font3, since this is a mono font
----------------------------
revision 1.3
date: 1994/08/11 12:44:32;  author: adam;  state: Exp;
killed a #define
----------------------------
revision 1.2
date: 1994/08/10 19:57:16;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.1
date: 1994/08/10 17:20:22;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gamemine.h,v
Working file: main/gamemine.h
head: 2.0
branch:
description: Header for gamemine.c
----------------------------
revision 2.0
date: 1995/02/27 11:28:50;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.15
date: 1994/11/17 11:39:34;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.14
date: 1994/10/19 16:46:40;  author: matt;  state: Exp;
Made tmap overrides for robots remap texture numbers
----------------------------
revision 1.13
date: 1994/09/23 22:14:37;  author: matt;  state: Exp;
Took out obsolete structure fields
----------------------------
revision 1.12
date: 1994/07/22 12:36:32;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.11
date: 1994/06/01 11:21:37;  author: yuan;  state: Exp;
Added controlcentertriggers to the gamesave.
----------------------------
revision 1.10
date: 1994/05/10 12:14:26;  author: yuan;  state: Exp;
Game save/load... Demo levels 1-5 added...
High scores fixed...
----------------------------
revision 1.9
date: 1994/05/04 18:25:05;  author: yuan;  state: Exp;
Working on gamesave.
----------------------------
revision 1.8
date: 1994/05/03 15:53:27;  author: yuan;  state: Exp;
Readded structure field groups for backward compatibility...
----------------------------
revision 1.7
date: 1994/05/03 11:36:26;  author: yuan;  state: Exp;
Stabilizing gamesave stuff.
----------------------------
revision 1.6
date: 1994/04/28 11:01:32;  author: yuan;  state: Exp;
Added objects in structure.
----------------------------
revision 1.5
date: 1994/04/06 18:30:03;  author: john;  state: Exp;
Added Refueling segments.
----------------------------
revision 1.4
date: 1994/03/17 18:06:53;  author: yuan;  state: Exp;
Removed switch code... Now we just have Walls, Triggers, and Links...
----------------------------
revision 1.3
date: 1994/03/01 18:12:24;  author: yuan;  state: Exp;
Wallswitches, triggers, and more!
----------------------------
revision 1.2
date: 1994/02/10 15:36:01;  author: matt;  state: Exp;
Various changes to make editor compile out.
----------------------------
revision 1.1
date: 1994/02/09 17:11:45;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gamesave.h,v
Working file: main/gamesave.h
head: 2.0
branch:
description: Headers for gamesave.c
----------------------------
revision 2.0
date: 1995/02/27 11:30:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.11
date: 1994/11/23 12:19:32;  author: mike;  state: Exp;
detail level menu.
----------------------------
revision 1.10
date: 1994/10/20 12:47:30;  author: matt;  state: Exp;
Replace old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.9
date: 1994/09/27 17:08:47;  author: mike;  state: Exp;
Message boxes when you load bogus mines.
----------------------------
revision 1.8
date: 1994/09/27 15:43:05;  author: mike;  state: Exp;
Prototype write_game_text.
----------------------------
revision 1.7
date: 1994/09/14 15:46:39;  author: matt;  state: Exp;
Added function load_mine_only()
----------------------------
revision 1.6
date: 1994/07/22 12:36:28;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.5
date: 1994/07/20 13:38:14;  author: matt;  state: Exp;
Added get_level_name() prototype
----------------------------
revision 1.4
date: 1994/06/20 22:19:41;  author: john;  state: Exp;
Added Gamesave_num_org_robots.
----------------------------
revision 1.3
date: 1994/06/14 11:32:49;  author: john;  state: Exp;
Made Newdemo record & restore the current mine.
----------------------------
revision 1.2
date: 1994/05/14 17:16:25;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:01:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gameseg.h,v
Working file: main/gameseg.h
head: 2.0
branch:
description: Header file for stuff moved from segment.c to gameseg.c.
----------------------------
revision 2.0
date: 1995/02/27 11:31:20;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.24
date: 1995/02/01 16:34:03;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.23
date: 1995/01/16 21:06:36;  author: mike;  state: Exp;
Move function pick_random_point_in_segment from fireball.c to gameseg.c.
----------------------------
revision 1.22
date: 1994/11/23 12:18:59;  author: mike;  state: Exp;
prototype for level names.
----------------------------
revision 1.21
date: 1994/11/17 14:56:59;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.20
date: 1994/11/16 23:38:46;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.19
date: 1994/10/30 14:12:14;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.18
date: 1994/10/09 23:51:07;  author: matt;  state: Exp;
Made find_hitpoint_uv() work with triangulated sides
----------------------------
revision 1.17
date: 1994/10/06 14:08:22;  author: matt;  state: Exp;
Added new function, extract_orient_from_segment()
----------------------------
revision 1.16
date: 1994/09/19 21:05:52;  author: mike;  state: Exp;
Prototype for find_connected_distance.
----------------------------
revision 1.15
date: 1994/08/11 18:58:45;  author: mike;  state: Exp;
Change shorts to ints.
----------------------------
revision 1.14
date: 1994/08/04 00:21:09;  author: matt;  state: Exp;
Cleaned up fvi & physics error handling; put in code to make sure objects
are in correct segment; simplified segment finding for objects and points
----------------------------
revision 1.13
date: 1994/08/02 19:04:25;  author: matt;  state: Exp;
Cleaned up vertex list functions
----------------------------
revision 1.12
date: 1994/07/21 19:01:53;  author: mike;  state: Exp;
lsegment stuff.
----------------------------
revision 1.11
date: 1994/07/07 09:31:13;  author: matt;  state: Exp;
Added comments
----------------------------
revision 1.10
date: 1994/06/14 12:21:20;  author: matt;  state: Exp;
Added new function, find_point_seg()
----------------------------
revision 1.9
date: 1994/05/29 23:17:38;  author: matt;  state: Exp;
Move find_object_seg() from physics.c to gameseg.c
Killed unused find_point_seg()
----------------------------
revision 1.8
date: 1994/05/20 11:56:57;  author: matt;  state: Exp;
Cleaned up find_vector_intersection() interface
Killed check_point_in_seg(), check_player_seg(), check_object_seg()
----------------------------
revision 1.7
date: 1994/03/17 18:07:38;  author: yuan;  state: Exp;
Removed switch code... Now we just have Walls, Triggers, and Links...
----------------------------
revision 1.6
date: 1994/02/22 18:14:44;  author: yuan;  state: Exp;
Added new wall system
----------------------------
revision 1.5
date: 1994/02/17 11:33:22;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.4
date: 1994/02/16 13:48:33;  author: mike;  state: Exp;
enable editor to compile out.
----------------------------
revision 1.3
date: 1994/02/14 12:05:07;  author: mike;  state: Exp;
change segment data structure.
----------------------------
revision 1.2
date: 1994/02/10 16:07:20;  author: mike;  state: Exp;
separate editor from game based on EDITOR flag.
----------------------------
revision 1.1
date: 1994/02/09 15:45:38;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gameseq.h,v
Working file: main/gameseq.h
head: 2.0
branch:
description: Prototypes for functions for game sequencing.
----------------------------
revision 2.0
date: 1995/02/27 11:32:03;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.41
date: 1995/02/07 10:51:54;  author: rob;  state: Exp;
fix typo.
----------------------------
revision 1.40
date: 1995/02/06 20:10:16;  author: rob;  state: Exp;
Extern'ed DoEndLevelScoreGlitz.
----------------------------
revision 1.39
date: 1995/02/01 16:34:13;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.38
date: 1995/01/27 11:15:03;  author: rob;  state: Exp;
Added extern for player position vars.
----------------------------
revision 1.37
date: 1995/01/20 22:47:38;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.36
date: 1995/01/17 13:36:08;  author: john;  state: Exp;
Moved pig loading into StartNewLevelSub.
----------------------------
revision 1.35
date: 1995/01/04 12:21:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1995/01/04 12:20:47;  author: john;  state: Exp;
Declearations to work better with game state save.
----------------------------
revision 1.33
date: 1994/12/08 09:46:35;  author: matt;  state: Exp;
Made level name len a multiple of 4 for alignment
----------------------------
revision 1.32
date: 1994/11/29 16:33:29;  author: rob;  state: Exp;
Added new defines for last_secret_level based on shareware or not shareware.
----------------------------
revision 1.31
date: 1994/11/26 15:30:20;  author: matt;  state: Exp;
Allow escape out of change pilot menu
----------------------------
revision 1.30
date: 1994/11/21 17:29:38;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.29
date: 1994/11/21 15:55:03;  author: matt;  state: Exp;
Corrected LAST_LEVEL
----------------------------
revision 1.28
date: 1994/11/20 22:12:43;  author: mike;  state: Exp;
set LAST_LEVEL based on SHAREWARE.
----------------------------
revision 1.27
date: 1994/11/09 10:55:51;  author: matt;  state: Exp;
Cleaned up initialization for editor -> game transitions
----------------------------
revision 1.26
date: 1994/11/08 17:50:48;  author: rob;  state: Exp;
ADded prototype for StartNewLEvel.
----------------------------
revision 1.25
date: 1994/11/07 17:50:57;  author: rob;  state: Exp;
Added extern prototype for init_player_stats_level called for
network games.
----------------------------
revision 1.24
date: 1994/10/25 15:40:03;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/10/22 00:08:52;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.22
date: 1994/10/18 18:57:08;  author: matt;  state: Exp;
Added main menu option to enter new player name
----------------------------
revision 1.21
date: 1994/10/07 23:37:32;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.20
date: 1994/10/07 16:02:53;  author: matt;  state: Exp;
Loading saved game no longer clears players weapons & other stats
----------------------------
revision 1.19
date: 1994/10/06 14:12:46;  author: matt;  state: Exp;
Added flash effect when player appears
----------------------------
revision 1.18
date: 1994/10/03 13:34:44;  author: matt;  state: Exp;
Added new (and hopefully better) game sequencing functions
----------------------------
revision 1.17
date: 1994/09/30 15:19:53;  author: matt;  state: Exp;
Added new game sequencing functions, but left them disabled for now.
----------------------------
revision 1.16
date: 1994/09/28 17:24:34;  author: matt;  state: Exp;
Added first draft of game save/load system
----------------------------
revision 1.15
date: 1994/09/27 12:29:42;  author: matt;  state: Exp;
Changed level naming
----------------------------
revision 1.14
date: 1994/09/02 11:53:55;  author: mike;  state: Exp;
Rename init_player_stats to init_player_stats_game.
----------------------------
revision 1.13
date: 1994/08/31 20:57:34;  author: matt;  state: Exp;
Cleaned up endlevel/death code
----------------------------
revision 1.12
date: 1994/08/23 18:45:06;  author: yuan;  state: Exp;
Added level 10 capability.. (LEDGES)
----------------------------
revision 1.11
date: 1994/08/18 10:47:38;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.10
date: 1994/08/15 15:24:45;  author: john;  state: Exp;
Made players know who killed them; Disabled cheat menu
during net player; fixed bug with not being able to turn
of invulnerability; Made going into edit/starting new leve
l drop you out of a net game; made death dialog box.
----------------------------
revision 1.9
date: 1994/08/13 12:20:56;  author: john;  state: Exp;
Made the networking uise the Players array.
----------------------------
revision 1.8
date: 1994/07/22 12:36:24;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.7
date: 1994/07/19 20:15:33;  author: matt;  state: Exp;
Name for each level now saved in the .SAV file & stored in Current_level_name
----------------------------
revision 1.6
date: 1994/07/02 13:49:33;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.5
date: 1994/07/02 13:09:52;  author: matt;  state: Exp;
Moved player stats struct from gameseq.h to player.h
----------------------------
revision 1.4
date: 1994/07/01 16:35:35;  author: yuan;  state: Exp;
Added key system
----------------------------
revision 1.3
date: 1994/06/26 14:07:35;  author: matt;  state: Exp;
Added prototypes
----------------------------
revision 1.2
date: 1994/06/24 17:03:56;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.1
date: 1994/06/24 14:13:53;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gauges.h,v
Working file: main/gauges.h
head: 2.0
branch:
description: Prototypes and defines for gauges
----------------------------
revision 2.0
date: 1995/02/27 11:28:45;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.27
date: 1994/12/14 18:06:39;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.26
date: 1994/12/09 16:19:52;  author: yuan;  state: Exp;
kill matrix stuff.
----------------------------
revision 1.25
date: 1994/10/25 11:07:34;  author: mike;  state: Exp;
Prototype play_homing_warning.
----------------------------
revision 1.24
date: 1994/10/24 16:34:39;  author: mike;  state: Exp;
Increase MAX_GAUGE_BMS from 56 to 80...
----------------------------
revision 1.23
date: 1994/10/21 20:43:47;  author: mike;  state: Exp;
Prototype add_bonus_points_to_score.
----------------------------
revision 1.22
date: 1994/10/14 15:56:33;  author: mike;  state: Exp;
Prototype update_laser_weapon_info.
----------------------------
revision 1.21
date: 1994/10/13 15:17:26;  author: mike;  state: Exp;
Remove afterburner references.
----------------------------
revision 1.20
date: 1994/10/05 17:09:46;  author: matt;  state: Exp;
Added functional reticle
----------------------------
revision 1.19
date: 1994/10/04 21:41:29;  author: matt;  state: Exp;
Added cloaked player gauge effect, and different ship bitmap for each player
----------------------------
revision 1.18
date: 1994/09/26 13:29:40;  author: matt;  state: Exp;
Added extra life each 100,000 points, and show icons on HUD for num lives
----------------------------
revision 1.17
date: 1994/09/20 11:56:08;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.16
date: 1994/09/20 00:11:03;  author: matt;  state: Exp;
Finished gauges for Status Bar, including hostage video display.
----------------------------
revision 1.15
date: 1994/09/17 23:57:18;  author: matt;  state: Exp;
Got some, but not all, off the status bar gauges working
----------------------------
revision 1.14
date: 1994/09/16 13:08:46;  author: mike;  state: Exp;
Prototype say_afterburner_status.
----------------------------
revision 1.13
date: 1994/09/14 16:27:03;  author: mike;  state: Exp;
Prototype player_dead_message();
----------------------------
revision 1.12
date: 1994/07/20 17:34:43;  author: yuan;  state: Exp;
Some minor bug fixes and new key gauges...
----------------------------
revision 1.11
date: 1994/07/14 14:46:02;  author: yuan;  state: Exp;
Added score effect.
----------------------------
revision 1.10
date: 1994/07/12 16:22:00;  author: yuan;  state: Exp;
Increased number of maximum gauges.
----------------------------
revision 1.9
date: 1994/07/11 20:10:36;  author: yuan;  state: Exp;
Numerical gauges.
----------------------------
revision 1.8
date: 1994/07/10 18:01:28;  author: yuan;  state: Exp;
Added new gauges.
----------------------------
revision 1.7
date: 1994/06/21 15:08:22;  author: john;  state: Exp;
Made demo record HUD message and cleaned up the HUD code.
----------------------------
revision 1.6
date: 1994/06/21 12:40:46;  author: yuan;  state: Exp;
Fixing HUD message.
----------------------------
revision 1.5
date: 1994/06/21 12:11:56;  author: yuan;  state: Exp;
Fixed up menus and added HUDisplay messages.
----------------------------
revision 1.4
date: 1994/04/28 21:34:24;  author: mike;  state: Exp;
prototype check_erase_gauge
----------------------------
revision 1.3
date: 1994/04/06 14:42:46;  author: yuan;  state: Exp;
Adding new powerups.
----------------------------
revision 1.2
date: 1993/12/05 22:48:58;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.1
date: 1993/12/05 21:07:55;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/gr.h,v
Working file: 2d/gr.h
head: 1.45
branch:
description: Definitions for graphics lib.
----------------------------
revision 1.45
date: 1994/11/18 22:50:21;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.44
date: 1994/11/13 13:04:07;  author: john;  state: Exp;
Added paged out bit in bitmap structure.  Commented out the
poly code that is never used.
----------------------------
revision 1.43
date: 1994/11/09 23:04:56;  author: mike;  state: Exp;
Add avg_color field.
----------------------------
revision 1.42
date: 1994/10/27 00:53:35;  author: john;  state: Exp;
Added RLE Flag to bitmap structere.
----------------------------
revision 1.41
date: 1994/10/26 23:55:52;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.40
date: 1994/08/11 17:59:12;  author: mike;  state: Exp;
Assembler merge functions written for 3 rotations of bitmaps.
----------------------------
revision 1.39
date: 1994/08/10 12:24:56;  author: matt;  state: Exp;
Added support for colors fonts & kerned fonts
Made our own font file format
----------------------------
revision 1.38
date: 1994/07/27 18:30:18;  author: john;  state: Exp;
Took away the blending table.
----------------------------
revision 1.37
date: 1994/06/16 15:25:06;  author: mike;  state: Exp;
Add flag BM_FLAG_NO_LIGHTING.
----------------------------
revision 1.36
date: 1994/05/31 10:01:22;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.35
date: 1994/05/31 07:53:34;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/05/14 17:19:41;  author: matt;  state: Exp;
Added externs
----------------------------
revision 1.33
date: 1994/05/12 17:33:09;  author: john;  state: Exp;
Added circle code.
----------------------------
revision 1.32
date: 1994/05/06 12:50:16;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.31
date: 1994/05/04 10:06:06;  author: john;  state: Exp;
Added flag for bitmap super-transparency.
----------------------------
revision 1.30
date: 1994/05/03 19:38:56;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.29
date: 1994/04/22 11:16:05;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.28
date: 1994/04/08 16:59:32;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.27
date: 1994/03/16 17:29:52;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.26
date: 1994/03/16 17:20:51;  author: john;  state: Exp;
Added slow palette searching options.
----------------------------
revision 1.25
date: 1994/03/14 17:59:20;  author: john;  state: Exp;
Added function to check bitmap's transparency.
----------------------------
revision 1.24
date: 1994/03/14 16:56:26;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.23
date: 1994/02/18 15:32:30;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.22
date: 1994/01/25 11:40:48;  author: john;  state: Exp;
Added gr_check_mode function.
----------------------------
revision 1.21
date: 1994/01/12 13:45:24;  author: john;  state: Exp;
Added scaler.
----------------------------
revision 1.20
date: 1993/12/21 19:58:24;  author: john;  state: Exp;
added selector stuff
----------------------------
revision 1.19
date: 1993/12/21 11:40:40;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.18
date: 1993/12/09 15:02:08;  author: john;  state: Exp;
Changed palette stuff majorly
----------------------------
revision 1.17
date: 1993/12/07 12:32:05;  author: john;  state: Exp;
moved bmd_palette to gr_palette
----------------------------
revision 1.16
date: 1993/11/28 12:08:06;  author: mike;  state: Exp;
Change prototype for rotate_bitmap.
----------------------------
revision 1.15
date: 1993/11/18 14:22:51;  author: mike;  state: Exp;
Add prototype for rotate_bitmap.
----------------------------
revision 1.14
date: 1993/11/17 19:00:59;  author: mike;  state: Exp;
Add prototype for test_rotate_bitmap
----------------------------
revision 1.13
date: 1993/11/16 11:28:58;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1993/10/26 13:17:43;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1993/10/15 16:23:37;  author: john;  state: Exp;
y
----------------------------
revision 1.10
date: 1993/09/28 15:32:33;  author: john;  state: Exp;
added def for save/restore vidmode
----------------------------
revision 1.9
date: 1993/09/28 12:51:46;  author: matt;  state: Exp;
Added aspect ratio to grs_screen structure
----------------------------
revision 1.8
date: 1993/09/26 22:45:12;  author: matt;  state: Exp;
Changed prototypes for line functions to take fixes, not ints.
----------------------------
revision 1.7
date: 1993/09/26 18:58:16;  author: john;  state: Exp;
fadein/out stuff
----------------------------
revision 1.6
date: 1993/09/14 16:26:44;  author: matt;  state: Exp;
Changed gr_change_mode() to be gr_set_mode()
----------------------------
revision 1.4
date: 1993/09/14 13:08:45;  author: john;  state: Exp;
added gr_change_mode
----------------------------
revision 1.3
date: 1993/09/08 13:56:03;  author: matt;  state: Exp;
Put 'if' block around body of file; added bitmap type BM_RGB15
----------------------------
revision 1.2
date: 1993/09/08 13:02:14;  author: john;  state: Exp;
Changed structure definitions a bit.
----------------------------
revision 1.1
date: 1993/09/08 11:25:15;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/grdef.h,v
Working file: 2d/grdef.h
head: 1.9
branch:
description: Internal definitions for graphics lib.
----------------------------
revision 1.9
date: 1995/03/01 12:31:13;  author: john;  state: Exp;
Added wait for retrace thingy in modex setstart.
----------------------------
revision 1.8
date: 1994/05/06 12:50:09;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.7
date: 1994/01/25 11:40:29;  author: john;  state: Exp;
Added gr_check_mode function.
----------------------------
revision 1.6
date: 1993/10/15 16:22:53;  author: john;  state: Exp;
y
----------------------------
revision 1.5
date: 1993/09/29 17:31:00;  author: john;  state: Exp;
added gr_vesa_pixel
----------------------------
revision 1.4
date: 1993/09/29 16:14:43;  author: john;  state: Exp;
added global canvas descriptors.
----------------------------
revision 1.3
date: 1993/09/08 17:38:02;  author: john;  state: Exp;
Looking for errors
----------------------------
revision 1.2
date: 1993/09/08 15:54:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 11:37:57;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/hash.h,v
Working file: main/hash.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:26:46;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/05/03 16:45:24;  author: john;  state: Exp;
Added hash table lookup to speed up loading.
----------------------------
revision 1.1
date: 1994/05/03 11:35:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/hostage.h,v
Working file: main/hostage.h
head: 2.0
branch:
description: Header for hostage.c
----------------------------
revision 2.0
date: 1995/02/27 11:27:50;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.23
date: 1995/01/15 19:42:06;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.22
date: 1994/12/19 16:35:07;  author: john;  state: Exp;
Made hoastage playback end when ship dies.
----------------------------
revision 1.21
date: 1994/11/30 17:22:12;  author: matt;  state: Exp;
Ripped out hostage faces in shareware version
----------------------------
revision 1.20
date: 1994/11/19 19:53:43;  author: matt;  state: Exp;
Added code to full support different hostage head clip & message for
each hostage.
----------------------------
revision 1.19
date: 1994/11/19 16:35:28;  author: matt;  state: Exp;
Got rid of unused code, & made an array smaller
----------------------------
revision 1.18
date: 1994/10/23 02:10:57;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.17
date: 1994/09/20 00:10:37;  author: matt;  state: Exp;
Finished gauges for Status Bar, including hostage video display.
----------------------------
revision 1.16
date: 1994/09/01 10:41:24;  author: matt;  state: Exp;
Sizes for powerups now specified in bitmaps.tbl; blob bitmaps now plot
correctly if width & height of bitmap are different.
----------------------------
revision 1.15
date: 1994/08/14 23:15:14;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.14
date: 1994/07/14 22:06:51;  author: john;  state: Exp;
Fix radar/hostage vclip conflict.
----------------------------
revision 1.13
date: 1994/07/14 22:05:41;  author: john;  state: Exp;
Made radar display not conflict with hostage
vclip talking.
----------------------------
revision 1.12
date: 1994/07/06 13:41:46;  author: matt;  state: Exp;
Added support for bitmap hostages
----------------------------
revision 1.11
date: 1994/07/06 12:43:36;  author: john;  state: Exp;
Made generic messages for hostages.
----------------------------
revision 1.10
date: 1994/07/06 10:55:09;  author: john;  state: Exp;
New structures for hostages.
----------------------------
revision 1.9
date: 1994/07/05 12:48:47;  author: john;  state: Exp;
Put functionality of New Hostage spec into code.
----------------------------
revision 1.8
date: 1994/07/01 17:55:14;  author: john;  state: Exp;
First version of not-working hostage system.
----------------------------
revision 1.7
date: 1994/06/15 14:57:10;  author: john;  state: Exp;
Added triggers to demo recording.
----------------------------
revision 1.6
date: 1994/06/08 18:15:49;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.5
date: 1994/05/02 12:43:06;  author: yuan;  state: Exp;
Fixed warnings.
----------------------------
revision 1.4
date: 1994/04/06 14:42:46;  author: yuan;  state: Exp;
Adding new powerups.
----------------------------
revision 1.3
date: 1994/04/01 11:15:14;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.2
date: 1994/03/31 12:04:35;  author: matt;  state: Exp;
Added prototypes for 2 funcs
----------------------------
revision 1.1
date: 1994/03/31 11:39:24;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/ibitblt.h,v
Working file: 2d/ibitblt.h
head: 1.2
branch:
description: Prototypes for the ibitblt functions.
----------------------------
revision 1.2
date: 1994/05/31 11:10:56;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/05/30 16:08:46;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/iff/iff.h,v
Working file: iff/iff.h
head: 1.12
branch:
description: Header for IFF routines
----------------------------
revision 1.12
date: 1994/11/07 21:26:53;  author: matt;  state: Exp;
Added new function iff_read_into_bitmap()
----------------------------
revision 1.11
date: 1994/05/06 19:37:38;  author: matt;  state: Exp;
Improved error handling and checking
----------------------------
revision 1.10
date: 1994/04/16 20:12:54;  author: matt;  state: Exp;
Made masked (stenciled) bitmaps work
----------------------------
revision 1.9
date: 1994/04/13 23:46:00;  author: matt;  state: Exp;
Added function, iff_errormsg(), which returns ptr to error message.
----------------------------
revision 1.8
date: 1994/04/13 23:27:10;  author: matt;  state: Exp;
Put in support for anim brushes (.abm files)
----------------------------
revision 1.7
date: 1994/04/06 23:08:02;  author: matt;  state: Exp;
Cleaned up code; added prototype (but no new code) for anim brush read
----------------------------
revision 1.6
date: 1994/01/22 14:40:59;  author: john;  state: Exp;
Fixed bug with declareations.
----------------------------
revision 1.5
date: 1994/01/22 14:23:13;  author: john;  state: Exp;
Added global vars to check transparency
----------------------------
revision 1.4
date: 1993/10/27 12:47:42;  author: john;  state: Exp;
Extended the comments
----------------------------
revision 1.3
date: 1993/09/22 19:17:20;  author: matt;  state: Exp;
Fixed handling of pad byte in ILBM/PPB body - was writing pad byte to
destination buffer.
----------------------------
revision 1.2
date: 1993/09/08 19:23:25;  author: matt;  state: Exp;
Added additional return code, IFF_BAD_BM_TYPE
----------------------------
revision 1.1
date: 1993/09/08 14:24:21;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/iglasses.h,v
Working file: main/iglasses.h
head: 2.0
branch:
description: Routines for the i-glasses VR stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:28:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1995/02/09 22:01:01;  author: john;  state: Exp;
Added i-glasses tracking.
----------------------------
revision 1.1
date: 1995/02/09 15:54:01;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/inferno.h,v
Working file: main/inferno.h
head: 2.4
branch:
description: Header file for Inferno.  Should be included in all source files. 
=============================================================================
RCS file: f:/miner/source/main/editor/info.h,v
Working file: main/editor/info.h
head: 2.0
branch:
description: Header for info.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:32;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/05/14 17:18:17;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:30:39;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/ipx.h,v
Working file: bios/ipx.h
head: 2.6
branch:
description: Prototype for IPX communications.
----------------------------
revision 2.6
date: 1995/03/29 11:19:32;  author: john;  state: Exp;
Added broadcasting over a net.
----------------------------
revision 2.5
date: 1995/03/28 20:04:43;  author: john;  state: Exp;
Took away alternate server stuff.
----------------------------
revision 2.4
date: 1995/03/23 19:00:10;  author: john;  state: Exp;
Added user list capabitly.
----------------------------
revision 2.3
date: 1995/03/23 12:26:57;  author: john;  state: Exp;
Move IPX into bios lib.
----------------------------
revision 2.2
date: 1995/03/22 19:08:14;  author: john;  state: Exp;
Added code to fix sending packets over router... now
we just need to make broadcasts go over router!!
----------------------------
revision 2.1
date: 1995/03/21 08:39:56;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:30:16;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.16
date: 1995/02/16 17:34:52;  author: john;  state: Exp;
Added code to allow dynamic socket changing.
----------------------------
revision 1.15
date: 1995/01/04 21:43:27;  author: rob;  state: Exp;
Remove SPX size definition.
----------------------------
revision 1.14
date: 1995/01/03 13:46:18;  author: john;  state: Exp;
Added code that should make ipx work over different servers,
but ifdef'd it out with SHAREWARE in ipx.c.  I haven't tested
this, and I hope it doesn't introduce net bugs.
----------------------------
revision 1.13
date: 1994/11/02 11:37:16;  author: rob;  state: Exp;
Changed default socket number to a higher regions.
----------------------------
revision 1.12
date: 1994/11/01 15:56:51;  author: rob;  state: Exp;
Added defines for SPX socketsx.
----------------------------
revision 1.11
date: 1994/10/31 19:23:31;  author: rob;  state: Exp;
Added a prototype for the new object send function.
----------------------------
revision 1.10
date: 1994/09/07 13:37:25;  author: john;  state: Exp;
Changed default socket to 0x4000, because 
the ipx/spx book says that we can only use
sockets 0x4000 - 0x7fff.
----------------------------
revision 1.9
date: 1994/08/25 18:14:45;  author: matt;  state: Exp;
Changed socket because of packet change
----------------------------
revision 1.8
date: 1994/08/12 22:42:24;  author: john;  state: Exp;
Took away Player_stats; added Players array.
----------------------------
revision 1.7
date: 1994/08/09 19:31:47;  author: john;  state: Exp;
Networking changes.
----------------------------
revision 1.6
date: 1994/08/05 16:11:46;  author: john;  state: Exp;
Psuedo working version of networking.
----------------------------
revision 1.5
date: 1994/08/04 19:17:20;  author: john;  state: Exp;
Inbetween version of network stuff.
----------------------------
revision 1.4
date: 1994/07/29 16:08:59;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/07/25 12:33:22;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.2
date: 1994/07/20 15:58:29;  author: john;  state: Exp;
First installment of ipx stuff.
----------------------------
revision 1.1
date: 1994/07/19 15:43:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/joy.h,v
Working file: bios/joy.h
head: 1.17
branch:
description: Headers for joystick functions
----------------------------
revision 1.17
date: 1995/10/07 13:22:30;  author: john;  state: Exp;
Added new method of reading joystick that allows higher-priority
interrupts to go off.
----------------------------
revision 1.16
date: 1995/02/14 11:17:13;  author: john;  state: Exp;
Added BIOS readings for stick.
----------------------------
revision 1.15
date: 1995/02/14 10:09:58;  author: john;  state: Exp;
Added OS2 switch.
----------------------------
revision 1.14
date: 1994/12/28 13:49:20;  author: john;  state: Exp;
Added function to set joystick for slow reading
----------------------------
revision 1.13
date: 1994/10/13 11:36:06;  author: john;  state: Exp;
Made joy_down_time be kept track of in fixed seconds,
not ticks.
----------------------------
revision 1.12
date: 1994/10/12 17:03:16;  author: john;  state: Exp;
Added prototype for joy_get_scaled_reading.
----------------------------
revision 1.11
date: 1994/10/12 16:57:55;  author: john;  state: Exp;
Added function to set a joystick button's state.
----------------------------
revision 1.10
date: 1994/09/22 16:09:00;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.9
date: 1994/08/31 09:54:57;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1994/08/29 21:02:24;  author: john;  state: Exp;
Added joy_set_cal_values...
----------------------------
revision 1.7
date: 1994/08/29 20:51:52;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.6
date: 1994/07/01 10:55:44;  author: john;  state: Exp;
Fixed some bugs... added support for 4 axis.
----------------------------
revision 1.5
date: 1994/06/30 20:36:51;  author: john;  state: Exp;
Revamped joystick code.
----------------------------
revision 1.4
date: 1994/04/22 12:52:10;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/01/18 13:53:39;  author: john;  state: Exp;
Made all joystick functions return int's instead of
shorts.  Also made the stick reading be CPU speed
independant by using the timer_get_Stamp_64 
function.
----------------------------
revision 1.2
date: 1994/01/18 10:58:42;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/07/10 13:10:39;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/joycal.h,v
Working file: main/joycal.h
head: 1.1
branch:
description: Routines to calibrate the joystick
----------------------------
revision 1.1
date: 1994/08/17 09:58:17;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/joydefs.h,v
Working file: main/joydefs.h
head: 2.0
branch:
description: Variables for joystick settings.
----------------------------
revision 2.0
date: 1995/02/27 11:32:12;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.12
date: 1995/01/25 14:37:52;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.11
date: 1994/10/13 11:35:43;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.10
date: 1994/09/10 15:46:49;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.9
date: 1994/09/06 14:51:29;  author: john;  state: Exp;
Added sensitivity adjustment, fixed bug with joystick button not
staying down.
----------------------------
revision 1.8
date: 1994/08/31 12:56:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/08/30 16:37:07;  author: john;  state: Exp;
Added menu options to set controls.
----------------------------
revision 1.6
date: 1994/08/29 21:18:33;  author: john;  state: Exp;
First version of new keyboard/oystick remapping stuff.
----------------------------
revision 1.5
date: 1994/08/24 19:00:30;  author: john;  state: Exp;
Changed key_down_time to return fixed seconds instead of
milliseconds.
----------------------------
revision 1.4
date: 1994/08/17 16:50:04;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.3
date: 1994/07/01 10:55:18;  author: john;  state: Exp;
Added analog joystick throttle
----------------------------
revision 1.2
date: 1994/06/30 20:04:46;  author: john;  state: Exp;
Added -joydef support.
----------------------------
revision 1.1
date: 1994/06/30 18:08:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/kconfig.h,v
Working file: main/kconfig.h
head: 2.0
branch:
description: Prototypes for reading controls
----------------------------
revision 2.0
date: 1995/02/27 11:29:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.23
date: 1995/01/12 11:41:44;  author: john;  state: Exp;
Added external control reading.
----------------------------
revision 1.22
date: 1994/12/07 16:15:30;  author: john;  state: Exp;
Added command to check to see if a joystick axes has been used.
----------------------------
revision 1.21
date: 1994/11/29 03:46:29;  author: john;  state: Exp;
Added joystick sensitivity; Added sound channels to detail menu.  Removed -maxchannels
command line arg.
----------------------------
revision 1.20
date: 1994/11/22 16:54:45;  author: mike;  state: Exp;
autorepeat on missiles.
----------------------------
revision 1.19
date: 1994/11/07 14:01:27;  author: john;  state: Exp;
Changed the gamma correction sequencing.
----------------------------
revision 1.18
date: 1994/11/01 16:40:02;  author: john;  state: Exp;
Added Gamma correction.
----------------------------
revision 1.17
date: 1994/10/25 23:09:24;  author: john;  state: Exp;
Made the automap key configurable.
----------------------------
revision 1.16
date: 1994/10/24 19:56:51;  author: john;  state: Exp;
Made the new user setup prompt for config options.
----------------------------
revision 1.15
date: 1994/10/24 17:44:18;  author: john;  state: Exp;
Added stereo channel reversing.
----------------------------
revision 1.14
date: 1994/10/22 13:19:33;  author: john;  state: Exp;
Took out toggle primary/secondary weapons.  Fixed black
background for 'axes' and 'buttons' text.
----------------------------
revision 1.13
date: 1994/10/17 13:06:51;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.12
date: 1994/10/14 12:14:47;  author: john;  state: Exp;
Changed code so that by doing DEL+F12 saves the current kconfig
values as default. Added support for drop_bomb key.  Took out
unused slots for keyboard.  Made keyboard use control_type of 0
save slots.
----------------------------
revision 1.11
date: 1994/10/13 19:21:33;  author: john;  state: Exp;
Added separate config saves for different devices.
Made all the devices work together better, such as mice won't
get read when you're playing with the joystick.
----------------------------
revision 1.10
date: 1994/10/13 15:18:41;  author: john;  state: Exp;
Started ripping out old afterburner, show message, show automap
keys in the keyboard config stuff.
----------------------------
revision 1.9
date: 1994/10/13 11:35:27;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.8
date: 1994/10/06 14:10:50;  author: matt;  state: Exp;
New function reset_cruise()
----------------------------
revision 1.7
date: 1994/10/03 14:58:25;  author: john;  state: Exp;
Added rear_view_down_state so that the rear view can
work like the automap.
----------------------------
revision 1.6
date: 1994/09/30 12:37:25;  author: john;  state: Exp;
Added midi,digi volume to configuration.
----------------------------
revision 1.5
date: 1994/09/19 18:49:59;  author: john;  state: Exp;
Added switch to disable joystick.
----------------------------
revision 1.4
date: 1994/09/15 16:11:21;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.3
date: 1994/09/12 11:47:38;  author: john;  state: Exp;
Made stupid cruise work better.  Make kconfig values get
read/written to disk.
----------------------------
revision 1.2
date: 1994/09/10 15:46:55;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.1
date: 1994/09/10 13:51:40;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kdefs.h,v
Working file: main/editor/kdefs.h
head: 2.1
branch:
description: Prototypes for functions called from keypresses or buttons.
----------------------------
revision 2.1
date: 1995/03/08 16:07:10;  author: yuan;  state: Exp;
Added segment sizing default functions.
----------------------------
revision 2.0
date: 1995/02/27 11:34:34;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.97
date: 1995/01/12 12:10:22;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.96
date: 1994/10/27 10:06:33;  author: mike;  state: Exp;
kill macro stuff.
----------------------------
revision 1.95
date: 1994/09/26 23:22:59;  author: matt;  state: Exp;
Added functions to keep player's starting position from getting messed up
----------------------------
revision 1.94
date: 1994/09/24 14:15:24;  author: mike;  state: Exp;
Custom colored object support.
----------------------------
revision 1.93
date: 1994/09/23 18:03:52;  author: yuan;  state: Exp;
Finished wall checking code.
----------------------------
revision 1.92
date: 1994/09/14 16:50:49;  author: yuan;  state: Exp;
Added load mine only function
----------------------------
revision 1.91
date: 1994/08/16 18:11:03;  author: yuan;  state: Exp;
Maded C place you in the center of a segment.
----------------------------
revision 1.90
date: 1994/08/15 17:47:55;  author: yuan;  state: Exp;
Added external walls.
----------------------------
revision 1.89
date: 1994/08/03 10:32:10;  author: mike;  state: Exp;
Texture map propagation without uv assignment.
----------------------------
revision 1.88
date: 1994/08/02 14:18:01;  author: mike;  state: Exp;
Add Object dialog.
----------------------------
revision 1.87
date: 1994/07/22 17:19:15;  author: yuan;  state: Exp;
Working on dialog box for refuel/repair/material/control centers.
----------------------------
revision 1.86
date: 1994/07/21 17:26:49;  author: matt;  state: Exp;
When new mine created, the default save filename is now reset
----------------------------
revision 1.85
date: 1994/07/21 12:47:26;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.84
date: 1994/07/14 14:49:19;  author: yuan;  state: Exp;
Added prototype
----------------------------
revision 1.83
date: 1994/07/14 14:43:09;  author: yuan;  state: Exp;
Added new rotation functions
----------------------------
revision 1.82
date: 1994/07/01 17:57:04;  author: john;  state: Exp;
First version of not-working hostage system
----------------------------
revision 1.81
date: 1994/06/21 12:57:27;  author: yuan;  state: Exp;
Remove center from segment function added to menu.
----------------------------
revision 1.80
date: 1994/06/17 16:05:20;  author: mike;  state: Exp;
Prototype set_average_light_on_all_quick.
----------------------------
revision 1.79
date: 1994/05/31 16:43:24;  author: john;  state: Exp;
Added hooks to create materialization centers.
----------------------------
revision 1.78
date: 1994/05/27 10:34:40;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.77
date: 1994/05/25 18:08:44;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.76
date: 1994/05/09 23:34:04;  author: mike;  state: Exp;
SubtractFromGroup, CreateSloppyAdjacentJointsGroup, ClearFoundList
----------------------------
revision 1.75
date: 1994/05/03 18:31:17;  author: mike;  state: Exp;
Add PerturbCurside.
----------------------------
revision 1.74
date: 1994/05/03 11:04:39;  author: mike;  state: Exp;
Add prototypes for new segment sizing functions.
----------------------------
revision 1.73
date: 1994/04/29 10:32:04;  author: yuan;  state: Exp;
Added door 8... Door typing system should be replaced soon.
=============================================================================
RCS file: f:/miner/source/bios/key.h,v
Working file: bios/key.h
head: 1.19
branch:
description: Header for keyboard functions
----------------------------
revision 1.19
date: 1994/10/24 13:58:12;  author: john;  state: Exp;
Hacked in support for pause key onto code 0x61.
----------------------------
revision 1.18
date: 1994/10/21 15:17:10;  author: john;  state: Exp;
Added KEY_PRINT_SCREEN
----------------------------
revision 1.17
date: 1994/08/31 12:22:13;  author: john;  state: Exp;
Added KEY_DEBUGGED
----------------------------
revision 1.16
date: 1994/08/24 18:53:50;  author: john;  state: Exp;
Made Cyberman read like normal mouse; added dpmi module; moved
mouse from assembly to c. Made mouse buttons return time_down.
----------------------------
revision 1.15
date: 1994/08/18 14:56:16;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.14
date: 1994/08/08 10:43:24;  author: john;  state: Exp;
Recorded when a key was pressed for key_inkey_time.
----------------------------
revision 1.13
date: 1994/06/17 17:17:28;  author: john;  state: Exp;
Added keyd_time_last_key_was_pressed or something like that.
----------------------------
revision 1.12
date: 1994/04/29 12:14:19;  author: john;  state: Exp;
Locked all memory used during interrupts so that program
won't hang when using virtual memory.
----------------------------
revision 1.11
date: 1994/02/17 15:57:14;  author: john;  state: Exp;
Changed key libary to C.
----------------------------
revision 1.10
date: 1994/01/31 08:34:09;  author: john;  state: Exp;
Fixed reversed lshift/rshift keys.
----------------------------
revision 1.9
date: 1994/01/18 10:58:17;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1993/10/16 19:24:43;  author: matt;  state: Exp;
Added new function key_clear_times() & key_clear_counts()
----------------------------
revision 1.7
date: 1993/10/15 10:17:09;  author: john;  state: Exp;
added keyd_last_key_pressed and released for use with recorder.
----------------------------
revision 1.6
date: 1993/10/06 16:20:37;  author: john;  state: Exp;
fixed down arrow bug
----------------------------
revision 1.5
date: 1993/10/04 13:26:42;  author: john;  state: Exp;
changed the #defines for scan codes.
----------------------------
revision 1.4
date: 1993/09/28 11:35:20;  author: john;  state: Exp;
added key_peekkey
----------------------------
revision 1.3
date: 1993/09/20 18:36:43;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/07/10 13:10:39;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kfuncs.h,v
Working file: main/editor/kfuncs.h
head: 2.0
branch:
description: Header for kfuncs.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:33;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/05/14 17:18:18;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:37:14;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/kmatrix.h,v
Working file: main/kmatrix.h
head: 2.0
branch:
description: Kill matrix.
----------------------------
revision 2.0
date: 1995/02/27 11:28:51;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1995/02/15 14:47:39;  author: john;  state: Exp;
Added code to keep track of kills during endlevel.
----------------------------
revision 1.2
date: 1994/12/09 16:19:46;  author: yuan;  state: Exp;
kill matrix stuff.
----------------------------
revision 1.1
date: 1994/12/09 15:58:33;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/object.h,v
Working file: main/object.h
head: 1.122
branch:
description: object system definitions
----------------------------
revision 1.122
date: 1995/02/22 12:35:53;  author: allender;  state: Exp;
remove anonymous unions
----------------------------
revision 1.121
date: 1995/02/06 20:43:25;  author: rob;  state: Exp;
Extern'ed Dead_player_camera so it can be reset by multi.c
----------------------------
revision 1.120
date: 1995/02/01 16:34:07;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.119
date: 1995/01/29 13:46:42;  author: mike;  state: Exp;
adapt to new create_small_fireball_on_object prototype.
----------------------------
revision 1.118
date: 1995/01/26 22:11:27;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.117
date: 1995/01/24 12:09:29;  author: mike;  state: Exp;
Boost MAX_OBJECTS from 250 to 350.
----------------------------
revision 1.116
date: 1995/01/13 19:39:51;  author: rob;  state: Exp;
Removed outdated remote_info structure.  (looking for cause of bugs
----------------------------
revision 1.115
date: 1995/01/12 12:09:38;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.114
date: 1994/12/15 13:04:20;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.113
date: 1994/12/12 17:18:09;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.112
date: 1994/12/09 14:58:42;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.111
date: 1994/12/08 12:35:35;  author: matt;  state: Exp;
Added new object allocation & deallocation functions so other code
could stop messing around with internal object data structures.
----------------------------
revision 1.110
date: 1994/11/21 17:30:21;  author: matt;  state: Exp;
Increased max number of objects
----------------------------
revision 1.109
date: 1994/11/18 23:41:52;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.108
date: 1994/11/10 14:02:45;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.107
date: 1994/11/08 12:19:27;  author: mike;  state: Exp;
Small explosions on objects.
----------------------------
revision 1.106
date: 1994/10/25 10:51:17;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.105
date: 1994/10/21 12:19:41;  author: matt;  state: Exp;
Clear transient objects when saving (& loading) games
----------------------------
revision 1.104
date: 1994/10/21 11:25:04;  author: mike;  state: Exp;
Add IMMORTAL_TIME.
----------------------------
revision 1.103
date: 1994/10/17 21:34:54;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.102
date: 1994/10/14 18:12:28;  author: mike;  state: Exp;
Make egg dropping return object number.
----------------------------
revision 1.101
date: 1994/10/12 21:07:19;  author: matt;  state: Exp;
Killed unused field in object structure
----------------------------
revision 1.100
date: 1994/10/12 10:38:24;  author: mike;  state: Exp;
Add field OF_SILENT to obj->flags.
----------------------------
revision 1.99
date: 1994/10/11 20:35:48;  author: matt;  state: Exp;
Clear "transient" objects (weapons,explosions,etc.) when starting a level
----------------------------
revision 1.98
date: 1994/10/03 20:56:13;  author: rob;  state: Exp;
Added velocity to shortpos strucutre.
----------------------------
revision 1.97
date: 1994/09/30 18:24:00;  author: rob;  state: Exp;
Added new control type CT_REMOTE for remote controlled objects.
Also added a union struct 'remote_info' for this type.
----------------------------
revision 1.96
date: 1994/09/28 09:23:05;  author: mike;  state: Exp;
Prototype Object_type_names.
----------------------------
revision 1.95
date: 1994/09/25 23:32:37;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.94
date: 1994/09/25 15:45:28;  author: matt;  state: Exp;
Added OBJ_LIGHT, a type of object that casts light
Added generalized lifeleft, and moved it to local_object
----------------------------
revision 1.93
date: 1994/09/24 17:41:19;  author: mike;  state: Exp;
Add stuff to Local_object structure for materialization centers.
----------------------------
revision 1.92
date: 1994/09/24 13:16:50;  author: matt;  state: Exp;
Added (hacked in, really) support for overriding the bitmaps used on to
texture map a polygon object, and using a new bitmap for all the faces.
----------------------------
revision 1.91
date: 1994/09/22 19:02:14;  author: mike;  state: Exp;
Prototype functions extract_shortpos and create_shortpos which reside in
gameseg.c, but are prototyped here to prevent circular dependencies.
----------------------------
revision 1.90
date: 1994/09/15 21:47:14;  author: mike;  state: Exp;
Prototype dead_player_end().
----------------------------
revision 1.89
date: 1994/09/15 16:34:47;  author: mike;  state: Exp;
Add danger_laser_num and danger_laser_signature to object_local to
enable robots to efficiently (too efficiently!) avoid player fire.
----------------------------
revision 1.88
date: 1994/09/11 22:46:19;  author: mike;  state: Exp;
Death_sequence_aborted prototyped.
----------------------------
revision 1.87
date: 1994/09/09 20:04:30;  author: mike;  state: Exp;
Add vclips for weapons.
----------------------------
revision 1.86
date: 1994/09/09 14:20:54;  author: matt;  state: Exp;
Added flag that says object uses thrust
----------------------------
revision 1.85
date: 1994/09/08 14:51:32;  author: mike;  state: Exp;
Make a crucial name change to a field of local_object struct.
----------------------------
revision 1.84
date: 1994/09/07 19:16:45;  author: mike;  state: Exp;
Homing missile.
----------------------------
revision 1.83
date: 1994/09/06 17:05:43;  author: matt;  state: Exp;
Added new type for dead player
----------------------------
revision 1.82
date: 1994/09/02 11:56:09;  author: mike;  state: Exp;
Add persistency (PF_PERSISTENT) to physics_info.
----------------------------
revision 1.81
date: 1994/08/28 19:10:28;  author: mike;  state: Exp;
Add Player_is_dead.
----------------------------
revision 1.80
date: 1994/08/18 15:11:44;  author: mike;  state: Exp;
powerup stuff.
----------------------------
revision 1.79
date: 1994/08/15 15:24:54;  author: john;  state: Exp;
Made players know who killed them; Disabled cheat menu
during net player; fixed bug with not being able to turn
of invulnerability; Made going into edit/starting new leve
l drop you out of a net game; made death dialog box.
----------------------------
revision 1.78
date: 1994/08/14 23:15:12;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.77
date: 1994/08/13 14:58:27;  author: matt;  state: Exp;
Finished adding support for miscellaneous objects
----------------------------
revision 1.76
date: 1994/08/09 16:04:13;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.75
date: 1994/08/03 21:06:19;  author: matt;  state: Exp;
Added prototype for fix_object_segs(), and renamed now-unused spawn_pos
----------------------------
revision 1.74
date: 1994/08/02 12:30:27;  author: matt;  state: Exp;
Added support for spinning objects
----------------------------
revision 1.73
date: 1994/07/27 20:53:25;  author: matt;  state: Exp;
Added rotational drag & thrust, so turning now has momemtum like moving
----------------------------
revision 1.72
date: 1994/07/27 19:44:21;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.71
date: 1994/07/22 20:43:29;  author: matt;  state: Exp;
Fixed flares, by adding a physics flag that makes them stick to walls.
----------------------------
revision 1.70
date: 1994/07/21 12:42:10;  author: mike;  state: Exp;
Prototype new find_object_seg and update_object_seg.
----------------------------
revision 1.69
date: 1994/07/19 15:26:39;  author: mike;  state: Exp;
New ai_static structure.
----------------------------
revision 1.68
date: 1994/07/13 00:15:06;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.67
date: 1994/07/12 12:40:12;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.66
date: 1994/07/06 15:26:23;  author: yuan;  state: Exp;
Added chase mode.
=============================================================================
RCS file: f:/miner/source/main/laser.h,v
Working file: main/laser.h
head: 2.0
branch:
description: Definitions for the laser code.
----------------------------
revision 2.0
date: 1995/02/27 11:32:27;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.50
date: 1995/02/01 21:03:44;  author: john;  state: Exp;
Lintified.
----------------------------
revision 1.49
date: 1995/02/01 16:34:11;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.48
date: 1995/01/31 16:16:16;  author: mike;  state: Exp;
Separate smart blobs for robot and player.
----------------------------
revision 1.47
date: 1995/01/27 17:02:55;  author: mike;  state: Exp;
Add LASER_ID -- why wasn't this added in June?
----------------------------
revision 1.46
date: 1995/01/25 10:53:27;  author: mike;  state: Exp;
make badass damage go through grates.
----------------------------
revision 1.45
date: 1994/12/12 17:17:32;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.44
date: 1994/12/04 16:17:23;  author: mike;  state: Exp;
spruce up homing missile behavior.
----------------------------
revision 1.43
date: 1994/12/03 12:48:30;  author: mike;  state: Exp;
make homing missile tracking not frame rate dependent (more-or-less)
----------------------------
revision 1.42
date: 1994/10/12 08:04:54;  author: mike;  state: Exp;
Clean up proximity/homing mess.
----------------------------
revision 1.41
date: 1994/10/09 20:07:04;  author: rob;  state: Exp;
Change prototype for do_laser_firing
----------------------------
revision 1.40
date: 1994/10/09 00:15:48;  author: mike;  state: Exp;
Add constants for super mech missile, regular mech missile, silent spreadfire.
----------------------------
revision 1.39
date: 1994/10/08 19:52:09;  author: rob;  state: Exp;
Added new weapon fire flags.
----------------------------
revision 1.38
date: 1994/10/07 15:31:12;  author: mike;  state: Exp;
Prototypes for new laser functions which don't necessarily make sound.
----------------------------
revision 1.37
date: 1994/10/05 17:08:29;  author: matt;  state: Exp;
Fixed a couple of small bugs, and made homing missiles alternate sides
----------------------------
revision 1.36
date: 1994/09/28 14:28:55;  author: rob;  state: Exp;
Added firing of missiles on networks/serial.
----------------------------
revision 1.35
date: 1994/09/24 14:17:02;  author: mike;  state: Exp;
Prototype do_laser_firing.
----------------------------
revision 1.34
date: 1994/09/23 11:36:49;  author: mike;  state: Exp;
Prototype Laser_create_new_easy.
----------------------------
revision 1.33
date: 1994/09/20 11:55:01;  author: mike;  state: Exp;
Fix bug.
----------------------------
revision 1.32
date: 1994/09/20 11:48:34;  author: mike;  state: Exp;
Change spreadfire laser to use new bitmap. (Define SPREADFIRE_ID)
----------------------------
revision 1.31
date: 1994/09/15 16:31:28;  author: mike;  state: Exp;
Prototype object_to_object_visibility.
----------------------------
revision 1.30
date: 1994/09/10 17:31:40;  author: mike;  state: Exp;
Add thrust to weapons.
----------------------------
revision 1.29
date: 1994/09/08 14:49:44;  author: mike;  state: Exp;
Bunch of IDs for new weapon types.
----------------------------
revision 1.28
date: 1994/09/07 19:16:40;  author: mike;  state: Exp;
Homing missile.
----------------------------
revision 1.27
date: 1994/09/07 15:59:47;  author: mike;  state: Exp;
Kill FLARE_MAX_TIME (now defined in bitmaps.tbl), add PROXIMITY_ID (shame!), prototype do_laser_firing, do_missile_firing.
----------------------------
revision 1.26
date: 1994/09/03 15:22:41;  author: mike;  state: Exp;
Kill Projectile_player_fire prototype.
----------------------------
revision 1.25
date: 1994/09/02 16:39:00;  author: mike;  state: Exp;
IDs for primary weapons.
----------------------------
revision 1.24
date: 1994/09/02 11:55:54;  author: mike;  state: Exp;
Define some illegal constants.
----------------------------
revision 1.23
date: 1994/08/25 18:12:06;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.22
date: 1994/08/19 15:22:28;  author: mike;  state: Exp;
Define constant for MAX_LASER_LEVEL.
----------------------------
revision 1.21
date: 1994/08/13 12:20:47;  author: john;  state: Exp;
Made the networking uise the Players array.
----------------------------
revision 1.20
date: 1994/08/10 10:44:05;  author: john;  state: Exp;
Made net players fire..
----------------------------
revision 1.19
date: 1994/06/27 18:30:57;  author: mike;  state: Exp;
Add flares.
----------------------------
revision 1.18
date: 1994/06/09 15:32:37;  author: mike;  state: Exp;
Muzzle flash
----------------------------
revision 1.17
date: 1994/05/19 09:09:00;  author: mike;  state: Exp;
Move a bunch of laser variables to bm.h, I think.
Also, added Robot_laser_speed, instead of hard-coding Laser_speed/4.
----------------------------
revision 1.16
date: 1994/05/14 17:16:20;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.15
date: 1994/05/13 20:27:39;  author: john;  state: Exp;
Version II of John's new object code.
----------------------------
revision 1.14
date: 1994/04/20 15:06:47;  author: john;  state: Exp;
Neatend laser code and fixed some laser bugs.
----------------------------
revision 1.13
date: 1994/04/01 13:35:15;  author: matt;  state: Exp;
Cleaned up laser code a bit; moved some code here object.c to laser.c
----------------------------
revision 1.12
date: 1994/04/01 11:14:24;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.11
date: 1994/03/31 09:10:09;  author: matt;  state: Exp;
Added #define to turn crosshair off
----------------------------
revision 1.10
date: 1994/02/17 11:33:15;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.9
date: 1994/01/06 11:56:01;  author: john;  state: Exp;
Made lasers be lines, not purple blobs
----------------------------
revision 1.8
date: 1994/01/05 10:53:35;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.7
date: 1993/12/08 14:21:36;  author: john;  state: Exp;
Added ExplodeObject
----------------------------
revision 1.6
date: 1993/12/08 11:28:54;  author: john;  state: Exp;
Made lasers look like bolts.
----------------------------
revision 1.5
date: 1993/12/01 13:12:40;  author: john;  state: Exp;
made lasers frame-rate independant
----------------------------
revision 1.4
date: 1993/11/30 19:00:42;  author: john;  state: Exp;
lasers working kinda
----------------------------
revision 1.3
date: 1993/11/29 19:44:53;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/11/29 17:44:55;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/11/29 17:19:19;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/pslib/library.h,v
Working file: pslib/library.h
head: 1.9
branch:
description: PSLIB and library generation tool header file.
----------------------------
revision 1.9
date: 1993/09/29 17:54:09;  author: yuan;  state: Exp;
ReadFileRaw, etc. prototypes imported.
----------------------------
revision 1.8
date: 1993/09/27 17:12:48;  author: yuan;  state: Exp;
Cleaned up... function prototypes internal to pslib.c removed.
----------------------------
revision 1.7
date: 1993/09/21 17:22:14;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1993/09/21 17:16:50;  author: yuan;  state: Exp;
cleaning up
----------------------------
revision 1.5
date: 1993/09/21 17:07:11;  author: yuan;  state: Exp;
broken and unbroken
----------------------------
revision 1.4
date: 1993/09/14 14:19:08;  author: yuan;  state: Exp;
header fixed.
----------------------------
revision 1.3
date: 1993/09/14 13:16:37;  author: yuan;  state: Exp;
Minor function prototype modifications were made.
----------------------------
revision 1.2
date: 1993/09/09 12:39:19;  author: yuan;  state: Exp;
compression routine prototypes moved to pslib.h
----------------------------
revision 1.1
date: 1993/09/08 16:16:07;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/lighting.h,v
Working file: main/lighting.h
head: 2.0
branch:
description: Lighting system prototypes, structures, etc.
----------------------------
revision 2.0
date: 1995/02/27 11:27:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1994/11/28 21:50:56;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.5
date: 1994/06/07 16:51:58;  author: matt;  state: Exp;
Made object lighting work correctly; changed name of Ambient_light to
Dynamic_light; cleaned up polygobj object rendering a little.
----------------------------
revision 1.4
date: 1994/05/31 18:41:35;  author: matt;  state: Exp;
Added comments
----------------------------
revision 1.3
date: 1994/05/23 15:00:08;  author: mike;  state: Exp;
Change MIN_LIGHT_DIST.
----------------------------
revision 1.2
date: 1994/05/22 15:30:09;  author: mike;  state: Exp;
First version.
----------------------------
revision 1.1
date: 1994/05/22 15:16:44;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/lzw/lzw.h,v
Working file: lzw/lzw.h
head: 1.2
branch:
description: Routines for lzw compressing some bits.
----------------------------
revision 1.2
date: 1994/08/05 16:10:23;  author: john;  state: Exp;
First version.
----------------------------
revision 1.1
date: 1994/07/29 11:02:14;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/macro.h,v
Working file: main/editor/macro.h
head: 2.0
branch:
description: Header for macro.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:32;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/05/14 17:18:19;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:38:50;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/mcockpit.h,v
Working file: main/mcockpit.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:30:24;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/05/30 19:28:16;  author: john;  state: Exp;
Moved functionality of mcockpit into 2d, ibitblt.
----------------------------
revision 1.2
date: 1994/05/11 11:19:21;  author: john;  state: Exp;
Made cockpit code be created at runtime.
----------------------------
revision 1.1
date: 1994/05/11 10:38:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/meddraw.h,v
Working file: main/editor/meddraw.h
head: 2.0
branch:
description: Defnts for med drawing stuff
----------------------------
revision 2.0
date: 1995/02/27 11:35:12;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/07/06 16:36:54;  author: mike;  state: Exp;
Prototype for draw_mine_all.
----------------------------
revision 1.2
date: 1993/12/17 12:05:09;  author: john;  state: Exp;
Took stuff out of med.c; moved into medsel.c, meddraw.c, medmisc.c
----------------------------
revision 1.1
date: 1993/12/17 08:55:14;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medmisc.h,v
Working file: main/editor/medmisc.h
head: 2.0
branch:
description: Defn'tns for medmisc.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:40;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/07/21 17:25:28;  author: matt;  state: Exp;
Took out unused func medlisp_create_new_mine() and its prototype
----------------------------
revision 1.2
date: 1993/12/17 12:05:04;  author: john;  state: Exp;
Took stuff out of med.c; moved into medsel.c, meddraw.c, medmisc.c
----------------------------
revision 1.1
date: 1993/12/17 08:45:23;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medrobot.h,v
Working file: main/editor/medrobot.h
head: 2.0
branch:
description: Header for robot.c
----------------------------
revision 2.0
date: 1995/02/27 11:35:04;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.4
date: 1994/08/02 14:17:56;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.3
date: 1994/07/21 19:34:58;  author: yuan;  state: Exp;
Fixed #include problem
----------------------------
revision 1.2
date: 1994/04/27 21:01:16;  author: matt;  state: Exp;
Added prototypes for robot functions
----------------------------
revision 1.1
date: 1994/04/27 20:28:59;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medsel.h,v
Working file: main/editor/medsel.h
head: 2.0
branch:
description: rountines stipped from med.c for segment selection
----------------------------
revision 2.0
date: 1995/02/27 11:34:28;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1993/12/17 12:18:35;  author: john;  state: Exp;
Moved selection stuff out of med.c
----------------------------
revision 1.1
date: 1993/12/17 09:29:51;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medwall.h,v
Working file: main/editor/medwall.h
head: 2.0
branch:
description: Created from version 1.6 of main\wall.h
----------------------------
revision 2.0
date: 1995/02/27 11:35:10;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.9
date: 1994/09/28 17:31:51;  author: mike;  state: Exp;
Prototype copy_group_walls().
----------------------------
revision 1.8
date: 1994/08/05 21:18:16;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.7
date: 1994/06/20 22:30:10;  author: yuan;  state: Exp;
Fixed crazy runaway trigger bug that Adam found
----------------------------
revision 1.6
date: 1994/05/30 20:22:58;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.5
date: 1994/05/25 18:08:37;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.4
date: 1994/05/18 18:22:04;  author: yuan;  state: Exp;
Fixed delete segment and walls bug.
----------------------------
revision 1.3
date: 1994/03/17 18:08:41;  author: yuan;  state: Exp;
New wall stuff... Cut out switches....
----------------------------
revision 1.2
date: 1994/03/15 16:34:10;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.1
date: 1994/02/10 17:52:01;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/mem/mem.h,v
Working file: mem/mem.h
head: 1.6
branch:
description: Headers for safe malloc stuff.
----------------------------
revision 1.6
date: 1995/02/12 18:40:50;  author: matt;  state: Exp;
Made free() work the way it used to when debugging is on
----------------------------
revision 1.5
date: 1995/02/12 04:07:36;  author: matt;  state: Exp;
Made free() set ptrs to NULL even when no debugging
----------------------------
revision 1.4
date: 1994/11/27 21:10:58;  author: matt;  state: Exp;
Now supports NDEBUG to turn off all special mem checking
----------------------------
revision 1.3
date: 1994/03/15 11:12:40;  author: john;  state: Exp;
Made calloc fill block with zeros like it's
supposed to.
----------------------------
revision 1.2
date: 1993/11/04 14:02:39;  author: matt;  state: Exp;
Added calloc() macro
----------------------------
revision 1.1
date: 1993/11/02 17:45:33;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/menu.h,v
Working file: main/menu.h
head: 2.1
branch:
description: Menu prototypes and variables
----------------------------
revision 2.1
date: 1995/03/06 16:47:41;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.0
date: 1995/02/27 11:29:47;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.34
date: 1994/12/12 00:16:16;  author: john;  state: Exp;
Added auto-leveling flag.
----------------------------
revision 1.33
date: 1994/12/07 20:04:26;  author: mike;  state: Exp;
set Max_debris_objects.
----------------------------
revision 1.32
date: 1994/11/14 17:23:19;  author: rob;  state: Exp;
ADded extern for default difficulty settings.
----------------------------
revision 1.31
date: 1994/11/10 11:08:29;  author: mike;  state: Exp;
detail level stuff.
----------------------------
revision 1.30
date: 1994/11/05 14:05:53;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.29
date: 1994/11/02 11:59:44;  author: john;  state: Exp;
Moved menu out of game into inferno main loop.
----------------------------
revision 1.28
date: 1994/10/17 20:30:59;  author: john;  state: Exp;
Made the text for the difficulty labels global so that
the high score screen can print "rookie" or whatever.
----------------------------
revision 1.27
date: 1994/10/04 10:47:09;  author: matt;  state: Exp;
Made main menu remember selected item
----------------------------
revision 1.26
date: 1994/08/10 19:55:19;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.25
date: 1994/06/23 18:54:09;  author: matt;  state: Exp;
Cleaned up game start/menu interaction, and improved main menu a little
----------------------------
revision 1.24
date: 1994/06/21 12:11:50;  author: yuan;  state: Exp;
Fixed up menus and added HUDisplay messages.
----------------------------
revision 1.23
date: 1994/06/20 23:15:16;  author: yuan;  state: Exp;
Color switching capability for the menus.
----------------------------
revision 1.22
date: 1994/06/20 22:02:25;  author: yuan;  state: Exp;
Made menu GREEN by POPULAR DEMAND!!
----------------------------
revision 1.21
date: 1994/06/20 21:05:48;  author: yuan;  state: Exp;
Fixed up menus.
----------------------------
revision 1.20
date: 1994/06/20 19:19:29;  author: yuan;  state: Exp;
Tidied up the menu and the "message blocks" between levels, etc.
----------------------------
revision 1.19
date: 1994/06/17 18:01:10;  author: john;  state: Exp;
A bunch of new stuff by John
----------------------------
revision 1.18
date: 1994/05/16 09:37:22;  author: matt;  state: Exp;
Got rid of global continue_flag
----------------------------
revision 1.17
date: 1994/05/14 17:14:51;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.16
date: 1994/05/10 12:14:26;  author: yuan;  state: Exp;
Game save/load... Demo levels 1-5 added...
High scores fixed...
----------------------------
revision 1.15
date: 1994/05/05 09:21:21;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.14
date: 1994/04/29 14:55:40;  author: mike;  state: Exp;
Change some menu colors.
----------------------------
revision 1.13
date: 1994/04/28 18:04:36;  author: yuan;  state: Exp;
Gamesave added.
Trigger problem fixed (seg pointer is replaced by index now.)
----------------------------
revision 1.12
date: 1994/02/18 11:55:01;  author: yuan;  state: Exp;
Fixed menu to be called from game.
----------------------------
revision 1.11
date: 1994/02/10 17:45:39;  author: yuan;  state: Exp;
Integrated some hacks which still need to be fixed.
----------------------------
revision 1.10
date: 1994/02/01 22:50:23;  author: yuan;  state: Exp;
Final menu version for demo
----------------------------
revision 1.9
date: 1994/02/01 11:50:17;  author: yuan;  state: Exp;
Moved quit message down just a tiny bit
----------------------------
revision 1.8
date: 1994/01/31 17:30:16;  author: yuan;  state: Exp;
Fixed quit not disappearing problem
----------------------------
revision 1.7
date: 1994/01/31 12:25:20;  author: yuan;  state: Exp;
New menu stuff
----------------------------
revision 1.6
date: 1994/01/26 13:14:04;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/12/29 16:44:44;  author: yuan;  state: Exp;
Added some function definitions
----------------------------
revision 1.4
date: 1993/12/13 18:53:12;  author: yuan;  state: Exp;
Fixed dependency problem
----------------------------
revision 1.3
date: 1993/12/12 13:53:51;  author: yuan;  state: Exp;
Added menu and -g flag
----------------------------
revision 1.2
date: 1993/12/10 16:07:17;  author: yuan;  state: Exp;
Working on menu system.  Updated the title screen.
----------------------------
revision 1.1
date: 1993/12/10 12:45:27;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/mission.h,v
Working file: main/mission.h
head: 2.0
branch:
description: Header for mission.h
----------------------------
revision 2.0
date: 1995/02/27 11:31:35;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1995/01/30 12:55:41;  author: matt;  state: Exp;
Added vars to point to mission names
----------------------------
revision 1.5
date: 1995/01/22 18:57:21;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.4
date: 1995/01/22 14:13:21;  author: matt;  state: Exp;
Added flag in mission list for anarchy-only missions
----------------------------
revision 1.3
date: 1995/01/21 23:13:12;  author: matt;  state: Exp;
Made high scores with (not work, really) with loaded missions
Don't give player high score when quit game
----------------------------
revision 1.2
date: 1995/01/20 22:47:53;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.1
date: 1995/01/20 13:42:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/modem.h,v
Working file: main/modem.h
head: 2.1
branch:
description: Header file for modem support
----------------------------
revision 2.1
date: 1995/03/21 14:40:38;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:31:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.18
date: 1994/11/22 17:12:05;  author: rob;  state: Exp;
Starting working on secret level fix for modem games.
----------------------------
revision 1.17
date: 1994/11/17 16:43:17;  author: rob;  state: Exp;
Added prototype for com_level_sync function.
----------------------------
revision 1.16
date: 1994/11/15 21:30:32;  author: rob;  state: Exp;
Added prototype for new menu hook.
----------------------------
revision 1.15
date: 1994/10/07 16:15:33;  author: rob;  state: Exp;
Changed calls to multi_send_position.
----------------------------
revision 1.14
date: 1994/10/07 12:52:24;  author: rob;  state: Exp;
Fixed some problems.
----------------------------
revision 1.13
date: 1994/10/07 11:25:47;  author: rob;  state: Exp;
Tried to fix modem to work with new multi stuff.  Still a bit jacked up, tho.
----------------------------
revision 1.12
date: 1994/10/05 19:14:50;  author: rob;  state: Exp;
Exported macros and arrays to support network object mapping.
----------------------------
revision 1.11
date: 1994/10/05 17:48:59;  author: rob;  state: Exp;
Several changes, most to end_of_level sequencing.
----------------------------
revision 1.10
date: 1994/10/05 14:22:54;  author: rob;  state: Exp;
Added com_end_level.
----------------------------
revision 1.9
date: 1994/09/30 18:37:22;  author: rob;  state: Exp;
Another day's worth of work.  Mostly menus, error checking.  Added
level checksums during sync, carrier detect during all com calls,
generic com_abort() procedure for bailing out, and nm_messagebox
handling of QUIT instead of HUD message (which never gets seen).
----------------------------
revision 1.8
date: 1994/09/29 20:55:16;  author: rob;  state: Exp;
Lots of changes.
----------------------------
revision 1.7
date: 1994/09/29 16:09:20;  author: rob;  state: Exp;
Added explode stuff.
----------------------------
revision 1.6
date: 1994/09/28 14:31:08;  author: rob;  state: Exp;
Added serial setup menu.
----------------------------
revision 1.5
date: 1994/09/27 15:02:49;  author: rob;  state: Exp;
Null modem basic routines working.  Sending DEAD messages and
missiles still need to be done.
----------------------------
revision 1.4
date: 1994/09/24 16:52:33;  author: rob;  state: Exp;
Added stubbed funcs for startup and stop of serial games.
----------------------------
revision 1.3
date: 1994/09/24 14:47:31;  author: rob;  state: Exp;
New function protos.
----------------------------
revision 1.2
date: 1994/09/22 17:53:29;  author: rob;  state: Exp;
First revision, not yet functional.
----------------------------
revision 1.1
date: 1994/09/22 12:39:25;  author: rob;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/mono.h,v
Working file: bios/mono.h
head: 1.6
branch:
description: Header for monochrome/mprintf functions
----------------------------
revision 1.6
date: 1994/12/03 17:07:37;  author: matt;  state: Exp;
Made mono code turn off with either NDEBUG or NMONO
----------------------------
revision 1.5
date: 1994/11/27 23:07:28;  author: matt;  state: Exp;
Made changes needed to be able to compile out monochrome debugging code
----------------------------
revision 1.4
date: 1993/12/07 12:33:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/09/14 20:54:50;  author: matt;  state: Exp;
Made minit() check for mono card, return -1 if present, 0 if not
----------------------------
revision 1.2
date: 1993/07/22 13:05:40;  author: john;  state: Exp;
added macros to print variables
----------------------------
revision 1.1
date: 1993/07/10 13:10:40;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/morph.h,v
Working file: main/morph.h
head: 2.0
branch:
description: Header for morph.c
----------------------------
revision 2.0
date: 1995/02/27 11:32:19;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.9
date: 1995/01/04 12:20:46;  author: john;  state: Exp;
Declearations to work better with game state save.
----------------------------
revision 1.8
date: 1995/01/03 20:38:44;  author: john;  state: Exp;
Externed MAX_MORPH_OBJECTS
----------------------------
revision 1.7
date: 1994/09/26 17:28:33;  author: matt;  state: Exp;
Made new multiple-object morph code work with the demo system
----------------------------
revision 1.6
date: 1994/09/26 15:40:17;  author: matt;  state: Exp;
Allow multiple simultaneous morphing objects
----------------------------
revision 1.5
date: 1994/06/28 11:55:19;  author: john;  state: Exp;
Made newdemo system record/play directly to/from disk, so
we don't need the 4 MB buffer anymore.
----------------------------
revision 1.4
date: 1994/06/16 13:57:40;  author: matt;  state: Exp;
Added support for morphing objects in demos
----------------------------
revision 1.3
date: 1994/06/08 18:22:03;  author: matt;  state: Exp;
Made morphing objects light correctly
----------------------------
revision 1.2
date: 1994/05/30 22:50:25;  author: matt;  state: Exp;
Added morph effect for robots
----------------------------
revision 1.1
date: 1994/05/30 12:04:19;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/mouse.h,v
Working file: bios/mouse.h
head: 1.10
branch:
description: Header for mouse functions
----------------------------
revision 1.10
date: 1995/02/02 10:22:29;  author: john;  state: Exp;
Added cyberman init parameter.
----------------------------
revision 1.9
date: 1994/11/18 23:18:09;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.8
date: 1994/09/13 12:33:49;  author: john;  state: Exp;
Added functions to get down count and state.
----------------------------
revision 1.7
date: 1994/08/29 20:52:20;  author: john;  state: Exp;
Added better cyberman support; also, joystick calibration
value return funcctiionn,
----------------------------
revision 1.6
date: 1994/08/24 17:54:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/08/24 17:51:43;  author: john;  state: Exp;
Added transparent cyberman support
----------------------------
revision 1.4
date: 1993/07/27 09:32:22;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/07/26 10:46:44;  author: john;  state: Exp;
added definition for mouse_set_pos
----------------------------
revision 1.2
date: 1993/07/22 13:07:59;  author: john;  state: Exp;
added header for mousesetlimts
----------------------------
revision 1.1
date: 1993/07/10 13:10:40;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/multi.h,v
Working file: main/multi.h
head: 2.3
branch:
description: Defines and exported variables for multi.c
----------------------------
revision 2.3
date: 1995/04/03 08:49:50;  author: john;  state: Exp;
Added code to get someone's player struct.
----------------------------
revision 2.2
date: 1995/03/27 12:59:17;  author: john;  state: Exp;
Initial version of multiplayer save games.
----------------------------
revision 2.1
date: 1995/03/21 14:39:06;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:28:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.74
date: 1995/02/11 11:36:42;  author: rob;  state: Exp;
Added new var.
----------------------------
revision 1.73
date: 1995/02/08 18:17:41;  author: rob;  state: Exp;
Added prototype for reset function.
----------------------------
revision 1.72
date: 1995/02/05 14:37:42;  author: rob;  state: Exp;
Made object mapping more efficient.
----------------------------
revision 1.71
date: 1995/02/01 18:07:36;  author: rob;  state: Exp;
Change object mapping to int functions.
----------------------------
revision 1.70
date: 1995/02/01 12:55:00;  author: rob;  state: Exp;
Changed message type.
----------------------------
revision 1.69
date: 1995/01/31 12:46:12;  author: rob;  state: Exp;
Fixed a bug with object overflow handling.
----------------------------
revision 1.68
date: 1995/01/27 11:15:13;  author: rob;  state: Exp;
removed extern of variable no longer in multi.c
----------------------------
revision 1.67
date: 1995/01/24 11:53:13;  author: john;  state: Exp;
Added better macro defining code.
----------------------------
revision 1.66
date: 1995/01/24 11:32:03;  author: john;  state: Exp;
Added new defining macro method.
----------------------------
revision 1.65
date: 1995/01/23 17:17:06;  author: john;  state: Exp;
Added multi_sending_message.
----------------------------
revision 1.64
date: 1995/01/23 16:02:42;  author: rob;  state: Exp;
Added prototype for mission select function.
----------------------------
revision 1.63
date: 1995/01/18 19:01:21;  author: rob;  state: Exp;
Added new message for hostage door sync.
----------------------------
revision 1.62
date: 1995/01/14 18:39:57;  author: rob;  state: Exp;
Added new message type for dropping robot powerups.
----------------------------
revision 1.61
date: 1995/01/12 21:41:13;  author: rob;  state: Exp;
Fixed incompat. with 1.0 and 1.1.
----------------------------
revision 1.60
date: 1995/01/04 21:40:55;  author: rob;  state: Exp;
Added new type for boss actions in coop.
----------------------------
revision 1.59
date: 1995/01/04 11:38:09;  author: rob;  state: Exp;
Fixed problem with lost character in messages.
----------------------------
revision 1.58
date: 1995/01/03 20:12:44;  author: rob;  state: Exp;
Made max message length in shareware = 40.
----------------------------
revision 1.57
date: 1995/01/03 14:27:25;  author: rob;  state: Exp;
ADded trigger messages.
----------------------------
revision 1.56
date: 1995/01/02 20:08:21;  author: rob;  state: Exp;
Added robot creation.
----------------------------
revision 1.55
date: 1995/01/02 14:41:30;  author: rob;  state: Exp;
Added score syncing.
----------------------------
revision 1.54
date: 1994/12/21 21:02:01;  author: rob;  state: Exp;
Added new message type for ROBOT_FIRE
----------------------------
revision 1.53
date: 1994/12/21 17:27:25;  author: rob;  state: Exp;
Changed the format for send_create_powerup messages.
----------------------------
revision 1.52
date: 1994/12/20 20:41:39;  author: rob;  state: Exp;
ADded robot release message type.
----------------------------
revision 1.51
date: 1994/12/19 19:00:12;  author: rob;  state: Exp;
Changed buf to multibuf so it can be safely externed.
----------------------------
revision 1.50
date: 1994/12/19 16:41:14;  author: rob;  state: Exp;
Added new message types for robot support.
Added prototype for external use of multi_send_data (from multibot.c)
----------------------------
revision 1.49
date: 1994/12/11 13:30:13;  author: rob;  state: Exp;
Added new variables to get players out of nested menus.
----------------------------
revision 1.48
date: 1994/12/11 01:58:57;  author: rob;  state: Exp;
Added variable to track menu deth..
----------------------------
revision 1.47
date: 1994/12/08 12:41:17;  author: rob;  state: Exp;
Added audio taunts.
----------------------------
revision 1.46
date: 1994/12/07 21:53:12;  author: rob;  state: Exp;
Fixing sequencing bugginess in modem/serial.
----------------------------
revision 1.45
date: 1994/12/07 16:46:58;  author: rob;  state: Exp;
Added prototype.
----------------------------
revision 1.44
date: 1994/12/01 12:22:31;  author: rob;  state: Exp;
Added de-cloak message for demo.
----------------------------
revision 1.43
date: 1994/12/01 00:54:14;  author: rob;  state: Exp;
Added variable for tracking homing missiles.
----------------------------
revision 1.42
date: 1994/11/30 16:04:39;  author: rob;  state: Exp;
Added show reticle name variable for team games.
----------------------------
revision 1.41
date: 1994/11/29 19:33:38;  author: rob;  state: Exp;
Team support.
----------------------------
revision 1.40
date: 1994/11/29 12:49:37;  author: rob;  state: Exp;
Added more team support stuff.
----------------------------
revision 1.39
date: 1994/11/28 21:20:49;  author: rob;  state: Exp;
Cleaned up the .h file, removed an unused function.
----------------------------
revision 1.38
date: 1994/11/28 21:04:50;  author: rob;  state: Exp;
Added support for network sound-casting.
----------------------------
revision 1.37
date: 1994/11/28 14:02:08;  author: rob;  state: Exp;
Added protocol versioning for registered versus shareware.
----------------------------
revision 1.36
date: 1994/11/28 13:30:04;  author: rob;  state: Exp;
Added a define for protocol version.
----------------------------
revision 1.35
date: 1994/11/22 19:19:48;  author: rob;  state: Exp;
remove unused function.
----------------------------
revision 1.34
date: 1994/11/22 18:47:34;  author: rob;  state: Exp;
Added hooks for modem support for secret levels.
----------------------------
revision 1.33
date: 1994/11/22 17:10:50;  author: rob;  state: Exp;
Fix for secret levels in network play mode.
----------------------------
revision 1.32
date: 1994/11/21 16:00:28;  author: rob;  state: Exp;
Added secret-level hooks.
----------------------------
revision 1.31
date: 1994/11/18 18:28:50;  author: rob;  state: Exp;
Added new function for multiplayer score screen.
----------------------------
revision 1.30
date: 1994/11/18 16:31:05;  author: rob;  state: Exp;
Added kill list timer variable.
----------------------------
revision 1.29
date: 1994/11/17 16:38:15;  author: rob;  state: Exp;
Added creation of net powerups.
----------------------------
revision 1.28
date: 1994/11/17 13:37:33;  author: rob;  state: Exp;
Added prototype for multi_new_game.
----------------------------
revision 1.27
date: 1994/11/17 12:58:45;  author: rob;  state: Exp;
Added kill matrix.
----------------------------
revision 1.26
date: 1994/11/16 20:35:24;  author: rob;  state: Exp;
Changed explosion hook.
----------------------------
revision 1.25
date: 1994/11/15 21:31:13;  author: rob;  state: Exp;
Bumped max message size, was giving modem.c fits.
----------------------------
revision 1.24
date: 1994/11/15 19:28:37;  author: matt;  state: Exp;
Added prototypes
----------------------------
revision 1.23
date: 1994/11/14 17:22:19;  author: rob;  state: Exp;
Added extern for message macros.
----------------------------
revision 1.22
date: 1994/11/11 18:16:44;  author: rob;  state: Exp;
Made multi_menu_poll return a value to exit menus.
----------------------------
revision 1.21
date: 1994/11/11 11:06:19;  author: rob;  state: Exp;
Added prototype for multi_menu_poll.
----------------------------
revision 1.20
date: 1994/11/10 21:48:41;  author: rob;  state: Exp;
Changed multi_endlevel to return an int.
----------------------------
revision 1.19
date: 1994/11/08 17:48:14;  author: rob;  state: Exp;
Fixing endlevel stuff.
----------------------------
revision 1.18
date: 1994/11/07 17:49:07;  author: rob;  state: Exp;
Changed prototype for object mapping funcs.
----------------------------
revision 1.17
date: 1994/11/07 15:46:32;  author: rob;  state: Exp;
Changed the way remote object number mapping works, and it was a real
pain in the ass..  I think it will work more reliably now.
----------------------------
revision 1.16
date: 1994/11/04 19:53:01;  author: rob;  state: Exp;
Added a new message type for Player_leave 'explosions'.
Added a prototype for function moved over from network.c
----------------------------
revision 1.15
date: 1994/11/02 18:02:33;  author: rob;  state: Exp;
Added message type for control center firing.
----------------------------
revision 1.14
date: 1994/11/02 11:38:00;  author: rob;  state: Exp;
Added player-in-process-of-dying explosions to network game.
----------------------------
revision 1.13
date: 1994/11/01 19:31:44;  author: rob;  state: Exp;
Bumped max_net_create_objects to 20 to accomodate a fully equipped
character blowing up.
----------------------------
revision 1.12
date: 1994/10/31 13:48:02;  author: rob;  state: Exp;
Fixed bug in opening doors over network/modem.  Added a new message
type to multi.c that communicates door openings across the net. 
Changed includes in multi.c and wall.c to accomplish this.
----------------------------
revision 1.11
date: 1994/10/09 20:08:20;  author: rob;  state: Exp;
Added some exported func prototypes.
Changed max net message length to 25 (from 30).
Removed some message types no longer used.
----------------------------
revision 1.10
date: 1994/10/08 20:06:10;  author: rob;  state: Exp;
fixed a typo.
----------------------------
revision 1.9
date: 1994/10/08 19:59:43;  author: rob;  state: Exp;
Moved MAX_MESSAGE_LEN to here.
----------------------------
revision 1.8
date: 1994/10/07 23:09:54;  author: rob;  state: Exp;
Fixed some prototypes.
----------------------------
revision 1.7
date: 1994/10/07 18:11:19;  author: rob;  state: Exp;
Added multi_do_death to multi.c.
----------------------------
revision 1.6
date: 1994/10/07 16:14:32;  author: rob;  state: Exp;
Added new message type for player reappear
----------------------------
revision 1.5
date: 1994/10/07 12:58:17;  author: rob;  state: Exp;
Added multi_leave_game.
----------------------------
revision 1.4
date: 1994/10/07 12:17:17;  author: rob;  state: Exp;
Fixed some stuff in multi_do_frame and exported the message_length
array.
----------------------------
revision 1.3
date: 1994/10/07 11:10:17;  author: john;  state: Exp;
Added function to parse multiple messages into individual
messages.
----------------------------
revision 1.2
date: 1994/10/07 10:28:06;  author: rob;  state: Exp;
Headers and stuff for multi.c (obviously)
----------------------------
revision 1.1
date: 1994/10/06 16:07:39;  author: rob;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/multibot.h,v
Working file: main/multibot.h
head: 2.1
branch:
description: Header file for multiplayer robot support.
----------------------------
revision 2.1
date: 1995/03/21 14:40:18;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:30:57;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.20
date: 1995/02/06 18:18:05;  author: rob;  state: Exp;
Tweaking cooperative stuff.
----------------------------
revision 1.19
date: 1995/02/04 16:49:50;  author: rob;  state: Exp;
Changed multi_send_robot_frame to return the number of robot positions that were sent.
----------------------------
revision 1.18
date: 1995/02/04 12:29:32;  author: rob;  state: Exp;
Added buffered fire sends.
----------------------------
revision 1.17
date: 1995/01/30 17:22:02;  author: rob;  state: Exp;
Added prototype for modem robot send function.
----------------------------
revision 1.16
date: 1995/01/26 18:24:56;  author: rob;  state: Exp;
Reduced # of controlled bots.
----------------------------
revision 1.15
date: 1995/01/25 19:26:35;  author: rob;  state: Exp;
Added define for robot laser agitation.
----------------------------
revision 1.14
date: 1995/01/25 13:45:26;  author: rob;  state: Exp;
Added prototype of robot transfer fucm.
----------------------------
revision 1.13
date: 1995/01/14 19:01:08;  author: rob;  state: Exp;
Added prototypes for new functionality.
----------------------------
revision 1.12
date: 1995/01/12 16:41:53;  author: rob;  state: Exp;
Added new prototypes.
----------------------------
revision 1.11
date: 1995/01/12 15:42:55;  author: rob;  state: Exp;
Fixing score awards for coop.
----------------------------
revision 1.10
date: 1995/01/02 21:00:40;  author: rob;  state: Exp;
added robot matcen support.
----------------------------
revision 1.9
date: 1994/12/31 21:03:53;  author: rob;  state: Exp;
More tweaking for robot behavior.
----------------------------
revision 1.8
date: 1994/12/29 13:54:25;  author: rob;  state: Exp;
Ooops.. fixed a bug..
----------------------------
revision 1.7
date: 1994/12/29 12:51:38;  author: rob;  state: Exp;
ADded proto for multi_robot_explode_sub
----------------------------
revision 1.6
date: 1994/12/21 21:08:32;  author: rob;  state: Exp;
Added new functions for robot firing.
----------------------------
revision 1.5
date: 1994/12/21 19:04:02;  author: rob;  state: Exp;
Fixing score accounting for multi robot games.
----------------------------
revision 1.4
date: 1994/12/21 17:36:09;  author: rob;  state: Exp;
Added a new func.
----------------------------
revision 1.3
date: 1994/12/21 11:12:02;  author: rob;  state: Exp;
Added new function and new vars.
----------------------------
revision 1.2
date: 1994/12/19 16:41:42;  author: rob;  state: Exp;
first revision.
----------------------------
revision 1.1
date: 1994/12/16 15:48:20;  author: rob;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/netmisc.h,v
Working file: main/netmisc.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:30:18;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/08/09 19:31:54;  author: john;  state: Exp;
Networking changes.
----------------------------
revision 1.1
date: 1994/08/08 11:18:40;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/netseq.h,v
Working file: main/netseq.h
head: 2.0
branch:
description: Prototypes for functions that get a net game started.
----------------------------
revision 2.0
date: 1995/02/27 11:30:31;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.1
date: 1994/10/06 16:08:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/network.h,v
Working file: main/network.h
head: 2.2
branch:
description: Prototypes for network management functions.
----------------------------
revision 2.2
date: 1995/03/21 14:58:09;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 2.1
date: 1995/03/21 14:39:43;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:29:48;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.72
date: 1995/02/11 14:24:39;  author: rob;  state: Exp;
Added suppor for invul. cntrlcen.
----------------------------
revision 1.71
date: 1995/02/08 19:18:43;  author: rob;  state: Exp;
Added extern for segments checksum.
----------------------------
revision 1.70
date: 1995/02/08 11:01:16;  author: rob;  state: Exp;
Fixed a bug.
----------------------------
revision 1.69
date: 1995/02/07 21:16:49;  author: rob;  state: Exp;
Added flag for automap.
----------------------------
revision 1.68
date: 1995/02/06 18:18:33;  author: rob;  state: Exp;
Extern'ed Packet Urgent.
----------------------------
revision 1.67
date: 1995/02/05 14:36:29;  author: rob;  state: Exp;
Moved defines to network.h.
----------------------------
revision 1.66
date: 1995/02/01 16:34:09;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.65
date: 1995/01/30 21:14:35;  author: rob;  state: Exp;
Fixed a bug in join menu.
Simplified mission load support.
----------------------------
revision 1.64
date: 1995/01/30 18:19:40;  author: rob;  state: Exp;
Added mission title to gameinfo packet.
----------------------------
revision 1.63
date: 1995/01/28 17:02:39;  author: rob;  state: Exp;
Fixed monitor syncing bug (minor 19).
----------------------------
revision 1.62
date: 1995/01/27 11:15:25;  author: rob;  state: Exp;
removed extern of variable no longer in network.c
----------------------------
revision 1.61
date: 1995/01/26 12:17:34;  author: rob;  state: Exp;
Added new param to network_do_frame.
----------------------------
revision 1.60
date: 1995/01/22 17:32:11;  author: rob;  state: Exp;
Added mission support for network games.
----------------------------
revision 1.59
date: 1995/01/17 17:10:33;  author: rob;  state: Exp;
Added some flags to netgame struct.
----------------------------
revision 1.58
date: 1995/01/12 18:57:15;  author: rob;  state: Exp;
Added score resync stuff.
----------------------------
revision 1.57
date: 1995/01/12 16:42:18;  author: rob;  state: Exp;
Added new prototypes.
----------------------------
revision 1.56
date: 1995/01/05 12:12:10;  author: rob;  state: Exp;
Fixed a problem with packet size.
----------------------------
revision 1.55
date: 1995/01/05 11:12:36;  author: rob;  state: Exp;
Reduced packet size by 1 byte just to be safe.
----------------------------
revision 1.54
date: 1995/01/04 21:39:32;  author: rob;  state: Exp;
New framedata packet for registered.
----------------------------
revision 1.53
date: 1995/01/04 08:47:04;  author: rob;  state: Exp;
JOHN CHECKED IN FOR ROB !!!
----------------------------
revision 1.52
date: 1994/12/30 20:09:07;  author: rob;  state: Exp;
ADded a toggle for showing player names on HUD.
----------------------------
revision 1.51
date: 1994/12/29 15:59:52;  author: rob;  state: Exp;
Centralized network disconnects.
----------------------------
revision 1.50
date: 1994/12/09 21:21:57;  author: rob;  state: Exp;
rolled back changes.
----------------------------
revision 1.48
date: 1994/12/05 22:59:27;  author: rob;  state: Exp;
added prototype for send_endlevel_packet.
----------------------------
revision 1.47
date: 1994/12/05 21:47:34;  author: rob;  state: Exp;
Added a new field to netgame struct.
----------------------------
revision 1.46
date: 1994/12/05 14:39:16;  author: rob;  state: Exp;
Added new variable to indicate new net game starting.
----------------------------
revision 1.45
date: 1994/12/04 15:37:18;  author: rob;  state: Exp;
Fixed a typo.
----------------------------
revision 1.44
date: 1994/12/04 15:30:42;  author: rob;  state: Exp;
Added new fields to netgame struct.
----------------------------
revision 1.43
date: 1994/12/03 18:03:19;  author: rob;  state: Exp;
ADded team kill syncing.
----------------------------
revision 1.42
date: 1994/12/01 21:21:27;  author: rob;  state: Exp;
Added new system for object sync on rejoin.
----------------------------
revision 1.41
date: 1994/11/29 13:07:33;  author: rob;  state: Exp;
Changed structure defs to .h files.
----------------------------
revision 1.40
date: 1994/11/22 17:10:48;  author: rob;  state: Exp;
Fix for secret levels in network play mode.
----------------------------
revision 1.39
date: 1994/11/18 16:36:31;  author: rob;  state: Exp;
Added variable network_rejoined to enable random placement
of rejoining palyers.
----------------------------
revision 1.38
date: 1994/11/12 19:51:13;  author: rob;  state: Exp;
Changed prototype for network_send_data to pass
urgent flag.
----------------------------
revision 1.37
date: 1994/11/10 21:48:26;  author: rob;  state: Exp;
Changed net_endlevel to return an int.
----------------------------
revision 1.36
date: 1994/11/10 20:32:49;  author: rob;  state: Exp;
Added extern for LastPacketTime.
----------------------------
revision 1.35
date: 1994/11/09 11:36:34;  author: rob;  state: Exp;
ADded return value to network_level_sync for success/fail.
----------------------------
revision 1.34
date: 1994/11/08 21:22:31;  author: rob;  state: Exp;
Added proto for network_endlevel_snyc
----------------------------
revision 1.33
date: 1994/11/08 15:20:00;  author: rob;  state: Exp;
added proto for change_playernum_to
----------------------------
revision 1.32
date: 1994/11/07 17:45:40;  author: rob;  state: Exp;
Added prototype for network_endlevel (called from multi.c)
----------------------------
revision 1.31
date: 1994/11/04 19:52:37;  author: rob;  state: Exp;
Removed a function from network.h (network_show_player_list)
----------------------------
revision 1.30
date: 1994/11/01 19:39:26;  author: rob;  state: Exp;
Removed a couple of variables that should be externed from multi.c
(remnants of the changover)
----------------------------
revision 1.29
date: 1994/10/31 19:18:24;  author: rob;  state: Exp;
Changed prototype for network_do_frame to add a parameter if you wish
to force the frame to be sent.  Important if this is a leave_game frame.
----------------------------
revision 1.28
date: 1994/10/08 19:59:20;  author: rob;  state: Exp;
Removed network message variables.
----------------------------
revision 1.27
date: 1994/10/08 11:08:38;  author: john;  state: Exp;
Moved network_delete_unused objects into multi.c,
took out network callsign stuff and used Matt's net
players[.].callsign stuff.
----------------------------
revision 1.26
date: 1994/10/07 11:26:20;  author: rob;  state: Exp;
Changed network_start_frame to network_do_frame,.
----------------------------
revision 1.25
date: 1994/10/05 13:58:10;  author: rob;  state: Exp;
Added a new function net_endlevel that is called after each level is 
completed.  Currently it only does anything if SERIAL game is in effect.
----------------------------
revision 1.24
date: 1994/10/04 19:34:57;  author: rob;  state: Exp;
export network_find_max_net_players.
----------------------------
revision 1.23
date: 1994/10/04 17:31:10;  author: rob;  state: Exp;
Exported MaxNumNetPlayers.
----------------------------
revision 1.22
date: 1994/10/03 22:57:30;  author: matt;  state: Exp;
Took out redundant definition of callsign_len
----------------------------
revision 1.21
date: 1994/10/03 15:12:48;  author: rob;  state: Exp;
Boosted MAX_CREATE_OBJECTS to 15.
----------------------------
revision 1.20
date: 1994/09/30 18:19:51;  author: rob;  state: Exp;
Added two new variables for tracking object creation.
----------------------------
revision 1.19
date: 1994/09/27 15:03:18;  author: rob;  state: Exp;
Added prototype for network_delete_extra_objects used by modem.c
----------------------------
revision 1.18
date: 1994/09/27 14:36:45;  author: rob;  state: Exp;
Added two new varaibles for network/serial weapon firing.
----------------------------
revision 1.17
date: 1994/09/07 17:10:57;  author: john;  state: Exp;
Started adding code to sync powerups.
----------------------------
revision 1.16
date: 1994/09/06 19:29:05;  author: john;  state: Exp;
Added trial version of rejoin function.
----------------------------
revision 1.15
date: 1994/08/26 13:01:54;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.14
date: 1994/08/25 18:12:04;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.13
date: 1994/08/17 16:50:00;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.12
date: 1994/08/16 12:25:22;  author: john;  state: Exp;
Added hooks for sending messages.
----------------------------
revision 1.11
date: 1994/08/13 12:20:18;  author: john;  state: Exp;
Made the networking uise the Players array.
----------------------------
revision 1.10
date: 1994/08/12 22:41:27;  author: john;  state: Exp;
Took away Player_stats; add Players array.
----------------------------
revision 1.9
date: 1994/08/12 03:10:22;  author: john;  state: Exp;
Made network be default off; Moved network options into
main menu.  Made starting net game check that mines are the
same.
----------------------------
revision 1.8
date: 1994/08/11 21:57:08;  author: john;  state: Exp;
Moved network options to main menu.
----------------------------
revision 1.7
date: 1994/08/10 11:29:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1994/08/10 10:44:12;  author: john;  state: Exp;
Made net players fire..
----------------------------
revision 1.5
date: 1994/08/09 19:31:46;  author: john;  state: Exp;
Networking changes.
----------------------------
revision 1.4
date: 1994/08/05 16:30:26;  author: john;  state: Exp;
Added capability to turn off network.
----------------------------
revision 1.3
date: 1994/08/05 16:11:43;  author: john;  state: Exp;
Psuedo working version of networking.
----------------------------
revision 1.2
date: 1994/07/25 12:33:34;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.1
date: 1994/07/20 16:09:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/newdemo.h,v
Working file: main/newdemo.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:27:18;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.43
date: 1995/01/19 09:41:43;  author: allender;  state: Exp;
prototype for laser level recording
----------------------------
revision 1.42
date: 1995/01/18 18:48:49;  author: allender;  state: Exp;
added function prototype for door_open
----------------------------
revision 1.41
date: 1995/01/17 17:42:31;  author: allender;  state: Exp;
new prototypes for ammo counts
----------------------------
revision 1.40
date: 1995/01/04 15:04:27;  author: allender;  state: Exp;
added some different prototypes for registered
----------------------------
revision 1.39
date: 1995/01/03 11:45:11;  author: allender;  state: Exp;
extern function definition
----------------------------
revision 1.38
date: 1994/12/29 16:43:31;  author: allender;  state: Exp;
new function prototype
----------------------------
revision 1.37
date: 1994/12/28 14:15:27;  author: allender;  state: Exp;
new function prototypes
----------------------------
revision 1.36
date: 1994/12/21 12:46:41;  author: allender;  state: Exp;
new functions for multiplayer deaths and kills
----------------------------
revision 1.35
date: 1994/12/12 11:32:55;  author: allender;  state: Exp;
added new record function to restore after in rearview mode
----------------------------
revision 1.34
date: 1994/12/08 21:03:15;  author: allender;  state: Exp;
added new param to record_player_flags
----------------------------
revision 1.33
date: 1994/12/08 13:47:01;  author: allender;  state: Exp;
removed function call to record_rearview
----------------------------
revision 1.32
date: 1994/12/06 12:57:10;  author: allender;  state: Exp;
added new prototype for multi decloaking
----------------------------
revision 1.31
date: 1994/12/01 11:46:34;  author: allender;  state: Exp;
added recording prototype for multi player cloak
----------------------------
revision 1.30
date: 1994/11/27 23:04:22;  author: allender;  state: Exp;
function prototype for recording new levels
----------------------------
revision 1.29
date: 1994/11/07 08:47:43;  author: john;  state: Exp;
Made wall state record.
----------------------------
revision 1.28
date: 1994/11/05 17:22:53;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.27
date: 1994/11/04 16:48:49;  author: allender;  state: Exp;
extern Newdemo_do_interpolate variable
----------------------------
revision 1.26
date: 1994/11/02 14:08:53;  author: allender;  state: Exp;
record rearview
----------------------------
revision 1.25
date: 1994/10/31 13:35:04;  author: allender;  state: Exp;
added two record functions to save and restore cockpit state on
death sequence
----------------------------
revision 1.24
date: 1994/10/29 16:01:11;  author: allender;  state: Exp;
added ND_STATE_NODEMOS to indicate that there are no demos currently
available for playback
----------------------------
revision 1.23
date: 1994/10/28 12:41:58;  author: allender;  state: Exp;
add homing distance recording event
----------------------------
revision 1.22
date: 1994/10/27 16:57:32;  author: allender;  state: Exp;
removed VCR_MODE stuff, and added monitor blowup effects
----------------------------
revision 1.21
date: 1994/10/26 14:44:48;  author: allender;  state: Exp;
completed hacked in vcr type demo playback states
----------------------------
revision 1.20
date: 1994/10/26 13:40:38;  author: allender;  state: Exp;
more vcr demo playback defines
----------------------------
revision 1.19
date: 1994/10/26 08:51:26;  author: allender;  state: Exp;
record player weapon change
----------------------------
revision 1.18
date: 1994/10/25 16:25:31;  author: allender;  state: Exp;
prototypes for shield, energy and flags
----------------------------
revision 1.17
date: 1994/08/15 18:05:30;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/07/21 13:11:26;  author: matt;  state: Exp;
Ripped out remants of old demo system, and added demo only system that
disables object movement and game options from menu.
----------------------------
revision 1.15
date: 1994/07/05 12:49:02;  author: john;  state: Exp;
Put functionality of New Hostage spec into code.
----------------------------
revision 1.14
date: 1994/06/27 15:53:12;  author: john;  state: Exp;
#define'd out the newdemo stuff
----------------------------
revision 1.13
date: 1994/06/24 17:01:25;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.12
date: 1994/06/21 19:46:05;  author: john;  state: Exp;
Added palette effects to demo recording.
----------------------------
revision 1.11
date: 1994/06/21 14:19:58;  author: john;  state: Exp;
Put in hooks to record HUD messages.
----------------------------
revision 1.10
date: 1994/06/20 11:50:42;  author: john;  state: Exp;
Made demo record flash effect, and control center triggers.
----------------------------
revision 1.9
date: 1994/06/17 18:01:29;  author: john;  state: Exp;
A bunch of new stuff by John
----------------------------
revision 1.8
date: 1994/06/17 12:13:34;  author: john;  state: Exp;
More newdemo stuff; made editor->game transition start in slew mode.
----------------------------
revision 1.7
date: 1994/06/16 13:02:02;  author: john;  state: Exp;
Added morph hooks.
----------------------------
revision 1.6
date: 1994/06/15 19:01:42;  author: john;  state: Exp;
Added the capability to make 3d sounds play just once for the
laser hit wall effects.
----------------------------
revision 1.5
date: 1994/06/15 14:57:11;  author: john;  state: Exp;
Added triggers to demo recording.
----------------------------
revision 1.4
date: 1994/06/14 20:42:19;  author: john;  state: Exp;
Made robot matztn cntr not work until no robots or player are
in the segment.
----------------------------
revision 1.3
date: 1994/06/14 14:43:52;  author: john;  state: Exp;
Made doors work with newdemo system.
----------------------------
revision 1.2
date: 1994/06/13 21:02:44;  author: john;  state: Exp;
Initial version of new demo recording system.
----------------------------
revision 1.1
date: 1994/06/13 15:51:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/newmenu.h,v
Working file: main/newmenu.h
head: 2.0
branch:
description: Routines for menus.
----------------------------
revision 2.0
date: 1995/02/27 11:32:28;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.24
date: 1995/02/11 16:20:05;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.23
date: 1995/01/31 10:21:41;  author: john;  state: Exp;
Added code to specify width, height.
----------------------------
revision 1.22
date: 1995/01/28 17:09:21;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.21
date: 1995/01/23 18:38:43;  author: john;  state: Exp;
Added listbox function.
----------------------------
revision 1.20
date: 1994/11/26 15:29:55;  author: matt;  state: Exp;
Allow escape out of change pilot menu
----------------------------
revision 1.19
date: 1994/11/26 14:17:05;  author: matt;  state: Exp;
Player can now only enter valid chars for his name
----------------------------
revision 1.18
date: 1994/11/18 16:17:13;  author: mike;  state: Exp;
prototype Max_linear_depth_objects.
----------------------------
revision 1.17
date: 1994/11/08 14:51:17;  author: john;  state: Exp;
Added nm_messagebox1, (like the original, only you can pass a function).
----------------------------
revision 1.16
date: 1994/11/05 14:31:45;  author: john;  state: Exp;
Added a new menu function for the background.
----------------------------
revision 1.15
date: 1994/11/05 14:05:46;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.14
date: 1994/11/03 19:37:35;  author: john;  state: Exp;
Added scrolling file list box
----------------------------
revision 1.13
date: 1994/10/13 11:34:03;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.12
date: 1994/10/11 17:08:32;  author: john;  state: Exp;
Added sliders for volume controls.
----------------------------
revision 1.11
date: 1994/10/04 10:26:23;  author: matt;  state: Exp;
Changed fade in to happen every time a global var is set
----------------------------
revision 1.10
date: 1994/10/03 14:43:56;  author: john;  state: Exp;
Added newmenu_do1, which allows you to pass the starting
item to the menu system
----------------------------
revision 1.9
date: 1994/09/30 11:51:33;  author: john;  state: Exp;
Added Matt's NM_TYPE_INPUT_MENU
----------------------------
revision 1.8
date: 1994/08/30 20:38:28;  author: john;  state: Exp;
Passed citem in newmenu sub.
----------------------------
revision 1.7
date: 1994/08/12 03:11:00;  author: john;  state: Exp;
Made network be default off; Moved network options into
main menu.  Made starting net game check that mines are the
same.
----------------------------
revision 1.6
date: 1994/08/11 13:47:05;  author: john;  state: Exp;
Made newmenu have subtitles, passed key through to
the newmenu subfunctions.
----------------------------
revision 1.5
date: 1994/07/27 16:12:24;  author: john;  state: Exp;
Changed newmenu system to have a callback function.
/.
----------------------------
revision 1.4
date: 1994/07/24 17:41:38;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/07/24 17:33:01;  author: john;  state: Exp;
Added percent item.  Also neatend up a bit.
----------------------------
revision 1.2
date: 1994/07/22 17:48:12;  author: john;  state: Exp;
Added new menuing system.
----------------------------
revision 1.1
date: 1994/07/22 13:55:51;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/nfile.h,v
Working file: main/nfile.h
head: 2.0
branch:
description: Prototypes for nfile.c
----------------------------
revision 2.0
date: 1995/02/27 11:29:13;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/12/09 19:20:51;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/12/07 20:54:43;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/cfile/nocfile.h,v
Working file: cfile/nocfile.h
head: 1.4
branch:
description: Prototypes to *NOT* use cfile, but use cfile calling parameters.
For debugging.
----------------------------
revision 1.4
date: 1994/12/09 17:53:52;  author: john;  state: Exp;
Added error checking to number of hogfiles..
----------------------------
revision 1.3
date: 1994/02/17 17:36:34;  author: john;  state: Exp;
Added CF_READ_MODE and CF_WRITE_MODE constants.
----------------------------
revision 1.2
date: 1994/02/15 12:52:08;  author: john;  state: Exp;
Crappy inbetween version
----------------------------
revision 1.1
date: 1994/02/15 09:51:00;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/object.h,v
Working file: main/object.h
head: 1.75
branch:
description: object system definitions
----------------------------
revision 1.75
date: 1994/08/03 21:06:19;  author: matt;  state: Exp;
Added prototype for fix_object_segs(), and renamed now-unused spawn_pos
----------------------------
revision 1.74
date: 1994/08/02 12:30:27;  author: matt;  state: Exp;
Added support for spinning objects
----------------------------
revision 1.73
date: 1994/07/27 20:53:25;  author: matt;  state: Exp;
Added rotational drag & thrust, so turning now has momemtum like moving
----------------------------
revision 1.72
date: 1994/07/27 19:44:21;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.71
date: 1994/07/22 20:43:29;  author: matt;  state: Exp;
Fixed flares, by adding a physics flag that makes them stick to walls.
----------------------------
revision 1.70
date: 1994/07/21 12:42:10;  author: mike;  state: Exp;
Prototype new find_object_seg and update_object_seg.
----------------------------
revision 1.69
date: 1994/07/19 15:26:39;  author: mike;  state: Exp;
New ai_static structure.
----------------------------
revision 1.68
date: 1994/07/13 00:15:06;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.67
date: 1994/07/12 12:40:12;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.66
date: 1994/07/06 15:26:23;  author: yuan;  state: Exp;
Added chase mode.
----------------------------
revision 1.65
date: 1994/06/29 19:43:31;  author: matt;  state: Exp;
Made powerup animation not happen in render routine
----------------------------
revision 1.64
date: 1994/06/27 18:31:09;  author: mike;  state: Exp;
Add flares.
----------------------------
revision 1.63
date: 1994/06/14 21:15:21;  author: matt;  state: Exp;
Made rod objects draw lighted or not depending on a parameter, so the
materialization effect no longer darkens.
----------------------------
revision 1.62
date: 1994/06/14 16:55:00;  author: matt;  state: Exp;
Got rid of physics_object speed field
----------------------------
revision 1.61
date: 1994/06/09 16:24:58;  author: matt;  state: Exp;
Fixed confusion with two constants, MAX_SUBOBJS & MAX_SUBMODELS, which
were used for the same things, but had different values.
----------------------------
revision 1.60
date: 1994/06/08 10:56:44;  author: matt;  state: Exp;
Improved debris: now get submodel size from new POF files; debris now has
limited life; debris can now be blown up.
----------------------------
revision 1.59
date: 1994/06/02 19:30:49;  author: matt;  state: Exp;
Moved texture-mapped rod drawing stuff (used for hostage & now for the
materialization center) to object.c
----------------------------
revision 1.58
date: 1994/05/30 22:50:20;  author: matt;  state: Exp;
Added morph effect for robots
----------------------------
revision 1.57
date: 1994/05/30 19:46:47;  author: mike;  state: Exp;
Move MAX_SUBOBJS from here to inferno.h
----------------------------
revision 1.56
date: 1994/05/30 00:03:19;  author: matt;  state: Exp;
Got rid of robot render type, and generally cleaned up polygon model
render objects.
----------------------------
revision 1.55
date: 1994/05/26 21:08:44;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.54
date: 1994/05/20 11:56:59;  author: matt;  state: Exp;
Cleaned up find_vector_intersection() interface
Killed check_point_in_seg(), check_player_seg(), check_object_seg()
----------------------------
revision 1.53
date: 1994/05/19 18:53:18;  author: yuan;  state: Exp;
Changing player structure...
----------------------------
revision 1.52
date: 1994/05/17 12:36:16;  author: matt;  state: Exp;
Changed parms to obj_create() and cleaned up object creation code
----------------------------
revision 1.51
date: 1994/05/17 11:53:45;  author: yuan;  state: Exp;
Adding Player_init, which saves position of player at beginning of level.
----------------------------
revision 1.50
date: 1994/05/17 10:37:08;  author: matt;  state: Exp;
Added new parm to reset_objects(), made Num_objects not public, added
Highest_object_index().
----------------------------
revision 1.49
date: 1994/05/16 16:48:14;  author: yuan;  state: Exp;
Added symbolic constant OBJECT_INITIAL_SHIELDS
----------------------------
revision 1.48
date: 1994/05/16 16:17:47;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.47
date: 1994/05/16 10:12:12;  author: matt;  state: Exp;
Added prototype for init_player_object()
----------------------------
revision 1.46
date: 1994/05/14 17:15:06;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.45
date: 1994/05/13 20:27:37;  author: john;  state: Exp;
Version II of John's new object code.
----------------------------
revision 1.44
date: 1994/05/12 14:44:39;  author: mike;  state: Exp;
Add ai_info to object structure.
----------------------------
revision 1.43
date: 1994/05/11 23:33:08;  author: mike;  state: Exp;
Make RESULT_KILLS directional with RESULT_KILLS_1_2 and RESULT_KILLS_2_1.
----------------------------
revision 1.42
date: 1994/05/10 18:02:16;  author: mike;  state: Exp;
Increase MAX_OBJECTS from 100 to 200
----------------------------
revision 1.41
date: 1994/05/07 16:42:07;  author: matt;  state: Exp;
Changed name of turnbank to turnroll
----------------------------
revision 1.40
date: 1994/05/06 10:12:39;  author: matt;  state: Exp;
Added new function, obj_create_copy()
----------------------------
revision 1.39
date: 1994/05/05 20:39:33;  author: matt;  state: Exp;
Made physics code more general-purpose; moved code from object.c to
physics.c; renamed routines; made behavior such as levelling and turn
banking controllable by flags.
----------------------------
revision 1.38
date: 1994/05/05 16:41:12;  author: matt;  state: Exp;
Cleaned up repair center code, and moved some from object.c to fuelcen.c
----------------------------
revision 1.37
date: 1994/05/03 19:33:40;  author: matt;  state: Exp;
Cleaned up usage of rotvel field from physics_info structure
----------------------------
revision 1.36
date: 1994/05/02 18:34:14;  author: matt;  state: Exp;
Changed parms to obj_link(), added a little more error checking, changed
a few fields in object physics_info, and probably a few other little things.
----------------------------
revision 1.35
date: 1994/05/02 16:30:31;  author: john;  state: Exp;
Added object flag OF_SHOULD_BE_DEAD which fixed the bug
that caused very close robots to die 10 seconds after they
actually got shot.
----------------------------
revision 1.34
date: 1994/04/29 09:18:08;  author: matt;  state: Exp;
Added support for multiple-piece explosions
----------------------------
revision 1.33
date: 1994/04/07 16:28:07;  author: yuan;  state: Exp;
Added SUPERPIG the robot with 200 hit points.
Now robots can take multiple hits before blowing up.
----------------------------
revision 1.32
date: 1994/04/07 13:44:13;  author: yuan;  state: Exp;
Added powerup_info to object structure.
----------------------------
revision 1.31
date: 1994/04/01 13:34:15;  author: matt;  state: Exp;
Cleaned up explosion and laser code; added mutliple-stage explosions.
----------------------------
revision 1.30
date: 1994/04/01 11:15:07;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.29
date: 1994/03/31 09:07:43;  author: matt;  state: Exp;
Made last_pos a field of all objects, not just lasers
----------------------------
revision 1.28
date: 1994/03/30 21:14:33;  author: yuan;  state: Exp;
Minor name change for object->damage...
object->lifeleft now.
----------------------------
revision 1.27
date: 1994/03/28 20:57:36;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.26
date: 1994/03/25 17:30:13;  author: yuan;  state: Exp;
Checking in hostage stuff... (start of it)
----------------------------
revision 1.25
date: 1994/03/25 16:54:55;  author: matt;  state: Exp;
polyobj_info field of object structure now has data for object animation
----------------------------
revision 1.24
date: 1994/02/17 11:32:50;  author: matt;  state: Exp;
Changes in object system
=============================================================================
RCS file: f:/miner/source/main/object.h,v
Working file: main/object.h
head: 2.1
branch:
description: object system definitions
----------------------------
revision 2.1
date: 1995/03/31 12:24:10;  author: john;  state: Exp;
I had changed alt_textures from a pointer to a byte. This hosed old
saved games, so I restored it to an int.
----------------------------
revision 2.0
date: 1995/02/27 11:26:47;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.122
date: 1995/02/22 12:35:53;  author: allender;  state: Exp;
remove anonymous unions
----------------------------
revision 1.121
date: 1995/02/06 20:43:25;  author: rob;  state: Exp;
Extern'ed Dead_player_camera so it can be reset by multi.c
----------------------------
revision 1.120
date: 1995/02/01 16:34:07;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.119
date: 1995/01/29 13:46:42;  author: mike;  state: Exp;
adapt to new create_small_fireball_on_object prototype.
----------------------------
revision 1.118
date: 1995/01/26 22:11:27;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.117
date: 1995/01/24 12:09:29;  author: mike;  state: Exp;
Boost MAX_OBJECTS from 250 to 350.
----------------------------
revision 1.116
date: 1995/01/13 19:39:51;  author: rob;  state: Exp;
Removed outdated remote_info structure.  (looking for cause of bugs
----------------------------
revision 1.115
date: 1995/01/12 12:09:38;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.114
date: 1994/12/15 13:04:20;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.113
date: 1994/12/12 17:18:09;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.112
date: 1994/12/09 14:58:42;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.111
date: 1994/12/08 12:35:35;  author: matt;  state: Exp;
Added new object allocation & deallocation functions so other code
could stop messing around with internal object data structures.
----------------------------
revision 1.110
date: 1994/11/21 17:30:21;  author: matt;  state: Exp;
Increased max number of objects
----------------------------
revision 1.109
date: 1994/11/18 23:41:52;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.108
date: 1994/11/10 14:02:45;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.107
date: 1994/11/08 12:19:27;  author: mike;  state: Exp;
Small explosions on objects.
----------------------------
revision 1.106
date: 1994/10/25 10:51:17;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.105
date: 1994/10/21 12:19:41;  author: matt;  state: Exp;
Clear transient objects when saving (& loading) games
----------------------------
revision 1.104
date: 1994/10/21 11:25:04;  author: mike;  state: Exp;
Add IMMORTAL_TIME.
----------------------------
revision 1.103
date: 1994/10/17 21:34:54;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.102
date: 1994/10/14 18:12:28;  author: mike;  state: Exp;
Make egg dropping return object number.
----------------------------
revision 1.101
date: 1994/10/12 21:07:19;  author: matt;  state: Exp;
Killed unused field in object structure
----------------------------
revision 1.100
date: 1994/10/12 10:38:24;  author: mike;  state: Exp;
Add field OF_SILENT to obj->flags.
----------------------------
revision 1.99
date: 1994/10/11 20:35:48;  author: matt;  state: Exp;
Clear "transient" objects (weapons,explosions,etc.) when starting a level
----------------------------
revision 1.98
date: 1994/10/03 20:56:13;  author: rob;  state: Exp;
Added velocity to shortpos strucutre.
----------------------------
revision 1.97
date: 1994/09/30 18:24:00;  author: rob;  state: Exp;
Added new control type CT_REMOTE for remote controlled objects.
Also added a union struct 'remote_info' for this type.
----------------------------
revision 1.96
date: 1994/09/28 09:23:05;  author: mike;  state: Exp;
Prototype Object_type_names.
----------------------------
revision 1.95
date: 1994/09/25 23:32:37;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.94
date: 1994/09/25 15:45:28;  author: matt;  state: Exp;
Added OBJ_LIGHT, a type of object that casts light
Added generalized lifeleft, and moved it to local_object
----------------------------
revision 1.93
date: 1994/09/24 17:41:19;  author: mike;  state: Exp;
Add stuff to Local_object structure for materialization centers.
----------------------------
revision 1.92
date: 1994/09/24 13:16:50;  author: matt;  state: Exp;
Added (hacked in, really) support for overriding the bitmaps used on to
texture map a polygon object, and using a new bitmap for all the faces.
----------------------------
revision 1.91
date: 1994/09/22 19:02:14;  author: mike;  state: Exp;
Prototype functions extract_shortpos and create_shortpos which reside in
gameseg.c, but are prototyped here to prevent circular dependencies.
----------------------------
revision 1.90
date: 1994/09/15 21:47:14;  author: mike;  state: Exp;
Prototype dead_player_end().
----------------------------
revision 1.89
date: 1994/09/15 16:34:47;  author: mike;  state: Exp;
Add danger_laser_num and danger_laser_signature to object_local to
enable robots to efficiently (too efficiently!) avoid player fire.
----------------------------
revision 1.88
date: 1994/09/11 22:46:19;  author: mike;  state: Exp;
Death_sequence_aborted prototyped.
----------------------------
revision 1.87
date: 1994/09/09 20:04:30;  author: mike;  state: Exp;
Add vclips for weapons.
----------------------------
revision 1.86
date: 1994/09/09 14:20:54;  author: matt;  state: Exp;
Added flag that says object uses thrust
----------------------------
revision 1.85
date: 1994/09/08 14:51:32;  author: mike;  state: Exp;
Make a crucial name change to a field of local_object struct.
----------------------------
revision 1.84
date: 1994/09/07 19:16:45;  author: mike;  state: Exp;
Homing missile.
----------------------------
revision 1.83
date: 1994/09/06 17:05:43;  author: matt;  state: Exp;
Added new type for dead player
----------------------------
revision 1.82
date: 1994/09/02 11:56:09;  author: mike;  state: Exp;
Add persistency (PF_PERSISTENT) to physics_info.
----------------------------
revision 1.81
date: 1994/08/28 19:10:28;  author: mike;  state: Exp;
Add Player_is_dead.
----------------------------
revision 1.80
date: 1994/08/18 15:11:44;  author: mike;  state: Exp;
powerup stuff.
----------------------------
revision 1.79
date: 1994/08/15 15:24:54;  author: john;  state: Exp;
Made players know who killed them; Disabled cheat menu
during net player; fixed bug with not being able to turn
of invulnerability; Made going into edit/starting new leve
l drop you out of a net game; made death dialog box.
----------------------------
revision 1.78
date: 1994/08/14 23:15:12;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.77
date: 1994/08/13 14:58:27;  author: matt;  state: Exp;
Finished adding support for miscellaneous objects
----------------------------
revision 1.76
date: 1994/08/09 16:04:13;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.75
date: 1994/08/03 21:06:19;  author: matt;  state: Exp;
Added prototype for fix_object_segs(), and renamed now-unused spawn_pos
----------------------------
revision 1.74
date: 1994/08/02 12:30:27;  author: matt;  state: Exp;
Added support for spinning objects
----------------------------
revision 1.73
date: 1994/07/27 20:53:25;  author: matt;  state: Exp;
Added rotational drag & thrust, so turning now has momemtum like moving
----------------------------
revision 1.72
date: 1994/07/27 19:44:21;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.71
date: 1994/07/22 20:43:29;  author: matt;  state: Exp;
Fixed flares, by adding a physics flag that makes them stick to walls.
----------------------------
revision 1.70
date: 1994/07/21 12:42:10;  author: mike;  state: Exp;
Prototype new find_object_seg and update_object_seg.
----------------------------
revision 1.69
date: 1994/07/19 15:26:39;  author: mike;  state: Exp;
New ai_static structure.
----------------------------
revision 1.68
date: 1994/07/13 00:15:06;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.67
date: 1994/07/12 12:40:12;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.66
date: 1994/07/06 15:26:23;  author: yuan;  state: Exp;
Added chase mode.
=============================================================================
RCS file: f:/miner/source/main/editor/objpage.h,v
Working file: main/editor/objpage.h
head: 2.0
branch:
description: object selection stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:35:32;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.8
date: 1994/11/02 16:19:20;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor, and cleaned up code
----------------------------
revision 1.7
date: 1994/07/28 16:59:36;  author: mike;  state: Exp;
objects containing objects.
----------------------------
revision 1.6
date: 1994/05/17 14:45:48;  author: mike;  state: Exp;
Get object type and id from ObjectType and ObjectId.
----------------------------
revision 1.5
date: 1994/05/17 12:03:55;  author: mike;  state: Exp;
Deal with little known fact that polygon object != robot.
----------------------------
revision 1.4
date: 1994/05/14 18:00:33;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.3
date: 1994/04/01 11:17:06;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.2
date: 1993/12/16 17:26:27;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.1
date: 1993/12/16 16:13:08;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/outside.h,v
Working file: main/outside.h
head: 1.1
branch:
description: Header for newfile.c
----------------------------
revision 1.1
date: 1994/08/15 19:18:47;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/paging.h,v
Working file: main/paging.h
head: 2.0
branch:
description: Prototypes for paging.
----------------------------
revision 2.0
date: 1995/02/27 11:30:12;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1995/01/15 11:56:39;  author: john;  state: Exp;
Working version of paging.
----------------------------
revision 1.1
date: 1995/01/15 11:33:52;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/palette.h,v
Working file: 2d/palette.h
head: 1.11
branch:
description: Protoypes for palette functions
----------------------------
revision 1.11
date: 1994/11/15 17:55:10;  author: john;  state: Exp;
Made text palette fade in when game over.
----------------------------
revision 1.10
date: 1994/11/07 13:53:42;  author: john;  state: Exp;
Added better gamma stufff.
----------------------------
revision 1.9
date: 1994/11/07 13:38:03;  author: john;  state: Exp;
Added gamma correction stuff.
----------------------------
revision 1.8
date: 1994/11/05 13:05:59;  author: john;  state: Exp;
Added back in code to allow keys during fade.
----------------------------
revision 1.7
date: 1994/11/05 12:46:37;  author: john;  state: Exp;
Changed palette stuff a bit.
----------------------------
revision 1.6
date: 1994/09/22 16:08:37;  author: john;  state: Exp;
Fixed some palette stuff.
----------------------------
revision 1.5
date: 1994/08/09 11:27:04;  author: john;  state: Exp;
Add cthru stuff.
----------------------------
revision 1.4
date: 1994/06/09 10:39:33;  author: john;  state: Exp;
In fade out.in functions, returned 1 if key was pressed...
----------------------------
revision 1.3
date: 1994/05/31 19:04:24;  author: john;  state: Exp;
Added key to stop fade if desired.
----------------------------
revision 1.2
date: 1994/05/06 12:50:42;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.1
date: 1994/05/04 14:59:57;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/misc/parsarg.h,v
Working file: misc/parsarg.h
head: 1.1
branch:
description: Header for parse_args() function
----------------------------
revision 1.1
date: 1993/09/09 17:32:14;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/pcx.h,v
Working file: 2d/pcx.h
head: 1.4
branch:
description: Routines to read/write pcx images.
----------------------------
revision 1.4
date: 1995/01/21 17:07:34;  author: john;  state: Exp;
Added out of memory error.
----------------------------
revision 1.3
date: 1994/11/29 02:53:10;  author: john;  state: Exp;
Added error messages; made call be more similiar to iff.
----------------------------
revision 1.2
date: 1994/11/28 20:03:48;  author: john;  state: Exp;
Added PCX functions.
----------------------------
revision 1.1
date: 1994/11/28 19:57:45;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/physics.h,v
Working file: main/physics.h
head: 2.0
branch:
description: Headers for physics functions and data
----------------------------
revision 2.0
date: 1995/02/27 11:33:06;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.29
date: 1995/02/06 19:47:18;  author: matt;  state: Exp;
New function (untested), set_thrust_from_velocity()
----------------------------
revision 1.28
date: 1994/12/04 22:14:20;  author: mike;  state: Exp;
apply instantaneous rotation to an object due to a force blow.
----------------------------
revision 1.27
date: 1994/08/01 13:29:42;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.26
date: 1994/07/28 12:35:22;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.25
date: 1994/07/13 21:48:05;  author: matt;  state: Exp;
FVI() and physics now keep lists of segments passed through which the
trigger code uses.
----------------------------
revision 1.24
date: 1994/06/30 19:01:55;  author: matt;  state: Exp;
Moved flying controls code from physics.c to controls.c
----------------------------
revision 1.23
date: 1994/06/16 14:14:20;  author: mike;  state: Exp;
Change physics_lookahead to return hit_info.
----------------------------
revision 1.22
date: 1994/06/09 09:58:43;  author: matt;  state: Exp;
Moved find_vector_intersection() from physics.c to new file fvi.c
----------------------------
revision 1.21
date: 1994/05/20 16:11:07;  author: matt;  state: Exp;
Added new parm, ignore_obj, to find_vector_intersection()
----------------------------
revision 1.20
date: 1994/05/20 15:16:58;  author: matt;  state: Exp;
Added new fvi return type; took out some troublesome (and troubling) asserts
=============================================================================
RCS file: f:/miner/source/main/piggy.h,v
Working file: main/piggy.h
head: 2.0
branch:
description: Interface to piggy functions.
----------------------------
revision 2.0
date: 1995/02/27 11:31:21;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.10
date: 1995/02/03 17:08:29;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.9
date: 1995/01/24 14:33:49;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1995/01/24 14:32:35;  author: john;  state: Exp;
Took out paging in code.
----------------------------
revision 1.7
date: 1995/01/23 12:30:17;  author: john;  state: Exp;
Made debug code that mprintf what bitmap gets paged in.
----------------------------
revision 1.6
date: 1995/01/17 14:11:37;  author: john;  state: Exp;
Added function that is called after level loaded.
----------------------------
revision 1.5
date: 1995/01/14 19:16:58;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.4
date: 1994/10/27 18:51:57;  author: john;  state: Exp;
Added -piglet option that only loads needed textures for a 
mine.  Only saved ~1MB, and code still doesn't free textures
before you load a new mine.
----------------------------
revision 1.3
date: 1994/06/08 14:20:47;  author: john;  state: Exp;
Made piggy dump before going into game.
----------------------------
revision 1.2
date: 1994/05/06 13:02:40;  author: john;  state: Exp;
Added piggy stuff; worked on supertransparency
----------------------------
revision 1.1
date: 1994/05/06 11:47:46;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/player.h,v
Working file: main/player.h
head: 2.0
branch:
description: Structure information for the player
----------------------------
revision 2.0
date: 1995/02/27 11:30:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.41
date: 1994/12/20 17:56:43;  author: yuan;  state: Exp;
Multiplayer object capability.
----------------------------
revision 1.40
date: 1994/12/02 15:04:42;  author: matt;  state: Exp;
Fixed bogus weapon constants and arrays
----------------------------
revision 1.39
date: 1994/11/25 22:47:08;  author: matt;  state: Exp;
Made saved game descriptions longer
----------------------------
revision 1.38
date: 1994/11/21 17:29:38;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.37
date: 1994/11/17 12:57:13;  author: rob;  state: Exp;
Changed net_kills_level to net_killed_total.
----------------------------
revision 1.36
date: 1994/11/14 17:20:33;  author: rob;  state: Exp;
Bumped player file version.
----------------------------
revision 1.35
date: 1994/11/04 19:55:06;  author: rob;  state: Exp;
Changed a previously unused pad character to represent whether or not
the player is connected to a net game (used to be objnum=-1 but we
want to keep the objnum info in case of re-joins)
----------------------------
revision 1.34
date: 1994/10/22 14:13:54;  author: mike;  state: Exp;
Add homing_object_dist field to player struct.
----------------------------
revision 1.33
date: 1994/10/22 00:08:45;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.32
date: 1994/10/21 20:43:03;  author: mike;  state: Exp;
Add hostages_on_board to player struct.
----------------------------
revision 1.31
date: 1994/10/19 20:00:00;  author: john;  state: Exp;
Added bonus points at the end of level based on skill level.
----------------------------
revision 1.30
date: 1994/10/19 15:14:24;  author: john;  state: Exp;
Took % hits out of player structure, made %kills work properly.
----------------------------
revision 1.29
date: 1994/10/19 12:12:27;  author: john;  state: Exp;
Added hour variable.
----------------------------
revision 1.28
date: 1994/10/17 17:24:48;  author: john;  state: Exp;
Added starting_level to player struct.
----------------------------
revision 1.27
date: 1994/10/13 15:42:02;  author: mike;  state: Exp;
Remove afterburner.
----------------------------
revision 1.26
date: 1994/10/10 17:00:23;  author: mike;  state: Exp;
Lower number of players from 10 to 8.
----------------------------
revision 1.25
date: 1994/10/09 14:53:26;  author: matt;  state: Exp;
Made player cockpit state & window size save/restore with saved games & automap
----------------------------
revision 1.24
date: 1994/10/08 20:24:10;  author: matt;  state: Exp;
Added difficulty level to player structure for game load/save
----------------------------
revision 1.23
date: 1994/10/05 17:39:53;  author: rob;  state: Exp;
Changed killer_objnum to a short (was char)
----------------------------
revision 1.22
date: 1994/10/03 22:59:07;  author: matt;  state: Exp;
Limit callsign to 8 chars long, so we can use it as filename
----------------------------
revision 1.21
date: 1994/09/23 10:14:30;  author: mike;  state: Exp;
Rename PLAYER_FLAGS_INVINCIBLE to PLAYER_FLAGS_INVULNERABLE.
Add INVULNERABLE_TIME_MAX = 30 seconds.
----------------------------
revision 1.20
date: 1994/09/21 20:44:22;  author: matt;  state: Exp;
Player explosion fireball now specified in bitmaps.tbl
----------------------------
revision 1.19
date: 1994/09/21 12:27:37;  author: mike;  state: Exp;
Move CLOAK_TIME_MAX here from game.c
----------------------------
revision 1.18
date: 1994/09/16 13:10:16;  author: mike;  state: Exp;
Add afterburner and cloak stuff.
----------------------------
revision 1.17
date: 1994/09/11 20:30:26;  author: matt;  state: Exp;
Cleaned up thrust vars, changing a few names
----------------------------
revision 1.16
date: 1994/09/09 14:22:45;  author: matt;  state: Exp;
Added extra gun for player
----------------------------
revision 1.15
date: 1994/09/07 13:30:11;  author: john;  state: Exp;
Added code to tell how many packets were lost.
----------------------------
revision 1.14
date: 1994/09/02 11:56:33;  author: mike;  state: Exp;
Alignment on the player struct.
----------------------------
revision 1.13
date: 1994/08/25 18:12:05;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.12
date: 1994/08/22 15:49:40;  author: mike;  state: Exp;
change spelling on num_missles -> num_missiles.
----------------------------
revision 1.11
date: 1994/08/18 10:47:32;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.10
date: 1994/08/17 16:50:05;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.9
date: 1994/08/15 00:24:10;  author: john;  state: Exp;
First version of netgame with players killing
each other. still buggy...
----------------------------
revision 1.8
date: 1994/08/12 22:41:26;  author: john;  state: Exp;
Took away Player_stats; add Players array.
----------------------------
revision 1.7
date: 1994/08/09 17:53:25;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1994/07/13 00:15:05;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.5
date: 1994/07/08 21:44:17;  author: matt;  state: Exp;
Made laser powerups saturate correctly
----------------------------
revision 1.4
date: 1994/07/07 14:59:02;  author: john;  state: Exp;
Made radar powerups.
----------------------------
revision 1.3
date: 1994/07/02 13:49:39;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.2
date: 1994/07/02 13:10:03;  author: matt;  state: Exp;
Moved player stats struct from gameseq.h to player.h
----------------------------
revision 1.1
date: 1994/07/02 11:00:43;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/playsave.h,v
Working file: main/playsave.h
head: 2.0
branch:
description: Header for playsave.c
----------------------------
revision 2.0
date: 1995/02/27 11:31:24;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.10
date: 1995/01/22 18:57:04;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.9
date: 1994/12/12 11:37:15;  author: matt;  state: Exp;
Fixed auto leveling defaults & saving
----------------------------
revision 1.8
date: 1994/12/08 10:01:37;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.7
date: 1994/11/25 22:46:56;  author: matt;  state: Exp;
Made saved game descriptions longer
----------------------------
revision 1.6
date: 1994/10/24 20:00:02;  author: john;  state: Exp;
Added prototype for read_player_file.
----------------------------
revision 1.5
date: 1994/10/17 13:07:12;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.4
date: 1994/10/09 14:54:32;  author: matt;  state: Exp;
Made player cockpit state & window size save/restore with saved games & automap
----------------------------
revision 1.3
date: 1994/10/08 23:08:09;  author: matt;  state: Exp;
Added error check & handling for game load/save disk io
----------------------------
revision 1.2
date: 1994/09/28 17:25:06;  author: matt;  state: Exp;
Added first draft of game save/load system
----------------------------
revision 1.1
date: 1994/09/27 15:47:23;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/polyobj.h,v
Working file: main/polyobj.h
head: 2.1
branch:
description: Header for polyobj.c, the polygon object code
----------------------------
revision 2.1
date: 1995/02/27 18:21:54;  author: john;  state: Exp;
Added extern for robot_points.
----------------------------
revision 2.0
date: 1995/02/27 11:29:58;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.28
date: 1995/01/12 12:10:16;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.27
date: 1994/11/11 19:28:58;  author: matt;  state: Exp;
Added code to show low detail polygon models
----------------------------
revision 1.26
date: 1994/11/10 14:03:05;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.25
date: 1994/11/02 16:18:24;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor
----------------------------
revision 1.24
date: 1994/10/18 10:55:57;  author: adam;  state: Exp;
bumped MAX_POLYGON_OBJECTS up
----------------------------
revision 1.23
date: 1994/10/17 21:35:01;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.22
date: 1994/09/09 14:23:42;  author: matt;  state: Exp;
Added glow code to polygon models for engine glow
----------------------------
revision 1.21
date: 1994/08/26 18:03:43;  author: matt;  state: Exp;
Added code to remap polygon model numbers by matching filenames
----------------------------
revision 1.20
date: 1994/08/26 15:36:00;  author: matt;  state: Exp;
Made eclips usable on more than one object at a time
----------------------------
revision 1.19
date: 1994/07/22 20:44:23;  author: matt;  state: Exp;
Killed unused fields in polygon model structure
----------------------------
revision 1.18
date: 1994/06/16 17:52:11;  author: matt;  state: Exp;
Made submodels rotate around their centers, not their pivot points
----------------------------
revision 1.17
date: 1994/06/14 12:22:05;  author: matt;  state: Exp;
Integrated with drive code, using #defines to switch versions
----------------------------
revision 1.16
date: 1994/06/09 16:25:01;  author: matt;  state: Exp;
Fixed confusion with two constants, MAX_SUBOBJS & MAX_SUBMODELS, which
were used for the same things, but had different values.
----------------------------
revision 1.15
date: 1994/06/08 10:56:38;  author: matt;  state: Exp;
Improved debris: now get submodel size from new POF files; debris now has
limited life; debris can now be blown up.
----------------------------
revision 1.14
date: 1994/06/07 16:51:57;  author: matt;  state: Exp;
Made object lighting work correctly; changed name of Ambient_light to
Dynamic_light; cleaned up polygobj object rendering a little.
----------------------------
revision 1.13
date: 1994/05/26 21:08:59;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.12
date: 1994/05/18 19:35:05;  author: matt;  state: Exp;
Added fields for the rest of the subobj data
----------------------------
revision 1.11
date: 1994/05/16 16:17:13;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.10
date: 1994/05/13 11:08:31;  author: matt;  state: Exp;
Added support for multiple gun positions on polygon models
----------------------------
revision 1.9
date: 1994/04/29 09:18:04;  author: matt;  state: Exp;
Added support for multiple-piece explosions
----------------------------
revision 1.8
date: 1994/04/28 18:44:18;  author: matt;  state: Exp;
Took out code for old-style (non-interpreted) objects.
----------------------------
revision 1.7
date: 1994/03/25 16:54:38;  author: matt;  state: Exp;
draw_polygon_object() now takes pointer to animation data
----------------------------
revision 1.6
date: 1994/03/15 17:44:33;  author: matt;  state: Exp;
Changed a bunch of names
----------------------------
revision 1.5
date: 1994/03/07 20:02:29;  author: matt;  state: Exp;
Added pointer to normals in polyobj struct
Added prototype for draw_polygon_object()
----------------------------
revision 1.4
date: 1994/03/01 17:16:19;  author: matt;  state: Exp;
Lots of changes to support loadable binary ".pof" robot files
----------------------------
revision 1.3
date: 1994/01/31 15:51:20;  author: matt;  state: Exp;
Added ptr for rgb table for robot colors
----------------------------
revision 1.2
date: 1994/01/28 13:52:01;  author: matt;  state: Exp;
Added flesh to this previously skeletal file.
----------------------------
revision 1.1
date: 1994/01/28 13:47:42;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/powerup.h,v
Working file: main/powerup.h
head: 2.0
branch:
description: Powerup header file.
----------------------------
revision 2.0
date: 1995/02/27 11:27:35;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.34
date: 1995/02/06 15:52:37;  author: mike;  state: Exp;
add mini megawow powerup for giving reasonable weapons.
----------------------------
revision 1.33
date: 1995/01/30 17:14:11;  author: mike;  state: Exp;
halve rate of vulcan ammo consumption.
----------------------------
revision 1.32
date: 1995/01/15 20:47:56;  author: mike;  state: Exp;
add lighting field to powerups.
----------------------------
revision 1.31
date: 1994/12/12 21:39:58;  author: matt;  state: Exp;
Changed vulcan ammo: 10K max, 5K w/weapon, 1250 per powerup
----------------------------
revision 1.30
date: 1994/12/07 12:55:26;  author: mike;  state: Exp;
tweak vulcan amounts.
----------------------------
revision 1.29
date: 1994/12/02 20:06:46;  author: matt;  state: Exp;
Made vulcan ammo print at approx 25 times actual
----------------------------
revision 1.28
date: 1994/10/26 15:56:27;  author: yuan;  state: Exp;
Made vulcan cannon give 100 ammo if it has less than that.
----------------------------
revision 1.27
date: 1994/10/15 19:07:10;  author: mike;  state: Exp;
Define constants for amount of vulcan ammo per powerup.
----------------------------
revision 1.26
date: 1994/09/26 13:29:38;  author: matt;  state: Exp;
Added extra life each 100,000 points, and show icons on HUD for num lives
----------------------------
revision 1.25
date: 1994/09/22 19:00:25;  author: mike;  state: Exp;
Kill constants ENERGY_BOOST and SHIELD_BOOST: it's now difficulty level dependent.
----------------------------
revision 1.24
date: 1994/09/20 19:46:11;  author: mike;  state: Exp;
Fix powerup number assignments.
----------------------------
revision 1.23
date: 1994/09/02 11:53:34;  author: mike;  state: Exp;
Add the megawow powerup.  If you don't know about it, that's because it's a secret.
----------------------------
revision 1.22
date: 1994/09/01 10:41:35;  author: matt;  state: Exp;
Sizes for powerups now specified in bitmaps.tbl; blob bitmaps now plot
correctly if width & height of bitmap are different.
----------------------------
revision 1.21
date: 1994/08/31 19:26:14;  author: mike;  state: Exp;
Start adding new pile of powerups.
----------------------------
revision 1.20
date: 1994/08/25 17:56:08;  author: matt;  state: Exp;
Added quad laser powerup
----------------------------
revision 1.19
date: 1994/08/18 15:11:50;  author: mike;  state: Exp;
missile powerups.
----------------------------
revision 1.18
date: 1994/08/09 17:54:33;  author: adam;  state: Exp;
upped no. of powerup types
----------------------------
revision 1.17
date: 1994/08/09 17:53:39;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/07/27 19:44:16;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.15
date: 1994/07/26 18:31:32;  author: mike;  state: Exp;
Move some constants here from eobject.c.
----------------------------
revision 1.14
date: 1994/07/20 17:35:03;  author: yuan;  state: Exp;
Some minor bug fixes and new key gauges...
----------------------------
revision 1.13
date: 1994/07/12 15:53:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1994/07/12 15:30:47;  author: mike;  state: Exp;
Prototype diminish_towards_max.
----------------------------
revision 1.11
date: 1994/07/07 14:59:04;  author: john;  state: Exp;
Made radar powerups.
----------------------------
revision 1.10
date: 1994/07/01 16:35:40;  author: yuan;  state: Exp;
Added key system
----------------------------
revision 1.9
date: 1994/06/29 19:43:33;  author: matt;  state: Exp;
Made powerup animation not happen in render routine
----------------------------
revision 1.8
date: 1994/06/21 18:54:03;  author: matt;  state: Exp;
Added support for powerups that don't get picked up if not needed, but this
feature is commented out at the end of do_powerup(), since the physics gave 
me all sorts of problems, with the player getting stuck on a powerup.
----------------------------
revision 1.7
date: 1994/06/08 18:16:32;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.6
date: 1994/05/18 13:26:30;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/05/17 17:01:48;  author: yuan;  state: Exp;
Added constant for boosts.
----------------------------
revision 1.4
date: 1994/04/06 14:42:50;  author: yuan;  state: Exp;
Adding new powerups.
----------------------------
revision 1.3
date: 1994/04/01 14:36:59;  author: yuan;  state: Exp;
John's head is an extra life...
----------------------------
revision 1.2
date: 1994/04/01 11:15:22;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.1
date: 1994/03/31 17:01:43;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/radar.h,v
Working file: main/radar.h
head: 2.0
branch:
description: Prototypes for radar.
----------------------------
revision 2.0
date: 1995/02/27 11:33:07;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/07/07 14:59:03;  author: john;  state: Exp;
Made radar powerups.
----------------------------
revision 1.2
date: 1994/07/06 19:36:36;  author: john;  state: Exp;
Initial version of radar.
----------------------------
revision 1.1
date: 1994/07/06 17:22:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/pslib/readfile.h,v
Working file: pslib/readfile.h
head: 1.5
branch:
description: =============================================================================
RCS file: f:/miner/source/main/render.h,v
Working file: main/render.h
head: 2.0
branch:
description: Header for rendering-based functions
----------------------------
revision 2.0
date: 1995/02/27 11:33:00;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.17
date: 1994/11/30 12:33:33;  author: mike;  state: Exp;
prototype Clear_window.
----------------------------
revision 1.16
date: 1994/11/02 16:19:52;  author: matt;  state: Exp;
Increased size of extra object buffer
----------------------------
revision 1.15
date: 1994/07/25 00:02:49;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.14
date: 1994/07/24 14:37:42;  author: matt;  state: Exp;
Added angles for player head
----------------------------
revision 1.13
date: 1994/06/24 17:01:34;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.12
date: 1994/06/16 10:55:57;  author: matt;  state: Exp;
Made a bunch of test code dependent on #defines
----------------------------
revision 1.11
date: 1994/06/01 00:01:36;  author: matt;  state: Exp;
Added mine destruction flashing effect
----------------------------
revision 1.10
date: 1994/05/22 18:47:36;  author: mike;  state: Exp;
make Render_list a globally accessible variable.
----------------------------
revision 1.9
date: 1994/05/22 15:29:32;  author: mike;  state: Exp;
Separation of lighting from render.c to lighting.c.
----------------------------
revision 1.8
date: 1994/05/14 17:59:39;  author: matt;  state: Exp;
Added extern.
----------------------------
revision 1.7
date: 1994/05/14 17:15:17;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.6
date: 1994/02/17 11:32:41;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.5
date: 1994/01/21 17:31:48;  author: matt;  state: Exp;
Moved code from render_frame() to caller, making code cleaner
----------------------------
revision 1.4
date: 1994/01/06 09:46:12;  author: john;  state: Exp;
Added removable walls... all code that checked for
children to see if a wall was a doorway, i changed
to yuan's wall_is_doorway function that is in wall.c...
doesn't work yet.
----------------------------
revision 1.3
date: 1994/01/05 11:25:47;  author: john;  state: Exp;
Changed Player_zoom to Render_zoom
----------------------------
revision 1.2
date: 1994/01/05 10:53:43;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.1
date: 1993/11/04 14:01:43;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/rle.h,v
Working file: 2d/rle.h
head: 1.5
branch:
description: Protypes for rle functions.
----------------------------
revision 1.5
date: 1995/01/14 11:32:20;  author: john;  state: Exp;
Added rle_cache_flush function.
----------------------------
revision 1.4
date: 1994/11/10 13:16:01;  author: matt;  state: Exp;
Added includes
----------------------------
revision 1.3
date: 1994/11/09 19:53:51;  author: john;  state: Exp;
Added texture rle caching.
----------------------------
revision 1.2
date: 1994/11/09 16:35:18;  author: john;  state: Exp;
First version with working RLE bitmaps.
----------------------------
revision 1.1
date: 1994/11/09 12:40:17;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/robot.h,v
Working file: main/robot.h
head: 2.1
branch:
description: Header for robot.c
----------------------------
revision 2.1
date: 1995/03/07 16:52:00;  author: john;  state: Exp;
Fixed robots not moving without edtiro bug.
----------------------------
revision 2.0
date: 1995/02/27 11:30:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.25
date: 1994/11/30 14:02:44;  author: mike;  state: Exp;
fields for see/attack/claw sounds.
----------------------------
revision 1.24
date: 1994/10/27 15:55:41;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/10/20 15:17:03;  author: mike;  state: Exp;
Add boss flag.
----------------------------
revision 1.22
date: 1994/10/20 09:51:00;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.21
date: 1994/10/18 10:52:54;  author: mike;  state: Exp;
Support robots lunging as an attack_type.
----------------------------
revision 1.20
date: 1994/10/17 21:19:02;  author: mike;  state: Exp;
robot cloaking.
----------------------------
revision 1.19
date: 1994/09/27 00:03:39;  author: mike;  state: Exp;
Add score_value to robot_info struct.
----------------------------
revision 1.18
date: 1994/09/22 19:01:12;  author: mike;  state: Exp;
Move NDL from here to game.h
----------------------------
revision 1.17
date: 1994/09/22 15:46:55;  author: mike;  state: Exp;
Add default contained objects for robots.
----------------------------
revision 1.16
date: 1994/09/22 10:46:57;  author: mike;  state: Exp;
Add difficulty levels.
----------------------------
revision 1.15
date: 1994/09/15 16:34:16;  author: mike;  state: Exp;
Change rapidfire_count to a byte, add evade_speed, dum1, dum2.
----------------------------
revision 1.14
date: 1994/09/09 14:21:58;  author: matt;  state: Exp;
Increased maximum number of games
----------------------------
revision 1.13
date: 1994/08/25 18:12:13;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.12
date: 1994/08/23 16:37:24;  author: mike;  state: Exp;
Add rapidfire_count to robot_info.
----------------------------
revision 1.11
date: 1994/07/27 19:45:01;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.10
date: 1994/07/12 12:40:01;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.9
date: 1994/06/21 12:17:12;  author: mike;  state: Exp;
Add circle_distance to robot_info.
----------------------------
revision 1.8
date: 1994/06/09 16:22:28;  author: matt;  state: Exp;
Moved header for calc_gun_point() here, where it belongs
----------------------------
revision 1.7
date: 1994/06/08 18:16:23;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.6
date: 1994/06/03 11:38:09;  author: john;  state: Exp;
Made robots get their strength for RobotInfo->strength, which
is read in from bitmaps.tbl
----------------------------
revision 1.5
date: 1994/05/30 19:43:31;  author: mike;  state: Exp;
Add voluminous comment for robot_get_anim_state.
----------------------------
revision 1.4
date: 1994/05/30 00:03:18;  author: matt;  state: Exp;
Got rid of robot render type, and generally cleaned up polygon model
render objects.
----------------------------
revision 1.3
date: 1994/05/29 18:46:37;  author: matt;  state: Exp;
Added stuff for getting robot animation info for different states
----------------------------
revision 1.2
date: 1994/05/26 21:09:18;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.1
date: 1994/05/26 18:02:12;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/scores.h,v
Working file: main/scores.h
head: 2.0
branch:
description: Scores header.
----------------------------
revision 2.0
date: 1995/02/27 11:31:53;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.13
date: 1994/12/07 00:36:36;  author: mike;  state: Exp;
scores sequencing stuff.
----------------------------
revision 1.12
date: 1994/11/28 11:26:09;  author: matt;  state: Exp;
Took out scores for weapons, which are no longer used
----------------------------
revision 1.11
date: 1994/10/24 18:20:03;  author: john;  state: Exp;
Made the current high score flash.
----------------------------
revision 1.10
date: 1994/10/18 18:21:36;  author: john;  state: Exp;
NEw score system.
----------------------------
revision 1.9
date: 1994/10/03 23:01:58;  author: matt;  state: Exp;
New parms for scores_view()
----------------------------
revision 1.8
date: 1994/09/27 16:10:37;  author: adam;  state: Exp;
changed scores of course
----------------------------
revision 1.7
date: 1994/08/31 19:25:46;  author: mike;  state: Exp;
Add score values for new powerups.
----------------------------
revision 1.6
date: 1994/08/26 16:00:18;  author: mike;  state: Exp;
enhanced (?) scoring.
----------------------------
revision 1.5
date: 1994/08/26 13:01:45;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.4
date: 1994/05/30 16:33:21;  author: yuan;  state: Exp;
Revamping high scores.
----------------------------
revision 1.3
date: 1994/05/14 17:15:07;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.2
date: 1994/05/13 13:13:57;  author: yuan;  state: Exp;
Added player death...
When you die, if just pops up a a message.
When game is over, a message is popped up, and if you have a high score,
you get to enter it.
----------------------------
revision 1.1
date: 1994/05/13 10:22:16;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/screens.h,v
Working file: main/screens.h
head: 2.2
branch:
description: Info on canvases, screens, etc.
----------------------------
revision 2.2
date: 1995/03/14 12:14:00;  author: john;  state: Exp;
Made VR helmets have 4 resolutions to choose from.
----------------------------
revision 2.1
date: 1995/03/06 15:24:09;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:31:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.15
date: 1994/08/10 19:56:45;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.14
date: 1994/07/20 21:04:26;  author: john;  state: Exp;
Add VictorMax VR helment support.
----------------------------
revision 1.13
date: 1994/06/24 17:01:28;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.12
date: 1994/04/20 20:30:03;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1994/03/30 21:12:05;  author: yuan;  state: Exp;
Use only 119 lines (saves 3 scanlines)
----------------------------
revision 1.10
date: 1994/03/17 16:49:37;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1994/02/11 15:07:44;  author: matt;  state: Exp;
Added extern of Canv_game_offscrn
----------------------------
revision 1.8
date: 1994/01/31 16:52:43;  author: john;  state: Exp;
redid cockpit bounds.
----------------------------
revision 1.7
date: 1994/01/26 18:13:53;  author: john;  state: Exp;
Changed 3d constants..
----------------------------
revision 1.6
date: 1994/01/25 17:11:46;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/01/25 11:43:25;  author: john;  state: Exp;
Changed game window size.
----------------------------
revision 1.4
date: 1993/12/13 16:32:39;  author: yuan;  state: Exp;
Fixed menu system memory errors, and other bugs.
----------------------------
revision 1.3
date: 1993/12/10 16:07:23;  author: yuan;  state: Exp;
Working on menu system.  Updated the title screen.
----------------------------
revision 1.2
date: 1993/12/09 21:27:46;  author: matt;  state: Exp;
Added 3d window sizing constants
----------------------------
revision 1.1
date: 1993/12/06 09:50:33;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/segment.h,v
Working file: main/segment.h
head: 2.1
branch:
description: Include file for functions which need to access segment data structure.
----------------------------
revision 2.1
date: 1995/03/20 18:15:22;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:26:49;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.89
date: 1995/01/24 15:07:55;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.88
date: 1994/12/12 01:04:06;  author: yuan;  state: Exp;
Boosted MAX_GAME_VERTS.
----------------------------
revision 1.87
date: 1994/12/11 16:18:14;  author: mike;  state: Exp;
add constants so we can detect too-large mines for game while in editor.
----------------------------
revision 1.86
date: 1994/12/08 15:07:29;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.85
date: 1994/12/01 21:06:39;  author: matt;  state: Exp;
Moved plane tolerance constant to gameseg.c, the only file that used it.
----------------------------
revision 1.84
date: 1994/11/27 14:01:41;  author: matt;  state: Exp;
Fixed segment structure so LVLs work
----------------------------
revision 1.83
date: 1994/11/26 22:50:20;  author: matt;  state: Exp;
Removed editor-only fields from segment structure when editor is compiled
out, and padded segment structure to even multiple of 4 bytes.
----------------------------
revision 1.82
date: 1994/11/21 11:43:36;  author: mike;  state: Exp;
smaller segment and vertex buffers.
----------------------------
revision 1.81
date: 1994/11/17 11:39:35;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.80
date: 1994/10/30 14:12:05;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.79
date: 1994/10/27 11:33:58;  author: mike;  state: Exp;
lower number of segments by 100, saving 116K.
----------------------------
revision 1.78
date: 1994/08/25 21:54:50;  author: mike;  state: Exp;
Add macro IS_CHILD to make checking for the presence of a child centralized.
----------------------------
revision 1.77
date: 1994/08/11 18:58:16;  author: mike;  state: Exp;
Add prototype for Side_to_verts_int.
----------------------------
revision 1.76
date: 1994/08/01 11:04:13;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.75
date: 1994/07/25 00:04:19;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.74
date: 1994/07/21 19:01:30;  author: mike;  state: Exp;
new lsegment structure.
----------------------------
revision 1.73
date: 1994/06/08 14:30:48;  author: matt;  state: Exp;
Added static_light field to segment structure, and padded side struct
to be longword aligned.
----------------------------
revision 1.72
date: 1994/05/19 23:25:17;  author: mike;  state: Exp;
Change MINE_VERSION to 15, DEFAULT_LIGHTING to 0
----------------------------
revision 1.71
date: 1994/05/12 14:45:54;  author: mike;  state: Exp;
New segment data structure (!!), group, special, object, value = short.
----------------------------
revision 1.70
date: 1994/05/03 11:06:46;  author: mike;  state: Exp;
Remove constants VMAG and UMAG which are editor specific..
----------------------------
revision 1.69
date: 1994/04/18 10:40:28;  author: yuan;  state: Exp;
Increased segment limit to 1000
(From 500)
=============================================================================
RCS file: f:/miner/source/main/segment2.h,v
Working file: main/segment2.h
head: 1.2
branch:
description: Include file for makeseg program, not necessary for game or editor.
----------------------------
revision 1.2
date: 1993/09/20 15:17:49;  author: mike;  state: Exp;
Define constants: NUM_FACES, NUM_VERTICES, NUM_UVS, NUM_RGBS, NUM_FACE_VERTS
----------------------------
revision 1.1
date: 1993/09/15 19:12:32;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/segpoint.h,v
Working file: main/segpoint.h
head: 2.0
branch:
description: Hopefully temporary file to hold external definition of Segment_points[]
----------------------------
revision 2.0
date: 1995/02/27 11:26:54;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/02/16 17:14:40;  author: matt;  state: Exp;
Added include of 3d.h
----------------------------
revision 1.1
date: 1993/12/06 09:51:37;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/seguvs.h,v
Working file: main/editor/seguvs.h
head: 2.0
branch:
description: Header for seguvs.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:58;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/08/03 10:32:28;  author: mike;  state: Exp;
Add stretch_uvs_from_curedge.
----------------------------
revision 1.2
date: 1994/05/14 18:00:58;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 17:27:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/serial.h,v
Working file: main/serial.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:32:33;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/07/21 21:31:33;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.1
date: 1994/07/21 18:40:47;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/ship.h,v
Working file: main/ship.h
head: 1.2
branch:
description: Functions that affect the ship (Player_stats)
----------------------------
revision 1.2
date: 1994/03/01 18:12:56;  author: yuan;  state: Exp;
Walls, switches, and triggers...
----------------------------
revision 1.1
date: 1994/02/25 15:52:13;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/slew.h,v
Working file: main/slew.h
head: 2.0
branch:
description: Prototypes, etc., for slew system
----------------------------
revision 2.0
date: 1995/02/27 11:33:05;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/15 16:43:58;  author: matt;  state: Exp;
Made slew functions compile out for release versions
----------------------------
revision 1.4
date: 1994/02/17 11:32:41;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.3
date: 1994/01/05 10:53:42;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.2
date: 1993/12/05 22:48:57;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.1
date: 1993/12/05 20:20:16;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/songs.h,v
Working file: main/songs.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:30:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1995/02/11 22:21:44;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1995/02/11 19:10:49;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1995/02/11 18:34:40;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1995/02/11 18:04:51;  author: adam;  state: Exp;
upped songs
----------------------------
revision 1.2
date: 1995/02/11 12:42:12;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.1
date: 1995/02/11 10:20:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/sounds.h,v
Working file: main/sounds.h
head: 2.0
branch:
description: Numbering system for the sounds.
----------------------------
revision 2.0
date: 1995/02/27 11:27:32;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.41
date: 1995/02/03 17:08:28;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.40
date: 1995/01/30 21:45:17;  author: adam;  state: Exp;
added weapon change sounds
----------------------------
revision 1.39
date: 1995/01/30 21:11:57;  author: mike;  state: Exp;
Use new weapon selection sounds, different for primary and secondary.
----------------------------
revision 1.38
date: 1995/01/26 17:02:58;  author: mike;  state: Exp;
make fusion cannon have more chrome, make fusion, mega rock you!
----------------------------
revision 1.37
date: 1995/01/18 19:46:15;  author: matt;  state: Exp;
Added sound for invulnerability wearing off, and voice message for cheating
----------------------------
revision 1.36
date: 1995/01/18 19:05:04;  author: john;  state: Exp;
Increased MAX_SOUNDS.
----------------------------
revision 1.35
date: 1994/12/14 16:57:08;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/12/08 21:31:40;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.33
date: 1994/12/08 12:33:01;  author: mike;  state: Exp;
make boss dying more interesting.
----------------------------
revision 1.32
date: 1994/12/04 21:39:40;  author: matt;  state: Exp;
Added sound constants for endlevel explosions
----------------------------
revision 1.31
date: 1994/11/30 14:02:58;  author: mike;  state: Exp;
see/claw/attack sounds.
----------------------------
revision 1.30
date: 1994/11/29 20:43:54;  author: matt;  state: Exp;
Deleted a bunch of unused constants
----------------------------
revision 1.29
date: 1994/11/29 15:48:11;  author: matt;  state: Exp;
Cleaned up, & added new sounds
----------------------------
revision 1.28
date: 1994/11/29 14:35:36;  author: adam;  state: Exp;
moved lava noise index
----------------------------
revision 1.27
date: 1994/11/29 13:23:30;  author: matt;  state: Exp;
Cleaned up sound constants
----------------------------
revision 1.26
date: 1994/11/29 13:01:04;  author: rob;  state: Exp;
ADded badass explosion define.
----------------------------
revision 1.25
date: 1994/11/29 11:34:23;  author: rob;  state: Exp;
Added new HUD sounds.
----------------------------
revision 1.24
date: 1994/11/15 16:52:01;  author: mike;  state: Exp;
hiss sound placeholder.
----------------------------
revision 1.23
date: 1994/10/25 16:21:45;  author: adam;  state: Exp;
changed homing sound
----------------------------
revision 1.22
date: 1994/10/23 00:27:34;  author: matt;  state: Exp;
Made exploding wall do one long sound, instead of lots of small ones
----------------------------
revision 1.21
date: 1994/10/22 14:12:35;  author: mike;  state: Exp;
Add sound for missile tracking player.
----------------------------
revision 1.20
date: 1994/10/11 12:25:21;  author: matt;  state: Exp;
Added "hot rocks" that create badass explosion when hit by weapons
----------------------------
revision 1.19
date: 1994/10/10 20:57:50;  author: matt;  state: Exp;
Added sound for exploding wall (hostage door)
----------------------------
revision 1.18
date: 1994/10/04 15:33:31;  author: john;  state: Exp;
Took out the old PLAY_SOUND??? code and replaced it
with direct calls into digi_link_??? so that all sounds
can be made 3d.
----------------------------
revision 1.17
date: 1994/09/29 21:13:41;  author: john;  state: Exp;
Added Master volumes for digi and midi. Also took out panning,
because it doesn't work with MasterVolume stuff. 
----------------------------
revision 1.16
date: 1994/09/29 00:42:29;  author: matt;  state: Exp;
Made hitting a locked door play a sound
----------------------------
revision 1.15
date: 1994/09/20 19:14:34;  author: john;  state: Exp;
Massaged the sound system; used a better formula for determining
which l/r balance, also, put in Mike's stuff that searches for a connection
between the 2 sounds' segments, stopping for closed doors, etc.
----------------------------
revision 1.14
date: 1994/07/06 15:23:59;  author: john;  state: Exp;
Revamped hostage sound.
----------------------------
revision 1.13
date: 1994/06/21 19:13:27;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1994/06/21 12:09:54;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1994/06/21 12:03:15;  author: john;  state: Exp;
Added more sounds.
----------------------------
revision 1.10
date: 1994/06/20 22:01:54;  author: matt;  state: Exp;
Added prototype for Play3D()
----------------------------
revision 1.9
date: 1994/06/20 21:06:06;  author: yuan;  state: Exp;
Fixed up menus.
----------------------------
revision 1.8
date: 1994/06/17 12:21:54;  author: mike;  state: Exp;
Hook for robot hits player.
----------------------------
revision 1.7
date: 1994/06/15 19:01:35;  author: john;  state: Exp;
Added the capability to make 3d sounds play just once for the
laser hit wall effects.
----------------------------
revision 1.6
date: 1994/06/08 11:43:03;  author: john;  state: Exp;
Enable 3D sound.
----------------------------
revision 1.5
date: 1994/06/07 18:21:20;  author: john;  state: Exp;
Start changing sound to the new 3D system.
----------------------------
revision 1.4
date: 1994/05/16 16:17:41;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.3
date: 1994/05/09 21:11:38;  author: john;  state: Exp;
Sound changes; pass index instead of pointer to digi routines.
Made laser sound cut off the last laser sound.
----------------------------
revision 1.2
date: 1994/04/27 11:47:46;  author: john;  state: Exp;
First version.
----------------------------
revision 1.1
date: 1994/04/26 10:44:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/ipx.h,v
Working file: main/ipx.h
head: 1.3
branch:
description: Prototype for IPX communications.
----------------------------
revision 1.3
date: 1994/07/25 12:33:22;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.2
date: 1994/07/20 15:58:29;  author: john;  state: Exp;
First installment of ipx stuff.
----------------------------
revision 1.1
date: 1994/07/19 15:43:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/state.h,v
Working file: main/state.h
head: 2.1
branch:
description: Prototypes for state saving functions.
----------------------------
revision 2.1
date: 1995/03/27 21:40:35;  author: john;  state: Exp;
Added code to verify that the proper multi save file
is used when restoring a network game.
----------------------------
revision 2.0
date: 1995/02/27 11:28:44;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1995/02/07 10:54:05;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1995/02/03 10:58:12;  author: john;  state: Exp;
Added code to save shareware style saved games into new format...
Also, made new player file format not have the saved game array in it.
----------------------------
revision 1.4
date: 1995/01/19 17:00:51;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.3
date: 1995/01/05 11:51:44;  author: john;  state: Exp;
Added better Abort game menu.
Made save state return success or nopt.
----------------------------
revision 1.2
date: 1994/12/29 15:26:39;  author: john;  state: Exp;
Put in hooks for saving/restoring game state.
----------------------------
revision 1.1
date: 1994/12/29 15:15:47;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/switch.h,v
Working file: main/switch.h
head: 2.0
branch:
description: Triggers and Switches.
----------------------------
revision 2.0
date: 1995/02/27 11:26:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.19
date: 1995/01/12 17:00:36;  author: rob;  state: Exp;
Fixed a problem with switches and secret levels.
----------------------------
revision 1.18
date: 1994/10/06 21:24:40;  author: matt;  state: Exp;
Added switch for exit to secret level
----------------------------
revision 1.17
date: 1994/09/29 17:05:52;  author: matt;  state: Exp;
Removed unused constant
----------------------------
revision 1.16
date: 1994/09/24 17:10:07;  author: yuan;  state: Exp;
Added Matcen triggers.
----------------------------
revision 1.15
date: 1994/08/15 18:06:39;  author: yuan;  state: Exp;
Added external trigger.
----------------------------
revision 1.14
date: 1994/06/16 16:20:52;  author: john;  state: Exp;
Made player start out in physics mode; Neatend up game loop a bit.
----------------------------
revision 1.13
date: 1994/05/30 20:22:08;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.12
date: 1994/05/27 10:32:44;  author: yuan;  state: Exp;
New dialog boxes (Walls and Triggers) added.
----------------------------
revision 1.11
date: 1994/05/25 18:06:32;  author: yuan;  state: Exp;
Making new dialog box controls for walls and triggers.
----------------------------
revision 1.10
date: 1994/04/28 18:04:40;  author: yuan;  state: Exp;
Gamesave added.
Trigger problem fixed (seg pointer is replaced by index now.)
----------------------------
revision 1.9
date: 1994/04/26 11:19:01;  author: yuan;  state: Exp;
Make it so a trigger can only be triggered every 5 seconds.
=============================================================================
RCS file: f:/miner/source/main/terrain.h,v
Working file: main/terrain.h
head: 2.0
branch:
description: Header for terrain.c
----------------------------
revision 2.0
date: 1995/02/27 11:32:53;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/10/27 01:03:51;  author: matt;  state: Exp;
Made terrain renderer use aribtary point in height array as origin
----------------------------
revision 1.2
date: 1994/08/19 20:09:45;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.1
date: 1994/08/17 20:33:36;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/texmap.h,v
Working file: texmap/texmap.h
head: 1.17
branch:
description: Include file for entities using texture mapper library.
----------------------------
revision 1.17
date: 1994/11/10 11:09:16;  author: mike;  state: Exp;
detail level stuff.
----------------------------
revision 1.16
date: 1994/11/09 22:55:32;  author: matt;  state: Exp;
Added variable Current_seg_depth for detail level optimization
----------------------------
revision 1.15
date: 1994/06/09 16:10:04;  author: mike;  state: Exp;
Add prototype for SC2000
----------------------------
revision 1.14
date: 1994/05/25 18:46:16;  author: matt;  state: Exp;
Added gr_upoly_tmap_ylr(), which generates ylr's for a polygon
----------------------------
revision 1.13
date: 1994/05/25 09:47:12;  author: mike;  state: Exp;
Added interface support for linear texture mapper (Mike change, Matt commnet)
----------------------------
revision 1.12
date: 1994/05/24 17:30:43;  author: mike;  state: Exp;
Prototype a bunch of linear, vertical scanning functions.
----------------------------
revision 1.11
date: 1994/05/19 23:26:14;  author: mike;  state: Exp;
Add constants NUM_LIGHTING_VALUES, MAX_LIGHTING_VALUE, MIN_LIGHTING_VALUE,
all part of new lighting_values_in_0_to_1 system.
----------------------------
revision 1.10
date: 1994/05/14 17:19:21;  author: matt;  state: Exp;
Added externs
----------------------------
revision 1.9
date: 1994/04/13 23:55:44;  author: matt;  state: Exp;
Increased max_tmap_verts from 16 to 25
----------------------------
revision 1.8
date: 1994/03/31 08:35:43;  author: mike;  state: Exp;
Prototype for gr_upoly_tmap.
----------------------------
revision 1.7
date: 1994/02/08 15:17:54;  author: mike;  state: Exp;
define label for MAX_TMAP_VERTS
----------------------------
revision 1.6
date: 1994/01/31 15:41:51;  author: mike;  state: Exp;
Add texture_map_lin_lin_sky_v
----------------------------
revision 1.5
date: 1994/01/18 10:49:40;  author: mike;  state: Exp;
prototype for texture_map_lin_lin_sky
----------------------------
revision 1.4
date: 1993/11/30 17:09:46;  author: mike;  state: Exp;
prototype for compute_lighting_value.
----------------------------
revision 1.3
date: 1993/11/22 10:50:38;  author: matt;  state: Exp;
Add ifndef around body of file
----------------------------
revision 1.2
date: 1993/10/06 12:41:25;  author: mike;  state: Exp;
Change prototype for draw_tmap.
----------------------------
revision 1.1
date: 1993/09/08 17:29:11;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/texmerge.h,v
Working file: main/texmerge.h
head: 2.0
branch:
description: Definitions for texture merging caching stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:28:05;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1995/01/14 19:16:26;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.3
date: 1994/01/21 15:23:26;  author: john;  state: Exp;
made texmerge_close return void.
----------------------------
revision 1.2
date: 1994/01/21 15:16:01;  author: john;  state: Exp;
Created new module texmerge, that merges textures together and 
caches the results.
----------------------------
revision 1.1
date: 1994/01/21 15:03:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/texpage.h,v
Working file: main/editor/texpage.h
head: 2.0
branch:
description: Definitions for texpage.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:31;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/05/14 17:17:53;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.2
date: 1993/12/16 15:57:54;  author: john;  state: Exp;
moved texture selection stuff to texpage.c
----------------------------
revision 1.1
date: 1993/12/16 15:22:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/text.h,v
Working file: main/text.h
head: 2.2
branch:
description: Header for text.c, including symbolics for text messages
----------------------------
revision 2.2
date: 1995/03/30 16:36:22;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.1
date: 1995/03/08 15:33:24;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 2.0
date: 1995/02/27 11:30:21;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.63
date: 1995/02/11 14:59:42;  author: rob;  state: Exp;
Added string for controlcen invul.
----------------------------
revision 1.62
date: 1995/02/10 15:19:38;  author: allender;  state: Exp;
added text for bad write on demo write
----------------------------
revision 1.61
date: 1995/02/08 10:59:11;  author: rob;  state: Exp;
Added string used in kill list view.
----------------------------
revision 1.60
date: 1995/02/07 20:38:40;  author: rob;  state: Exp;
Added new localized strings for new multi options.
----------------------------
revision 1.59
date: 1995/02/02 15:29:17;  author: matt;  state: Exp;
Changed & localized secret level text
----------------------------
revision 1.58
date: 1995/02/02 12:24:14;  author: adam;  state: Exp;
added automap string
----------------------------
revision 1.57
date: 1995/02/01 18:06:50;  author: rob;  state: Exp;
Localize default macros, other stuff frm network.c
----------------------------
revision 1.56
date: 1995/01/30 15:29:53;  author: rob;  state: Exp;
Localizing.
----------------------------
revision 1.55
date: 1995/01/30 13:54:25;  author: allender;  state: Exp;
added mission/demo text
----------------------------
revision 1.54
date: 1995/01/24 22:03:22;  author: mike;  state: Exp;
text localization.
----------------------------
revision 1.53
date: 1995/01/23 13:05:59;  author: adam;  state: Exp;
added save/load game text
----------------------------
revision 1.52
date: 1995/01/22 15:58:42;  author: mike;  state: Exp;
localization
----------------------------
revision 1.51
date: 1994/12/29 12:08:47;  author: rob;  state: Exp;
removed new text strings.
----------------------------
revision 1.50
date: 1994/12/28 16:47:14;  author: rob;  state: Exp;
Added new com setup strings.
----------------------------
revision 1.49
date: 1994/12/15 23:24:22;  author: rob;  state: Exp;
Added string for rejoin failure.
----------------------------
revision 1.48
date: 1994/12/15 10:16:06;  author: adam;  state: Exp;
added lame trademark notice
----------------------------
revision 1.47
date: 1994/12/14 18:21:23;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.46
date: 1994/12/14 16:57:01;  author: matt;  state: Exp;
Added text for hat2
----------------------------
revision 1.45
date: 1994/12/14 08:50:12;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.44
date: 1994/12/13 19:43:29;  author: rob;  state: Exp;
Added string.
----------------------------
revision 1.43
date: 1994/12/13 12:54:45;  author: mike;  state: Exp;
add strings for hostages on board when you die.
----------------------------
revision 1.42
date: 1994/12/13 10:04:09;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.41
date: 1994/12/12 22:20:23;  author: rob;  state: Exp;
Added two new localized strings for modem.c
----------------------------
revision 1.40
date: 1994/12/09 19:46:26;  author: yuan;  state: Exp;
Localized the sucker.
----------------------------
revision 1.39
date: 1994/12/09 14:35:30;  author: yuan;  state: Exp;
Added localization string for Rob.
----------------------------
revision 1.38
date: 1994/12/09 14:08:16;  author: mike;  state: Exp;
text message for remaining ships at end bonus.
----------------------------
revision 1.37
date: 1994/12/09 00:28:26;  author: rob;  state: Exp;
Added "died in mine" string.
----------------------------
revision 1.36
date: 1994/12/08 14:30:31;  author: yuan;  state: Exp;
Fixed off by one problem.
----------------------------
revision 1.35
date: 1994/12/08 11:18:56;  author: allender;  state: Exp;
demo text string
----------------------------
revision 1.33
date: 1994/12/07 19:14:33;  author: matt;  state: Exp;
Cleaned up command-line options and command-line help message
----------------------------
revision 1.32
date: 1994/12/07 17:20:34;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.31
date: 1994/12/07 16:49:15;  author: yuan;  state: Exp;
More localization
----------------------------
revision 1.30
date: 1994/12/07 14:52:11;  author: yuan;  state: Exp;
Localization 492
----------------------------
revision 1.29
date: 1994/12/07 11:28:12;  author: matt;  state: Exp;
Did a little localization support
----------------------------
revision 1.28
date: 1994/12/06 18:29:31;  author: mike;  state: Exp;
Add text for cheat: Start at any level.
----------------------------
revision 1.27
date: 1994/12/06 16:30:39;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.26
date: 1994/12/06 15:14:55;  author: yuan;  state: Exp;
Fixed number of textstrings.
----------------------------
revision 1.25
date: 1994/12/06 15:13:52;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.24
date: 1994/12/06 13:46:24;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/12/05 23:17:28;  author: yuan;  state: Exp;
Localization bugs fixed.
----------------------------
revision 1.22
date: 1994/12/05 23:05:41;  author: yuan;  state: Exp;
Localization 425
----------------------------
revision 1.21
date: 1994/12/05 22:42:27;  author: rob;  state: Exp;
Added new connect status strings
----------------------------
revision 1.20
date: 1994/12/05 16:47:30;  author: rob;  state: Exp;
Added a new string.
----------------------------
revision 1.19
date: 1994/12/03 22:35:17;  author: yuan;  state: Exp;
Localization 412
----------------------------
revision 1.18
date: 1994/12/03 17:53:42;  author: yuan;  state: Exp;
382.
=============================================================================
RCS file: f:/miner/source/main/textures.h,v
Working file: main/textures.h
head: 2.0
branch:
description: Array of textures, and other stuff
----------------------------
revision 2.0
date: 1995/02/27 11:31:54;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/03/15 16:32:56;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(Fixed structures too)
----------------------------
revision 1.2
date: 1993/12/05 22:49:53;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.1
date: 1993/12/05 20:16:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/timer.h,v
Working file: bios/timer.h
head: 1.8
branch:
description: Header for timer functions
----------------------------
revision 1.8
date: 1994/12/10 12:27:23;  author: john;  state: Exp;
Added timer_get_approx_seconds.
----------------------------
revision 1.7
date: 1994/12/10 12:10:25;  author: john;  state: Exp;
Added types.h.
----------------------------
revision 1.6
date: 1994/12/10 12:07:06;  author: john;  state: Exp;
Added tick counter variable.
----------------------------
revision 1.5
date: 1994/11/15 12:04:15;  author: john;  state: Exp;
Cleaned up timer code a bit... took out unused functions
like timer_get_milliseconds, etc.
----------------------------
revision 1.4
date: 1994/04/28 23:50:08;  author: john;  state: Exp;
Changed calling for init_timer.  Made the function that the
timer calls be a far function. All of this was done to make
our timer system compatible with the HMI sound stuff.
----------------------------
revision 1.3
date: 1994/02/17 15:57:12;  author: john;  state: Exp;
Changed key libary to C.
----------------------------
revision 1.2
date: 1994/01/18 10:58:34;  author: john;  state: Exp;
Added timer_get_fixed_seconds
----------------------------
revision 1.1
date: 1993/07/10 13:10:41;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/titles.h,v
Working file: main/titles.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:27:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.12
date: 1995/02/02 12:23:29;  author: john;  state: Exp;
Made between level saves have picture.
----------------------------
revision 1.11
date: 1995/01/21 16:27:11;  author: matt;  state: Exp;
Made endlevel briefing work with missions
----------------------------
revision 1.10
date: 1995/01/20 22:48:02;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.9
date: 1994/12/07 19:14:07;  author: matt;  state: Exp;
Kill briefing screen disable switch for release version
----------------------------
revision 1.8
date: 1994/11/21 16:40:24;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.7
date: 1994/11/05 14:05:54;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.6
date: 1994/11/01 17:57:48;  author: mike;  state: Exp;
Briefing screens.
----------------------------
revision 1.5
date: 1994/10/31 22:28:04;  author: mike;  state: Exp;
briefing screens
----------------------------
revision 1.4
date: 1994/09/16 16:14:31;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.3
date: 1994/06/22 00:26:53;  author: matt;  state: Exp;
Added support for Interplay's animating title sequence
----------------------------
revision 1.2
date: 1994/06/17 12:13:36;  author: john;  state: Exp;
More newdemo stuff; made editor->game transition start in slew mode.
----------------------------
revision 1.1
date: 1994/06/17 10:50:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/includes/types.h,v
Working file: includes/types.h
head: 1.2
branch:
description: Common types for use in Miner
----------------------------
revision 1.2
date: 1993/09/14 12:12:30;  author: matt;  state: Exp;
Added #define for NULL
----------------------------
revision 1.1
date: 1993/08/24 12:50:40;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/ui.h,v
Working file: ui/ui.h
head: 1.11
branch:
description: Header file for user interface
----------------------------
revision 1.11
date: 1994/11/18 23:07:33;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.10
date: 1994/05/14 17:44:36;  author: matt;  state: Exp;
Added extern.
----------------------------
revision 1.9
date: 1994/05/14 17:20:33;  author: matt;  state: Exp;
Added externs
----------------------------
revision 1.8
date: 1994/02/01 13:29:56;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/01/10 16:25:03;  author: john;  state: Exp;
Fixed bug in 800x600 mode with restoring
bogus font.
----------------------------
revision 1.6
date: 1993/12/10 14:22:30;  author: john;  state: Exp;
Made buttons have up to 2 keys/functions.
----------------------------
revision 1.5
date: 1993/12/07 12:30:11;  author: john;  state: Exp;
new version.
----------------------------
revision 1.4
date: 1993/10/26 13:46:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/10/07 11:23:30;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:31:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:36:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/vclip.h,v
Working file: main/vclip.h
head: 2.0
branch:
description: Stuff for video clips.
----------------------------
revision 2.0
date: 1995/02/27 11:32:42;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.33
date: 1994/11/21 11:17:57;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.32
date: 1994/10/12 13:07:07;  author: mike;  state: Exp;
Add VCLIP_POWERUP_DISAPPEARANCE.
----------------------------
revision 1.31
date: 1994/10/12 10:23:54;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.30
date: 1994/10/11 12:25:21;  author: matt;  state: Exp;
Added "hot rocks" that create badass explosion when hit by weapons
----------------------------
revision 1.29
date: 1994/10/06 14:10:07;  author: matt;  state: Exp;
Added constant for player appearence effect
----------------------------
revision 1.28
date: 1994/09/26 08:40:30;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.27
date: 1994/09/10 17:30:57;  author: mike;  state: Exp;
move a prototype here, had been defined in object.c
----------------------------
revision 1.26
date: 1994/09/09 20:04:25;  author: mike;  state: Exp;
Add weapon_vclip.
----------------------------
revision 1.25
date: 1994/08/31 19:27:09;  author: mike;  state: Exp;
Increase max number of Vclips for new pile of weapon powerups.
----------------------------
revision 1.24
date: 1994/08/14 23:14:43;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.23
date: 1994/07/23 19:56:39;  author: matt;  state: Exp;
Took out unused constant
----------------------------
revision 1.22
date: 1994/07/22 10:42:10;  author: adam;  state: Exp;
upped max no. of vclips
----------------------------
revision 1.21
date: 1994/06/14 21:15:14;  author: matt;  state: Exp;
Made rod objects draw lighted or not depending on a parameter, so the
materialization effect no longer darkens.
----------------------------
revision 1.20
date: 1994/06/09 19:38:16;  author: john;  state: Exp;
Made each Vclip have its own sound... but only used in the
materialization center.
----------------------------
revision 1.19
date: 1994/06/09 11:46:26;  author: john;  state: Exp;
Took out unused vclip defines.
----------------------------
revision 1.18
date: 1994/06/08 18:16:33;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.17
date: 1994/06/08 12:49:01;  author: mike;  state: Exp;
Add light_value to vclip.
----------------------------
revision 1.16
date: 1994/06/08 11:43:28;  author: mike;  state: Exp;
Allow 20 vclips, I think (anyway, more than it used to be, probably 12).
----------------------------
revision 1.15
date: 1994/06/03 10:48:22;  author: matt;  state: Exp;
Made vclips (used by explosions) which can be either rods or blobs, as
specified in BITMAPS.TBL.  (This is for the materialization center effect).
----------------------------
revision 1.14
date: 1994/06/01 17:21:08;  author: john;  state: Exp;
Added muzzle flash
----------------------------
revision 1.13
date: 1994/06/01 10:34:02;  author: john;  state: Exp;
Added robot morphing effect.
----------------------------
revision 1.12
date: 1994/05/16 16:17:38;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.11
date: 1994/05/10 18:32:50;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/04/29 14:35:52;  author: matt;  state: Exp;
Added second kind of fireball
----------------------------
revision 1.9
date: 1994/04/11 10:36:31;  author: yuan;  state: Exp;
Started adding types for exploding hostages.
----------------------------
revision 1.8
date: 1994/04/07 16:27:43;  author: yuan;  state: Exp;
Added SUPERPIG the robot with 200 hit points.
Now robots can take multiple hits before blowing up.
----------------------------
revision 1.7
date: 1994/04/07 13:45:58;  author: yuan;  state: Exp;
Defined Pclips... maybe shouldn't be in this file.
----------------------------
revision 1.6
date: 1994/03/28 20:58:22;  author: yuan;  state: Exp;
Added blood vclip constant
----------------------------
revision 1.5
date: 1994/03/15 16:31:56;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(And structures)
----------------------------
revision 1.4
date: 1994/03/04 17:09:43;  author: yuan;  state: Exp;
New wall stuff
----------------------------
revision 1.3
date: 1994/01/11 10:59:01;  author: yuan;  state: Exp;
Added effects
----------------------------
revision 1.2
date: 1994/01/06 17:13:15;  author: john;  state: Exp;
Added Video clip functionality
----------------------------
revision 1.1
date: 1994/01/06 15:10:15;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/vecmat/vecmat.h,v
Working file: vecmat/vecmat.h
head: 1.37
branch:
description: Header file for vector/matrix library
----------------------------
revision 1.37
date: 1995/02/22 13:23:22;  author: john;  state: Exp;
Added the vms_vector_array structure, to access a vms_vector
with an array.
----------------------------
revision 1.36
date: 1995/02/22 12:34:33;  author: john;  state: Exp;
Took out anonymous unions.
----------------------------
revision 1.35
date: 1994/12/13 14:44:20;  author: matt;  state: Exp;
Added vm_vector_2_matrix_norm()
----------------------------
revision 1.34
date: 1994/09/11 19:22:55;  author: matt;  state: Exp;
Added vm_vec_normalized_dir_quick()
----------------------------
revision 1.33
date: 1994/08/04 19:45:38;  author: matt;  state: Exp;
Added option to make a bunch of functions (add, sub, dotprod) inline
----------------------------
revision 1.32
date: 1994/07/19 18:52:36;  author: matt;  state: Exp;
Added vm_vec_normalize_quick() and vm_vec_copy_normalize_quick()
----------------------------
revision 1.31
date: 1994/06/16 18:24:30;  author: matt;  state: Exp;
Added vm_vec_mag_quick()
----------------------------
revision 1.30
date: 1994/06/10 23:19:00;  author: matt;  state: Exp;
New register usage for vm_vec_ang_2_matrix()
----------------------------
revision 1.29
date: 1994/06/01 17:32:06;  author: matt;  state: Exp;
Fixed modify list for vm_vec_normalized_dir()
----------------------------
revision 1.28
date: 1994/05/19 12:07:20;  author: matt;  state: Exp;
Fixed globals and macros and added a constant
----------------------------
revision 1.27
date: 1994/05/19 09:19:15;  author: matt;  state: Exp;
Made vm_vec_normalized_dir() return mag of vector
----------------------------
revision 1.26
date: 1994/05/18 22:28:57;  author: matt;  state: Exp;
Added function vm_vec_normalized_dir()
Added C macros IS_ZERO_VEC(), vm_vec_zero(), and vm_set_identity()
Added C global static vars vmd_zero_vector & vmd_identity_matrix
----------------------------
revision 1.25
date: 1994/05/18 21:45:06;  author: matt;  state: Exp;
Added functions:
  vm_extract_angles_vector()
  vm_extract_angles_vector_normalized()
  vm_vec_copy_normalize()
----------------------------
revision 1.24
date: 1994/05/13 12:42:16;  author: matt;  state: Exp;
Added new function, vm_vec_dist_quick(), which does an approximation.
----------------------------
revision 1.23
date: 1994/03/30 13:37:34;  author: matt;  state: Exp;
Added prototype for vm_vec_scale_add(), and fixed typos
----------------------------
revision 1.22
date: 1994/03/30 13:29:42;  author: matt;  state: Exp;
Header for vm_vec_scale_add2()
----------------------------
revision 1.21
date: 1994/01/31 19:45:13;  author: matt;  state: Exp;
Added function vm_extract_angles_matrix()
----------------------------
revision 1.20
date: 1993/12/21 19:46:14;  author: matt;  state: Exp;
Added function vm_dist_to_plane()
----------------------------
revision 1.19
date: 1993/12/13 17:26:41;  author: matt;  state: Exp;
Added vm_vec_dist()
----------------------------
revision 1.18
date: 1993/12/02 12:45:11;  author: matt;  state: Exp;
New functions: vm_vec_copy_scale(), vm_vec_scale2()
Aliases: vm_transpose(), vm_vec_dot(), vm_vec_cross(), vm_copy_transpose()
----------------------------
revision 1.17
date: 1993/10/29 22:38:36;  author: matt;  state: Exp;
Changed matrix order, making direction vectors the rows
----------------------------
revision 1.16
date: 1993/10/25 11:49:57;  author: matt;  state: Exp;
Made vm_vec_delta_ang() take optional forward vector to return signed delta
----------------------------
revision 1.15
date: 1993/10/20 01:10:05;  author: matt;  state: Exp;
Added vm_vec_delta_ang(), vm_vec_delta_ang_norm(), and vm_vec_ang_2_matrix()
----------------------------
revision 1.14
date: 1993/10/17 17:02:52;  author: matt;  state: Exp;
vm_vector_2_matrix() now takes optional right vector
----------------------------
revision 1.13
date: 1993/10/12 19:31:39;  author: matt;  state: Exp;
Added IDENTITY_MATRIX constant
----------------------------
revision 1.12
date: 1993/10/08 18:10:16;  author: matt;  state: Exp;
Changed vm_vec_make() and vm_angvec_make() to be inline assembly 
functions, to get rid of compiler warnings.  Did not change vm_mat_make(),
which could still get warnings if the return value is unused.
----------------------------
revision 1.11
date: 1993/09/29 12:10:07;  author: matt;  state: Exp;
Changed modified regs in pragmas to include return register
----------------------------
revision 1.10
date: 1993/09/28 12:15:41;  author: matt;  state: Exp;
Added func vm_vector_2_matrix()
----------------------------
revision 1.9
date: 1993/09/24 21:18:38;  author: matt;  state: Exp;
Added vm_vec_avg(), vm_vec_avg4(), and vm_angvec_make().
Documented which functions could have dest==source
----------------------------
revision 1.8
date: 1993/09/20 14:56:11;  author: matt;  state: Exp;
Added new function, vm_vec_perp()
----------------------------
revision 1.7
date: 1993/09/20 14:27:42;  author: mike;  state: Exp;
unfix last fix which introduced a bug
----------------------------
revision 1.6
date: 1993/09/20 10:11:53;  author: mike;  state: Exp;
no changes
----------------------------
revision 1.5
date: 1993/09/20 09:58:58;  author: mike;  state: Exp;
Re-fix vm_vec_make
----------------------------
revision 1.4
date: 1993/09/20 09:41:21;  author: mike;  state: Exp;
Correct vm_vec_make and vm_mat_make macros to return the destination
as the value of the macro.
----------------------------
revision 1.3
date: 1993/09/17 11:23:47;  author: matt;  state: Exp;
Added row access (via xrow,yrow,zrow) to vms_matrix
Added macro vm_mat_make(), like vm_vec_make()
----------------------------
revision 1.2
date: 1993/09/17 11:10:32;  author: matt;  state: Exp;
Added vm_vec_add2() and vm_vec_sub2(), which take 2 args (dest==src0)
----------------------------
revision 1.1
date: 1993/09/16 20:10:01;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/vfx.h,v
Working file: main/vfx.h
head: 2.1
branch:
description: Prototypes for vfx.c
----------------------------
revision 2.1
date: 1995/03/10 12:58:04;  author: john;  state: Exp;
Added vfx_set_palette_sub function.
----------------------------
revision 2.0
date: 1995/02/27 11:31:19;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/28 10:43:02;  author: john;  state: Exp;
More VFX tweaking.
----------------------------
revision 1.4
date: 1994/12/28 10:26:49;  author: john;  state: Exp;
Fixed some VFX problems.
----------------------------
revision 1.3
date: 1994/09/20 19:36:01;  author: matt;  state: Exp;
Added seperate function to set palette
----------------------------
revision 1.2
date: 1994/06/24 17:03:51;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.1
date: 1994/06/23 09:14:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/vfx1.h,v
Working file: main/vfx1.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:28:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/09/15 16:11:26;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.2
date: 1994/06/24 17:03:54;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.1
date: 1994/06/23 17:59:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/victor.h,v
Working file: main/victor.h
head: 2.0
branch:
description: Prototypes for the VictorMaxx VR helment.
----------------------------
revision 2.0
date: 1995/02/27 11:27:31;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/11/12 14:46:55;  author: john;  state: Exp;
Added support for victor head tracking.
----------------------------
revision 1.3
date: 1994/07/21 21:31:12;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.2
date: 1994/07/20 21:04:32;  author: john;  state: Exp;
Add VictorMax VR helment support.
----------------------------
revision 1.1
date: 1994/07/20 20:49:19;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/wall.h,v
Working file: main/wall.h
head: 2.0
branch:
description: ----------------------------
revision 2.0
date: 1995/02/27 11:31:36;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.47
date: 1994/11/19 15:20:35;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.46
date: 1994/10/25 15:40:12;  author: yuan;  state: Exp;
MAX_WALLS pumped up
----------------------------
revision 1.45
date: 1994/10/23 19:17:07;  author: matt;  state: Exp;
Fixed bug with "no key" messages
----------------------------
revision 1.44
date: 1994/10/18 15:38:03;  author: mike;  state: Exp;
Define hidden walls.
----------------------------
revision 1.43
date: 1994/10/04 13:32:26;  author: adam;  state: Exp;
commented out MAX_DOOR_ANIMS
----------------------------
revision 1.42
date: 1994/10/04 13:31:21;  author: adam;  state: Exp;
upped MAX_WALL_ANIMS to 30
----------------------------
revision 1.41
date: 1994/09/29 00:42:30;  author: matt;  state: Exp;
Made hitting a locked door play a sound
----------------------------
revision 1.40
date: 1994/09/27 15:42:41;  author: mike;  state: Exp;
Prototype Wall_names.
----------------------------
revision 1.39
date: 1994/09/23 22:15:32;  author: matt;  state: Exp;
Made doors not close on objects, made doors open again if shot while
closing, and cleaned up walls/doors a bit.
----------------------------
revision 1.38
date: 1994/09/22 15:31:33;  author: matt;  state: Exp;
Mucked with, and hopefully improved, exploding walls
----------------------------
revision 1.37
date: 1994/09/21 17:17:05;  author: mike;  state: Exp;
Make objects stuck in doors go away when door opens.
----------------------------
revision 1.36
date: 1994/09/13 21:10:46;  author: matt;  state: Exp;
Added wclips that use tmap1 instead of tmap2, saving lots of merging
----------------------------
revision 1.35
date: 1994/09/13 20:11:08;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/09/10 13:31:53;  author: matt;  state: Exp;
Made exploding walls a type of blastable walls.
Cleaned up blastable walls, making them tmap2 bitmaps.
----------------------------
revision 1.33
date: 1994/08/17 12:55:34;  author: matt;  state: Exp;
Added external walls to wall_is_doorway
----------------------------
revision 1.32
date: 1994/08/15 17:54:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.31
date: 1994/08/15 17:46:56;  author: yuan;  state: Exp;
Added external walls, fixed blastable walls.
----------------------------
revision 1.30
date: 1994/08/05 21:17:21;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.29
date: 1994/08/01 10:39:10;  author: matt;  state: Exp;
Parenthesized parms to WID() macro
----------------------------
revision 1.28
date: 1994/07/20 17:35:03;  author: yuan;  state: Exp;
Some minor bug fixes and new key gauges...
----------------------------
revision 1.27
date: 1994/07/19 14:32:03;  author: yuan;  state: Exp;
Fixed keys bug... renumbered some constants.
----------------------------
revision 1.26
date: 1994/07/14 22:38:29;  author: matt;  state: Exp;
Added exploding doors
----------------------------
revision 1.25
date: 1994/07/11 15:08:43;  author: yuan;  state: Exp;
Wall anim file names stored in structure.
 
=============================================================================
RCS file: f:/miner/source/main/weapon.h,v
Working file: main/weapon.h
head: 2.0
branch:
description: Protypes for weapon stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:31:10;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.44
date: 1995/01/30 17:14:18;  author: mike;  state: Exp;
halve rate of vulcan ammo consumption.
----------------------------
revision 1.43
date: 1995/01/19 17:45:04;  author: mike;  state: Exp;
damage_force removed, that information coming from strength field.
----------------------------
revision 1.42
date: 1995/01/05 15:46:11;  author: john;  state: Exp;
Made weapons not rearm when starting a saved game.
----------------------------
revision 1.41
date: 1995/01/04 12:20:27;  author: john;  state: Exp;
Declearations to work better with game state save.
----------------------------
revision 1.40
date: 1994/12/13 12:54:16;  author: mike;  state: Exp;
fix proximity, homing flags, backwards!
----------------------------
revision 1.39
date: 1994/12/11 16:17:57;  author: mike;  state: Exp;
change default weapon life so shots from ctrlcen on level 6 won't evaporate before they hit you.
----------------------------
revision 1.38
date: 1994/12/09 19:55:26;  author: matt;  state: Exp;
Added weapon name in "not available in shareware" message
----------------------------
revision 1.37
date: 1994/12/07 12:55:27;  author: mike;  state: Exp;
tweak vulcan amounts.
----------------------------
revision 1.36
date: 1994/12/03 19:03:56;  author: matt;  state: Exp;
Fixed vulcan ammo HUD message
----------------------------
revision 1.35
date: 1994/12/02 15:05:02;  author: matt;  state: Exp;
Fixed bogus weapon constants and arrays
----------------------------
revision 1.34
date: 1994/11/29 14:26:05;  author: john;  state: Exp;
Again.
----------------------------
revision 1.33
date: 1994/11/29 14:13:47;  author: adam;  state: Exp;
Changed the byte flash sound to short.
----------------------------
revision 1.32
date: 1994/11/12 16:36:55;  author: mike;  state: Exp;
default ammo stuff.
----------------------------
revision 1.31
date: 1994/10/21 10:55:24;  author: adam;  state: Exp;
upped MAX_WEAPON_TYPES to 30
----------------------------
revision 1.30
date: 1994/10/19 11:16:37;  author: mike;  state: Exp;
Limit ammo amounts.
----------------------------
revision 1.29
date: 1994/10/12 08:05:04;  author: mike;  state: Exp;
Clean up homing/proximity mess.
----------------------------
revision 1.28
date: 1994/10/08 23:37:53;  author: matt;  state: Exp;
Don't pick up weapons you already have; also fixed auto_select bug
for seconary weapons
----------------------------
revision 1.27
date: 1994/10/07 23:37:56;  author: matt;  state: Exp;
Made weapons select when pick up better one
----------------------------
revision 1.26
date: 1994/10/07 16:02:17;  author: matt;  state: Exp;
Fixed problem with weapon auto-select
----------------------------
revision 1.25
date: 1994/10/05 17:07:44;  author: matt;  state: Exp;
Made player_has_weapon() public and moved constants to header file
----------------------------
revision 1.24
date: 1994/09/30 21:50:49;  author: mike;  state: Exp;
Add homing_flag and 3 dummy bytes to weapon_info.
----------------------------
revision 1.23
date: 1994/09/30 13:47:41;  author: mike;  state: Exp;
Make speed and strength be difficulty level based.
----------------------------
revision 1.22
date: 1994/09/20 16:10:13;  author: mike;  state: Exp;
Prototype Primary_weapon_names and Secondary_weapon_names.
----------------------------
revision 1.21
date: 1994/09/20 12:17:21;  author: adam;  state: Exp;
upped weapon types
----------------------------
revision 1.20
date: 1994/09/13 16:40:29;  author: mike;  state: Exp;
Define REARM_TIME -- time it takes until you can fire a newly armed weapon.
----------------------------
revision 1.19
date: 1994/09/13 14:43:03;  author: matt;  state: Exp;
Added cockpit weapon displays
----------------------------
revision 1.18
date: 1994/09/11 15:50:34;  author: mike;  state: Exp;
Add matter and bounce to weapon_info.
----------------------------
revision 1.17
date: 1994/09/10 17:32:17;  author: mike;  state: Exp;
Add thrust to weapon_info.
----------------------------
revision 1.16
date: 1994/09/09 20:04:54;  author: mike;  state: Exp;
Add vclips for weapons.
----------------------------
revision 1.15
date: 1994/09/07 15:59:14;  author: mike;  state: Exp;
Add default lifetimes to weapons, destroyable, lifetime, damage_radius, damage_force fields to weapons.
----------------------------
revision 1.14
date: 1994/09/03 15:18:06;  author: mike;  state: Exp;
Add prototype for auto_select_weapon.
----------------------------
revision 1.13
date: 1994/09/02 16:38:33;  author: mike;  state: Exp;
Move data from global arrays to Weapon_info.
----------------------------
revision 1.12
date: 1994/09/02 11:54:59;  author: mike;  state: Exp;
Add a whole slew of constants for the whole slew of new weapons.
----------------------------
revision 1.11
date: 1994/08/23 16:39:15;  author: mike;  state: Exp;
Add light to weapon struct
=============================================================================
RCS file: f:/miner/source/3d/3d.h,v
Working file: 3d/3d.h
head: 1.34
branch:
description: Header file for 3d library
----------------------------
revision 1.34
date: 1994/11/11 19:22:14;  author: matt;  state: Exp;
Added new function, g3_calc_point_depth()
----------------------------
revision 1.33
date: 1994/09/09 14:23:58;  author: matt;  state: Exp;
Added support for glowing textures, to add engine glow to Descent.
----------------------------
revision 1.32
date: 1994/09/01 10:42:27;  author: matt;  state: Exp;
Blob routine, renamed g3_draw_bitmap(), now takes seperate 3d width & height.
----------------------------
revision 1.31
date: 1994/07/29 18:16:14;  author: matt;  state: Exp;
Added instance by angles, and corrected parms for g3_init()
----------------------------
revision 1.30
date: 1994/07/25 00:00:00;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.29
date: 1994/07/22 17:57:27;  author: matt;  state: Exp;
Changed the name of the rod functions, and took out some debugging code
----------------------------
revision 1.28
date: 1994/06/07 16:49:12;  author: matt;  state: Exp;
Made interpreter take lighting value as parm, rather than in global var
----------------------------
revision 1.27
date: 1994/05/31 18:35:28;  author: matt;  state: Exp;
Added light value to g3_draw_facing_bitmap()
----------------------------
revision 1.26
date: 1994/05/30 22:48:04;  author: matt;  state: Exp;
Added support for morph effect
----------------------------
revision 1.25
date: 1994/05/30 11:34:57;  author: matt;  state: Exp;
Added g3_set_special_render() to allow a user to specify functions to
call for 2d draws.
----------------------------
revision 1.24
date: 1994/05/19 21:46:31;  author: matt;  state: Exp;
Moved texture lighting out of 3d and into the game
----------------------------
revision 1.23
date: 1994/05/14 15:26:48;  author: matt;  state: Exp;
Added extern for polyobj outline flag
----------------------------
revision 1.22
date: 1994/04/19 18:26:33;  author: matt;  state: Exp;
Added g3_draw_sphere() function.
----------------------------
revision 1.21
date: 1994/03/25 18:22:28;  author: matt;  state: Exp;
g3_draw_polygon_model() now takes ptr to list of angles
----------------------------
revision 1.20
date: 1994/03/15 21:23:23;  author: matt;  state: Exp;
Added interpreter functions
----------------------------
revision 1.19
date: 1994/02/15 17:37:34;  author: matt;  state: Exp;
New function, g3_draw_blob()
----------------------------
revision 1.18
date: 1994/02/09 11:47:47;  author: matt;  state: Exp;
Added rod & delta point functions
----------------------------
revision 1.17
date: 1994/01/26 12:38:11;  author: matt;  state: Exp;
Added function g3_compute_lighting_value()
----------------------------
revision 1.16
date: 1994/01/25 18:00:02;  author: yuan;  state: Exp;
Fixed variable beam_brightness...
----------------------------
revision 1.15
date: 1994/01/24 14:08:34;  author: matt;  state: Exp;
Added instancing functions
----------------------------
revision 1.14
date: 1994/01/22 18:21:48;  author: matt;  state: Exp;
New lighting stuff now done in 3d; g3_draw_tmap() takes lighting parm
----------------------------
revision 1.13
date: 1994/01/20 17:21:24;  author: matt;  state: Exp;
New function g3_compute_sky_polygon()
----------------------------
revision 1.12
date: 1994/01/14 17:20:25;  author: matt;  state: Exp;
Added prototype for new function g3_draw_horizon()
----------------------------
revision 1.10
date: 1993/12/20 20:21:52;  author: matt;  state: Exp;
Added g3_point_2_vec()
----------------------------
revision 1.9
date: 1993/12/07 23:05:47;  author: matt;  state: Exp;
Fixed mistyped function name.
----------------------------
revision 1.8
date: 1993/12/05 23:47:03;  author: matt;  state: Exp;
Added function g3_draw_line_ptrs()
----------------------------
revision 1.7
date: 1993/12/05 23:13:22;  author: matt;  state: Exp;
Added prototypes for g3_rotate_point() and g3_project_point()
----------------------------
revision 1.6
date: 1993/12/05 23:03:28;  author: matt;  state: Exp;
Changed uvl structs to g3s_uvl
----------------------------
revision 1.5
date: 1993/11/22 10:51:09;  author: matt;  state: Exp;
Moved uvl structure here from segment.h, made texture map functions use it
----------------------------
revision 1.4
date: 1993/11/21 20:08:31;  author: matt;  state: Exp;
Added function g3_draw_object()
----------------------------
revision 1.3
date: 1993/11/04 18:49:19;  author: matt;  state: Exp;
Added system to only rotate points once per frame
----------------------------
revision 1.2
date: 1993/11/04 08:16:06;  author: mike;  state: Exp;
Add light field (p3_l) to g3s_point.
----------------------------
revision 1.1
date: 1993/10/29 22:20:56;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/ai.h,v
Working file: main/ai.h
head: 2.0
branch:
description: Header file for AI system.
----------------------------
revision 2.0
date: 1995/02/27 11:33:07;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.57
date: 1995/02/04 17:28:31;  author: mike;  state: Exp;
make station guys return better.
----------------------------
revision 1.56
date: 1995/02/04 10:03:23;  author: mike;  state: Exp;
Fly to exit cheat.
----------------------------
revision 1.55
date: 1995/02/01 19:23:52;  author: rob;  state: Exp;
Externed a boss var.
----------------------------
revision 1.54
date: 1995/01/30 13:00:58;  author: mike;  state: Exp;
Make robots fire at player other than one they are controlled by sometimes.
----------------------------
revision 1.53
date: 1995/01/26 15:09:16;  author: rob;  state: Exp;
Changed robot gating to accomodate multiplayer.
----------------------------
revision 1.52
date: 1995/01/26 12:23:12;  author: rob;  state: Exp;
Added new externs needed for multiplayer.
----------------------------
revision 1.51
date: 1995/01/21 21:22:14;  author: mike;  state: Exp;
Kill prototype of init_boss_segments, which didn't need to be public
and had changed.
----------------------------
revision 1.50
date: 1995/01/16 19:24:29;  author: mike;  state: Exp;
Publicize BOSS_GATE_MATCEN_NUM and Boss_been_hit.
----------------------------
revision 1.49
date: 1995/01/02 16:17:35;  author: mike;  state: Exp;
prototype some super boss function for gameseq.
----------------------------
revision 1.48
date: 1994/12/19 17:08:06;  author: mike;  state: Exp;
deal with new ai_multiplayer_awareness which returns a value saying whether this object can be moved by this player.
----------------------------
revision 1.47
date: 1994/12/12 17:18:04;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.46
date: 1994/12/08 15:46:16;  author: mike;  state: Exp;
better robot behavior.
----------------------------
revision 1.45
date: 1994/11/27 23:16:08;  author: matt;  state: Exp;
Made debug code go away when debugging turned off
----------------------------
revision 1.44
date: 1994/11/16 23:38:41;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.43
date: 1994/11/10 17:45:11;  author: mike;  state: Exp;
debugging.
----------------------------
revision 1.42
date: 1994/11/07 10:37:42;  author: mike;  state: Exp;
hooks for rob's network code.
----------------------------
revision 1.41
date: 1994/11/06 15:10:50;  author: mike;  state: Exp;
prototype a debug function for dumping ai info.
----------------------------
revision 1.40
date: 1994/11/02 17:57:30;  author: rob;  state: Exp;
Added extern of Believe_player_pos needed to get control centers
locating people.
----------------------------
revision 1.39
date: 1994/10/28 19:43:39;  author: mike;  state: Exp;
Prototype Boss_cloak_start_time, Boss_cloak_end_time.
----------------------------
revision 1.38
date: 1994/10/22 14:14:42;  author: mike;  state: Exp;
Prototype ai_reset_all_paths.
----------------------------
revision 1.37
date: 1994/10/21 20:42:01;  author: mike;  state: Exp;
Define MAX_PATH_LENGTH: maximum allowed length of a path.
----------------------------
revision 1.36
date: 1994/10/20 09:49:18;  author: mike;  state: Exp;
Prototype something.
----------------------------
revision 1.35
date: 1994/10/18 15:37:52;  author: mike;  state: Exp;
Define ROBOT_BOSS1.
----------------------------
revision 1.34
date: 1994/10/13 11:12:25;  author: mike;  state: Exp;
Prototype some door functions.
----------------------------
revision 1.33
date: 1994/10/12 21:28:51;  author: mike;  state: Exp;
Prototype create_n_segment_path_to_door
Prototype ai_open_doors_in_segment
Prototype ai_door_is_openable.
----------------------------
revision 1.32
date: 1994/10/11 15:59:41;  author: mike;  state: Exp;
Prototype Robot_firing_enabled.
----------------------------
revision 1.31
date: 1994/10/09 22:02:48;  author: mike;  state: Exp;
Adapt create_path_points and create_n_segment_path prototypes to use avoid_seg for player evasion.
----------------------------
revision 1.30
date: 1994/09/18 18:07:44;  author: mike;  state: Exp;
Update prototypes for create_path_points and create_path_to_player.
----------------------------
revision 1.29
date: 1994/09/15 16:34:08;  author: mike;  state: Exp;
Prototype do_ai_robot_hit_attack.
----------------------------
revision 1.28
date: 1994/09/12 19:12:35;  author: mike;  state: Exp;
Prototype attempt_to_resume_path.
----------------------------
revision 1.27
date: 1994/08/25 21:55:32;  author: mike;  state: Exp;
Add some prototypes.
----------------------------
revision 1.26
date: 1994/08/10 19:53:24;  author: mike;  state: Exp;
Prototype create_path_to_player and init_robots_for_level.
----------------------------
revision 1.25
date: 1994/08/04 16:32:58;  author: mike;  state: Exp;
prototype create_path_to_player.
----------------------------
revision 1.24
date: 1994/08/03 15:17:20;  author: mike;  state: Exp;
Prototype make_random_vector.
----------------------------
revision 1.23
date: 1994/07/31 18:10:34;  author: mike;  state: Exp;
Update prototype for create_path_points.
----------------------------
revision 1.22
date: 1994/07/28 12:36:14;  author: matt;  state: Exp;
Cleaned up object bumping code
=============================================================================
RCS file: f:/miner/source/main/ai2.c,v
Working file: main/ai2.c
head: 1.1
branch:
description: Split ai.c into two files: ai.c, ai2.c.
----------------------------
revision 1.1
date: 1995/05/25 12:00:31;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/aipath.c,v
Working file: main/aipath.c
head: 2.0
branch:
description: AI path forming stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:30:48;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.101
date: 1995/02/22 13:42:44;  author: allender;  state: Exp;
remove anonymous unions for object structure
----------------------------
revision 1.100
date: 1995/02/10 16:20:04;  author: mike;  state: Exp;
fix bogosity in create_path_points, assumed all objects were robots.
----------------------------
revision 1.99
date: 1995/02/07 21:09:30;  author: mike;  state: Exp;
make run_from guys have diff level based speed.
----------------------------
revision 1.98
date: 1995/02/04 17:28:29;  author: mike;  state: Exp;
make station guys return better.
----------------------------
revision 1.97
date: 1995/02/04 10:28:39;  author: mike;  state: Exp;
fix compile error!
----------------------------
revision 1.96
date: 1995/02/04 10:03:37;  author: mike;  state: Exp;
Fly to exit cheat.
----------------------------
revision 1.95
date: 1995/02/01 21:10:36;  author: mike;  state: Exp;
Array name was dereferenced.  Not a bug, but unclean.
----------------------------
revision 1.94
date: 1995/02/01 17:14:12;  author: mike;  state: Exp;
comment out some common mprintfs which didn't matter.
----------------------------
revision 1.93
date: 1995/01/30 13:01:23;  author: mike;  state: Exp;
Make robots fire at player other than one they are controlled by sometimes.
----------------------------
revision 1.92
date: 1995/01/29 22:29:32;  author: mike;  state: Exp;
add more debug info for guys that get lost.
----------------------------
revision 1.91
date: 1995/01/20 16:56:05;  author: mike;  state: Exp;
station stuff.
----------------------------
revision 1.90
date: 1995/01/18 10:59:45;  author: mike;  state: Exp;
comment out some mprintfs.
----------------------------
revision 1.89
date: 1995/01/17 16:58:34;  author: mike;  state: Exp;
make path following work for multiplayer.
----------------------------
revision 1.88
date: 1995/01/17 14:21:44;  author: mike;  state: Exp;
make run_from guys run better.
----------------------------
revision 1.87
date: 1995/01/14 17:09:04;  author: mike;  state: Exp;
playing with crazy josh, he's kinda slow and dumb now.
----------------------------
revision 1.86
date: 1995/01/13 18:52:28;  author: mike;  state: Exp;
comment out int3.
----------------------------
revision 1.85
date: 1995/01/05 09:42:11;  author: mike;  state: Exp;
compile out code based on SHAREWARE.
----------------------------
revision 1.84
date: 1995/01/02 12:38:32;  author: mike;  state: Exp;
make crazy josh turn faster, therefore evade player better.
----------------------------
revision 1.83
date: 1994/12/27 15:59:40;  author: mike;  state: Exp;
tweak ai_multiplayer_awareness constants.
----------------------------
revision 1.82
date: 1994/12/19 17:07:10;  author: mike;  state: Exp;
deal with new ai_multiplayer_awareness which returns a value saying whether this object can be moved by this player.
----------------------------
revision 1.81
date: 1994/12/15 13:04:30;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.80
date: 1994/12/09 16:13:23;  author: mike;  state: Exp;
remove debug code.
----------------------------
revision 1.79
date: 1994/12/07 00:36:54;  author: mike;  state: Exp;
make robots get out of matcens better and be aware of player.
----------------------------
revision 1.78
date: 1994/11/30 00:59:05;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.77
date: 1994/11/27 23:13:39;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.76
date: 1994/11/23 21:59:34;  author: mike;  state: Exp;
comment out some mprintfs.
----------------------------
revision 1.75
date: 1994/11/21 16:07:14;  author: mike;  state: Exp;
flip PARALLAX flag, prevent annoying debug information.
----------------------------
revision 1.74
date: 1994/11/19 15:13:28;  author: mike;  state: Exp;
remove unused code and data.
----------------------------
revision 1.73
date: 1994/11/17 14:53:15;  author: mike;  state: Exp;
segment validation functions moved from editor to main.
----------------------------
revision 1.72
date: 1994/11/16 23:38:42;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.71
date: 1994/11/13 17:18:30;  author: mike;  state: Exp;
debug code, then comment it out.
----------------------------
revision 1.70
date: 1994/11/11 16:41:43;  author: mike;  state: Exp;
flip the PARALLAX flag.
----------------------------
revision 1.69
date: 1994/11/11 16:33:45;  author: mike;  state: Exp;
twiddle the PARALLAX flag.
----------------------------
revision 1.68
date: 1994/11/10 21:32:29;  author: mike;  state: Exp;
debug code.
----------------------------
revision 1.67
date: 1994/11/10 20:15:07;  author: mike;  state: Exp;
fix stupid bug: uninitialized pointer.
----------------------------
revision 1.66
date: 1994/11/10 17:45:15;  author: mike;  state: Exp;
debugging.
----------------------------
revision 1.65
date: 1994/11/10 17:28:10;  author: mike;  state: Exp;
debugging.
=============================================================================
RCS file: f:/miner/source/main/aistruct.h,v
Working file: main/aistruct.h
head: 2.0
branch:
description: Structs and constants for AI system.
object.h depends on this.
ai.h depends on object.h.
Get it?
----------------------------
revision 2.0
date: 1995/02/27 11:30:19;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.34
date: 1995/01/25 13:50:46;  author: mike;  state: Exp;
Robots make angry sounds.
----------------------------
revision 1.33
date: 1994/12/29 12:44:56;  author: rob;  state: Exp;
Added new coop robot flag.
----------------------------
revision 1.32
date: 1994/12/20 20:41:54;  author: rob;  state: Exp;
Added new ai flag for multiplayer robots.
----------------------------
revision 1.31
date: 1994/12/19 16:37:39;  author: rob;  state: Exp;
Added a new flag for remote controlled objects.
----------------------------
revision 1.30
date: 1994/12/07 00:36:07;  author: mike;  state: Exp;
fix phys_apply_rot for robots -- ai was bashing effect in next frame.
----------------------------
revision 1.29
date: 1994/12/02 22:06:28;  author: mike;  state: Exp;
add fields to allow robots to make awareness sounds every so often, not every damn blasted frame
----------------------------
revision 1.28
date: 1994/11/04 17:18:35;  author: yuan;  state: Exp;
Increased MAX_SEG_POINTS to 2500.
----------------------------
revision 1.27
date: 1994/10/17 21:19:22;  author: mike;  state: Exp;
robot cloaking.
----------------------------
revision 1.26
date: 1994/10/12 21:28:38;  author: mike;  state: Exp;
Add new ai mode: AIM_OPEN_DOOR.
Add GOALSIDE to aip.
----------------------------
revision 1.25
date: 1994/09/25 23:41:08;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.24
date: 1994/09/21 12:28:11;  author: mike;  state: Exp;
Change AI behavior for when player cloaked
----------------------------
revision 1.23
date: 1994/09/19 21:43:00;  author: mike;  state: Exp;
Add follow_path_start_seg and follow_path_end_seg to aistruct.h.
----------------------------
revision 1.22
date: 1994/09/18 18:06:14;  author: mike;  state: Exp;
Add Last_uncloaked_time and Last_uncloaked_position variables.
----------------------------
revision 1.21
date: 1994/09/15 16:31:38;  author: mike;  state: Exp;
Define GREEN_GUY
Add previous_visibility to ai_local struct.
----------------------------
revision 1.20
date: 1994/09/12 19:12:45;  author: mike;  state: Exp;
Change some bytes to ints in ai_local so I could set watchpoints.
----------------------------
revision 1.19
date: 1994/08/25 21:53:31;  author: mike;  state: Exp;
Add behavior, taking place of what used to be mode.
----------------------------
revision 1.18
date: 1994/08/23 16:38:09;  author: mike;  state: Exp;
rapidfire_count in ai_local.
----------------------------
revision 1.17
date: 1994/08/19 17:38:23;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/08/17 22:18:58;  author: mike;  state: Exp;
add time_since_processed to ai_local.
----------------------------
revision 1.15
date: 1994/08/10 19:52:25;  author: mike;  state: Exp;
Add Overall_agitation.
----------------------------
revision 1.14
date: 1994/08/04 16:32:32;  author: mike;  state: Exp;
Add time_player_seen.
----------------------------
revision 1.13
date: 1994/07/28 16:58:11;  author: mike;  state: Exp;
Move constants from ai.c
----------------------------
revision 1.12
date: 1994/07/19 15:26:24;  author: mike;  state: Exp;
New ai_static and ai_local structures.
----------------------------
revision 1.11
date: 1994/07/15 15:17:19;  author: matt;  state: Exp;
Changes MAX_AI_FLAGS for better alignment
=============================================================================
RCS file: f:/miner/source/main/arcade.c,v
Working file: main/arcade.c
head: 2.0
branch:
description: Routines for arcade version
----------------------------
revision 2.0
date: 1995/02/27 11:29:12;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.7
date: 1994/09/21 15:48:52;  author: matt;  state: Exp;
Made digital joystick less "soft"
----------------------------
revision 1.6
date: 1994/09/16 18:50:47;  author: matt;  state: Exp;
Read vfx1 head sensing when in arcade mode
----------------------------
revision 1.5
date: 1994/09/16 16:15:00;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.4
date: 1994/09/16 12:52:07;  author: mike;  state: Exp;
fix compile errors.
----------------------------
revision 1.3
date: 1994/09/16 12:36:48;  author: john;  state: Exp;
Fixed ramping pitch, heading.
----------------------------
revision 1.2
date: 1994/09/16 11:51:00;  author: john;  state: Exp;
Added first version of arcade joystick support;
Also fixed some bugs in kconfig.c, such as reading non-present
joysticks, which killed frame rate, and not reading key_down_time
when in slide mode or bank mode.
----------------------------
revision 1.1
date: 1994/09/16 09:59:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/arcade.h,v
Working file: main/arcade.h
head: 2.0
branch:
description: Routines for arcade version.
----------------------------
revision 2.0
date: 1995/02/27 11:27:27;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/09/16 21:44:06;  author: matt;  state: Exp;
Made arcade code based on #define
----------------------------
revision 1.3
date: 1994/09/16 16:14:52;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.2
date: 1994/09/16 11:51:01;  author: john;  state: Exp;
Added first version of arcade joystick support;
Also fixed some bugs in kconfig.c, such as reading non-present
joysticks, which killed frame rate, and not reading key_down_time
when in slide mode or bank mode.
----------------------------
revision 1.1
date: 1994/09/16 09:59:29;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/args.c,v
Working file: main/args.c
head: 2.0
branch:
description: Functions for accessing arguments.
----------------------------
revision 2.0
date: 1995/02/27 11:31:22;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.9
date: 1994/11/29 01:07:57;  author: john;  state: Exp;
Took out some unused vars.
----------------------------
revision 1.8
date: 1994/11/29 01:04:30;  author: john;  state: Exp;
Took out descent.ini stuff.
----------------------------
revision 1.7
date: 1994/09/20 19:29:15;  author: matt;  state: Exp;
Made args require exact (not substring), though still case insensitive.
----------------------------
revision 1.6
date: 1994/07/25 12:33:11;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.5
date: 1994/06/17 18:07:50;  author: matt;  state: Exp;
Took out printf
----------------------------
revision 1.4
date: 1994/05/11 19:45:33;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/05/11 18:42:11;  author: john;  state: Exp;
Added Descent.ini config file.
----------------------------
revision 1.2
date: 1994/05/09 17:03:30;  author: john;  state: Exp;
Split command line parameters into arg.c and arg.h.
Also added /dma, /port, /irq to digi.c
----------------------------
revision 1.1
date: 1994/05/09 16:49:11;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/args.h,v
Working file: main/args.h
head: 2.0
branch:
description: Prototypes for accessing arguments.
----------------------------
revision 2.0
date: 1995/02/27 11:33:09;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/07/11 16:27:28;  author: matt;  state: Exp;
Took out prototypes for netipx funcs
----------------------------
revision 1.3
date: 1994/05/11 19:45:34;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/05/09 17:02:55;  author: john;  state: Exp;
Split command line parameters into arg.c and arg.h.
Also added /dma, /port, /irq to digi.c
----------------------------
revision 1.1
date: 1994/05/09 16:47:49;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/automap.c,v
Working file: main/automap.c
head: 2.2
branch:
description: Routines for displaying the auto-map.
----------------------------
revision 2.2
date: 1995/03/21 14:41:26;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.1
date: 1995/03/20 18:16:06;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:32:55;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.117
date: 1995/02/22 14:11:31;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.116
date: 1995/02/22 13:24:39;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.115
date: 1995/02/09 14:57:02;  author: john;  state: Exp;
Reduced mem usage. Made automap slide farther.
----------------------------
revision 1.114
date: 1995/02/07 20:40:44;  author: rob;  state: Exp;
Allow for anarchy automap of player pos by option.
----------------------------
revision 1.113
date: 1995/02/07 15:45:33;  author: john;  state: Exp;
Made automap memory be static.
----------------------------
revision 1.112
date: 1995/02/02 12:24:00;  author: adam;  state: Exp;
played with automap labels
----------------------------
revision 1.111
date: 1995/02/02 01:52:52;  author: john;  state: Exp;
Made the automap use small font.
----------------------------
revision 1.110
date: 1995/02/02 01:34:34;  author: john;  state: Exp;
Made Reset in automap not change segmentlimit.
----------------------------
revision 1.109
date: 1995/02/02 01:23:11;  author: john;  state: Exp;
Finalized the new automap partial viewer.
----------------------------
revision 1.108
date: 1995/02/02 00:49:45;  author: mike;  state: Exp;
new automap segment-depth functionality.
----------------------------
revision 1.107
date: 1995/02/02 00:23:04;  author: john;  state: Exp;
Half of the code for new connected distance stuff in automap.
----------------------------
revision 1.106
date: 1995/02/01 22:54:00;  author: john;  state: Exp;
Made colored doors not fade in automap. Made default
viewing area be maxxed.
----------------------------
revision 1.105
date: 1995/02/01 13:16:13;  author: john;  state: Exp;
Added great grates. 
----------------------------
revision 1.104
date: 1995/01/31 12:47:06;  author: john;  state: Exp;
Made Alt+F only work with cheats enabled.
----------------------------
revision 1.103
date: 1995/01/31 12:41:23;  author: john;  state: Exp;
Working with new controls.
----------------------------
revision 1.102
date: 1995/01/31 12:04:19;  author: john;  state: Exp;
Version 2 of new key control.
----------------------------
revision 1.101
date: 1995/01/31 11:32:00;  author: john;  state: Exp;
First version of new automap system.
----------------------------
revision 1.100
date: 1995/01/28 16:55:48;  author: john;  state: Exp;
Made keys draw in automap in the segments that you have
visited.
----------------------------
revision 1.99
date: 1995/01/28 14:44:51;  author: john;  state: Exp;
Made hostage doors show up on automap.
----------------------------
revision 1.98
date: 1995/01/22 17:03:49;  author: rob;  state: Exp;
Fixed problem drawing playerships in automap coop/team mode
----------------------------
revision 1.97
date: 1995/01/21 17:23:11;  author: john;  state: Exp;
Limited S movement in map. Made map bitmap load from disk
and then freed it.
----------------------------
revision 1.96
date: 1995/01/19 18:55:38;  author: john;  state: Exp;
Don't draw players in automap if not obj_player.
----------------------------
revision 1.95
date: 1995/01/19 18:48:13;  author: john;  state: Exp;
Made player colors better in automap.
----------------------------
revision 1.94
date: 1995/01/19 17:34:52;  author: rob;  state: Exp;
Added team colorizations in automap.
----------------------------
revision 1.93
date: 1995/01/19 17:15:36;  author: rob;  state: Exp;
Trying to add player ships into map for coop and team mode.
----------------------------
revision 1.92
date: 1995/01/19 17:11:09;  author: john;  state: Exp;
Added code for Rob to draw Multiplayer ships in automap.
----------------------------
revision 1.91
date: 1995/01/12 13:35:20;  author: john;  state: Exp;
Fixed bug with Segment 0 not getting displayed 
in automap if you have EDITOR compiled in.
----------------------------
revision 1.90
date: 1995/01/08 16:17:14;  author: john;  state: Exp;
Added code to draw player's up vector while in automap.
----------------------------
revision 1.89
date: 1995/01/08 16:09:41;  author: john;  state: Exp;
Fixed problems with grate.
----------------------------
revision 1.88
date: 1994/12/14 22:54:17;  author: john;  state: Exp;
Fixed bug that didn't show hostages in automap.
----------------------------
revision 1.87
date: 1994/12/09 00:41:03;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.86
date: 1994/12/05 23:37:15;  author: matt;  state: Exp;
Took out calls to warning() function
----------------------------
revision 1.85
date: 1994/12/03 22:35:28;  author: yuan;  state: Exp;
Localization 412
----------------------------
revision 1.84
date: 1994/12/02 15:05:45;  author: matt;  state: Exp;
Added new "official" cheats
----------------------------
revision 1.83
date: 1994/11/30 12:10:49;  author: adam;  state: Exp;
added support for PCX titles/brief screens
----------------------------
revision 1.82
date: 1994/11/27 23:15:12;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.81
date: 1994/11/27 15:35:52;  author: matt;  state: Exp;
Enable screen shots even when debugging is turned off
----------------------------
revision 1.80
date: 1994/11/26 22:51:43;  author: matt;  state: Exp;
Removed editor-only fields from segment structure when editor is compiled
out, and padded segment structure to even multiple of 4 bytes.
----------------------------
revision 1.79
date: 1994/11/26 16:22:48;  author: matt;  state: Exp;
Reduced leave_time
----------------------------
revision 1.78
date: 1994/11/23 22:00:10;  author: mike;  state: Exp;
show level number.
----------------------------
revision 1.77
date: 1994/11/21 11:40:33;  author: rob;  state: Exp;
Tweaked the game-loop for automap in multiplayer games.
----------------------------
revision 1.76
date: 1994/11/18 16:42:06;  author: adam;  state: Exp;
removed a font
----------------------------
revision 1.75
date: 1994/11/17 13:06:48;  author: adam;  state: Exp;
changed font
----------------------------
revision 1.74
date: 1994/11/14 20:47:17;  author: john;  state: Exp;
Attempted to strip out all the code in the game 
directory that uses any ui code.
=============================================================================
RCS file: f:/miner/source/main/automap.h,v
Working file: main/automap.h
head: 2.0
branch:
description: Prototypes for auto-map stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:29:35;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/09 00:41:21;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.4
date: 1994/07/14 11:25:29;  author: john;  state: Exp;
Made control centers destroy better; made automap use Tab key.
----------------------------
revision 1.3
date: 1994/07/12 15:45:51;  author: john;  state: Exp;
Made paritial map.
----------------------------
revision 1.2
date: 1994/07/07 18:35:05;  author: john;  state: Exp;
First version of automap
----------------------------
revision 1.1
date: 1994/07/07 15:12:13;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/autosave.c,v
Working file: main/editor/autosave.c
head: 2.0
branch:
description: Autosave system: 
Saves current mine to disk to prevent loss of work, and support undo.
----------------------------
revision 2.0
date: 1995/02/27 11:34:53;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.25
date: 1994/11/19 00:04:40;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.24
date: 1994/11/17 11:38:59;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.23
date: 1994/07/28 17:00:01;  author: mike;  state: Exp;
fix diagnostic_message erasing.
----------------------------
revision 1.22
date: 1994/07/21 12:48:28;  author: mike;  state: Exp;
Make time of day a global, fix clock so it doesn't show 10:2 instead of 10:02
----------------------------
revision 1.21
date: 1994/05/14 17:17:58;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.20
date: 1994/05/02 18:04:14;  author: yuan;  state: Exp;
Fixed warning.
----------------------------
revision 1.19
date: 1994/05/02 17:59:04;  author: yuan;  state: Exp;
Changed undo_status into an array rather than malloced pointers.
----------------------------
revision 1.18
date: 1994/03/16 09:55:48;  author: mike;  state: Exp;
Flashing : in time.
----------------------------
revision 1.17
date: 1994/02/11 10:27:36;  author: matt;  state: Exp;
Changed 'if !DEMO' to 'ifndef DEMO'
----------------------------
revision 1.16
date: 1994/02/08 12:43:18;  author: yuan;  state: Exp;
Crippled save game function from demo version
----------------------------
revision 1.15
date: 1994/02/01 13:27:26;  author: yuan;  state: Exp;
autosave default off.
----------------------------
revision 1.14
date: 1994/01/05 09:57:37;  author: yuan;  state: Exp;
Fixed calendar/clock problem.
----------------------------
revision 1.13
date: 1993/12/17 16:09:59;  author: yuan;  state: Exp;
Changed clock font from Red to Black.
----------------------------
revision 1.12
date: 1993/12/15 13:08:38;  author: yuan;  state: Exp;
Fixed :0x times, so that the 0 shows up.
----------------------------
revision 1.11
date: 1993/12/15 11:19:52;  author: yuan;  state: Exp;
Added code to display clock in upper right.
----------------------------
revision 1.10
date: 1993/12/14 21:18:51;  author: yuan;  state: Exp;
Added diagnostic message to display
----------------------------
revision 1.9
date: 1993/12/14 18:32:59;  author: yuan;  state: Exp;
Added timed autosave code
----------------------------
revision 1.8
date: 1993/12/13 17:23:25;  author: yuan;  state: Exp;
Fixed bugs with undo.
They were caused by badly changed extensions.
----------------------------
revision 1.7
date: 1993/12/09 16:42:32;  author: yuan;  state: Exp;
Changed extension of temp mines from .mi? -> .mn? 
and now to .m? (So it doesn't interfere with .mnu)
----------------------------
revision 1.6
date: 1993/12/09 16:27:06;  author: yuan;  state: Exp;
Added toggle for autosave
----------------------------
revision 1.5
date: 1993/11/29 19:46:32;  author: matt;  state: Exp;
Changed includes
----------------------------
revision 1.4
date: 1993/11/11 15:54:11;  author: yuan;  state: Exp;
Added display message for Undo...
Eg. Attach Segment UNDONE.
----------------------------
revision 1.3
date: 1993/11/09 18:53:11;  author: yuan;  state: Exp;
Autosave/Undo works up to 10 moves.
----------------------------
revision 1.2
date: 1993/11/08 19:14:03;  author: yuan;  state: Exp;
Added Undo command (not working yet)
----------------------------
revision 1.1
date: 1993/11/08 16:57:59;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/bm.c,v
Working file: main/bm.c
head: 2.3
branch:
description: Bitmap and palette loading functions.
----------------------------
revision 2.3
date: 1995/03/14 16:22:04;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.2
date: 1995/03/07 16:51:48;  author: john;  state: Exp;
Fixed robots not moving without edtiro bug.
----------------------------
revision 2.1
date: 1995/03/06 15:23:06;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:27:05;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
=============================================================================
RCS file: f:/miner/source/main/bm.h,v
Working file: main/bm.h
head: 2.0
branch:
description: Bitmap and Palette loading functions.
----------------------------
revision 2.0
date: 1995/02/27 11:32:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.60
date: 1994/12/06 13:24:58;  author: matt;  state: Exp;
Made exit model come out of bitmaps.tbl
----------------------------
revision 1.59
date: 1994/11/10 14:02:48;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.58
date: 1994/10/27 13:32:17;  author: john;  state: Exp;
Made TmapList only be in if editor
----------------------------
revision 1.57
date: 1994/10/11 12:25:20;  author: matt;  state: Exp;
Added "hot rocks" that create badass explosion when hit by weapons
----------------------------
revision 1.56
date: 1994/09/29 12:38:13;  author: matt;  state: Exp;
Took out include of digi.h, saving hours of unneeded compiles
----------------------------
revision 1.55
date: 1994/09/25 00:39:51;  author: matt;  state: Exp;
Added the ability to make eclips (monitors, fans) which can be blown up
----------------------------
revision 1.54
date: 1994/09/17 01:40:59;  author: matt;  state: Exp;
Added status bar/sizable window mode, and in the process revamped the
whole cockpit mode system.
----------------------------
revision 1.53
date: 1994/09/08 16:20:48;  author: matt;  state: Exp;
Gave textures the ability to cause damage when scraped
----------------------------
revision 1.52
date: 1994/08/30 22:23:43;  author: matt;  state: Exp;
Added cabability for player ship to have alternate model to use to
create debris.
----------------------------
revision 1.51
date: 1994/08/26 15:35:57;  author: matt;  state: Exp;
Made eclips usable on more than one object at a time
----------------------------
revision 1.50
date: 1994/08/23 16:59:51;  author: john;  state: Exp;
Added 3 cockpuits
----------------------------
revision 1.49
date: 1994/08/19 20:09:43;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.48
date: 1994/08/12 22:20:45;  author: matt;  state: Exp;
Generalized polygon objects (such as control center)
----------------------------
revision 1.47
date: 1994/08/09 16:04:21;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.46
date: 1994/08/09 09:01:31;  author: john;  state: Exp;
Increase MAX_TEXTURES
----------------------------
revision 1.45
date: 1994/07/13 00:14:57;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.44
date: 1994/06/20 21:33:15;  author: matt;  state: Exp;
Made bm.h not include sounds.h, to reduce dependencies
----------------------------
revision 1.43
date: 1994/06/15 11:55:58;  author: matt;  state: Exp;
Added 3d model for player
----------------------------
revision 1.42
date: 1994/06/13 16:09:11;  author: adam;  state: Exp;
increased max textures to 600
----------------------------
revision 1.41
date: 1994/06/06 15:38:58;  author: john;  state: Exp;
Made fullscreen view be just another cockpit, but the "hole"
in the cockpit is just bigger.
----------------------------
revision 1.40
date: 1994/05/26 21:08:59;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.39
date: 1994/05/18 11:00:05;  author: mike;  state: Exp;
Add robot_info stuff.
----------------------------
revision 1.38
date: 1994/05/17 14:44:56;  author: mike;  state: Exp;
Get object type and id from ObjType and ObjId.
----------------------------
revision 1.37
date: 1994/05/17 12:04:45;  author: mike;  state: Exp;
Deal with little known fact that polygon object != robot.
----------------------------
revision 1.36
date: 1994/05/16 16:17:35;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.35
date: 1994/04/27 11:43:42;  author: john;  state: Exp;
First version of sound! Yay!
----------------------------
revision 1.34
date: 1994/04/22 10:53:48;  author: john;  state: Exp;
Increased MAX_TEXTURES to 500.
----------------------------
revision 1.33
date: 1994/04/01 11:15:05;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.32
date: 1994/03/25 17:30:37;  author: yuan;  state: Exp;
Checking in hostage stuff.
----------------------------
revision 1.31
date: 1994/03/17 18:07:28;  author: yuan;  state: Exp;
Removed switch code... Now we just have Walls, Triggers, and Links...
----------------------------
revision 1.30
date: 1994/03/15 17:03:51;  author: yuan;  state: Exp;
Added Robot/object bitmap capability
----------------------------
revision 1.29
date: 1994/03/15 16:32:58;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(Fixed structures too)
----------------------------
revision 1.28
date: 1994/03/04 17:09:13;  author: yuan;  state: Exp;
New door stuff.
----------------------------
revision 1.27
date: 1994/01/31 14:50:09;  author: yuan;  state: Exp;
Added Robotex
----------------------------
revision 1.26
date: 1994/01/31 12:27:14;  author: yuan;  state: Exp;
Added demo stuff (menu, etc.)
----------------------------
revision 1.25
date: 1994/01/25 17:11:43;  author: john;  state: Exp;
New texmaped lasers.
----------------------------
revision 1.24
date: 1994/01/24 11:48:06;  author: yuan;  state: Exp;
Lighting stuff
----------------------------
revision 1.23
date: 1994/01/22 13:40:15;  author: yuan;  state: Exp;
Modified the bmd_bitmap structure a bit.
(Saves some memory, and added reflection)
----------------------------
revision 1.22
date: 1994/01/11 10:58:38;  author: yuan;  state: Exp;
Added effects system
----------------------------
revision 1.21
date: 1994/01/06 17:13:12;  author: john;  state: Exp;
Added Video clip functionality
----------------------------
revision 1.20
date: 1993/12/21 20:00:15;  author: john;  state: Exp;
moved selector stuff to grs_bitmap
----------------------------
revision 1.19
date: 1993/12/21 19:33:58;  author: john;  state: Exp;
Added selector to bmd_bitmap.
----------------------------
revision 1.18
date: 1993/12/07 12:28:48;  author: john;  state: Exp;
moved bmd_palette to gr_palette
----------------------------
revision 1.17
date: 1993/12/06 18:40:37;  author: matt;  state: Exp;
Changed object loading & handling
----------------------------
revision 1.16
date: 1993/12/05 23:05:03;  author: matt;  state: Exp;
Added include of gr.h
----------------------------
revision 1.15
date: 1993/12/03 17:38:04;  author: yuan;  state: Exp;
Ooops. meant to say:
Moved MAX variables to bm.c, Arrays left open.
----------------------------
revision 1.14
date: 1993/12/03 17:37:26;  author: yuan;  state: Exp;
Added Asserts.
----------------------------
revision 1.13
date: 1993/12/02 17:22:54;  author: yuan;  state: Exp;
New global var. Num_object_types
----------------------------
revision 1.12
date: 1993/12/02 16:34:39;  author: yuan;  state: Exp;
Added fireball hack stuff.
----------------------------
revision 1.11
date: 1993/12/02 15:45:14;  author: yuan;  state: Exp;
Added a buncha constants, variables, and function prototypes
for the new bitmaps.tbl format.
----------------------------
revision 1.10
date: 1993/12/01 11:25:11;  author: yuan;  state: Exp;
Changed MALLOC'd buffers for filename and type in
the bmd_bitmap structure into arrays... Saves time
at load up.
----------------------------
revision 1.9
date: 1993/12/01 00:28:09;  author: yuan;  state: Exp;
New bitmap system structure.
----------------------------
revision 1.8
date: 1993/11/03 11:34:08;  author: john;  state: Exp;
made it use bitmaps.tbl
----------------------------
revision 1.7
date: 1993/10/26 18:11:03;  author: john;  state: Exp;
made all palette data be statically allocated
----------------------------
revision 1.6
date: 1993/10/19 12:17:51;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/10/16 20:02:41;  author: matt;  state: Exp;
Changed name of backdrop bitmap file
----------------------------
revision 1.4
date: 1993/10/12 15:08:52;  author: matt;  state: Exp;
Added a bunch of new textures
----------------------------
revision 1.3
date: 1993/10/12 12:30:41;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/12 11:27:58;  author: john;  state: Exp;
added more bitmaps
----------------------------
revision 1.1
date: 1993/09/23 13:09:10;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/bmread.c,v
Working file: main/bmread.c
head: 2.4
branch:
description: Routines to parse bitmaps.tbl
----------------------------
revision 2.4
date: 1995/03/28 18:05:29;  author: john;  state: Exp;
Fixed it so you don't have to delete pig after changing bitmaps.tbl
----------------------------
revision 2.3
date: 1995/03/07 16:52:03;  author: john;  state: Exp;
Fixed robots not moving without edtiro bug.
----------------------------
revision 2.2
date: 1995/03/06 16:10:20;  author: mike;  state: Exp;
Fix compile errors if building without editor.
----------------------------
revision 2.1
date: 1995/03/02 14:55:40;  author: john;  state: Exp;
Fixed bug with EDITOR never defined.
----------------------------
revision 2.0
date: 1995/02/27 11:33:10;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.1
date: 1995/02/25 14:02:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/cdrom.c,v
Working file: main/cdrom.c
head: 1.2
branch:
description: Routines to access a cdrom drive.
----------------------------
revision 1.2
date: 1995/03/20 15:01:19;  author: john;  state: Exp;
Initial revision.
----------------------------
revision 1.1
date: 1995/03/14 16:56:59;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/cdrom.h,v
Working file: main/cdrom.h
head: 1.2
branch:
description: Prototypes for cdrom.c
----------------------------
revision 1.2
date: 1995/03/20 15:01:12;  author: john;  state: Exp;
Initial revision.
----------------------------
revision 1.1
date: 1995/03/14 17:01:37;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/centers.c,v
Working file: main/editor/centers.c
head: 2.0
branch:
description: Dialog box stuff for control centers, material centers, etc.
----------------------------
revision 2.0
date: 1995/02/27 11:35:30;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.9
date: 1994/11/27 23:17:28;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.8
date: 1994/10/05 22:13:46;  author: mike;  state: Exp;
Clean up Centers dialog.
----------------------------
revision 1.7
date: 1994/10/03 23:39:55;  author: mike;  state: Exp;
Call fuelcen_activate instead of fuelcen_create.
----------------------------
revision 1.6
date: 1994/08/02 12:16:35;  author: mike;  state: Exp;
Change materialization center functionality.
----------------------------
revision 1.5
date: 1994/08/01 11:04:42;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.4
date: 1994/07/22 17:19:10;  author: yuan;  state: Exp;
Working on dialog box for refuel/repair/material/control centers.
----------------------------
revision 1.3
date: 1994/07/21 19:35:09;  author: yuan;  state: Exp;
Fixed #include problem
----------------------------
revision 1.2
date: 1994/07/21 19:02:41;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/07/18 16:00:54;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/centers.h,v
Working file: main/editor/centers.h
head: 2.0
branch:
description: Center header
----------------------------
revision 2.0
date: 1995/02/27 11:35:02;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/08/02 12:16:27;  author: mike;  state: Exp;
Prototype Center_names.
----------------------------
revision 1.2
date: 1994/07/21 19:35:20;  author: yuan;  state: Exp;
Fixed #include problem
----------------------------
revision 1.1
date: 1994/07/21 19:11:36;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/cntrlcen.c,v
Working file: main/cntrlcen.c
head: 2.1
branch:
description: Code for the control center
----------------------------
revision 2.1
date: 1995/03/21 14:40:25;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:31:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.22
date: 1995/02/11 01:56:14;  author: mike;  state: Exp;
robots don't fire cheat.
----------------------------
revision 1.21
date: 1995/02/05 13:39:39;  author: mike;  state: Exp;
fix stupid bug in control center firing timing.
----------------------------
revision 1.20
date: 1995/02/03 17:41:21;  author: mike;  state: Exp;
fix control cen next fire time in multiplayer.
----------------------------
revision 1.19
date: 1995/01/29 13:46:41;  author: mike;  state: Exp;
adapt to new create_small_fireball_on_object prototype.
----------------------------
revision 1.18
date: 1995/01/18 16:12:13;  author: mike;  state: Exp;
Make control center aware of a cloaked playerr when he fires.
----------------------------
revision 1.17
date: 1995/01/12 12:53:44;  author: rob;  state: Exp;
Trying to fix a bug with having cntrlcen in robotarchy games.
----------------------------
revision 1.16
date: 1994/12/11 12:37:22;  author: mike;  state: Exp;
make control center smarter about firing at cloaked player, don't fire through self, though
it still looks that way due to prioritization problems.
----------------------------
revision 1.15
date: 1994/12/01 11:34:33;  author: mike;  state: Exp;
fix control center shield strength in multiplayer team games.
----------------------------
revision 1.14
date: 1994/11/30 15:44:29;  author: mike;  state: Exp;
make cntrlcen harder at higher levels.
----------------------------
revision 1.13
date: 1994/11/29 22:26:23;  author: yuan;  state: Exp;
Fixed boss bug.
----------------------------
revision 1.12
date: 1994/11/27 23:12:31;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.11
date: 1994/11/23 17:29:38;  author: mike;  state: Exp;
deal with peculiarities going between net and regular game on boss level.
----------------------------
revision 1.10
date: 1994/11/18 18:27:15;  author: rob;  state: Exp;
Fixed some bugs with the last version.
----------------------------
revision 1.9
date: 1994/11/18 17:13:59;  author: mike;  state: Exp;
special case handling for level 8.
----------------------------
revision 1.8
date: 1994/11/15 12:45:28;  author: mike;  state: Exp;
don't let cntrlcen know where a cloaked player is.
----------------------------
revision 1.7
date: 1994/11/08 12:18:37;  author: mike;  state: Exp;
small explosions on control center.
----------------------------
revision 1.6
date: 1994/11/02 17:59:18;  author: rob;  state: Exp;
Changed control centers so they can find people in network games.
Side effect of this is that control centers can find cloaked players.
(see in-code comments for explanation).  
Also added network hooks so control center shots 'sync up'.
----------------------------
revision 1.5
date: 1994/10/22 14:13:21;  author: mike;  state: Exp;
Make control center stop firing shortly after player dies.
Fix bug: If play from editor and die, tries to initialize non-control center object.
----------------------------
revision 1.4
date: 1994/10/20 15:17:30;  author: mike;  state: Exp;
Hack for control center inside boss robot.
----------------------------
revision 1.3
date: 1994/10/20 09:47:46;  author: mike;  state: Exp;
lots stuff.
----------------------------
revision 1.2
date: 1994/10/17 21:35:09;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.1
date: 1994/10/17 20:24:01;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/cntrlcen.h,v
Working file: main/cntrlcen.h
head: 2.0
branch:
description: Header for cntrlcen.c
----------------------------
revision 2.0
date: 1995/02/27 11:30:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.7
date: 1995/02/01 16:34:14;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.6
date: 1995/01/03 20:19:14;  author: john;  state: Exp;
Pretty good working version of game save.
----------------------------
revision 1.5
date: 1994/11/08 12:18:28;  author: mike;  state: Exp;
small explosions on control center.
----------------------------
revision 1.4
date: 1994/11/02 18:00:12;  author: rob;  state: Exp;
Added extern for Gun_pos array for network hooks.
----------------------------
revision 1.3
date: 1994/10/20 09:47:37;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/10/17 21:35:10;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.1
date: 1994/10/17 20:24:28;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/coindev.c,v
Working file: main/coindev.c
head: 2.0
branch:
description: Routines to read the coin counter.
----------------------------
revision 2.0
date: 1995/02/27 11:26:39;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/09/16 16:15:05;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.1
date: 1994/09/16 12:56:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/coindev.h,v
Working file: main/coindev.h
head: 2.0
branch:
description: Routines to read the coin counter.
----------------------------
revision 2.0
date: 1995/02/27 11:30:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/09/16 16:15:10;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.1
date: 1994/09/16 12:56:24;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/collide.c,v
Working file: main/collide.c
head: 2.5
branch:
description: ----------------------------
revision 2.5
date: 1995/07/26 12:07:46;  author: john;  state: Exp;
Made code that pages in weapon_info->robot_hit_vclip not
page in unless it is a badass weapon.  Took out old functionallity
of using this if no robot exp1_vclip, since all robots have these.
----------------------------
revision 2.4
date: 1995/03/30 16:36:09;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.3
date: 1995/03/24 15:11:13;  author: john;  state: Exp;
Added ugly robot cheat.
----------------------------
revision 2.2
date: 1995/03/21 14:41:04;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.1
date: 1995/03/20 18:16:02;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:32:20;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.289
date: 1995/02/22 13:56:06;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.288
date: 1995/02/11 15:52:45;  author: rob;  state: Exp;
Included text.h.
----------------------------
revision 1.287
date: 1995/02/11 15:04:11;  author: rob;  state: Exp;
Localized a string.
----------------------------
revision 1.286
date: 1995/02/11 14:25:41;  author: rob;  state: Exp;
Added invul. controlcen option.
----------------------------
revision 1.285
date: 1995/02/06 15:53:00;  author: mike;  state: Exp;
create awareness event for player:wall collision.
----------------------------
revision 1.284
date: 1995/02/05 23:18:17;  author: matt;  state: Exp;
Deal with objects (such as fusion blobs) that get created already
poking through a wall
----------------------------
revision 1.283
date: 1995/02/01 17:51:33;  author: mike;  state: Exp;
fusion bolt can now toast multiple proximity bombs.
----------------------------
revision 1.282
date: 1995/02/01 17:29:20;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.281
date: 1995/02/01 15:04:00;  author: rob;  state: Exp;
Changed sound of weapons hitting invulnerable players.
----------------------------
revision 1.280
date: 1995/01/31 16:16:35;  author: mike;  state: Exp;
Separate smart blobs for robot and player.
----------------------------
revision 1.279
date: 1995/01/29 15:57:10;  author: rob;  state: Exp;
Fixed another bug with robot_request_change calls.
----------------------------
revision 1.278
date: 1995/01/28 18:15:06;  author: rob;  state: Exp;
Fixed a bug in multi_request_robot_change.
----------------------------
revision 1.277
date: 1995/01/27 15:15:44;  author: rob;  state: Exp;
Fixing problems with controlcen damage.
----------------------------
revision 1.276
date: 1995/01/27 15:13:10;  author: mike;  state: Exp;
comment out mprintf.
----------------------------
revision 1.275
date: 1995/01/26 22:11:51;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.274
date: 1995/01/26 18:57:55;  author: rob;  state: Exp;
Changed two uses of digi_play_sample to digi_link_sound_to_pos which
made more sense.
----------------------------
revision 1.273
date: 1995/01/25 23:37:58;  author: mike;  state: Exp;
make persistent objects not hit player more than once.
Also, make them hit player before degrading them, else they often did 0 damage.
----------------------------
revision 1.272
date: 1995/01/25 18:23:54;  author: rob;  state: Exp;
Don't let players pick up powerups in exit tunnel.
----------------------------
revision 1.271
date: 1995/01/25 13:43:18;  author: rob;  state: Exp;
Added robot transfer for player collisions.
Removed mprintf from collide.c on Mike's request.
----------------------------
revision 1.270
date: 1995/01/25 10:24:01;  author: mike;  state: Exp;
Make sizzle and rock happen in lava even if you're invulnerable.
----------------------------
revision 1.269
date: 1995/01/22 17:05:33;  author: mike;  state: Exp;
Call multi_robot_request_change when a robot gets whacked by a player or
player weapon, if player_num != Player_num
----------------------------
revision 1.268
date: 1995/01/21 21:20:28;  author: matt;  state: Exp;
Fixed stupid bug
----------------------------
revision 1.267
date: 1995/01/21 18:47:47;  author: rob;  state: Exp;
Fixed a really dumb bug with player keys.
----------------------------
revision 1.266
date: 1995/01/21 17:39:30;  author: matt;  state: Exp;
Cleaned up laser/player hit wall confusions
----------------------------
revision 1.265
date: 1995/01/19 17:44:42;  author: mike;  state: Exp;
damage_force removed, that information coming from strength field.
----------------------------
revision 1.264
date: 1995/01/18 17:12:56;  author: rob;  state: Exp;
Fixed control stuff for multiplayer.
----------------------------
revision 1.263
date: 1995/01/18 16:12:33;  author: mike;  state: Exp;
Make control center aware of a cloaked playerr when he fires.
----------------------------
revision 1.262
date: 1995/01/17 17:48:42;  author: rob;  state: Exp;
Added key syncing for coop players.
----------------------------
revision 1.261
date: 1995/01/16 19:30:28;  author: rob;  state: Exp;
Fixed an assert error in fireball.c
----------------------------
revision 1.260
date: 1995/01/16 19:23:51;  author: mike;  state: Exp;
Say Boss_been_hit if he been hit so he gates appropriately.
----------------------------
revision 1.259
date: 1995/01/16 11:55:16;  author: mike;  state: Exp;
make enemies become aware of player if he damages control center.
----------------------------
revision 1.258
date: 1995/01/15 16:42:00;  author: rob;  state: Exp;
Fixed problem with robot bumping damage.
----------------------------
revision 1.257
date: 1995/01/14 19:16:36;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.256
date: 1995/01/03 17:58:37;  author: rob;  state: Exp;
Fixed scoring problems.
----------------------------
revision 1.255
date: 1994/12/29 12:41:11;  author: rob;  state: Exp;
Tweaking robot exploding in coop.
----------------------------
revision 1.254
date: 1994/12/28 10:37:59;  author: rob;  state: Exp;
Fixed ifdef of multibot stuff.
----------------------------
revision 1.253
date: 1994/12/21 19:03:14;  author: rob;  state: Exp;
Fixing score accounting for multiplayer robots
----------------------------
revision 1.252
date: 1994/12/21 17:36:31;  author: rob;  state: Exp;
Fix hostage pickup problem in network.
tweaking robot powerup drops.
----------------------------
revision 1.251
date: 1994/12/19 20:32:34;  author: rob;  state: Exp;
Remove awareness events from player collisions and lasers that are not the console player.
----------------------------
revision 1.250
date: 1994/12/19 20:01:22;  author: rob;  state: Exp;
Added multibot.h include.
----------------------------
revision 1.249
date: 1994/12/19 16:36:41;  author: rob;  state: Exp;
Patches damaging of multiplayer robots.
----------------------------
revision 1.248
date: 1994/12/14 21:15:18;  author: rob;  state: Exp;
play lava hiss across network.
----------------------------
revision 1.247
date: 1994/12/14 17:09:09;  author: matt;  state: Exp;
Fixed problem with no sound when lasers hit closed walls, like grates.
----------------------------
revision 1.246
date: 1994/12/14 09:51:49;  author: mike;  state: Exp;
make any weapon cause proximity bomb detonation.
----------------------------
revision 1.245
date: 1994/12/13 12:55:25;  author: mike;  state: Exp;
change number of proximity bomb powerups which get dropped.
----------------------------
revision 1.244
date: 1994/12/12 17:17:53;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.243
date: 1994/12/12 12:07:51;  author: rob;  state: Exp;
Don't take damage if we're in endlevel sequence.
----------------------------
revision 1.242
date: 1994/12/11 23:44:52;  author: mike;  state: Exp;
less phys_apply_rot() at higher skill levels.
----------------------------
revision 1.241
date: 1994/12/11 12:37:02;  author: mike;  state: Exp;
remove stupid robot spinning code.  it was really stupid.  (actually, call here, code in ai.c).
----------------------------
revision 1.240
date: 1994/12/10 16:44:51;  author: matt;  state: Exp;
Added debugging code to track down door that turns into rock
----------------------------
revision 1.239
date: 1994/12/09 14:59:19;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.238
date: 1994/12/09 09:57:02;  author: mike;  state: Exp;
Don't allow robots or their weapons to pass through control center.
----------------------------
revision 1.237
date: 1994/12/08 15:46:03;  author: mike;  state: Exp;
better robot behavior.
----------------------------
revision 1.236
date: 1994/12/08 12:32:56;  author: mike;  state: Exp;
make boss dying more interesting.
----------------------------
revision 1.235
date: 1994/12/07 22:49:15;  author: mike;  state: Exp;
tweak rotation due to collision.
----------------------------
revision 1.234
date: 1994/12/07 16:44:50;  author: mike;  state: Exp;
make bump sound if supposed to, even if not taking damage.
----------------------------
revision 1.233
date: 1994/12/07 12:55:08;  author: mike;  state: Exp;
tweak rotvel applied from collisions.
----------------------------
revision 1.232
date: 1994/12/05 19:30:48;  author: matt;  state: Exp;
Fixed horrible segment over-dereferencing
----------------------------
revision 1.231
date: 1994/12/05 00:32:15;  author: mike;  state: Exp;
do rotvel on badass and bump collisions.
----------------------------
revision 1.230
date: 1994/12/03 12:49:22;  author: mike;  state: Exp;
don't play bonk sound when you collide with a volatile wall (like lava).
----------------------------
revision 1.229
date: 1994/12/02 16:51:09;  author: mike;  state: Exp;
make lava sound only happen at 4 Hz.
----------------------------
revision 1.228
date: 1994/11/30 23:55:27;  author: rob;  state: Exp;
Fixed a bug where a laser hitting a wall was making 2 sounds.
----------------------------
revision 1.227
date: 1994/11/30 20:11:00;  author: rob;  state: Exp;
Fixed # of dropped laser powerups.
----------------------------
revision 1.226
date: 1994/11/30 19:19:03;  author: rob;  state: Exp;
Transmit collission sounds for net games.
----------------------------
revision 1.225
date: 1994/11/30 16:33:01;  author: mike;  state: Exp;
new boss behavior.
----------------------------
revision 1.224
date: 1994/11/30 15:44:17;  author: mike;  state: Exp;
/2 on boss smart children damage.
----------------------------
revision 1.223
date: 1994/11/30 14:03:03;  author: mike;  state: Exp;
hook for claw sounds
----------------------------
revision 1.222
date: 1994/11/29 20:41:09;  author: matt;  state: Exp;
Deleted a bunch of commented-out lines
----------------------------
revision 1.221
date: 1994/11/27 23:15:08;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.220
date: 1994/11/19 16:11:28;  author: rob;  state: Exp;
Collision damage with walls or lava is counted as suicides in net games
----------------------------
revision 1.219
date: 1994/11/19 15:20:41;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.218
date: 1994/11/17 18:44:27;  author: rob;  state: Exp;
Added OBJ_GHOST to list of valid player types to create eggs.
----------------------------
revision 1.217
date: 1994/11/17 14:57:59;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.216
date: 1994/11/16 23:38:36;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.215
date: 1994/11/16 12:16:29;  author: mike;  state: Exp;
Enable collisions between robots.  A hack in fvi.c only does this for robots which lunge to attack (eg, green guy)
----------------------------
revision 1.214
date: 1994/11/15 16:51:50;  author: mike;  state: Exp;
bump player when he hits a volatile wall.
----------------------------
revision 1.213
date: 1994/11/12 16:38:44;  author: mike;  state: Exp;
allow flares to open doors.
----------------------------
revision 1.212
date: 1994/11/10 13:09:19;  author: matt;  state: Exp;
Added support for new run-length-encoded bitmaps
----------------------------
revision 1.211
date: 1994/11/09 17:05:43;  author: matt;  state: Exp;
Fixed problem with volatile walls
----------------------------
revision 1.210
date: 1994/11/09 12:11:46;  author: mike;  state: Exp;
only award points if ConsoleObject killed robot.
----------------------------
revision 1.209
date: 1994/11/09 11:11:03;  author: yuan;  state: Exp;
Made wall volatile if either tmap_num1 or tmap_num2 is a volatile wall.
----------------------------
revision 1.208
date: 1994/11/08 12:20:15;  author: mike;  state: Exp;
moved do_controlcen_destroyed_stuff from here to cntrlcen.c
----------------------------
revision 1.207
date: 1994/11/02 23:22:08;  author: mike;  state: Exp;
Make ` (backquote, KEY_LAPOSTRO) tell what wall was hit by laser.
----------------------------
revision 1.206
date: 1994/11/02 18:03:00;  author: rob;  state: Exp;
Fix control_center_been_hit logic so it only cares about the local player.
Other players take care of their own control center 'ai'.
----------------------------
revision 1.205
date: 1994/11/01 19:37:33;  author: rob;  state: Exp;
Changed the max # of consussion missiles to 4.
(cause they're lame and clutter things up)
----------------------------
revision 1.204
date: 1994/11/01 18:06:35;  author: john;  state: Exp;
Tweaked wall banging sound constant.
----------------------------
revision 1.203
date: 1994/11/01 18:01:40;  author: john;  state: Exp;
Made wall bang less obnoxious, but volume based.
----------------------------
revision 1.202
date: 1994/11/01 17:11:05;  author: rob;  state: Exp;
Changed some stuff in drop_player_eggs.
----------------------------
revision 1.201
date: 1994/11/01 12:18:23;  author: john;  state: Exp;
Added sound volume support. Made wall collisions be louder/softer.
----------------------------
revision 1.200
date: 1994/10/31 13:48:44;  author: rob;  state: Exp;
Fixed bug in opening doors over network/modem.  Added a new message
type to multi.c that communicates door openings across the net. 
Changed includes in multi.c and wall.c to accomplish this.
----------------------------
revision 1.199
date: 1994/10/28 14:42:52;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.198
date: 1994/10/27 16:58:37;  author: allender;  state: Exp;
added demo recording of monitors blowing up
----------------------------
revision 1.197
date: 1994/10/26 23:20:52;  author: matt;  state: Exp;
Tone down flash even more
----------------------------
revision 1.196
date: 1994/10/26 23:01:50;  author: matt;  state: Exp;
Toned down red flash when damaged
----------------------------
revision 1.195
date: 1994/10/26 15:56:29;  author: yuan;  state: Exp;
Tweaked some palette flashes.
----------------------------
revision 1.194
date: 1994/10/25 11:32:26;  author: matt;  state: Exp;
Fixed bugs with vulcan powerups in mutliplayer
----------------------------
revision 1.193
date: 1994/10/25 10:51:18;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.192
date: 1994/10/24 14:14:05;  author: matt;  state: Exp;
Fixed bug in bump_two_objects()
----------------------------
revision 1.191
date: 1994/10/23 19:17:04;  author: matt;  state: Exp;
Fixed bug with "no key" messages
----------------------------
revision 1.190
date: 1994/10/22 00:08:46;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.189
date: 1994/10/21 20:42:34;  author: mike;  state: Exp;
Clear number of hostages on board between levels.
----------------------------
revision 1.188
date: 1994/10/20 15:17:43;  author: mike;  state: Exp;
control center in boss handling.
----------------------------
revision 1.187
date: 1994/10/20 10:09:47;  author: mike;  state: Exp;
Only ever drop 1 shield powerup in multiplayer (as an egg).
----------------------------
revision 1.186
date: 1994/10/20 09:47:11;  author: mike;  state: Exp;
Fix bug in dropping vulcan ammo in multiplayer.
Also control center stuff.
----------------------------
revision 1.185
date: 1994/10/19 15:14:32;  author: john;  state: Exp;
Took % hits out of player structure, made %kills work properly.
----------------------------
revision 1.184
date: 1994/10/19 11:33:16;  author: john;  state: Exp;
Fixed hostage rescued percent.
----------------------------
revision 1.183
date: 1994/10/19 11:16:49;  author: mike;  state: Exp;
Don't allow crazy josh to open locked doors.
Don't allow weapons to harm parent.
----------------------------
revision 1.182
date: 1994/10/18 18:37:01;  author: mike;  state: Exp;
No more hostage killing.  Too much stuff to do to integrate into game.
----------------------------
revision 1.181
date: 1994/10/18 16:37:35;  author: mike;  state: Exp;
Debug function for Yuan: Show seg:side when hit by puny laser if Show_seg_and_side != 0.
----------------------------
revision 1.180
date: 1994/10/18 10:53:17;  author: mike;  state: Exp;
Support attack type as a property of a robot, not of being == GREEN_GUY.
----------------------------
revision 1.179
date: 1994/10/17 21:18:36;  author: mike;  state: Exp;
diminish damage player does to robot due to collision, only took 2-3 hits to kill a josh.
----------------------------
revision 1.178
date: 1994/10/17 20:30:40;  author: john;  state: Exp;
Made player_hostages_rescued or whatever count properly.
----------------------------
revision 1.177
date: 1994/10/16 12:42:56;  author: mike;  state: Exp;
Trap bogus amount of vulcan ammo dropping.
----------------------------
revision 1.176
date: 1994/10/15 19:06:51;  author: mike;  state: Exp;
Drop vulcan ammo if player has it, but no vulcan cannon (when he dies).
----------------------------
revision 1.175
date: 1994/10/13 15:42:06;  author: mike;  state: Exp;
Remove afterburner.
----------------------------
revision 1.174
date: 1994/10/13 11:12:57;  author: mike;  state: Exp;
Apply damage to robots.  I hosed it a couple weeks ago when I made the green guy special.
=============================================================================
RCS file: f:/miner/source/main/collide.h,v
Working file: main/collide.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:28:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.23
date: 1995/01/26 22:11:47;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.22
date: 1994/12/21 19:03:24;  author: rob;  state: Exp;
Fixing score accounting for multiplayer robots
----------------------------
revision 1.21
date: 1994/12/21 11:34:56;  author: mike;  state: Exp;
make control center take badass damage.
----------------------------
revision 1.20
date: 1994/10/29 16:53:16;  author: allender;  state: Exp;
added check_effect_blowup for demo recording to record monitor explosions
----------------------------
revision 1.19
date: 1994/10/09 13:46:48;  author: mike;  state: Exp;
Make public collide_player_and_powerup.
----------------------------
revision 1.18
date: 1994/10/05 14:54:29;  author: rob;  state: Exp;
Added serial game support in control center sequence..
----------------------------
revision 1.17
date: 1994/09/15 16:32:12;  author: mike;  state: Exp;
Prototype collide_player_and_nasty_robot.
----------------------------
revision 1.16
date: 1994/09/11 15:49:04;  author: mike;  state: Exp;
Prototype for maybe_detonate_weapon.
----------------------------
revision 1.15
date: 1994/09/09 14:20:07;  author: matt;  state: Exp;
Added prototype for scrape function
----------------------------
revision 1.14
date: 1994/09/02 14:00:44;  author: matt;  state: Exp;
Simplified explode_object() & mutliple-stage explosions
----------------------------
revision 1.13
date: 1994/08/18 10:47:35;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.12
date: 1994/08/17 16:50:08;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.11
date: 1994/08/03 16:45:31;  author: mike;  state: Exp;
Prototype a function.
----------------------------
revision 1.10
date: 1994/08/03 15:17:41;  author: mike;  state: Exp;
make matcen whack on you if it's ready to make a robot.
----------------------------
revision 1.9
date: 1994/07/22 12:08:03;  author: mike;  state: Exp;
Make robot hit vclip and sound weapon-based until robot dies, then robot-based.
----------------------------
revision 1.8
date: 1994/07/09 17:36:31;  author: mike;  state: Exp;
Prototype apply_damage_to_robot.
----------------------------
revision 1.7
date: 1994/07/09 13:20:36;  author: mike;  state: Exp;
Prototype apply_damage_to_player.
----------------------------
revision 1.6
date: 1994/06/20 23:35:52;  author: john;  state: Exp;
Bunch of stuff.
----------------------------
revision 1.5
date: 1994/06/17 18:04:03;  author: yuan;  state: Exp;
Added Immaterialization...
Fixed Invulnerability to allow being hit.
----------------------------
revision 1.4
date: 1994/05/13 20:28:02;  author: john;  state: Exp;
Version II of John's new object code.
----------------------------
revision 1.3
date: 1994/05/13 12:20:35;  author: john;  state: Exp;
Fixed some potential problems with code using global variables
that are set in fvi. 
----------------------------
revision 1.2
date: 1994/05/12 23:20:32;  author: john;  state: Exp;
Moved all object collision handling into collide.c.
----------------------------
revision 1.1
date: 1994/05/12 20:39:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/compbit.h,v
Working file: main/compbit.h
head: 2.0
branch:
description: Contains encryption key for bitmaps.tbl
----------------------------
revision 2.0
date: 1995/02/27 11:28:46;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/12/05 15:10:28;  author: allender;  state: Exp;
changed extern prototype definition
----------------------------
revision 1.2
date: 1994/10/19 15:43:33;  author: allender;  state: Exp;
header file which contains the xor value which is used when encrypting
bitmaps.tbl
----------------------------
revision 1.1
date: 1994/10/19 13:22:19;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/config.c,v
Working file: main/config.c
head: 2.2
branch:
description: contains routine(s) to read in the configuration file which contains
game configuration stuff like detail level, sound card, etc
----------------------------
revision 2.2
date: 1995/03/27 09:42:59;  author: john;  state: Exp;
Added VR Settings in config file.
----------------------------
revision 2.1
date: 1995/03/16 11:20:40;  author: john;  state: Exp;
Put in support for Crystal Lake soundcard.
----------------------------
revision 2.0
date: 1995/02/27 11:30:13;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.14
date: 1995/02/11 16:19:36;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.13
date: 1995/01/18 13:23:24;  author: matt;  state: Exp;
Made curtom detail level vars initialize properly at load
----------------------------
revision 1.12
date: 1995/01/04 22:15:36;  author: matt;  state: Exp;
Fixed stupid bug using scanf() to read bytes
----------------------------
revision 1.11
date: 1995/01/04 13:14:21;  author: matt;  state: Exp;
Made custom detail level settings save in config file
----------------------------
revision 1.10
date: 1994/12/12 21:35:09;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1994/12/12 21:31:51;  author: john;  state: Exp;
Made volume work better by making sure volumes are valid
and set correctly at program startup.
----------------------------
revision 1.8
date: 1994/12/12 13:58:01;  author: john;  state: Exp;
MAde -nomusic work.
Fixed GUS hang at exit by deinitializing digi before midi.
----------------------------
revision 1.7
date: 1994/12/08 10:01:33;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.6
date: 1994/12/01 11:24:07;  author: john;  state: Exp;
Made volume/gamma/joystick sliders all be the same length.  0-->8.
----------------------------
revision 1.5
date: 1994/11/29 02:01:07;  author: john;  state: Exp;
Added code to look at -volume command line arg.
----------------------------
revision 1.4
date: 1994/11/14 20:14:11;  author: john;  state: Exp;
Fixed some warnings.
----------------------------
revision 1.3
date: 1994/11/14 19:51:01;  author: john;  state: Exp;
Added joystick cal values to descent.cfg.
----------------------------
revision 1.2
date: 1994/11/14 17:53:09;  author: allender;  state: Exp;
read and write descent.cfg file
----------------------------
revision 1.1
date: 1994/11/14 16:28:08;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/config.h,v
Working file: main/config.h
head: 2.0
branch:
description: prototype definitions for descent.cfg reading/writing
----------------------------
revision 2.0
date: 1995/02/27 11:32:48;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1995/02/11 16:20:06;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.3
date: 1994/12/08 10:01:41;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.2
date: 1994/11/14 17:53:17;  author: allender;  state: Exp;
extern definitions for ReadConfigFile and WriteConfigFile
----------------------------
revision 1.1
date: 1994/11/14 16:56:17;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/controls.c,v
Working file: main/controls.c
head: 2.0
branch:
description: Code for controlling player movement
----------------------------
revision 2.0
date: 1995/02/27 11:27:11;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.50
date: 1995/02/22 14:11:19;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.49
date: 1994/12/15 13:04:10;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.48
date: 1994/11/27 23:12:13;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.47
date: 1994/11/25 22:15:54;  author: matt;  state: Exp;
Added asserts to try to trap frametime < 0 bug
----------------------------
revision 1.46
date: 1994/11/16 11:25:40;  author: matt;  state: Exp;
Took out int3's since I determined that the errors are caused by neg frametime
----------------------------
revision 1.45
date: 1994/11/15 13:07:23;  author: matt;  state: Exp;
Added int3's to try to trap bug
----------------------------
revision 1.44
date: 1994/10/14 16:18:12;  author: john;  state: Exp;
Made Assert that the object was player just nicely exit
the function.
----------------------------
revision 1.43
date: 1994/10/13 11:35:25;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.42
date: 1994/09/29 11:22:02;  author: mike;  state: Exp;
Zero thrust when player dies.
----------------------------
revision 1.41
date: 1994/09/16 13:10:30;  author: mike;  state: Exp;
Hook in afterburner stuff.
----------------------------
revision 1.40
date: 1994/09/14 22:21:54;  author: matt;  state: Exp;
Avoid post-death assert
----------------------------
revision 1.39
date: 1994/09/11 20:30:27;  author: matt;  state: Exp;
Cleaned up thrust vars, changing a few names
----------------------------
revision 1.38
date: 1994/09/10 15:46:31;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.37
date: 1994/09/07 15:58:12;  author: mike;  state: Exp;
Check for player dead in controls so you can't fire or move after dead, logical, huh?
----------------------------
revision 1.36
date: 1994/09/06 14:51:56;  author: john;  state: Exp;
Added sensitivity adjustment, fixed bug with joystick button not
staying down.
----------------------------
revision 1.35
date: 1994/09/01 15:43:26;  author: john;  state: Exp;
Put pitch bak like it was.
----------------------------
revision 1.34
date: 1994/08/31 18:59:35;  author: john;  state: Exp;
Made rotthrust back like it was.
----------------------------
revision 1.33
date: 1994/08/31 18:49:17;  author: john;  state: Exp;
Slowed Maxrothrust a bit,
..
----------------------------
revision 1.32
date: 1994/08/31 18:32:05;  author: john;  state: Exp;
Lower max rotational thrust
----------------------------
revision 1.31
date: 1994/08/29 21:18:27;  author: john;  state: Exp;
First version of new keyboard/oystick remapping stuff.
----------------------------
revision 1.30
date: 1994/08/29 16:18:30;  author: mike;  state: Exp;
trap divide overflow.
----------------------------
revision 1.29
date: 1994/08/26 14:40:45;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.28
date: 1994/08/26 12:23:50;  author: john;  state: Exp;
MAde joystick read up to 15 times per second max.
----------------------------
revision 1.27
date: 1994/08/26 10:50:59;  author: john;  state: Exp;
Took out Controls_always_stopped.
----------------------------
revision 1.26
date: 1994/08/26 10:47:27;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.25
date: 1994/08/26 10:46:50;  author: john;  state: Exp;
New version of controls.
----------------------------
revision 1.24
date: 1994/08/25 19:41:44;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/08/25 18:44:55;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.22
date: 1994/08/25 18:43:46;  author: john;  state: Exp;
First revision of new control code.
----------------------------
revision 1.21
date: 1994/08/24 20:02:46;  author: john;  state: Exp;
Added cyberman support; made keys work key_down_time
returning seconds instead of milliseconds,.
----------------------------
revision 1.20
date: 1994/08/24 19:00:27;  author: john;  state: Exp;
Changed key_down_time to return fixed seconds instead of
milliseconds.
----------------------------
revision 1.19
date: 1994/08/19 15:22:12;  author: mike;  state: Exp;
Fix divide overflow in sliding.
----------------------------
revision 1.18
date: 1994/08/19 14:42:50;  author: john;  state: Exp;
Added joystick sensitivity.
----------------------------
revision 1.17
date: 1994/08/17 16:50:01;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.16
date: 1994/08/12 22:41:54;  author: john;  state: Exp;
Took away Player_stats; added Players array.
----------------------------
revision 1.15
date: 1994/08/09 16:03:56;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.14
date: 1994/07/28 12:33:31;  author: matt;  state: Exp;
Made sliding use thrust, rather than changing velocity directly
----------------------------
revision 1.13
date: 1994/07/27 20:53:21;  author: matt;  state: Exp;
Added rotational drag & thrust, so turning now has momemtum like moving
----------------------------
revision 1.12
date: 1994/07/25 10:24:06;  author: john;  state: Exp;
Victor stuff.
----------------------------
revision 1.11
date: 1994/07/22 17:53:16;  author: john;  state: Exp;
Added better victormax support
----------------------------
revision 1.10
date: 1994/07/21 21:31:29;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.9
date: 1994/07/15 15:16:18;  author: john;  state: Exp;
Fixed some joystick stuff.
----------------------------
revision 1.8
date: 1994/07/15 09:32:09;  author: john;  state: Exp;
Changes player movement.
----------------------------
revision 1.7
date: 1994/07/13 00:14:58;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.6
date: 1994/07/12 12:40:14;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.5
date: 1994/07/02 13:50:39;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.4
date: 1994/07/01 10:55:25;  author: john;  state: Exp;
Added analog joystick throttle
----------------------------
revision 1.3
date: 1994/06/30 20:04:28;  author: john;  state: Exp;
Added -joydef support.
----------------------------
revision 1.2
date: 1994/06/30 19:01:58;  author: matt;  state: Exp;
Moved flying controls code from physics.c to controls.c
----------------------------
revision 1.1
date: 1994/06/30 18:41:25;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/controls.h,v
Working file: main/controls.h
head: 2.0
branch:
description: Header for controls.c
----------------------------
revision 2.0
date: 1995/02/27 11:27:17;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/07/21 18:15:33;  author: matt;  state: Exp;
Ripped out a bunch of unused stuff
----------------------------
revision 1.3
date: 1994/07/15 09:32:08;  author: john;  state: Exp;
Changes player movement.
----------------------------
revision 1.2
date: 1994/06/30 19:02:22;  author: matt;  state: Exp;
Moved flying controls code from physics.c to controls.c
----------------------------
revision 1.1
date: 1994/06/30 18:41:36;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/credits.c,v
Working file: main/credits.c
head: 2.2
branch:
description: Routines to display the credits.
----------------------------
revision 2.2
date: 1995/06/14 17:26:08;  author: john;  state: Exp;
Fixed bug with VFX palette not getting loaded for credits, titles.
----------------------------
revision 2.1
date: 1995/03/06 15:23:30;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:29:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.33
date: 1995/02/11 12:41:56;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.32
date: 1995/02/03 14:18:06;  author: john;  state: Exp;
Added columns.
----------------------------
revision 1.31
date: 1994/12/28 10:43:00;  author: john;  state: Exp;
More VFX tweaking.
----------------------------
revision 1.30
date: 1994/12/20 18:22:31;  author: john;  state: Exp;
Added code to support non-looping songs, and put
it in for endlevel and credits.
----------------------------
revision 1.29
date: 1994/12/15 14:23:00;  author: adam;  state: Exp;
fixed timing.
----------------------------
revision 1.28
date: 1994/12/14 16:56:33;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.27
date: 1994/12/14 12:18:11;  author: adam;  state: Exp;
messed w/timing
----------------------------
revision 1.26
date: 1994/12/12 22:52:59;  author: matt;  state: Exp;
Fixed little bug
----------------------------
revision 1.25
date: 1994/12/12 22:49:35;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.24
date: 1994/12/09 23:16:50;  author: john;  state: Exp;
Make credits.txb load.
----------------------------
revision 1.23
date: 1994/12/09 00:41:54;  author: mike;  state: Exp;
fix hang in automap print screen.
----------------------------
revision 1.22
date: 1994/12/09 00:34:22;  author: matt;  state: Exp;
Added support for half-height lines
----------------------------
revision 1.21
date: 1994/12/08 18:36:03;  author: yuan;  state: Exp;
More HOGfile support.
----------------------------
revision 1.20
date: 1994/12/04 14:48:17;  author: john;  state: Exp;
Made credits restore playing descent.hmp.
----------------------------
revision 1.19
date: 1994/12/04 14:30:20;  author: john;  state: Exp;
Added hooks for music..
----------------------------
revision 1.18
date: 1994/12/04 12:06:46;  author: matt;  state: Exp;
Put in support for large font
----------------------------
revision 1.17
date: 1994/12/01 10:47:27;  author: john;  state: Exp;
Took out code that allows keypresses to change scroll rate.
----------------------------
revision 1.16
date: 1994/11/30 12:10:52;  author: adam;  state: Exp;
added support for PCX titles/brief screens
----------------------------
revision 1.15
date: 1994/11/27 23:12:17;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.14
date: 1994/11/27 19:51:46;  author: matt;  state: Exp;
Made screen shots work in a few more places
----------------------------
revision 1.13
date: 1994/11/18 16:41:51;  author: adam;  state: Exp;
trimmed some more meat for shareware
----------------------------
revision 1.12
date: 1994/11/10 20:38:29;  author: john;  state: Exp;
Made credits not loop.
----------------------------
revision 1.11
date: 1994/11/05 15:04:06;  author: john;  state: Exp;
Added non-popup menu for the main menu, so that scores and credits don't have to save
the background.
----------------------------
revision 1.10
date: 1994/11/05 14:05:52;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.9
date: 1994/11/04 12:02:32;  author: john;  state: Exp;
Fixed fading transitions a bit more.
----------------------------
revision 1.8
date: 1994/11/04 11:30:44;  author: john;  state: Exp;
Fixed fade transitions between game/menu/credits.
----------------------------
revision 1.7
date: 1994/11/04 11:06:32;  author: john;  state: Exp;
Added code to support credit fade table.
----------------------------
revision 1.6
date: 1994/11/04 10:16:13;  author: john;  state: Exp;
Made the credits fade in/out smoothly on top of a bitmap background.
----------------------------
revision 1.5
date: 1994/11/03 21:24:12;  author: john;  state: Exp;
Made credits exit the instant a key is pressed.
Made it scroll a bit slower.
----------------------------
revision 1.4
date: 1994/11/03 21:20:28;  author: john;  state: Exp;
Working.
----------------------------
revision 1.3
date: 1994/11/03 21:01:24;  author: john;  state: Exp;
First version of credits that works.
----------------------------
revision 1.2
date: 1994/11/03 20:17:39;  author: john;  state: Exp;
Added initial code for showing credits.
----------------------------
revision 1.1
date: 1994/11/03 20:09:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/credits.h,v
Working file: main/credits.h
head: 2.0
branch:
description: Prototypes for the credit sequence.
----------------------------
revision 2.0
date: 1995/02/27 11:32:30;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/11/03 20:17:40;  author: john;  state: Exp;
Added initial code for showing credits.
----------------------------
revision 1.1
date: 1994/11/03 20:09:19;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/curves.c,v
Working file: main/editor/curves.c
head: 2.0
branch:
description: curve generation stuff
=============================================================================
RCS file: f:/miner/source/main/editor/dcflib.h,v
Working file: main/editor/dcflib.h
head: 2.0
branch:
description: temporary demo version for mine.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:25;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/02/14 20:14:27;  author: john;  state: Exp;
First version working with new cfile stuff.
----------------------------
revision 1.2
date: 1994/02/08 13:38:21;  author: yuan;  state: Exp;
mine loading functions converted.
----------------------------
revision 1.1
date: 1994/02/08 13:23:14;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/demo.c,v
Working file: main/demo.c
head: 2.0
branch:
description: Demo playback and recording.
----------------------------
revision 2.0
date: 1995/02/27 11:30:55;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.19
date: 1994/12/15 13:04:11;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.18
date: 1994/07/02 13:49:49;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.17
date: 1994/06/24 17:01:37;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.16
date: 1994/06/20 12:02:10;  author: john;  state: Exp;
Made demo only start if the -autostart switch is on ...
----------------------------
revision 1.15
date: 1994/05/19 18:53:21;  author: yuan;  state: Exp;
Changing player structure...
----------------------------
revision 1.14
date: 1994/05/14 17:16:08;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.13
date: 1994/02/17 11:32:33;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.12
date: 1994/02/11 21:51:12;  author: matt;  state: Exp;
Made auto_demo off by default
----------------------------
revision 1.11
date: 1994/02/10 17:45:38;  author: yuan;  state: Exp;
Integrated some hacks which still need to be fixed.
----------------------------
revision 1.10
date: 1994/02/09 13:42:31;  author: john;  state: Exp;
Fix demo playback bug with Slew_object->pos and
Slew_object->seg_id not being in sync by call
ing check_object_seg after the demo code computes
x,y,z and segment each frame.
----------------------------
revision 1.9
date: 1994/02/08 12:38:29;  author: yuan;  state: Exp;
fixed demo_loaded variable, so it must be 1 (first time)
to run demo.
----------------------------
revision 1.8
date: 1994/02/07 17:25:01;  author: yuan;  state: Exp;
Fixed hack, reset time.
----------------------------
revision 1.7
date: 1994/02/02 09:41:51;  author: mike;  state: Exp;
much auto-demo stuff.
----------------------------
revision 1.6
date: 1994/02/01 18:04:19;  author: yuan;  state: Exp;
Tweaked gauges
----------------------------
revision 1.5
date: 1994/02/01 16:26:51;  author: yuan;  state: Exp;
Removed mprintf debugs.
----------------------------
revision 1.4
date: 1994/02/01 16:21:03;  author: yuan;  state: Exp;
Checked in.
----------------------------
revision 1.3
date: 1994/02/01 15:14:53;  author: mike;  state: Exp;
Self-running demo code.
----------------------------
revision 1.2
date: 1994/02/01 11:49:46;  author: mike;  state: Exp;
Demo system.
----------------------------
revision 1.1
date: 1994/01/31 18:10:23;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/demo.h,v
Working file: main/demo.h
head: 2.0
branch:
description: Demo constants.
----------------------------
revision 2.0
date: 1995/02/27 11:27:03;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/05/14 17:16:10;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.4
date: 1994/02/02 09:40:49;  author: mike;  state: Exp;
prototypes, change MAX_DEMO_RECORDS.
----------------------------
revision 1.3
date: 1994/02/01 15:15:02;  author: mike;  state: Exp;
Self-running demo code.
----------------------------
revision 1.2
date: 1994/02/01 11:51:49;  author: mike;  state: Exp;
demo functions.
----------------------------
revision 1.1
date: 1994/01/31 19:15:05;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/desc_id.h,v
Working file: main/desc_id.h
head: 2.0
branch:
description: Header file which contains string for id and timestamp information
----------------------------
revision 2.0
date: 1995/02/27 11:29:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/10/19 09:52:57;  author: allender;  state: Exp;
Added variable for bogus error number return when game exits
----------------------------
revision 1.2
date: 1994/10/18 16:43:52;  author: allender;  state: Exp;
Added constants for id and time stamping
----------------------------
revision 1.1
date: 1994/10/17 09:56:47;  author: allender;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/digi.c,v
Working file: main/digi.c
head: 2.5
branch:
description: Routines to access digital sound hardware
----------------------------
revision 2.5
date: 1996/01/05 16:51:51;  author: john;  state: Exp;
Made the midi handler lock down to +4K.
----------------------------
revision 2.4
date: 1996/01/05 16:46:54;  author: john;  state: Exp;
Made code lock down midicallback +4K.
----------------------------
revision 2.3
date: 1995/05/26 16:16:03;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.2
date: 1995/03/30 16:36:04;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.1
date: 1995/03/15 11:41:23;  author: john;  state: Exp;
Better Saturn CD-ROM support.
----------------------------
revision 2.0
date: 1995/02/27 11:29:15;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.172
date: 1995/02/15 09:57:53;  author: john;  state: Exp;
Fixed bug with loading new banks while song is playing.
----------------------------
revision 1.171
date: 1995/02/14 16:36:26;  author: john;  state: Exp;
Fixed bug with countdown voice getting cut off.
----------------------------
revision 1.170
date: 1995/02/13 20:34:51;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.169
date: 1995/02/13 15:18:21;  author: john;  state: Exp;
Added code to reset sounds.
----------------------------
revision 1.168
date: 1995/02/13 12:53:11;  author: john;  state: Exp;
Fixed bug with demos recording wrong volumes.
----------------------------
revision 1.167
date: 1995/02/11 15:04:29;  author: john;  state: Exp;
Made FM files load as if you have FM card.
----------------------------
revision 1.166
date: 1995/02/11 12:41:35;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.165
date: 1995/02/10 16:24:58;  author: john;  state: Exp;
MAde previous change only reverse for RAP10.
----------------------------
revision 1.164
date: 1995/02/10 13:47:37;  author: john;  state: Exp;
Made digi init before midi to maybe fix RAP10 bug.
----------------------------
revision 1.163
date: 1995/02/08 21:05:22;  author: john;  state: Exp;
Added code that loads patches for every FM song.
----------------------------
revision 1.162
date: 1995/02/03 17:17:51;  author: john;  state: Exp;
Made digi lowmem default to off.
----------------------------
revision 1.161
date: 1995/02/03 17:08:22;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.160
date: 1995/02/01 22:37:06;  author: john;  state: Exp;
Reduced sound travel distance to 1.25 times original.
----------------------------
revision 1.159
date: 1995/02/01 22:20:41;  author: john;  state: Exp;
Added digi_is_sound_playing.
----------------------------
revision 1.158
date: 1995/01/28 15:56:56;  author: john;  state: Exp;
Made sounds carry 1.5 times farther.
----------------------------
revision 1.157
date: 1995/01/27 17:17:09;  author: john;  state: Exp;
Made max sounds relate better to MAX_SOUND_OBJECTS
----------------------------
revision 1.156
date: 1995/01/25 12:18:06;  author: john;  state: Exp;
Fixed bug with not closing MIDI files when midi volume is 0.
----------------------------
revision 1.155
date: 1995/01/24 17:52:17;  author: john;  state: Exp;
MAde midi music stop playing when volume is 0.
----------------------------
revision 1.154
date: 1995/01/21 21:22:31;  author: mike;  state: Exp;
Correct bogus error message.
----------------------------
revision 1.153
date: 1995/01/17 14:53:38;  author: john;  state: Exp;
IFDEF'D out digital drums.
----------------------------
revision 1.152
date: 1995/01/11 16:26:50;  author: john;  state: Exp;
Restored MIDI pausing to actually setting volume to 0,.
----------------------------
revision 1.151
date: 1995/01/10 16:38:46;  author: john;  state: Exp;
Made MIDI songs pause, not lower volume when pausing, and
had to fix an HMI bug by clearing the TRACKINFO array or something.
----------------------------
revision 1.150
date: 1995/01/05 19:46:27;  author: john;  state: Exp;
Added code to reset the midi tracks to use the ones 
in the midi file before each song is played.
----------------------------
revision 1.149
date: 1994/12/21 15:08:59;  author: matt;  state: Exp;
Bumped MAX_SOUND_OBJECTS back up to match v1.00 of shareware
----------------------------
revision 1.148
date: 1994/12/20 18:22:54;  author: john;  state: Exp;
Added code to support non-looping songs, and put
it in for endlevel and credits.
----------------------------
revision 1.147
date: 1994/12/19 17:58:19;  author: john;  state: Exp;
Changed Assert for too many sounds to gracefully exit.
----------------------------
revision 1.146
date: 1994/12/14 16:03:27;  author: john;  state: Exp;
Made the digi/midi deinit in reverse order for anything
other than GUS.
----------------------------
revision 1.145
date: 1994/12/14 14:51:06;  author: john;  state: Exp;
Added assert.
----------------------------
revision 1.144
date: 1994/12/14 12:14:40;  author: john;  state: Exp;
Relplaced a bunch of (a*b)/c with fixmuldiv
to get rid of a overflow bug mike found.
----------------------------
revision 1.143
date: 1994/12/13 17:30:16;  author: john;  state: Exp;
Made the timer rate be changed right after initializing it.
----------------------------
revision 1.142
date: 1994/12/13 14:08:35;  author: john;  state: Exp;
Made Pause key set midi volume to 0.
Made digi_init set midi volume to proper level.
----------------------------
revision 1.141
date: 1994/12/13 12:42:31;  author: jasen;  state: Exp;
Fixed sound priority bugs... -john
----------------------------
revision 1.140
date: 1994/12/13 12:11:38;  author: john;  state: Exp;
Added debugging code.
----------------------------
revision 1.139
date: 1994/12/13 11:45:19;  author: john;  state: Exp;
Disabled interrupts around the midisetvolume because awe32
hangs if you don't.
----------------------------
revision 1.138
date: 1994/12/13 11:33:45;  author: john;  state: Exp;
MAde so that sounds with volumes > f1_0 don't cut off.
----------------------------
revision 1.137
date: 1994/12/13 02:24:29;  author: matt;  state: Exp;
digi_init() now doesn't return error when no sound card
----------------------------
revision 1.136
date: 1994/12/13 00:46:27;  author: john;  state: Exp;
Split digi and midi volume into 2 seperate functions.
----------------------------
revision 1.135
date: 1994/12/12 22:19:20;  author: john;  state: Exp;
Made general midi versions of files load...
.hmq instead of .hmp.
----------------------------
revision 1.134
date: 1994/12/12 21:32:49;  author: john;  state: Exp;
Made volume work better by making sure volumes are valid
and set correctly at program startup.
----------------------------
revision 1.133
date: 1994/12/12 20:52:35;  author: john;  state: Exp;
Fixed bug with pause calling set mastervolume to 0.
----------------------------
revision 1.132
date: 1994/12/12 20:39:52;  author: john;  state: Exp;
Changed so that instead of using MasterVolume for 
digital sounds, I just scale the volume I play the
sound by.
----------------------------
revision 1.131
date: 1994/12/12 13:58:21;  author: john;  state: Exp;
MAde -nomusic work.
Fixed GUS hang at exit by deinitializing digi before midi.
----------------------------
revision 1.130
date: 1994/12/11 23:29:39;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.129
date: 1994/12/11 23:18:07;  author: john;  state: Exp;
Added -nomusic.
Added RealFrameTime.
Put in a pause when sound initialization error.
Made controlcen countdown and framerate use RealFrameTime.
----------------------------
revision 1.128
date: 1994/12/11 13:35:26;  author: john;  state: Exp;
Let sounds play louder than F1_0.  btw, 4*f1_0 is maxed.
----------------------------
revision 1.127
date: 1994/12/11 00:43:45;  author: john;  state: Exp;
Fixed bug with sounds taking over channels that sound objects own.
----------------------------
revision 1.126
date: 1994/12/10 20:35:03;  author: john;  state: Exp;
Added digi_kill_sound_linked_to_object.
----------------------------
revision 1.125
date: 1994/12/10 15:44:20;  author: john;  state: Exp;
Added max_distance passing for sound objects.
----------------------------
revision 1.124
date: 1994/12/09 20:16:37;  author: john;  state: Exp;
Made it so that when Mike's AI code passes bogus values, the
digi code will saturate them.
----------------------------
revision 1.123
date: 1994/12/09 17:07:52;  author: john;  state: Exp;
Fixed abrupt fan cutoff.
----------------------------
revision 1.122
date: 1994/12/08 17:19:14;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.121
date: 1994/12/06 19:24:08;  author: john;  state: Exp;
CLosed HMI timer after making our not call it.
----------------------------
revision 1.120
date: 1994/12/06 19:00:42;  author: john;  state: Exp;
Moved digi_reset_sounds to reset instead of digi_close.
----------------------------
revision 1.119
date: 1994/12/06 18:23:48;  author: matt;  state: Exp;
Don't pause midi songs, becuase it can lock up
----------------------------
revision 1.118
date: 1994/12/06 16:07:09;  author: john;  state: Exp;
MAde the gus pats only load if using midi==midi_gus.
----------------------------
revision 1.117
date: 1994/12/06 10:17:07;  author: john;  state: Exp;
MAde digi_close call reset_sounds.
----------------------------
revision 1.116
date: 1994/12/05 23:36:50;  author: john;  state: Exp;
Took out lock down of GETDS, because, I, john, was wrong, and it
was me, not the HMI people, that was calling GETDS in an interrupt.
I un-formally apologize to HMI.
----------------------------
revision 1.115
date: 1994/12/05 22:50:09;  author: john;  state: Exp;
Put in code to lock down GETDS, because the HMI
people don't lock it down, even tho they use it 
in their timerhandler interrupt.
----------------------------
revision 1.114
date: 1994/12/05 18:54:09;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.113
date: 1994/12/05 18:52:11;  author: john;  state: Exp;
Locked down the TrackMap array, since SOS references it in an interupt.
Added -noloadpats command line option.
----------------------------
revision 1.112
date: 1994/12/05 16:55:45;  author: john;  state: Exp;
Made so that digi_init_System is  called before 
the timer system calls the timer handler.
----------------------------
revision 1.111
date: 1994/12/05 12:56:19;  author: john;  state: Exp;
Made the intruments patches only load for FM devices.
----------------------------
revision 1.110
date: 1994/12/05 12:17:16;  author: john;  state: Exp;
Added code that locks/unlocks digital sounds on demand.
----------------------------
revision 1.109
date: 1994/12/04 14:30:10;  author: john;  state: Exp;
Added hooks for music..
----------------------------
revision 1.108
date: 1994/12/02 13:58:27;  author: matt;  state: Exp;
Put in Int3()s when try to play a non-existant sound
----------------------------
revision 1.107
date: 1994/12/02 10:35:58;  author: john;  state: Exp;
Took out loadpats.c
----------------------------
revision 1.106
date: 1994/12/01 02:22:33;  author: john;  state: Exp;
Incorporated LOADPATS.EXE into our code.
----------------------------
revision 1.105
date: 1994/12/01 00:59:51;  author: john;  state: Exp;
Fixed some pot. bugs with closing.
----------------------------
revision 1.104
date: 1994/11/30 23:54:40;  author: rob;  state: Exp;
Tweaked some volume params due to a fix in find_connected_distance.
----------------------------
revision 1.103
date: 1994/11/30 19:36:44;  author: john;  state: Exp;
Made Gravis Ultrasound work again.  Made the scores blink
at a constant rate.  Revamped the newmenu background storage,
which hopefully fixed some bugs.  Made menus in ame not pause
sound, except for the pause key.               ^== Game!
----------------------------
revision 1.102
date: 1994/11/30 15:14:25;  author: rob;  state: Exp;
Removed unused include file..
----------------------------
revision 1.101
date: 1994/11/30 15:08:45;  author: john;  state: Exp;
Changed some open/close stuff with sound.
----------------------------
revision 1.100
date: 1994/11/29 13:35:41;  author: john;  state: Exp;
Test code.
----------------------------
revision 1.99
date: 1994/11/29 03:46:32;  author: john;  state: Exp;
Added joystick sensitivity; Added sound channels to detail menu.  Removed -maxchannels
command line arg.
----------------------------
revision 1.98
date: 1994/11/28 18:37:59;  author: john;  state: Exp;
Made sample play once work.
----------------------------
revision 1.97
date: 1994/11/28 18:35:19;  author: john;  state: Exp;
Made the digi_max_channels cut of an old sound instead of
not playing a new sound.
----------------------------
revision 1.96
date: 1994/11/28 01:32:02;  author: mike;  state: Exp;
use quick form of matrix function.
----------------------------
revision 1.95
date: 1994/11/27 23:12:14;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.94
date: 1994/11/22 17:13:31;  author: john;  state: Exp;
Fixed bug with the digital drums hanging.
----------------------------
revision 1.93
date: 1994/11/21 19:09:21;  author: john;  state: Exp;
Made so if digi and midi both 0, same as -nosound.
----------------------------
revision 1.92
date: 1994/11/21 16:46:46;  author: john;  state: Exp;
Limited digital channels to 10.
----------------------------
revision 1.91
date: 1994/11/21 16:28:42;  author: john;  state: Exp;
Fixed bug with digi_close hanging.
----------------------------
revision 1.90
date: 1994/11/21 15:40:28;  author: john;  state: Exp;
Locked down the instrument data.
----------------------------
revision 1.89
date: 1994/11/21 14:43:55;  author: john;  state: Exp;
Fixed some bugs with setting volumes even when -nosound was used. Duh!
----------------------------
revision 1.88
date: 1994/11/21 11:55:26;  author: john;  state: Exp;
Fixed some sound pausing in menus bugs.
----------------------------
revision 1.87
date: 1994/11/21 11:02:21;  author: john;  state: Exp;
Made fan sounds be 1/2 the volume so that they
don'
don't carry as far.
----------------------------
revision 1.86
date: 1994/11/20 17:47:51;  author: john;  state: Exp;
Fixed a potential bug with sound initializing.
----------------------------
revision 1.85
date: 1994/11/20 17:29:07;  author: john;  state: Exp;
Fixed bug with page fault during digi_close.
----------------------------
revision 1.84
date: 1994/11/19 15:19:24;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.83
date: 1994/11/16 23:38:33;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.82
date: 1994/11/14 18:12:46;  author: john;  state: Exp;
Took out some sound objects stuff.
=============================================================================
RCS file: f:/miner/source/main/digi.h,v
Working file: main/digi.h
head: 2.0
branch:
description: Include file for sound hardware.
----------------------------
revision 2.0
date: 1995/02/27 11:28:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.29
date: 1995/02/11 12:42:00;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.28
date: 1995/02/03 17:08:26;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.27
date: 1995/02/01 22:20:31;  author: john;  state: Exp;
Added digi_is_sound_playing.
----------------------------
revision 1.26
date: 1994/12/20 18:03:51;  author: john;  state: Exp;
Added loop midi flag.
----------------------------
revision 1.25
date: 1994/12/13 00:46:14;  author: john;  state: Exp;
Split digi and midi volume into 2 seperate functions.
----------------------------
revision 1.24
date: 1994/12/10 20:34:53;  author: john;  state: Exp;
Added digi_kill_sound_linked_to_object.
----------------------------
revision 1.23
date: 1994/12/10 15:59:39;  author: mike;  state: Exp;
Fixed bug.
----------------------------
revision 1.22
date: 1994/12/10 15:44:35;  author: john;  state: Exp;
Added max_distance passing for sound objects.
----------------------------
revision 1.21
date: 1994/12/05 12:17:40;  author: john;  state: Exp;
Added code that locks/unlocks digital sounds on demand.
----------------------------
revision 1.20
date: 1994/11/28 18:34:57;  author: john;  state: Exp;
Made the digi_max_channels cut of an old sound instead of
not playing a new sound.
----------------------------
revision 1.19
date: 1994/11/14 17:53:56;  author: allender;  state: Exp;
made some digi variables extern
----------------------------
revision 1.18
date: 1994/10/28 14:42:58;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.17
date: 1994/10/11 15:25:37;  author: john;  state: Exp;
Added new function to play a sound once...
----------------------------
revision 1.16
date: 1994/10/03 20:51:44;  author: john;  state: Exp;
Started added pause sound function; for the network I changed to 
packet structure a bit; never tested, though.
----------------------------
revision 1.15
date: 1994/10/03 13:09:43;  author: john;  state: Exp;
Added Pause function, but never tested it yet.
----------------------------
revision 1.14
date: 1994/09/30 10:09:24;  author: john;  state: Exp;
Changed sound stuff... made it so the reseting card doesn't hang, 
made volume change only if sound is installed.
----------------------------
revision 1.13
date: 1994/09/29 21:13:43;  author: john;  state: Exp;
Added Master volumes for digi and midi. Also took out panning,
because it doesn't work with MasterVolume stuff. 
----------------------------
revision 1.12
date: 1994/09/29 12:42:34;  author: john;  state: Exp;
Added sidenum to keep track of sound pos. Made sound functions
not do anything if nosound. Made sounds_init delete currently
playing sounds.
----------------------------
revision 1.11
date: 1994/09/29 12:23:42;  author: john;  state: Exp;
Added digi_kill_sound_linked_to_segment function.
----------------------------
revision 1.10
date: 1994/09/29 11:59:04;  author: john;  state: Exp;
Added digi_kill_sound
----------------------------
revision 1.9
date: 1994/09/29 10:37:38;  author: john;  state: Exp;
Added sound objects that dynamicaly change volume,pan.
----------------------------
revision 1.8
date: 1994/09/28 16:18:37;  author: john;  state: Exp;
Added capability to play midi song.
----------------------------
revision 1.7
date: 1994/06/17 18:01:41;  author: john;  state: Exp;
A bunch of new stuff by John
----------------------------
revision 1.6
date: 1994/06/15 19:00:58;  author: john;  state: Exp;
Added the capability to make 3d sounds play just once for the
laser hit wall effects.
----------------------------
revision 1.5
date: 1994/06/07 10:54:30;  author: john;  state: Exp;
Made key S reinit the sound system.
----------------------------
revision 1.4
date: 1994/05/09 21:11:39;  author: john;  state: Exp;
Sound changes; pass index instead of pointer to digi routines.
Made laser sound cut off the last laser sound.
----------------------------
revision 1.3
date: 1994/04/27 11:44:25;  author: john;  state: Exp;
First version of sound! Yay!
----------------------------
revision 1.2
date: 1994/04/20 21:58:50;  author: john;  state: Exp;
First version of sound stuff... hopefully everything
is commented out because it hangs..
----------------------------
revision 1.1
date: 1994/04/15 14:25:02;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/digicomp.c,v
Working file: main/digicomp.c
head: 2.0
branch:
description: Routines for manipulating digi samples.
----------------------------
revision 2.0
date: 1995/02/27 11:33:04;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/12/07 18:42:21;  author: john;  state: Exp;
Initial, unused version..
----------------------------
revision 1.1
date: 1994/12/05 09:37:13;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/digicomp.h,v
Working file: main/digicomp.h
head: 2.0
branch:
description: prototypes for digicomp.c
----------------------------
revision 2.0
date: 1995/02/27 11:27:54;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/12/07 18:42:30;  author: john;  state: Exp;
Initial, unused version..
----------------------------
revision 1.1
date: 1994/12/05 09:37:23;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/dumpmine.c,v
Working file: main/dumpmine.c
head: 2.1
branch:
description: Functions to dump text description of mine.
An editor-only function, called at mine load time.
To be read by a human to verify the correctness and completeness of a mine.
----------------------------
revision 2.1
date: 1995/04/06 12:21:50;  author: mike;  state: Exp;
Add texture map information to txm files.
----------------------------
revision 2.0
date: 1995/02/27 11:26:41;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.24
date: 1995/01/23 15:34:43;  author: mike;  state: Exp;
New diagnostic code, levels.all stuff.
----------------------------
revision 1.23
date: 1994/12/20 17:56:36;  author: yuan;  state: Exp;
Multiplayer object capability.
----------------------------
revision 1.22
date: 1994/11/27 23:12:19;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.21
date: 1994/11/23 12:19:04;  author: mike;  state: Exp;
move out level names, stick in gamesave.
----------------------------
revision 1.20
date: 1994/11/21 16:54:36;  author: mike;  state: Exp;
oops.
----------------------------
revision 1.19
date: 1994/11/20 22:12:55;  author: mike;  state: Exp;
Lotsa new stuff in this fine debug file.
----------------------------
revision 1.18
date: 1994/11/17 14:58:09;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.17
date: 1994/11/15 21:43:02;  author: mike;  state: Exp;
texture usage system.
----------------------------
revision 1.16
date: 1994/11/15 12:45:59;  author: mike;  state: Exp;
debug code for dumping texture info.
----------------------------
revision 1.15
date: 1994/11/14 20:47:50;  author: john;  state: Exp;
Attempted to strip out all the code in the game 
directory that uses any ui code.
----------------------------
revision 1.14
date: 1994/10/14 17:33:38;  author: mike;  state: Exp;
Fix error reporting for number of multiplayer objects in mine.
----------------------------
revision 1.13
date: 1994/10/14 13:37:46;  author: mike;  state: Exp;
Forgot parameter in fprintf, was getting bogus number of excess keys.
----------------------------
revision 1.12
date: 1994/10/12 08:05:33;  author: mike;  state: Exp;
Detect keys contained in objects for error checking (txm file).
----------------------------
revision 1.11
date: 1994/10/10 17:02:08;  author: mike;  state: Exp;
fix fix.
----------------------------
revision 1.10
date: 1994/10/10 17:00:37;  author: mike;  state: Exp;
Add checking for proper number of players.
----------------------------
revision 1.9
date: 1994/10/03 23:37:19;  author: mike;  state: Exp;
Adapt to clear and rational understanding of matcens as related to fuelcens as related to something that might work.
----------------------------
revision 1.8
date: 1994/09/30 17:15:29;  author: mike;  state: Exp;
Fix error message, was telling bogus filename.
----------------------------
revision 1.7
date: 1994/09/30 11:50:55;  author: mike;  state: Exp;
More diagnostics.
----------------------------
revision 1.6
date: 1994/09/28 17:31:19;  author: mike;  state: Exp;
More error checking.
----------------------------
revision 1.5
date: 1994/09/28 11:14:05;  author: mike;  state: Exp;
Better checking on bogus walls.
----------------------------
revision 1.4
date: 1994/09/28 09:23:50;  author: mike;  state: Exp;
Change some Error messages to Warnings.
----------------------------
revision 1.3
date: 1994/09/27 17:08:31;  author: mike;  state: Exp;
More mine validation stuff.
----------------------------
revision 1.2
date: 1994/09/27 15:43:22;  author: mike;  state: Exp;
The amazing code to tell you everything and more about our mines!
----------------------------
revision 1.1
date: 1994/09/27 10:51:15;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/editor.h,v
Working file: main/editor/editor.h
head: 2.0
branch:
description: Header for editor functions, data strcutures, etc.
----------------------------
revision 2.0
date: 1995/02/27 11:34:47;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.113
date: 1994/11/17 14:47:55;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.112
date: 1994/08/03 10:30:51;  author: mike;  state: Exp;
Prototype Stretch_scale_x and Stretch_scale_y.
----------------------------
revision 1.111
date: 1994/08/02 14:18:23;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.110
date: 1994/07/28 16:59:45;  author: mike;  state: Exp;
objects containing objects.
----------------------------
revision 1.109
date: 1994/07/21 12:45:18;  author: mike;  state: Exp;
Add Editor_time_of_day, prototype render_3d_in_big_window, move_object_to_mouse_click.
----------------------------
revision 1.108
date: 1994/07/20 16:43:33;  author: mike;  state: Exp;
Move a bunch of things here so eobject can access variables in med
----------------------------
revision 1.107
date: 1994/07/06 16:36:43;  author: mike;  state: Exp;
Prototype draw_world_from_game.
----------------------------
revision 1.106
date: 1994/06/24 17:04:26;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.105
date: 1994/06/08 18:13:53;  author: mike;  state: Exp;
Add prototype for med_validate_segment_all
----------------------------
revision 1.104
date: 1994/05/23 14:47:59;  author: mike;  state: Exp;
Make current segment be add segment.
----------------------------
revision 1.103
date: 1994/05/19 23:34:46;  author: mike;  state: Exp;
Change VMAG to be compatible with new uv coordinates in range 0..1.0.
----------------------------
revision 1.102
date: 1994/05/19 12:10:12;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.101
date: 1994/05/14 18:00:34;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.100
date: 1994/05/14 17:18:12;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.99
date: 1994/05/09 23:33:20;  author: mike;  state: Exp;
Current_group, make med_combine_duplicate_vertices take vlp parameter.
Change med_find_closest_threshold_segment_side take threshold as a parameter.
----------------------------
revision 1.98
date: 1994/05/06 14:39:46;  author: mike;  state: Exp;
Prototype place_object.
----------------------------
revision 1.97
date: 1994/05/04 19:16:12;  author: mike;  state: Exp;
Add prototype for Degenerate_segment_found.
----------------------------
revision 1.96
date: 1994/05/04 13:07:34;  author: matt;  state: Exp;
Moved a bunch of color constants to meddraw.c, which was the only file
that used them.
----------------------------
revision 1.95
date: 1994/05/03 11:06:08;  author: mike;  state: Exp;
Change VMAG, add constants for SEGSIZEMODE_FREE, etc.
----------------------------
revision 1.94
date: 1994/05/02 17:56:29;  author: yuan;  state: Exp;
Changed undo_status into array rather than malloced pointers.
----------------------------
revision 1.93
date: 1994/04/19 18:29:37;  author: matt;  state: Exp;
In wire-frame editor window, draw objects as "spheres"
----------------------------
revision 1.92
date: 1994/04/13 13:25:12;  author: mike;  state: Exp;
Add constant definitions for each keypad.
----------------------------
revision 1.91
date: 1994/04/01 11:17:08;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.90
date: 1994/03/21 16:54:16;  author: yuan;  state: Exp;
Fixed bogus group generated by segment rotation.
----------------------------
revision 1.89
date: 1994/02/16 13:49:07;  author: mike;  state: Exp;
enable editor to compile out.
----------------------------
revision 1.88
date: 1994/02/10 16:04:57;  author: mike;  state: Exp;
separate editor based on EDITOR flag.
----------------------------
revision 1.87
date: 1994/02/08 12:41:29;  author: yuan;  state: Exp;
Added med_load_game function prototype
----------------------------
revision 1.86
date: 1994/01/14 12:16:04;  author: yuan;  state: Exp;
Fixed function prototype for med_find_closest_threshold_segment_side.
----------------------------
revision 1.85
date: 1994/01/14 11:58:55;  author: yuan;  state: Exp;
New function in build menu. 
"Punch" through walls to force a joint formation with
closest segment:side, if the closest segment:side allows
a connection.
----------------------------
revision 1.84
date: 1994/01/06 12:57:47;  author: mike;  state: Exp;
Fix bug in assigning texture maps and uv coordinates to removable wall.
----------------------------
revision 1.83
date: 1994/01/05 17:51:04;  author: mike;  state: Exp;
Add prototypes for create_removable_wall and remove_removable_wall
----------------------------
revision 1.82
date: 1994/01/05 09:59:09;  author: yuan;  state: Exp;
Added med_load_pmine function prototype
----------------------------
revision 1.81
date: 1993/12/16 14:00:46;  author: mike;  state: Exp;
Add Curvert and Curedge.
----------------------------
revision 1.80
date: 1993/12/14 18:33:07;  author: yuan;  state: Exp;
Added prototype for timed autosave.
----------------------------
revision 1.79
date: 1993/12/10 14:48:48;  author: mike;  state: Exp;
Kill orthogonal views.
----------------------------
revision 1.78
date: 1993/12/09 16:27:16;  author: yuan;  state: Exp;
Added toggle for autosave
----------------------------
revision 1.77
date: 1993/12/09 14:02:52;  author: mike;  state: Exp;
Add prototype for med_combine_duplicate_vertices.
----------------------------
revision 1.76
date: 1993/12/08 10:59:52;  author: mike;  state: Exp;
Add DisplayCurrentRobotType and Cur_object_index.
----------------------------
revision 1.75
date: 1993/12/06 18:43:49;  author: matt;  state: Exp;
Changed object loading & handling
----------------------------
revision 1.74
date: 1993/12/05 22:50:49;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.73
date: 1993/12/02 17:51:31;  author: john;  state: Exp;
Changed my variable to match Mike's
----------------------------
revision 1.72
date: 1993/12/02 17:36:26;  author: john;  state: Exp;
added cur_obj_type
----------------------------
revision 1.71
date: 1993/11/30 17:06:33;  author: mike;  state: Exp;
Add prototype for med_set_vertex.
----------------------------
revision 1.70
date: 1993/11/29 19:47:11;  author: matt;  state: Exp;
Changed how coordinate axes draw routine gets vertices
Added functions alloc_vert() & free_vert()
=============================================================================
RCS file: f:/miner/source/main/gauges.c,v
Working file: main/gauges.c
head: 2.1
branch:
description: Inferno gauge drivers
----------------------------
revision 2.1
date: 1995/02/27 13:13:45;  author: john;  state: Exp;
Removed floating point.
----------------------------
revision 2.0
date: 1995/02/27 11:29:06;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.203
date: 1995/02/11 01:56:45;  author: mike;  state: Exp;
move up weapons text on fullscreen hud, missiles was offscreen.
----------------------------
revision 1.202
date: 1995/02/09 13:23:34;  author: rob;  state: Exp;
Added reticle names in demo playback.
----------------------------
revision 1.201
date: 1995/02/08 19:20:46;  author: rob;  state: Exp;
Show cloaked teammates on H
UD.  Get rid of show ID's in anarchy option.
----------------------------
revision 1.200
date: 1995/02/07 21:09:00;  author: mike;  state: Exp;
add flashing to invulnerability and cloak on fullscreen.
----------------------------
revision 1.199
date: 1995/02/02 21:55:57;  author: matt;  state: Exp;
Added new colored key icons for fullscreen
----------------------------
revision 1.198
date: 1995/01/30 17:17:07;  author: rob;  state: Exp;
Fixed teammate names on hud.
----------------------------
revision 1.197
date: 1995/01/28 17:40:49;  author: mike;  state: Exp;
fix gauge fontcolor.
----------------------------
revision 1.196
date: 1995/01/27 17:03:14;  author: mike;  state: Exp;
fix placement of weapon info in multiplayer fullscreen, as per AP request.
----------------------------
revision 1.195
date: 1995/01/27 11:51:23;  author: rob;  state: Exp;
Put deaths tally into cooperative mode
----------------------------
revision 1.194
date: 1995/01/27 11:43:24;  author: adam;  state: Exp;
fiddled with key display
----------------------------
revision 1.193
date: 1995/01/25 23:38:35;  author: mike;  state: Exp;
fix keys on fullscreen.
----------------------------
revision 1.192
date: 1995/01/24 22:03:28;  author: mike;  state: Exp;
Lotsa hud stuff, put a lot of messages up.
----------------------------
revision 1.191
date: 1995/01/23 16:47:21;  author: rob;  state: Exp;
Fixed problem with playing extra life noise in coop.
----------------------------
revision 1.190
date: 1995/01/22 16:00:46;  author: mike;  state: Exp;
remove unneeded string.
----------------------------
revision 1.189
date: 1995/01/22 15:58:22;  author: mike;  state: Exp;
localization
----------------------------
revision 1.188
date: 1995/01/20 17:19:45;  author: rob;  state: Exp;
Fixing colors of hud kill list players.
----------------------------
revision 1.187
date: 1995/01/20 09:19:18;  author: allender;  state: Exp;
record player flags when in CM_FULL_SCREEN
----------------------------
revision 1.186
date: 1995/01/19 16:29:09;  author: allender;  state: Exp;
made demo recording of weapon change be in this file for shareware only
----------------------------
revision 1.185
date: 1995/01/19 15:00:33;  author: allender;  state: Exp;
code to record shield, energy, and ammo in fullscreen
----------------------------
revision 1.184
date: 1995/01/19 13:43:13;  author: matt;  state: Exp;
Fixed "cheater" message on HUD
----------------------------
revision 1.183
date: 1995/01/18 16:11:58;  author: mike;  state: Exp;
Don't show added scores of 0.
----------------------------
revision 1.182
date: 1995/01/17 17:42:39;  author: allender;  state: Exp;
do ammo counts in demo recording
----------------------------
revision 1.181
date: 1995/01/16 17:26:25;  author: rob;  state: Exp;
Fixed problem with coloration of team kill list.
----------------------------
revision 1.180
date: 1995/01/16 17:22:39;  author: john;  state: Exp;
Made so that KB and framerate don't collide.
----------------------------
revision 1.179
date: 1995/01/16 14:58:31;  author: matt;  state: Exp;
Changed score_added display to print "Cheater!" when cheats enabled
----------------------------
revision 1.178
date: 1995/01/15 19:42:07;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.177
date: 1995/01/15 19:25:07;  author: mike;  state: Exp;
show vulcan ammo and secondary ammo in fullscreen view.
----------------------------
revision 1.176
date: 1995/01/15 13:16:12;  author: john;  state: Exp;
Made so that paging always happens, lowmem just loads less.
Also, make KB load print to hud.
----------------------------
revision 1.175
date: 1995/01/14 19:17:32;  author: john;  state: Exp;
First version of piggy paging.
----------------------------
revision 1.174
date: 1995/01/05 21:25:23;  author: rob;  state: Exp;
Re-did some changes lost due to RCS weirdness.
----------------------------
revision 1.173
date: 1995/01/05 12:22:34;  author: rob;  state: Exp;
Don't show player names for cloaked players.
----------------------------
revision 1.172
date: 1995/01/04 17:14:50;  author: allender;  state: Exp;
make init_gauges work properly on demo playback
----------------------------
revision 1.171
date: 1995/01/04 15:04:42;  author: allender;  state: Exp;
new demo calls for registered version
----------------------------
revision 1.167
date: 1995/01/03 13:03:57;  author: allender;  state: Exp;
pass score points instead of total points.   Added ifdef for
multi_send_score
----------------------------
revision 1.166
date: 1995/01/03 11:45:02;  author: allender;  state: Exp;
add hook to record player score
----------------------------
revision 1.165
date: 1995/01/03 11:25:19;  author: allender;  state: Exp;
remove newdemo stuff around score display
----------------------------
revision 1.163
date: 1995/01/02 21:03:53;  author: rob;  state: Exp;
Fixing up the hud-score-list for coop games.
----------------------------
revision 1.162
date: 1994/12/31 20:54:40;  author: rob;  state: Exp;
Added coop mode HUD score list.
Added more generic system for player names on HUD.
----------------------------
revision 1.161
date: 1994/12/30 20:13:01;  author: rob;  state: Exp;
Ifdef reticle names on shareware.
Added robot reticle naming.
----------------------------
revision 1.160
date: 1994/12/29 17:53:51;  author: mike;  state: Exp;
move up energy/shield in fullscreen to get out of way of kill list.
----------------------------
revision 1.159
date: 1994/12/29 16:44:05;  author: mike;  state: Exp;
add energy and shield showing.
----------------------------
revision 1.158
date: 1994/12/28 16:34:29;  author: mike;  state: Exp;
make warning beep go away on Player_is_dead.
----------------------------
revision 1.157
date: 1994/12/28 10:00:43;  author: allender;  state: Exp;
change in init_gauges to for multiplayer demo playbacks
----------------------------
revision 1.156
date: 1994/12/27 11:06:46;  author: allender;  state: Exp;
removed some previous code to for demo playback stuff
----------------------------
revision 1.155
date: 1994/12/23 14:23:06;  author: john;  state: Exp;
Added floating reticle for VR helments.  
----------------------------
revision 1.154
date: 1994/12/21 12:56:41;  author: allender;  state: Exp;
on multiplayer demo playback, show kills and deaths
----------------------------
revision 1.153
date: 1994/12/19 20:28:42;  author: rob;  state: Exp;
Get rid of kill list in coop games.
----------------------------
revision 1.152
date: 1994/12/14 18:06:44;  author: matt;  state: Exp;
Removed compile warnings
----------------------------
revision 1.151
date: 1994/12/14 15:21:28;  author: rob;  state: Exp;
Made gauges align in status_bar net game.
----------------------------
revision 1.150
date: 1994/12/12 17:20:33;  author: matt;  state: Exp;
Don't get bonus points when cheating
----------------------------
revision 1.149
date: 1994/12/12 16:47:00;  author: matt;  state: Exp;
When cheating, get no score.  Change level cheat to prompt for and 
jump to new level.
----------------------------
revision 1.148
date: 1994/12/12 12:05:45;  author: rob;  state: Exp;
Grey out players who are disconnected.
----------------------------
revision 1.147
date: 1994/12/09 16:19:48;  author: yuan;  state: Exp;
kill matrix stuff.
----------------------------
revision 1.146
date: 1994/12/09 16:12:34;  author: rob;  state: Exp;
Fixed up the status bar kills gauges for net play.
----------------------------
revision 1.145
date: 1994/12/09 01:55:34;  author: rob;  state: Exp;
Added kills list to HUD/status bar.
Added something for Mark.
----------------------------
revision 1.144
date: 1994/12/08 21:03:30;  author: allender;  state: Exp;
pass old player flags to record_player_flags
----------------------------
revision 1.143
date: 1994/12/07 22:49:33;  author: mike;  state: Exp;
no homing missile warning during endlevel sequence.
----------------------------
revision 1.142
date: 1994/12/06 13:55:31;  author: matt;  state: Exp;
Use new rounding func, f2ir()
----------------------------
revision 1.141
date: 1994/12/03 19:03:37;  author: matt;  state: Exp;
Fixed vulcan ammo HUD message
----------------------------
revision 1.140
date: 1994/12/03 18:43:18;  author: matt;  state: Exp;
Fixed (hopefully) claok gauge
----------------------------
revision 1.139
date: 1994/12/03 14:26:21;  author: yuan;  state: Exp;
Fixed dumb bug
----------------------------
revision 1.138
date: 1994/12/03 14:17:30;  author: yuan;  state: Exp;
Localization 320
=============================================================================
RCS file: f:/miner/source/main/ai.c,v
Working file: main/ai.c
head: 2.11
branch:
description: Autonomous Individual movement.
----------------------------
revision 2.11
date: 1995/07/09 11:15:48;  author: john;  state: Exp;
Put in Mike's code to fix bug where bosses don't gate in bots after
32767 seconds of playing.
----------------------------
revision 2.10
date: 1995/06/15 12:31:08;  author: john;  state: Exp;
Fixed bug with cheats getting enabled when you type
the whole alphabet.
----------------------------
revision 2.9
date: 1995/05/26 16:16:18;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.8
date: 1995/04/06 15:12:27;  author: john;  state: Exp;
Fixed bug with insane not working.
----------------------------
revision 2.7
date: 1995/03/30 16:36:44;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.6
date: 1995/03/28 11:22:24;  author: john;  state: Exp;
Added cheats to save file. Changed lunacy text.
----------------------------
revision 2.5
date: 1995/03/27 16:45:07;  author: john;  state: Exp;
Fixed some cheat bugs.  Added astral cheat.
----------------------------
revision 2.4
date: 1995/03/24 15:29:17;  author: mike;  state: Exp;
add new cheats.
----------------------------
revision 2.3
date: 1995/03/21 14:39:45;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.2
date: 1995/03/14 18:24:39;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.1
date: 1995/03/06 16:47:14;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.0
date: 1995/02/27 11:30:01;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.295
date: 1995/02/22 13:23:04;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.294
date: 1995/02/13 11:00:43;  author: rob;  state: Exp;
Make brain guys high enough to get an open slot.
----------------------------
revision 1.293
date: 1995/02/13 10:31:55;  author: mike;  state: Exp;
Make brains understand they can't open locked doors.
----------------------------
revision 1.292
date: 1995/02/13 10:18:01;  author: rob;  state: Exp;
Reduced brain guy's level of awareness to keep him from hogging slots.
----------------------------
revision 1.291
date: 1995/02/11 12:27:12;  author: mike;  state: Exp;
fix path-to-exit cheat.
----------------------------
revision 1.290
date: 1995/02/11 01:56:30;  author: mike;  state: Exp;
robots don't fire cheat.
----------------------------
revision 1.289
date: 1995/02/10 17:15:09;  author: rob;  state: Exp;
Fixed some stuff with 64 awareness stuff.
----------------------------
revision 1.288
date: 1995/02/10 16:31:32;  author: mike;  state: Exp;
oops.
----------------------------
revision 1.287
date: 1995/02/10 16:24:45;  author: mike;  state: Exp;
fix the network follow path fix.
----------------------------
revision 1.286
date: 1995/02/10 16:11:40;  author: mike;  state: Exp;
in serial or modem games, follow path guys don't move if far away and
can't see player.
----------------------------
revision 1.285
date: 1995/02/09 13:11:35;  author: mike;  state: Exp;
comment out a bunch of mprintfs.
add toaster (drops prox bombs, runs away) to boss gate list.
----------------------------
revision 1.284
date: 1995/02/08 22:44:53;  author: rob;  state: Exp;
Lowerd anger level for follow path of any sort.
----------------------------
revision 1.283
date: 1995/02/08 22:30:43;  author: mike;  state: Exp;
lower awareness on station guys if they are returning home (multiplayer).
----------------------------
revision 1.282
date: 1995/02/08 17:01:06;  author: rob;  state: Exp;
Fixed problem with toasters dropping of proximity bombs.
----------------------------
revision 1.281
date: 1995/02/08 11:49:35;  author: rob;  state: Exp;
Reduce Green-guy attack awareness level so we don't let him attack us too.
----------------------------
revision 1.280
date: 1995/02/08 11:37:52;  author: mike;  state: Exp;
Check for failures in call to obj_create.
----------------------------
revision 1.279
date: 1995/02/07 20:38:46;  author: mike;  state: Exp;
fix toasters in multiplayer
----------------------------
revision 1.278
date: 1995/02/07 16:51:07;  author: mike;  state: Exp;
fix sound time play bug.
----------------------------
revision 1.277
date: 1995/02/06 22:33:04;  author: mike;  state: Exp;
make robots follow path better in cooperative/roboarchy.
----------------------------
revision 1.276
date: 1995/02/06 18:15:42;  author: rob;  state: Exp;
Added forced sends for evasion movemnet.
----------------------------
revision 1.275
date: 1995/02/06 16:41:22;  author: rob;  state: Exp;
Change some positioning calls.
----------------------------
revision 1.274
date: 1995/02/06 11:40:33;  author: mike;  state: Exp;
replace some lint-related hacks with clean, proper code.
----------------------------
revision 1.273
date: 1995/02/04 17:28:19;  author: mike;  state: Exp;
make station guys return better.
----------------------------
revision 1.272
date: 1995/02/03 17:40:55;  author: mike;  state: Exp;
fix problem with robots falling asleep if you sit in game overnight, not in pause...bah.
----------------------------
revision 1.271
date: 1995/02/02 21:11:25;  author: rob;  state: Exp;
Tweaking stuff for multiplayer ai.
----------------------------
revision 1.270
date: 1995/02/02 17:32:06;  author: john;  state: Exp;
Added Hack for Assert that Mike put in after using Lint to find
uninitialized variables.
----------------------------
revision 1.269
date: 1995/02/02 16:46:31;  author: mike;  state: Exp;
fix boss gating.
----------------------------
revision 1.268
date: 1995/02/02 16:27:29;  author: mike;  state: Exp;
make boss not put out infinite robots.
----------------------------
revision 1.267
date: 1995/02/01 21:10:02;  author: mike;  state: Exp;
lint found bug! player_visibility not initialized!
----------------------------
revision 1.266
date: 1995/02/01 20:51:27;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.265
date: 1995/02/01 17:14:05;  author: mike;  state: Exp;
fix robot sounds.
----------------------------
revision 1.264
date: 1995/01/31 16:16:40;  author: mike;  state: Exp;
Comment out "Darn you, John" Int3().
----------------------------
revision 1.263
date: 1995/01/30 20:55:04;  author: mike;  state: Exp;
fix nonsense in robot firing when a player is cloaked.
----------------------------
revision 1.262
date: 1995/01/30 17:15:10;  author: rob;  state: Exp;
Fixed problems with bigboss eclip messages.
Tweaked robot position sending for modem purposes.
----------------------------
revision 1.261
date: 1995/01/30 15:30:31;  author: rob;  state: Exp;
Prevent non-master players from gating in robots.
----------------------------
revision 1.260
date: 1995/01/30 13:30:55;  author: mike;  state: Exp;
new cases for firing at other players were bogus, could send position
without permission.
----------------------------
revision 1.259
date: 1995/01/30 13:01:17;  author: mike;  state: Exp;
Make robots fire at player other than one they are controlled by sometimes.
----------------------------
revision 1.258
date: 1995/01/29 16:09:17;  author: rob;  state: Exp;
Trying to get robots to shoot at non-controlling players.
----------------------------
revision 1.257
date: 1995/01/29 13:47:05;  author: mike;  state: Exp;
Make boss have more fireballs on death, have until end (though silent at end).
Fix bug which was preventing him from teleporting until hit, so he'd always
be in the same place when the player enters the room.
----------------------------
revision 1.256
date: 1995/01/28 17:40:18;  author: mike;  state: Exp;
make boss teleport & gate before you see him.
----------------------------
revision 1.255
date: 1995/01/27 17:02:08;  author: mike;  state: Exp;
move code around, was sending one frame (or worse!) old robot information.
----------------------------
revision 1.254
date: 1995/01/26 17:02:43;  author: mike;  state: Exp;
make fusion cannon have more chrome, make fusion, mega rock you!
----------------------------
revision 1.253
date: 1995/01/26 15:11:17;  author: rob;  state: Exp;
Shutup!  I fixed it!
----------------------------
revision 1.252
date: 1995/01/26 15:08:55;  author: rob;  state: Exp;
Changed robot gating to accomodate multiplayer.
----------------------------
revision 1.251
date: 1995/01/26 14:49:04;  author: rob;  state: Exp;
Increase awareness level for firing to 94.
----------------------------
revision 1.250
date: 1995/01/26 12:41:20;  author: mike;  state: Exp;
fix bogus multiplayer code, would send permission without getting permission.
----------------------------
revision 1.249
date: 1995/01/26 12:23:23;  author: rob;  state: Exp;
Removed defines that were moved to ai.h
----------------------------
revision 1.248
date: 1995/01/25 23:38:48;  author: mike;  state: Exp;
modify list of robots gated in by super boss.
----------------------------
revision 1.247
date: 1995/01/25 21:21:13;  author: rob;  state: Exp;
Trying to let robots fire at a player even if they're not in control.
----------------------------
revision 1.246
date: 1995/01/25 13:50:37;  author: mike;  state: Exp;
Robots make angry sounds.
----------------------------
revision 1.245
date: 1995/01/25 10:53:47;  author: mike;  state: Exp;
better handling of robots which poke out of mine and try to recover.
----------------------------
revision 1.244
date: 1995/01/24 22:03:02;  author: mike;  state: Exp;
Tricky code to move a robot to a legal position if he is poking out of
the mine, even if it means moving him to another segment.
----------------------------
revision 1.243
date: 1995/01/24 20:12:06;  author: rob;  state: Exp;
Changed robot fire awareness level from 74 to 94.
----------------------------
revision 1.242
date: 1995/01/24 13:22:32;  author: mike;  state: Exp;
make robots accelerate faster, and Difficulty_level dependent.
----------------------------
revision 1.241
date: 1995/01/24 12:09:39;  author: mike;  state: Exp;
make robots animate in multiplayer.
----------------------------
revision 1.240
date: 1995/01/21 21:21:10;  author: mike;  state: Exp;
Make boss only gate robots into specified segments.
----------------------------
revision 1.239
date: 1995/01/20 20:21:26;  author: mike;  state: Exp;
prevent unnecessary boss cloaking.
=============================================================================
RCS file: f:/miner/source/main/effects.h,v
Working file: main/effects.h
head: 2.0
branch:
description: Headerfile for effects.c
----------------------------
revision 2.0
date: 1995/02/27 11:27:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.15
date: 1994/11/08 21:12:07;  author: matt;  state: Exp;
Added functions to stop & start effects
----------------------------
revision 1.14
date: 1994/10/13 17:14:11;  author: adam;  state: Exp;
MAX_EFFECTS to 60 (ugh)
----------------------------
revision 1.13
date: 1994/10/05 10:14:34;  author: adam;  state: Exp;
MAX_EFFECTS to 50
----------------------------
revision 1.12
date: 1994/10/04 18:59:09;  author: matt;  state: Exp;
Exploding eclips now play eclip while exploding, then switch to static bm
----------------------------
revision 1.11
date: 1994/10/04 15:17:52;  author: matt;  state: Exp;
Took out references to unused constant
----------------------------
revision 1.10
date: 1994/09/29 14:15:00;  author: matt;  state: Exp;
Added sounds for eclips (wall effects)
----------------------------
revision 1.9
date: 1994/09/25 00:40:24;  author: matt;  state: Exp;
Added the ability to make eclips (monitors, fans) which can be blown up
----------------------------
revision 1.8
date: 1994/08/05 15:55:25;  author: matt;  state: Exp;
Cleaned up effects system, and added alternate effects for after mine
destruction.
----------------------------
revision 1.7
date: 1994/08/01 23:17:20;  author: matt;  state: Exp;
Add support for animating textures on robots
----------------------------
revision 1.6
date: 1994/05/19 18:13:18;  author: yuan;  state: Exp;
MAX_EFFECTS increased to 30
----------------------------
revision 1.5
date: 1994/03/15 16:32:37;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(Fixed structures too)
----------------------------
revision 1.4
date: 1994/03/04 17:09:07;  author: yuan;  state: Exp;
New door stuff.
----------------------------
revision 1.3
date: 1994/01/19 18:22:45;  author: yuan;  state: Exp;
Changed number of effects from 10-20
----------------------------
revision 1.2
date: 1994/01/11 10:39:07;  author: yuan;  state: Exp;
Special effects new implementation
----------------------------
revision 1.1
date: 1994/01/10 10:36:14;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/eglobal.c,v
Working file: main/editor/eglobal.c
head: 2.0
branch:
description: Globals for editor.
----------------------------
revision 2.0
date: 1995/02/27 11:35:52;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.35
date: 1994/05/23 14:48:15;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.34
date: 1994/05/19 12:10:30;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.33
date: 1994/05/04 19:16:27;  author: mike;  state: Exp;
Add Degenerate_segment_found.
----------------------------
revision 1.32
date: 1994/05/03 11:02:57;  author: mike;  state: Exp;
Add SegSizeMode.
----------------------------
revision 1.31
date: 1994/02/16 13:49:12;  author: mike;  state: Exp;
enable editor to compile out.
----------------------------
revision 1.30
date: 1994/02/10 15:36:35;  author: matt;  state: Exp;
Various changes to make editor compile out.
----------------------------
revision 1.29
date: 1993/12/16 14:00:33;  author: mike;  state: Exp;
Add Curvert and Curedge.
----------------------------
revision 1.28
date: 1993/12/10 14:48:28;  author: mike;  state: Exp;
Kill orthogonal views.
----------------------------
revision 1.27
date: 1993/12/08 10:58:49;  author: mike;  state: Exp;
Add Cur_object_index.
----------------------------
revision 1.26
date: 1993/12/06 18:45:45;  author: matt;  state: Exp;
Changed object loading & handling
----------------------------
revision 1.25
date: 1993/12/02 17:51:49;  author: john;  state: Exp;
Changed my variable to match Mike's.
----------------------------
revision 1.24
date: 1993/12/02 17:36:13;  author: john;  state: Exp;
Added cur_obj_type
----------------------------
revision 1.23
date: 1993/11/24 14:41:16;  author: mike;  state: Exp;
Add variable Num_tilings.
----------------------------
revision 1.22
date: 1993/11/12 16:40:55;  author: mike;  state: Exp;
Add Identity_matrix, which is an identity matrix.
----------------------------
revision 1.21
date: 1993/11/02 13:08:17;  author: mike;  state: Exp;
Add N_warning_segs and Warning_segs
----------------------------
revision 1.20
date: 1993/11/02 10:31:53;  author: mike;  state: Exp;
Document some variables,
Add Been_visited, removing it from editor.c
Add Selected_segs[] and N_selected_segs.
----------------------------
revision 1.19
date: 1993/10/31 18:07:48;  author: mike;  state: Exp;
Add variable Lock_view_to_cursegp.
----------------------------
revision 1.18
date: 1993/10/19 20:54:51;  author: matt;  state: Exp;
Changed/cleaned up window updates
----------------------------
revision 1.17
date: 1993/10/18 18:35:43;  author: mike;  state: Exp;
Move Highest_vertex_index and Highest_segment_index here because they need
to be globals.
----------------------------
revision 1.16
date: 1993/10/15 13:10:00;  author: mike;  state: Exp;
Move globals from editor.c to eglobal.c
----------------------------
revision 1.15
date: 1993/10/14 18:08:55;  author: mike;  state: Exp;
Change use of CONNECTIVITY to MAX_SIDES_PER_SEGMENT
----------------------------
revision 1.14
date: 1993/10/13 11:11:38;  author: matt;  state: Exp;
Made coordinate axes off by default
----------------------------
revision 1.13
date: 1993/10/12 09:59:27;  author: mike;  state: Exp;
Remove definition of Side_to_verts, which belongs in the game, not in the editor.
----------------------------
revision 1.12
date: 1993/10/09 15:48:07;  author: mike;  state: Exp;
Change type of Vertex_active and Side_to_verts from char to byte
Move N_found_segs and Found_segs here from render.c
Add Show_axes_flag.
----------------------------
revision 1.11
date: 1993/10/06 11:29:58;  author: mike;  state: Exp;
Add prototype for Side_opposite
----------------------------
revision 1.10
date: 1993/10/05 17:00:17;  author: mike;  state: Exp;
Add Vertex_active.
----------------------------
revision 1.9
date: 1993/10/04 17:18:16;  author: mike;  state: Exp;
Add variables Markedsegp, Markedside
----------------------------
revision 1.8
date: 1993/10/02 18:18:02;  author: mike;  state: Exp;
Added Draw_all_segments.  If !0, then all segments are drawn in draw_world.  If not set, then only those segments which
are connected to the first segment are drawn.
----------------------------
revision 1.7
date: 1993/10/01 10:03:15;  author: mike;  state: Exp;
Fix ordering of vertices on front face: Used to be 0,1,2,3 made it 3,2,1,0
----------------------------
revision 1.6
date: 1993/09/27 16:04:28;  author: mike;  state: Exp;
Add Side_to_verts to replace _verts, which was local to segment.c
----------------------------
revision 1.5
date: 1993/09/27 15:20:52;  author: mike;  state: Exp;
Add Curside, which is current side, so we can make a certain side active.
----------------------------
revision 1.4
date: 1993/09/23 15:01:13;  author: mike;  state: Exp;
Remove game specific variables, put in mglobal.c
----------------------------
revision 1.3
date: 1993/09/22 10:52:17;  author: mike;  state: Exp;
Add global New_segment
----------------------------
revision 1.2
date: 1993/09/22 09:41:21;  author: mike;  state: Exp;
Change constand and variable names to conform to coding standards.
----------------------------
revision 1.1
date: 1993/09/20 17:06:09;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/ehostage.c,v
Working file: main/editor/ehostage.c
head: 2.0
branch:
description: Routines for placing hostages, etc...
----------------------------
revision 2.0
date: 1995/02/27 11:35:45;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.17
date: 1995/01/14 19:18:05;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.16
date: 1994/11/20 14:11:41;  author: matt;  state: Exp;
Show object number in hostage window
----------------------------
revision 1.15
date: 1994/11/19 19:55:46;  author: matt;  state: Exp;
Added code to full support different hostage head clip & message for
each hostage.
----------------------------
revision 1.14
date: 1994/10/28 15:03:27;  author: john;  state: Exp;
Made digi_play_sample use volume.
----------------------------
revision 1.13
date: 1994/10/23 02:11:39;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.12
date: 1994/10/04 13:15:44;  author: john;  state: Exp;
Changed PLAY_SOUND to digi_play_sample.
----------------------------
revision 1.11
date: 1994/08/02 14:17:28;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.10
date: 1994/07/22 17:19:17;  author: yuan;  state: Exp;
Working on dialog box for refuel/repair/material/control centers.
----------------------------
revision 1.9
date: 1994/07/06 15:22:34;  author: john;  state: Exp;
Added new sound.
----------------------------
revision 1.8
date: 1994/07/06 14:26:07;  author: john;  state: Exp;
Added vclip.
----------------------------
revision 1.7
date: 1994/07/06 13:25:52;  author: john;  state: Exp;
Added compress hostages functions.
----------------------------
revision 1.6
date: 1994/07/06 12:52:27;  author: john;  state: Exp;
Fixed warnings.
----------------------------
revision 1.5
date: 1994/07/06 12:43:04;  author: john;  state: Exp;
Made generic messages for hostages.
----------------------------
revision 1.4
date: 1994/07/06 11:49:01;  author: john;  state: Exp;
Made adding hostage update current object.
----------------------------
revision 1.3
date: 1994/07/06 10:56:00;  author: john;  state: Exp;
New structures for hostages.
----------------------------
revision 1.2
date: 1994/07/01 17:57:13;  author: john;  state: Exp;
First version of not-working hostage system
----------------------------
revision 1.1
date: 1994/07/01 14:21:44;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/ehostage.h,v
Working file: main/editor/ehostage.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:35:13;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/07/01 17:57:14;  author: john;  state: Exp;
First version of not-working hostage system
----------------------------
revision 1.1
date: 1994/07/01 14:24:41;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/einit.c,v
Working file: main/editor/einit.c
head: 2.0
branch:
description: Initialization routines for editor.
----------------------------
revision 2.0
date: 1995/02/27 11:34:24;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.9
date: 1993/09/23 15:01:38;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1993/09/22 10:52:36;  author: mike;  state: Exp;
Move create_new_mine to segment.c, thereby making this a rather unimportant file.
----------------------------
revision 1.7
date: 1993/09/22 09:41:33;  author: mike;  state: Exp;
Change constant and variable names to conform to coding standards.
----------------------------
revision 1.6
date: 1993/09/21 15:09:25;  author: mike;  state: Exp;
Make create_new_mine create a multi-segment mine.
----------------------------
revision 1.5
date: 1993/09/17 16:44:31;  author: mike;  state: Exp;
new create_new_mine
----------------------------
revision 1.4
date: 1993/09/16 12:50:00;  author: mike;  state: Exp;
Create file.
----------------------------
revision 1.3
date: 1993/09/15 19:11:20;  author: matt;  state: Exp;
Hacked this to make it work
----------------------------
revision 1.2
date: 1993/09/15 18:10:54;  author: mike;  state: Exp;
no changes
----------------------------
revision 1.1
date: 1993/09/15 18:01:39;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/elight.c,v
Working file: main/editor/elight.c
head: 2.0
branch:
description: Editor lighting functions.
----------------------------
revision 2.0
date: 1995/02/27 11:35:16;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.21
date: 1994/06/14 16:59:23;  author: mike;  state: Exp;
Fix references to tmap_num2, must strip off orientation bits.
----------------------------
revision 1.20
date: 1994/05/31 12:31:57;  author: mike;  state: Exp;
fix bug in lighting -- WALL_IS_DOORWAY return value getting ignored,
almost never recursively propagated light.
----------------------------
revision 1.19
date: 1994/05/19 23:35:12;  author: mike;  state: Exp;
Support uv coordinates in range 0..1.0.
----------------------------
revision 1.18
date: 1994/05/16 12:05:29;  author: john;  state: Exp;
Made texturemap light be a fix from 0 to 1.
----------------------------
revision 1.17
date: 1994/05/14 18:00:38;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.16
date: 1994/05/03 11:04:27;  author: mike;  state: Exp;
Add function to select edge.
----------------------------
revision 1.15
date: 1994/04/20 17:29:11;  author: yuan;  state: Exp;
Fixed bug where tmaps above 256 don't light properly.
(duh!)
----------------------------
revision 1.14
date: 1994/03/22 14:20:46;  author: yuan;  state: Exp;
Made texture map 1 also cast light.  (Cumulative with tmap_num2)
----------------------------
revision 1.13
date: 1994/03/15 16:34:14;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.12
date: 1994/02/22 18:55:10;  author: yuan;  state: Exp;
Ambient lighting "shines" on doors too!
----------------------------
revision 1.11
date: 1994/02/17 12:05:55;  author: matt;  state: Exp;
Got rid of warnings
----------------------------
revision 1.10
date: 1994/02/16 22:28:03;  author: mike;  state: Exp;
fix ambient lighting and smoothing.
----------------------------
revision 1.9
date: 1994/02/14 12:05:42;  author: mike;  state: Exp;
change segment data structure.
----------------------------
revision 1.8
date: 1994/01/26 17:27:45;  author: yuan;  state: Exp;
Still not perfected ambient lighting
----------------------------
revision 1.7
date: 1994/01/25 17:58:08;  author: yuan;  state: Exp;
Added ambient lighting, and also added fixing bogus segments
functions to the editor... (they don't work fully... need to
check out seguvs.c
----------------------------
revision 1.6
date: 1994/01/24 11:46:10;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/01/24 11:03:05;  author: yuan;  state: Exp;
Set lgiht maximum added... Changes are still in progress
----------------------------
revision 1.4
date: 1994/01/18 19:16:07;  author: yuan;  state: Exp;
Added assign default to lighting pad.
----------------------------
revision 1.3
date: 1993/12/17 12:26:00;  author: mike;  state: Exp;
Add functions for setting light values on whole segment at once.
----------------------------
revision 1.2
date: 1993/12/16 16:56:12;  author: mike;  state: Exp;
Add new texture map lighting control functions.
----------------------------
revision 1.1
date: 1993/12/16 13:21:50;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/endlevel.c,v
Working file: main/endlevel.c
head: 2.2
branch:
description: Code for rendering external scenes
----------------------------
revision 2.2
date: 1995/03/21 14:40:14;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.1
date: 1995/03/20 18:15:50;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:30:42;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.80
date: 1995/02/22 13:24:45;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.79
date: 1995/02/11 12:41:54;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.78
date: 1995/02/08 11:37:41;  author: mike;  state: Exp;
Check for failures in call to obj_create.
----------------------------
revision 1.77
date: 1995/02/05 22:09:49;  author: matt;  state: Exp;
Switch out of rear view when starting endlevel sequence
----------------------------
revision 1.76
date: 1995/01/30 18:08:28;  author: rob;  state: Exp;
Add palette fade out before ending level on special missions.
----------------------------
revision 1.75
date: 1995/01/29 16:19:19;  author: rob;  state: Exp;
Fixed endlevel for custom missions.
----------------------------
revision 1.74
date: 1995/01/26 12:18:10;  author: rob;  state: Exp;
Changed calling convention of network_do_frame.
----------------------------
revision 1.73
date: 1995/01/21 16:50:03;  author: matt;  state: Exp;
Made endlevel work with new mission stuff
----------------------------
revision 1.72
date: 1994/12/20 18:22:51;  author: john;  state: Exp;
Added code to support non-looping songs, and put
it in for endlevel and credits.
----------------------------
revision 1.71
date: 1994/12/15 12:23:58;  author: matt;  state: Exp;
Added check for failure to create camera object
----------------------------
revision 1.70
date: 1994/12/15 03:05:28;  author: matt;  state: Exp;
Added error checking for NULL return from object_create_explosion()
----------------------------
revision 1.69
date: 1994/12/12 21:41:38;  author: matt;  state: Exp;
Don't start endlevel if OF_SHOULD_BE_DEAD is set for player
----------------------------
revision 1.68
date: 1994/12/12 15:44:54;  author: rob;  state: Exp;
Rolled back a change to endlevel_start that caused more bugs than
it fixed.
----------------------------
revision 1.67
date: 1994/12/12 12:08:33;  author: rob;  state: Exp;
IF a player is dead upon entering the tunnel, make them not dead.  Not perfect solution
but avoids some last-minute weirdness we want to fix.  This should be revisited in new
versions if possible!
----------------------------
revision 1.66
date: 1994/12/11 22:02:13;  author: allender;  state: Exp;
made endlevel data loading work with .txb encoded format (made with
compbit -i level0?.end -o level0?.txb)
----------------------------
revision 1.65
date: 1994/12/11 20:32:47;  author: matt;  state: Exp;
Made camera transition happen 1/3 of the way through exit tunnel
----------------------------
revision 1.64
date: 1994/12/08 20:56:27;  author: john;  state: Exp;
More cfile stuff.
----------------------------
revision 1.63
date: 1994/12/07 17:00:52;  author: rob;  state: Exp;
Trying to fix homing tone warning when in exit tunnel.
----------------------------
revision 1.62
date: 1994/12/06 13:24:47;  author: matt;  state: Exp;
Made exit model come out of bitmaps.tbl
----------------------------
revision 1.61
date: 1994/12/06 12:06:22;  author: matt;  state: Exp;
Fixed/cleaned up satellite (planet/sun) code
----------------------------
revision 1.60
date: 1994/12/05 13:37:12;  author: adam;  state: Exp;
removed slew-mode
----------------------------
revision 1.59
date: 1994/12/05 12:49:37;  author: matt;  state: Exp;
Made satellite a rod (instead of a plane old non-rotating bitmap), and
made the size settable in the .end file
----------------------------
revision 1.58
date: 1994/12/04 21:40:00;  author: matt;  state: Exp;
Added explosion sounds
----------------------------
revision 1.57
date: 1994/12/04 18:31:41;  author: matt;  state: Exp;
Wasn't coding planet position, causing it to disappear sometimes
----------------------------
revision 1.56
date: 1994/12/04 14:30:26;  author: john;  state: Exp;
Added hooks for music..
----------------------------
revision 1.55
date: 1994/12/04 13:53:52;  author: matt;  state: Exp;
Added code to make camera off-centered during lookback
----------------------------
revision 1.54
date: 1994/12/04 12:30:18;  author: matt;  state: Exp;
Fixed slew for short sequence
----------------------------
revision 1.53
date: 1994/12/03 19:28:10;  author: matt;  state: Exp;
Added alternate model for exit model after mine destruction
----------------------------
revision 1.52
date: 1994/12/03 00:17:23;  author: matt;  state: Exp;
Made endlevel sequence cut off early
Made exit model and bit explosion always plot last (after all terrain)
----------------------------
revision 1.51
date: 1994/12/01 20:15:43;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.50
date: 1994/11/30 23:27:35;  author: adam;  state: Exp;
mucked around carelessly
----------------------------
revision 1.49
date: 1994/11/28 21:50:37;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.48
date: 1994/11/28 00:12:05;  author: allender;  state: Exp;
took out demo code that was in at one time to record endlevel sequence.
We are _not_ recording endlevel sequence
----------------------------
revision 1.47
date: 1994/11/27 23:35:54;  author: allender;  state: Exp;
pause demo recording when starting endlevel sequence.  on demo playback,
don't do endlevel at all.
----------------------------
revision 1.46
date: 1994/11/27 23:13:59;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.45
date: 1994/11/26 23:17:29;  author: matt;  state: Exp;
When camera leaves mine, bank it so it's level with the ground
----------------------------
revision 1.44
date: 1994/11/23 16:52:13;  author: rob;  state: Exp;
Ended netgame endlevel sequence a bit earlier.
----------------------------
revision 1.43
date: 1994/11/22 19:20:46;  author: rob;  state: Exp;
Modem support for secret levels.
----------------------------
revision 1.42
date: 1994/11/22 12:11:03;  author: rob;  state: Exp;
Fixed bug - file handle left open in load_endlevel_data.
----------------------------
revision 1.41
date: 1994/11/21 17:29:22;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.40
date: 1994/11/19 15:14:54;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.39
date: 1994/11/19 12:41:32;  author: matt;  state: Exp;
Added system to read endlevel data from file, and to make it work
with any exit tunnel.
----------------------------
revision 1.38
date: 1994/11/17 15:02:24;  author: mike;  state: Exp;
support new segment validation functions.
----------------------------
revision 1.37
date: 1994/11/17 13:04:45;  author: allender;  state: Exp;
backout out newdemo changes
----------------------------
revision 1.35
date: 1994/11/16 14:52:33;  author: rob;  state: Exp;
Commented out SLEW_ON on Matt's direction.
Changed something to fix demo recording.
----------------------------
revision 1.34
date: 1994/11/16 11:49:29;  author: matt;  state: Exp;
Added code to rotate terrain to match mine
----------------------------
revision 1.33
date: 1994/11/14 17:54:54;  author: allender;  state: Exp;
on exit sequence during demo recording, force player exited from mine
packet to all other network players
----------------------------
revision 1.32
date: 1994/11/10 21:27:42;  author: matt;  state: Exp;
Took out printf's
----------------------------
revision 1.31
date: 1994/11/10 14:02:24;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.30
date: 1994/11/09 10:31:33;  author: matt;  state: Exp;
Don't create explosions if can't find seg to create them in
----------------------------
revision 1.29
date: 1994/11/05 17:22:37;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.28
date: 1994/11/03 11:10:39;  author: matt;  state: Exp;
Fixed chase angles code
Maybe other things, too.
----------------------------
revision 1.27
date: 1994/10/30 20:09:21;  author: matt;  state: Exp;
For endlevel: added big explosion at tunnel exit; made lights in tunnel 
go out; made more explosions on walls.
----------------------------
revision 1.26
date: 1994/10/28 16:37:50;  author: allender;  state: Exp;
stop demo recording when endlevel sequence activated
----------------------------
revision 1.25
date: 1994/10/27 21:15:21;  author: matt;  state: Exp;
Added explosions in mine chasing player
----------------------------
revision 1.24
date: 1994/10/27 01:03:57;  author: matt;  state: Exp;
Fixed several small bugs in flythrough
----------------------------
revision 1.23
date: 1994/10/22 01:32:30;  author: matt;  state: Exp;
Don't start endlevel sequence if player dead
----------------------------
revision 1.22
date: 1994/10/22 00:08:06;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
=============================================================================
RCS file: f:/miner/source/main/endlevel.h,v
Working file: main/endlevel.h
head: 2.0
branch:
description: Header for newfile.c
----------------------------
revision 2.0
date: 1995/02/27 11:31:37;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/06 13:24:55;  author: matt;  state: Exp;
Made exit model come out of bitmaps.tbl
----------------------------
revision 1.4
date: 1994/11/19 12:41:35;  author: matt;  state: Exp;
Added system to read endlevel data from file, and to make it work
with any exit tunnel.
----------------------------
revision 1.3
date: 1994/10/30 20:09:20;  author: matt;  state: Exp;
For endlevel: added big explosion at tunnel exit; made lights in tunnel 
go out; made more explosions on walls.
----------------------------
revision 1.2
date: 1994/08/19 20:09:38;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.1
date: 1994/08/15 19:18:47;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/eobject.c,v
Working file: main/editor/eobject.c
head: 2.0
branch:
description: Editor object functions.
----------------------------
revision 2.0
date: 1995/02/27 11:35:14;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.93
date: 1995/02/22 15:09:04;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.92
date: 1995/01/12 12:10:32;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.91
date: 1994/12/20 17:57:02;  author: yuan;  state: Exp;
Multiplayer object stuff.
----------------------------
revision 1.90
date: 1994/11/27 23:17:49;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.89
date: 1994/11/17 14:48:06;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.88
date: 1994/11/14 11:40:03;  author: mike;  state: Exp;
fix default robot behavior.
----------------------------
revision 1.87
date: 1994/10/25 10:51:31;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.86
date: 1994/10/23 02:11:40;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.85
date: 1994/10/17 21:35:32;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.84
date: 1994/10/10 17:23:13;  author: mike;  state: Exp;
Verify that not placing too many player objects.
----------------------------
revision 1.83
date: 1994/09/24 14:15:35;  author: mike;  state: Exp;
Custom colored object support.
----------------------------
revision 1.82
date: 1994/09/15 22:58:12;  author: matt;  state: Exp;
Made new objects be oriented to their segment
Added keypad function to flip an object upside-down
----------------------------
revision 1.81
date: 1994/09/01 10:58:41;  author: matt;  state: Exp;
Sizes for powerups now specified in bitmaps.tbl; blob bitmaps now plot
correctly if width & height of bitmap are different.
----------------------------
revision 1.80
date: 1994/08/25 21:58:14;  author: mike;  state: Exp;
Write ObjectSelectPrevInMine and something else, I think...
----------------------------
revision 1.79
date: 1994/08/16 20:19:54;  author: mike;  state: Exp;
Make STILL default (from CHASE_OBJECT).
----------------------------
revision 1.78
date: 1994/08/14 23:15:45;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.77
date: 1994/08/13 14:58:43;  author: matt;  state: Exp;
Finished adding support for miscellaneous objects
----------------------------
revision 1.76
date: 1994/08/12 22:24:58;  author: matt;  state: Exp;
Generalized polygon objects (such as control center)
----------------------------
revision 1.75
date: 1994/08/09 16:06:11;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.74
date: 1994/08/05 18:18:55;  author: matt;  state: Exp;
Made object rotation have 4x resolution, and SHIFT+rotate do old resolution.
----------------------------
revision 1.73
date: 1994/08/01 13:30:56;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
=============================================================================
RCS file: f:/miner/source/main/editor/eobject.h,v
Working file: main/editor/eobject.h
head: 2.0
branch:
description: Header for eobject.c
----------------------------
revision 2.0
date: 1995/02/27 11:35:30;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.5
date: 1994/09/15 22:57:46;  author: matt;  state: Exp;
Made new objects be oriented to their segment
Added keypad function to flip an object upside-down
----------------------------
revision 1.4
date: 1994/08/25 21:57:23;  author: mike;  state: Exp;
Prototype ObjectSelectPrevInMine, and probably wrote it too, though not in this file.
----------------------------
revision 1.3
date: 1994/08/05 18:17:48;  author: matt;  state: Exp;
Made object rotation have 4x resolution, and SHIFT+rotate do old resolution.
----------------------------
revision 1.2
date: 1994/05/14 18:00:59;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 17:36:30;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/escort.c,v
Working file: main/escort.c
head: 1.1
branch:
description: Escort robot behavior.
----------------------------
revision 1.1
date: 1995/05/06 23:32:19;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/eswitch.c,v
Working file: main/editor/eswitch.c
head: 2.0
branch:
description: Editor switch functions. 
----------------------------
revision 2.0
date: 1995/02/27 11:35:18;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.33
date: 1995/01/14 19:18:04;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.32
date: 1994/11/27 23:18:01;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.31
date: 1994/11/07 10:55:42;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.30
date: 1994/10/13 13:15:06;  author: yuan;  state: Exp;
Fixed trigger removal bug.
----------------------------
revision 1.29
date: 1994/10/06 21:24:16;  author: matt;  state: Exp;
Added switch for exit to secret level
----------------------------
revision 1.28
date: 1994/09/29 17:06:10;  author: matt;  state: Exp;
Took out references to obsolete external triggers
----------------------------
revision 1.27
date: 1994/09/28 13:40:34;  author: yuan;  state: Exp;
Fixed control center trigger bug.
----------------------------
revision 1.26
date: 1994/09/26 16:25:04;  author: yuan;  state: Exp;
Only allow one binding of each matcen .
----------------------------
revision 1.25
date: 1994/09/24 17:10:19;  author: yuan;  state: Exp;
Added Matcen triggers.
----------------------------
revision 1.24
date: 1994/09/20 18:23:58;  author: yuan;  state: Exp;
Killed the BOGIFYING WALL DRAGON...
There was a problem with triggers being created that had bogus
pointers back to their segments.
----------------------------
revision 1.23
date: 1994/08/25 21:56:33;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.22
date: 1994/08/15 18:06:54;  author: yuan;  state: Exp;
Added external trigger.
----------------------------
revision 1.21
date: 1994/07/22 17:18:47;  author: yuan;  state: Exp;
Working on dialog box for refuel/repair/material/control centers.
----------------------------
revision 1.20
date: 1994/07/06 10:55:55;  author: john;  state: Exp;
New structures for hostages.
----------------------------
revision 1.19
date: 1994/07/01 16:36:20;  author: yuan;  state: Exp;
Working on triggers that aren't always on.
----------------------------
revision 1.18
date: 1994/06/21 18:50:14;  author: john;  state: Exp;
Made ESC key exit dialog.
----------------------------
revision 1.17
date: 1994/06/20 22:30:36;  author: yuan;  state: Exp;
Fixed crazy runaway trigger bug that Adam found
----------------------------
revision 1.16
date: 1994/05/31 10:03:48;  author: yuan;  state: Exp;
Fixed compiler warnings...
----------------------------
revision 1.15
date: 1994/05/30 20:22:30;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.14
date: 1994/05/27 12:33:50;  author: yuan;  state: Exp;
Fixed some bugs when adding trigger.
----------------------------
revision 1.13
date: 1994/05/27 10:34:29;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.12
date: 1994/05/25 18:15:02;  author: yuan;  state: Exp;
Fixed make warnings to save 10 cents!
----------------------------
revision 1.11
date: 1994/05/25 18:08:03;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.10
date: 1994/04/29 15:05:50;  author: yuan;  state: Exp;
Trigger/Link removing stuff still needs to be fixed.
----------------------------
revision 1.9
date: 1994/04/28 23:25:34;  author: yuan;  state: Exp;
Obliterated warnings.
----------------------------
revision 1.8
date: 1994/04/28 18:08:06;  author: yuan;  state: Exp;
Fixed trigger bug.
=============================================================================
RCS file: f:/miner/source/main/editor/eswitch.h,v
Working file: main/editor/eswitch.h
head: 2.0
branch:
description: Headers for switch adding functions
----------------------------
revision 2.0
date: 1995/02/27 11:35:40;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.6
date: 1994/05/30 20:22:35;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.5
date: 1994/05/27 10:34:35;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.4
date: 1994/05/25 18:08:39;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.3
date: 1994/04/28 23:46:56;  author: yuan;  state: Exp;
Added prototype for remove_trigger.
----------------------------
revision 1.2
date: 1994/03/15 16:34:20;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.1
date: 1994/03/10 14:49:03;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/fireball.c,v
Working file: main/fireball.c
head: 2.2
branch:
description: Code for rendering & otherwise dealing with explosions
----------------------------
revision 2.2
date: 1995/03/21 14:39:57;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.1
date: 1995/03/20 18:15:47;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:30:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.200
date: 1995/02/22 13:18:41;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.199
date: 1995/02/14 19:58:32;  author: mike;  state: Exp;
comment out "something bad has happened" int3.
----------------------------
revision 1.198
date: 1995/02/09 13:11:01;  author: mike;  state: Exp;
remove an annoying mprintf and Int3().
----------------------------
revision 1.197
date: 1995/02/08 17:10:14;  author: mike;  state: Exp;
don't drop cloaks if one nearby.
----------------------------
revision 1.196
date: 1995/02/08 13:27:14;  author: rob;  state: Exp;
Give keys dropped by robots 0 velocity in coop game.
----------------------------
revision 1.195
date: 1995/02/08 11:57:40;  author: mike;  state: Exp;
determine whether debris object failed to create because buffer was
exhausted or because limit was hit.
----------------------------
revision 1.194
date: 1995/02/08 11:37:58;  author: mike;  state: Exp;
Check for failures in call to obj_create.
----------------------------
revision 1.193
date: 1995/02/07 21:09:41;  author: mike;  state: Exp;
only replace weapon with energy 1/2 time.
----------------------------
revision 1.192
date: 1995/01/30 18:21:52;  author: rob;  state: Exp;
Replace extra life powerups in multiplayer to invul when
dropped by robots.
----------------------------
revision 1.191
date: 1995/01/28 17:40:59;  author: mike;  state: Exp;
fix stupidity in converting quad lasers to energy.
----------------------------
revision 1.190
date: 1995/01/27 15:05:59;  author: rob;  state: Exp;
Trying to fix a bug with damaging robots with player badass explosions.
----------------------------
revision 1.189
date: 1995/01/26 18:59:04;  author: rob;  state: Exp;
Powerups were flying too far in robot-cooperative games.
----------------------------
revision 1.188
date: 1995/01/25 10:53:35;  author: mike;  state: Exp;
make badass damage go through grates.
----------------------------
revision 1.187
date: 1995/01/25 09:37:23;  author: mike;  state: Exp;
fix objects containing robots, worked for powerups, bad {} placement.
----------------------------
revision 1.186
date: 1995/01/23 22:51:20;  author: mike;  state: Exp;
drop energy instead of primary weapon if you already have primary weapon.
----------------------------
revision 1.185
date: 1995/01/20 16:56:37;  author: mike;  state: Exp;
Cut damage done by badass weapons.
----------------------------
revision 1.184
date: 1995/01/19 17:44:57;  author: mike;  state: Exp;
damage_force removed, that information coming from strength field.
----------------------------
revision 1.183
date: 1995/01/16 21:06:54;  author: mike;  state: Exp;
Move function pick_random_point_in_segment from fireball.c to gameseg.c.
----------------------------
revision 1.182
date: 1995/01/16 19:24:04;  author: mike;  state: Exp;
If a gated-in robot and going to drop energy powerup, don't!
----------------------------
revision 1.181
date: 1995/01/15 20:48:03;  author: mike;  state: Exp;
drop energy in place of quad lasers if player already has quad lasers.
----------------------------
revision 1.180
date: 1995/01/14 19:32:19;  author: rob;  state: Exp;
Fixed an error.
----------------------------
revision 1.179
date: 1995/01/14 18:50:55;  author: rob;  state: Exp;
Make robot egg creation suitable for mutliplayer situations.
----------------------------
revision 1.178
date: 1995/01/14 14:55:07;  author: rob;  state: Exp;
Make weapons/keys/etc never disappear in network mode.
=============================================================================
RCS file: f:/miner/source/main/fireball.h,v
Working file: main/fireball.h
head: 2.0
branch:
description: Header for fireball.c
----------------------------
revision 2.0
date: 1995/02/27 11:27:03;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.13
date: 1995/01/17 12:14:38;  author: john;  state: Exp;
Made walls, object explosion vclips load at level start.
----------------------------
revision 1.12
date: 1995/01/13 15:41:52;  author: rob;  state: Exp;
Added prototype for maybe_replace_powerup_with_energy
----------------------------
revision 1.11
date: 1994/11/17 16:28:36;  author: rob;  state: Exp;
Changed maybe_drop_cloak_powerup to maybe_drop_net_powerup (more
generic and useful)
----------------------------
revision 1.10
date: 1994/10/12 08:03:42;  author: mike;  state: Exp;
Prototype maybe_drop_cloak_powerup.
----------------------------
revision 1.9
date: 1994/10/11 12:24:39;  author: matt;  state: Exp;
Cleaned up/change badass explosion calls
----------------------------
revision 1.8
date: 1994/09/07 16:00:34;  author: mike;  state: Exp;
Add object pointer to parameter list of object_create_badass_explosion.
----------------------------
revision 1.7
date: 1994/09/02 14:00:39;  author: matt;  state: Exp;
Simplified explode_object() & mutliple-stage explosions
----------------------------
revision 1.6
date: 1994/08/17 16:49:58;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.5
date: 1994/07/14 22:39:19;  author: matt;  state: Exp;
Added exploding doors
----------------------------
revision 1.4
date: 1994/06/08 10:56:36;  author: matt;  state: Exp;
Improved debris: now get submodel size from new POF files; debris now has
limited life; debris can now be blown up.
----------------------------
revision 1.3
date: 1994/04/01 13:35:44;  author: matt;  state: Exp;
Added multiple-stage explosions
----------------------------
revision 1.2
date: 1994/02/17 11:33:32;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.1
date: 1994/02/16 22:41:15;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/fixseg.c,v
Working file: main/editor/fixseg.c
head: 2.0
branch:
description: Functions to make faces planar and probably other things.
----------------------------
revision 2.0
date: 1995/02/27 11:36:25;  author: john;  state: Exp;
Version 2.0. Ansi-fied.
----------------------------
revision 1.7
date: 1994/11/27 23:18:01;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.6
date: 1994/11/17 14:48:00;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.5
date: 1994/08/04 19:13:26;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.4
date: 1994/02/10 15:36:31;  author: matt;  state: Exp;
Various changes to make editor compile out.
----------------------------
revision 1.3
date: 1993/12/03 18:45:09;  author: mike;  state: Exp;
initial stuff.
----------------------------
revision 1.2
date: 1993/11/30 17:05:09;  author: mike;  state: Exp;
Added part of code to make a side planar.
----------------------------
revision 1.1
date: 1993/11/30 10:05:36;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/flyby.c,v
Working file: main/flyby.c
head: 2.0
branch:
description: Routines to fly though a mine (to show it off)
----------------------------
revision 2.0
date: 1995/02/27 11:33:03;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.20
date: 1994/11/19 15:17:49;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.19
date: 1994/11/17 14:58:40;  author: mike;  state: Exp;
move segment validation functions from editor to main.
----------------------------
revision 1.18
date: 1994/08/19 20:09:39;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.17
date: 1994/05/20 11:56:44;  author: matt;  state: Exp;
Cleaned up find_vector_intersection() interface
Killed check_point_in_seg(), check_player_seg(), check_object_seg()
----------------------------
revision 1.16
date: 1994/05/19 09:51:06;  author: matt;  state: Exp;
Use new function vm_vec_normalized_dir()
----------------------------
revision 1.15
date: 1994/05/18 22:29:25;  author: matt;  state: Exp;
Use new function vm_extract_angles_vector()
----------------------------
revision 1.14
date: 1994/05/12 10:26:33;  author: matt;  state: Exp;
Took out references to unused structure fields.
----------------------------
revision 1.13
date: 1994/03/30 16:44:13;  author: matt;  state: Exp;
Use great new vm_vec_scale_add2() function
----------------------------
revision 1.12
date: 1994/02/17 11:32:37;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.11
date: 1994/01/27 18:18:10;  author: john;  state: Exp;
Added new module, objfly, and made robots
fly using this code.
----------------------------
revision 1.10
date: 1994/01/05 14:26:01;  author: john;  state: Exp;
Made Slew_object be able to slew, fly, and auto-fly.
----------------------------
revision 1.9
date: 1994/01/05 10:53:52;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.8
date: 1993/12/21 14:30:32;  author: matt;  state: Exp;
Explicitely set some variables in init, so flyby is the same each time.
----------------------------
revision 1.7
date: 1993/12/01 11:44:15;  author: matt;  state: Exp;
Chagned Frfract to FrameTime
----------------------------
revision 1.6
date: 1993/11/04 15:47:29;  author: matt;  state: Exp;
Added check to hopefully prevent divide overflow
----------------------------
revision 1.5
date: 1993/10/29 22:54:38;  author: matt;  state: Exp;
Made changes for new matrix ordering
----------------------------
revision 1.4
date: 1993/10/26 11:23:25;  author: matt;  state: Exp;
Doesn't get stuck now in some cases with very small segments
----------------------------
revision 1.3
date: 1993/10/25 14:34:42;  author: matt;  state: Exp;
Added direction choice keys to flythrough
----------------------------
revision 1.2
date: 1993/10/14 18:04:51;  author: mike;  state: Exp;
Change CONNECTIVITY to MAX_SIDES_PER_SEGMENT
----------------------------
revision 1.1
date: 1993/10/14 11:03:47;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/fuelcen.c,v
Working file: main/fuelcen.c
head: 2.3
branch:
description: Functions for refueling centers.
----------------------------
revision 2.3
date: 1995/03/21 14:38:40;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.2
date: 1995/03/06 15:23:09;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.1
date: 1995/02/27 13:13:26;  author: john;  state: Exp;
Removed floating point.
----------------------------
revision 2.0
date: 1995/02/27 11:27:20;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.159
date: 1995/02/22 13:48:10;  author: allender;  state: Exp;
remove anonymous unions in object structure
----------------------------
revision 1.158
date: 1995/02/08 11:37:48;  author: mike;  state: Exp;
Check for failures in call to obj_create.
----------------------------
revision 1.157
date: 1995/02/07 20:39:39;  author: mike;  state: Exp;
fix toasters in multiplayer
----------------------------
revision 1.156
date: 1995/02/02 18:40:10;  author: john;  state: Exp;
Fixed bug with full screen cockpit flashing non-white.
----------------------------
revision 1.155
date: 1995/01/28 15:27:22;  author: yuan;  state: Exp;
Make sure fuelcen nums are valid.
----------------------------
revision 1.154
date: 1995/01/03 14:26:23;  author: rob;  state: Exp;
Better ifdef for robot centers.
----------------------------
revision 1.153
date: 1995/01/03 11:27:49;  author: rob;  state: Exp;
Added include of fuelcen.c
----------------------------
revision 1.152
date: 1995/01/03 09:47:22;  author: john;  state: Exp;
Some ifdef SHAREWARE lines.
----------------------------
revision 1.151
date: 1995/01/02 21:02:07;  author: rob;  state: Exp;
added matcen support for coop/multirobot.
----------------------------
revision 1.150
date: 1994/12/15 18:31:22;  author: mike;  state: Exp;
fix confusing precedence problems.
----------------------------
revision 1.149
date: 1994/12/15 13:04:22;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.148
date: 1994/12/15 03:05:18;  author: matt;  state: Exp;
Added error checking for NULL return from object_create_explosion()
----------------------------
revision 1.147
date: 1994/12/13 19:49:12;  author: rob;  state: Exp;
Made the fuelcen noise quieter.
----------------------------
revision 1.146
date: 1994/12/13 12:03:18;  author: john;  state: Exp;
Made the warning sirens not start until after "desccruction
secquence activated voice".
----------------------------
revision 1.145
date: 1994/12/12 17:18:30;  author: mike;  state: Exp;
make warning siren louder.
----------------------------
revision 1.144
date: 1994/12/11 23:18:04;  author: john;  state: Exp;
Added -nomusic.
Added RealFrameTime.
Put in a pause when sound initialization error.
Made controlcen countdown and framerate use RealFrameTime.
----------------------------
revision 1.143
date: 1994/12/11 14:10:16;  author: mike;  state: Exp;
louder sounds.
----------------------------
revision 1.142
date: 1994/12/06 11:33:19;  author: yuan;  state: Exp;
Fixed bug with fueling when above 100.
----------------------------
revision 1.141
date: 1994/12/05 23:37:14;  author: matt;  state: Exp;
Took out calls to warning() function
----------------------------
revision 1.140
date: 1994/12/05 23:19:18;  author: yuan;  state: Exp;
Fixed fuel center refuelers..
----------------------------
revision 1.139
date: 1994/12/03 12:48:12;  author: mike;  state: Exp;
diminish rocking due to control center destruction.
----------------------------
revision 1.138
date: 1994/12/02 23:30:32;  author: mike;  state: Exp;
fix bumpiness after toasting control center.
----------------------------
revision 1.137
date: 1994/12/02 22:48:14;  author: mike;  state: Exp;
rock the ship after toasting the control center!
----------------------------
revision 1.136
date: 1994/12/02 17:12:11;  author: rob;  state: Exp;
Fixed countdown sounds.
----------------------------
revision 1.135
date: 1994/11/29 20:59:43;  author: rob;  state: Exp;
Don't run out of fuel in net games (don't want to sync it between machines)
----------------------------
revision 1.134
date: 1994/11/29 19:10:57;  author: john;  state: Exp;
Took out debugging mprintf.
----------------------------
revision 1.133
date: 1994/11/29 13:19:40;  author: john;  state: Exp;
Made voice for "destruction actived in t-"
be at 12.75 secs.
----------------------------
revision 1.132
date: 1994/11/29 12:19:46;  author: john;  state: Exp;
MAde the "Mine desctruction will commence"
voice play at 12.5 secs.
----------------------------
revision 1.131
date: 1994/11/29 12:12:54;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.130
date: 1994/11/28 21:04:26;  author: rob;  state: Exp;
Added code to cast noise when player refuels.
----------------------------
revision 1.129
date: 1994/11/27 23:15:04;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.128
date: 1994/11/21 16:27:51;  author: mike;  state: Exp;
debug code for morphing.
----------------------------
revision 1.127
date: 1994/11/21 12:33:50;  author: matt;  state: Exp;
For control center explosions, use small fireball, not pseudo-random vclip
----------------------------
revision 1.126
date: 1994/11/20 22:12:15;  author: mike;  state: Exp;
Fix bug in initializing materialization centers.
----------------------------
revision 1.125
date: 1994/11/19 15:18:22;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.124
date: 1994/11/08 12:18:59;  author: mike;  state: Exp;
Initialize Fuelcen_seconds_left.
----------------------------
revision 1.123
date: 1994/10/30 14:12:33;  author: mike;  state: Exp;
rip out repair center stuff
----------------------------
revision 1.122
date: 1994/10/28 14:42:45;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.121
date: 1994/10/16 12:44:02;  author: mike;  state: Exp;
Make time to exit mine after control center destruction diff level dependent.
----------------------------
revision 1.120
date: 1994/10/09 22:03:26;  author: mike;  state: Exp;
Adapt to new create_n_segment_path parameters.
----------------------------
revision 1.119
date: 1994/10/06 14:52:42;  author: mike;  state: Exp;
Remove last of ability to damage fuel centers.
----------------------------
revision 1.118
date: 1994/10/06 14:08:45;  author: matt;  state: Exp;
Made morph flash effect get orientation from segment
----------------------------
revision 1.117
date: 1994/10/05 16:09:03;  author: mike;  state: Exp;
Put debugging code into matcen/fuelcen synchronization problem.
----------------------------
revision 1.116
date: 1994/10/04 15:32:41;  author: john;  state: Exp;
Took out the old PLAY_SOUND??? code and replaced it
with direct calls into digi_link_??? so that all sounds
can be made 3d.
----------------------------
revision 1.115
date: 1994/10/03 23:37:57;  author: mike;  state: Exp;
Clean up this mess of confusion to the point where maybe matcens actually work.
----------------------------
revision 1.114
date: 1994/10/03 13:34:40;  author: matt;  state: Exp;
Added new (and hopefully better) game sequencing functions
----------------------------
revision 1.113
date: 1994/09/30 14:41:57;  author: matt;  state: Exp;
Fixed bug as per Mike's instructions
----------------------------
revision 1.112
date: 1994/09/30 00:37:33;  author: mike;  state: Exp;
Balance materialization centers.
----------------------------
revision 1.111
date: 1994/09/28 23:12:52;  author: matt;  state: Exp;
Macroized palette flash system
----------------------------
revision 1.110
date: 1994/09/27 15:42:31;  author: mike;  state: Exp;
Add names of Specials.
----------------------------
revision 1.109
date: 1994/09/27 00:02:23;  author: mike;  state: Exp;
Yet more materialization center stuff.
----------------------------
revision 1.108
date: 1994/09/26 11:26:23;  author: mike;  state: Exp;
Balance materialization centers.
----------------------------
revision 1.107
date: 1994/09/25 23:40:47;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.106
date: 1994/09/25 15:55:58;  author: mike;  state: Exp;
Balance materialization centers, make them emit light, make them re-triggerable after awhile.
----------------------------
revision 1.105
date: 1994/09/24 17:42:33;  author: mike;  state: Exp;
Making materialization centers be activated by triggers and balancing them.
----------------------------
revision 1.104
date: 1994/09/24 14:16:06;  author: mike;  state: Exp;
Support new network constants.
----------------------------
revision 1.103
date: 1994/09/20 19:14:40;  author: john;  state: Exp;
Massaged the sound system; used a better formula for determining
which l/r balance, also, put in Mike's stuff that searches for a connection
between the 2 sounds' segments, stopping for closed doors, etc.
----------------------------
revision 1.102
date: 1994/09/17 01:40:51;  author: matt;  state: Exp;
Added status bar/sizable window mode, and in the process revamped the
whole cockpit mode system.
----------------------------
revision 1.101
date: 1994/08/31 20:57:25;  author: matt;  state: Exp;
Cleaned up endlevel/death code
----------------------------
revision 1.100
date: 1994/08/30 17:54:20;  author: mike;  state: Exp;
Slow down rate of creation of objects by materialization centers.
----------------------------
revision 1.99
date: 1994/08/29 11:47:01;  author: john;  state: Exp;
Added warning if no control centers in mine.
=============================================================================
RCS file: f:/miner/source/main/fuelcen.h,v
Working file: main/fuelcen.h
head: 2.0
branch:
description: Definitions for fueling centers.
----------------------------
revision 2.0
date: 1995/02/27 11:28:43;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.26
date: 1995/01/26 12:19:16;  author: rob;  state: Exp;
Added externs of things needed for multiplayer.
----------------------------
revision 1.25
date: 1994/10/30 14:11:10;  author: mike;  state: Exp;
rip out repair center stuff.
----------------------------
revision 1.24
date: 1994/10/03 23:36:36;  author: mike;  state: Exp;
Add segnum and fuelcen_num (renaming dest_seg and *path) in matcen_info struct.
----------------------------
revision 1.23
date: 1994/09/30 00:37:44;  author: mike;  state: Exp;
Change FuelCenter struct.
----------------------------
revision 1.22
date: 1994/09/27 15:42:49;  author: mike;  state: Exp;
Kill some obsolete matcen constants, Prototype Special_names.
----------------------------
revision 1.21
date: 1994/09/27 00:04:30;  author: mike;  state: Exp;
Moved FuelCenter struct here from fuelcen.c
----------------------------
revision 1.20
date: 1994/09/25 15:55:37;  author: mike;  state: Exp;
Prototype function disable_matcens.
----------------------------
revision 1.19
date: 1994/09/24 17:41:34;  author: mike;  state: Exp;
Prototype trigger_matcen.
----------------------------
revision 1.18
date: 1994/08/03 17:52:19;  author: matt;  state: Exp;
Tidied up repair centers a bit
----------------------------
revision 1.17
date: 1994/08/02 12:16:01;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/08/01 11:04:03;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.15
date: 1994/07/21 19:02:15;  author: mike;  state: Exp;
break repair centers.
----------------------------
revision 1.14
date: 1994/07/14 11:25:22;  author: john;  state: Exp;
Made control centers destroy better; made automap use Tab key.
----------------------------
revision 1.13
date: 1994/07/13 10:45:33;  author: john;  state: Exp;
Made control center object switch when dead.
----------------------------
revision 1.12
date: 1994/07/09 17:36:44;  author: mike;  state: Exp;
Add extern for find_connected_repair_seg.
----------------------------
revision 1.11
date: 1994/06/15 19:00:32;  author: john;  state: Exp;
Show timer in on top of 3d with mine destroyed...
----------------------------
revision 1.10
date: 1994/05/31 16:49:46;  author: john;  state: Exp;
Begin to add robot materialization centers.
----------------------------
revision 1.9
date: 1994/05/30 20:22:03;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.8
date: 1994/05/05 16:41:14;  author: matt;  state: Exp;
Cleaned up repair center code, and moved some from object.c to fuelcen.c
----------------------------
revision 1.7
date: 1994/04/21 20:41:21;  author: yuan;  state: Exp;
Added extern.
----------------------------
revision 1.6
date: 1994/04/21 20:28:32;  author: john;  state: Exp;
Added flag for Yuan to tell when a fuel center is destroyed.
----------------------------
revision 1.5
date: 1994/04/14 17:00:59;  author: john;  state: Exp;
Made repair cen's work properly; added reset_all_fuelcens.
----------------------------
revision 1.4
date: 1994/04/12 20:28:04;  author: john;  state: Exp;
Added control center.
----------------------------
revision 1.3
date: 1994/04/08 15:37:10;  author: john;  state: Exp;
Added repair centers.
----------------------------
revision 1.2
date: 1994/04/06 19:10:38;  author: john;  state: Exp;
NEw version.
----------------------------
revision 1.1
date: 1994/04/06 12:39:02;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/fvi.c,v
Working file: main/fvi.c
head: 2.3
branch:
description: New home for find_vector_intersection()
----------------------------
revision 2.3
date: 1995/03/24 14:49:04;  author: john;  state: Exp;
Added cheat for player to go thru walls.
----------------------------
revision 2.2
date: 1995/03/21 17:58:32;  author: john;  state: Exp;
Fixed bug with normals..
----------------------------
revision 2.1
date: 1995/03/20 18:15:37;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:27:41;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.49
date: 1995/02/22 14:45:47;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.48
date: 1995/02/22 13:24:50;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.47
date: 1995/02/07 16:17:26;  author: matt;  state: Exp;
Disabled all robot-robot collisions except those involving two green
guys.  Used to do collisions if either robot was green guy.
----------------------------
revision 1.46
date: 1995/02/02 14:07:53;  author: matt;  state: Exp;
Fixed confusion about which segment you are touching when you're 
touching a wall.  This manifested itself in spurious lava burns.
----------------------------
revision 1.45
date: 1995/02/02 13:45:53;  author: matt;  state: Exp;
Made a bunch of lint-inspired changes
----------------------------
revision 1.44
date: 1995/01/24 12:10:17;  author: matt;  state: Exp;
Fudged collisions for player/player, and player weapon/other player in
coop games.
----------------------------
revision 1.43
date: 1995/01/14 19:16:45;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.42
date: 1994/12/15 12:22:40;  author: matt;  state: Exp;
Small change which may or may not help
----------------------------
revision 1.41
date: 1994/12/14 11:45:51;  author: matt;  state: Exp;
Fixed (hopefully) little bug with invalid segnum
----------------------------
revision 1.40
date: 1994/12/13 17:12:01;  author: matt;  state: Exp;
Increased edge tolerance a bunch more
----------------------------
revision 1.39
date: 1994/12/13 14:37:59;  author: matt;  state: Exp;
Fixed another stupid little bug
----------------------------
revision 1.38
date: 1994/12/13 13:25:44;  author: matt;  state: Exp;
Increased tolerance massively to avoid catching on corners
----------------------------
revision 1.37
date: 1994/12/13 12:02:20;  author: matt;  state: Exp;
Fixed small bug
----------------------------
revision 1.36
date: 1994/12/13 11:17:35;  author: matt;  state: Exp;
Lots of changes to hopefully fix objects leaving the mine.  Note that
this code should be considered somewhat experimental - one problem I
know about is that you can get stuck on edges more easily than before.
There may be other problems I don't know about yet.
----------------------------
revision 1.35
date: 1994/12/12 01:20:57;  author: matt;  state: Exp;
Added hack in object-object collisions that treats claw guys as
if they have 3/4 of their actual radius.
----------------------------
revision 1.34
date: 1994/12/04 22:48:39;  author: matt;  state: Exp;
Physics & FVI now only build seglist for player objects, and they 
responsilby deal with buffer full conditions
----------------------------
revision 1.33
date: 1994/12/04 22:07:05;  author: matt;  state: Exp;
Added better handing of buffer full condition
----------------------------
revision 1.32
date: 1994/12/01 21:06:33;  author: matt;  state: Exp;
Several important changes:
 (1) Checking against triangulated sides has been standardized a bit
 (2) Code has been added to de-triangulate some sides
 (3) BIG ONE: the tolerance for checking a point against a plane has
     been drastically relaxed
----------------------------
revision 1.31
date: 1994/11/27 23:15:03;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.30
date: 1994/11/19 15:20:30;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.29
date: 1994/11/16 12:18:17;  author: mike;  state: Exp;
hack for green_guy:green_guy collision detection.
----------------------------
revision 1.28
date: 1994/11/10 13:08:54;  author: matt;  state: Exp;
Added support for new run-length-encoded bitmaps
----------------------------
revision 1.27
date: 1994/10/31 12:27:51;  author: matt;  state: Exp;
Added new function object_intersects_wall()
----------------------------
revision 1.26
date: 1994/10/20 13:59:27;  author: matt;  state: Exp;
Added assert
----------------------------
revision 1.25
date: 1994/10/09 23:51:09;  author: matt;  state: Exp;
Made find_hitpoint_uv() work with triangulated sides
----------------------------
revision 1.24
date: 1994/09/25 00:39:29;  author: matt;  state: Exp;
Took out mprintf's
----------------------------
revision 1.23
date: 1994/09/25 00:37:53;  author: matt;  state: Exp;
Made the 'find the point in the bitmap where something hit' system
publicly accessible.
----------------------------
revision 1.22
date: 1994/09/21 16:58:22;  author: matt;  state: Exp;
Fixed bug in trans wall check that was checking against verically 
flipped bitmap (i.e., the y coord was negative when checking).
----------------------------
revision 1.21
date: 1994/09/02 11:31:40;  author: matt;  state: Exp;
Fixed object/object collisions, so you can't fly through robots anymore.
Cleaned up object damage system.
----------------------------
revision 1.20
date: 1994/08/26 09:42:03;  author: matt;  state: Exp;
Increased the size of a buffer
----------------------------
revision 1.19
date: 1994/08/11 18:57:53;  author: mike;  state: Exp;
Convert shorts to ints for optimization.
----------------------------
revision 1.18
date: 1994/08/08 21:38:24;  author: matt;  state: Exp;
Put in small optimization
----------------------------
revision 1.17
date: 1994/08/08 12:21:52;  author: yuan;  state: Exp;
Fixed assert
----------------------------
revision 1.16
date: 1994/08/08 11:47:04;  author: matt;  state: Exp;
Cleaned up fvi and physics a little
----------------------------
revision 1.15
date: 1994/08/04 00:21:04;  author: matt;  state: Exp;
Cleaned up fvi & physics error handling; put in code to make sure objects
are in correct segment; simplified segment finding for objects and points
----------------------------
revision 1.14
date: 1994/08/02 19:04:26;  author: matt;  state: Exp;
Cleaned up vertex list functions
----------------------------
revision 1.13
date: 1994/08/02 09:56:28;  author: matt;  state: Exp;
Put in check for bad value find_plane_line_intersection()
----------------------------
revision 1.12
date: 1994/08/01 17:27:26;  author: matt;  state: Exp;
Added support for triangulated walls in trans point check
----------------------------
revision 1.11
date: 1994/08/01 13:30:40;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.10
date: 1994/07/13 21:47:17;  author: matt;  state: Exp;
FVI() and physics now keep lists of segments passed through which the
trigger code uses.
----------------------------
revision 1.9
date: 1994/07/09 21:21:40;  author: matt;  state: Exp;
Fixed, hopefull, bugs in sphere-to-vector intersection code
----------------------------
revision 1.8
date: 1994/07/08 14:26:42;  author: matt;  state: Exp;
Non-needed powerups don't get picked up now; this required changing FVI to
take a list of ingore objects rather than just one ignore object.
----------------------------
revision 1.7
date: 1994/07/06 20:02:37;  author: matt;  state: Exp;
Made change to match gameseg that uses lowest point number as reference
point when checking against a plane
----------------------------
revision 1.6
date: 1994/06/29 15:43:58;  author: matt;  state: Exp;
When computing intersection of vector and sphere, use the radii of both
objects.
----------------------------
revision 1.5
date: 1994/06/14 15:57:58;  author: matt;  state: Exp;
Took out asserts, and added other hacks, pending real bug fixes
----------------------------
revision 1.4
date: 1994/06/13 23:10:08;  author: matt;  state: Exp;
Fixed problems with triangulated sides
----------------------------
revision 1.3
date: 1994/06/09 12:11:14;  author: matt;  state: Exp;
Fixed confusing use of two variables, hit_objnum & fvi_hit_object, to
keep the same information in different ways.
----------------------------
revision 1.2
date: 1994/06/09 09:58:38;  author: matt;  state: Exp;
Moved find_vector_intersection() from physics.c to new file fvi.c
----------------------------
revision 1.1
date: 1994/06/09 09:25:57;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/fvi.h,v
Working file: main/fvi.h
head: 2.1
branch:
description: Header for fvi.c
----------------------------
revision 2.1
date: 1995/03/20 18:15:58;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:32:02;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.10
date: 1995/02/02 14:07:58;  author: matt;  state: Exp;
Fixed confusion about which segment you are touching when you're 
touching a wall.  This manifested itself in spurious lava burns.
----------------------------
revision 1.9
date: 1994/12/04 22:48:04;  author: matt;  state: Exp;
Physics & FVI now only build seglist for player objects, and they 
responsilby deal with buffer full conditions
----------------------------
revision 1.8
date: 1994/10/31 12:28:01;  author: matt;  state: Exp;
Added new function object_intersects_wall()
----------------------------
revision 1.7
date: 1994/10/10 13:10:00;  author: matt;  state: Exp;
Increased max_fvi_segs
----------------------------
revision 1.6
date: 1994/09/25 00:38:29;  author: matt;  state: Exp;
Made the 'find the point in the bitmap where something hit' system
publicly accessible.
----------------------------
revision 1.5
date: 1994/08/01 13:30:35;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.4
date: 1994/07/13 21:47:59;  author: matt;  state: Exp;
FVI() and physics now keep lists of segments passed through which the
trigger code uses.
----------------------------
revision 1.3
date: 1994/07/08 14:27:26;  author: matt;  state: Exp;
Non-needed powerups don't get picked up now; this required changing FVI to
take a list of ingore objects rather than just one ignore object.
----------------------------
revision 1.2
date: 1994/06/09 09:58:39;  author: matt;  state: Exp;
Moved find_vector_intersection() from physics.c to new file fvi.c
----------------------------
revision 1.1
date: 1994/06/09 09:26:14;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/game.c,v
Working file: main/game.c
head: 2.36
branch:
description: Game loop for Inferno
----------------------------
revision 2.36
date: 1996/01/05 16:52:05;  author: john;  state: Exp;
Improved 3d stuff.
----------------------------
revision 2.35
date: 1995/10/09 22:17:10;  author: john;  state: Exp;
Took out the page flipping in set_screen_mode, which shouldn't
be there.  This was hosing the modex stuff.
----------------------------
revision 2.34
date: 1995/10/09 19:46:34;  author: john;  state: Exp;
Fixed bug with modex paging with lcdbios.
----------------------------
revision 2.33
date: 1995/10/08 11:46:09;  author: john;  state: Exp;
Fixed bug with 2d offset in interlaced mode in low res.
Made LCDBIOS with pageflipping using VESA set start
Address function.  X=CRTC offset, Y=0.
----------------------------
revision 2.32
date: 1995/10/07 13:20:51;  author: john;  state: Exp;
Added new modes for LCDBIOS, also added support for -JoyNice,
and added Shift+F1-F4 to controls various stereoscopic params.
----------------------------
revision 2.31
date: 1995/05/31 14:34:43;  author: unknown;  state: Exp;
fixed warnings.
----------------------------
revision 2.30
date: 1995/05/08 11:23:45;  author: john;  state: Exp;
Made 3dmax work like Kasan wants it to.
----------------------------
revision 2.29
date: 1995/04/06 13:47:39;  author: yuan;  state: Exp;
Restored rear view to original.
----------------------------
revision 2.28
date: 1995/04/06 12:13:07;  author: john;  state: Exp;
Fixed some bugs with 3dmax.
----------------------------
revision 2.27
date: 1995/04/05 13:18:18;  author: mike;  state: Exp;
decrease energy usage on fusion cannon
----------------------------
revision 2.26
date: 1995/03/30 16:36:32;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.25
date: 1995/03/27 16:45:26;  author: john;  state: Exp;
Fixed some cheat bugs.  Added astral cheat.
----------------------------
revision 2.24
date: 1995/03/27 15:37:11;  author: mike;  state: Exp;
boost fusion cannon for non-multiplayer modes.
----------------------------
revision 2.23
date: 1995/03/24 17:48:04;  author: john;  state: Exp;
Fixed bug with menus and 320x100.
----------------------------
revision 2.22
date: 1995/03/24 15:34:02;  author: mike;  state: Exp;
cheats.
----------------------------
revision 2.21
date: 1995/03/24 13:11:39;  author: john;  state: Exp;
Added save game during briefing screens.
----------------------------
revision 2.20
date: 1995/03/21 14:40:50;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.19
date: 1995/03/16 22:07:16;  author: john;  state: Exp;
Made so only for screen can be used for anything other
than mode 13.
----------------------------
revision 2.18
date: 1995/03/16 21:45:35;  author: john;  state: Exp;
Made all paged modes have incompatible menus!
----------------------------
revision 2.17
date: 1995/03/16 18:30:35;  author: john;  state: Exp;
Made wider than 320 screens not have
a status bar mode.
----------------------------
revision 2.16
date: 1995/03/16 10:53:34;  author: john;  state: Exp;
Move VFX center to Shift+Z instead of Enter because
it conflicted with toggling HUD on/off.
----------------------------
revision 2.15
date: 1995/03/16 10:18:33;  author: john;  state: Exp;
Fixed bug with VFX mode not working. also made warning
when it can't set VESA mode.
----------------------------
revision 2.14
date: 1995/03/14 16:22:39;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.13
date: 1995/03/14 12:14:17;  author: john;  state: Exp;
Made VR helmets have 4 resolutions to choose from.
----------------------------
revision 2.12
date: 1995/03/10 13:47:33;  author: john;  state: Exp;
Added head tracking sensitivity.
----------------------------
revision 2.11
date: 1995/03/10 13:13:47;  author: john;  state: Exp;
Added code to show T-xx on iglasses.
----------------------------
revision 2.10
date: 1995/03/09 18:07:29;  author: john;  state: Exp;
Fixed bug with iglasses tracking not "centering" right.
Made VFX have bright headlight lighting.
----------------------------
revision 2.9
date: 1995/03/09 11:48:02;  author: john;  state: Exp;
Added HUD for VR helmets.
----------------------------
revision 2.8
date: 1995/03/07 15:12:53;  author: john;  state: Exp;
Fixed VFX,3dmax support.
----------------------------
revision 2.7
date: 1995/03/07 11:35:03;  author: john;  state: Exp;
Fixed bug with cockpit in rear view.
----------------------------
revision 2.6
date: 1995/03/06 18:40:17;  author: john;  state: Exp;
Added some ifdef EDITOR stuff.
----------------------------
revision 2.5
date: 1995/03/06 18:31:21;  author: john;  state: Exp;
Fixed bug with nmenu popping up on editor screen.
----------------------------
revision 2.4
date: 1995/03/06 17:28:33;  author: john;  state: Exp;
Fixed but with cockpit toggling wrong.
----------------------------
revision 2.3
date: 1995/03/06 16:08:10;  author: mike;  state: Exp;
Fix compile errors if building without editor.
----------------------------
revision 2.2
date: 1995/03/06 15:24:10;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.1
date: 1995/02/27 13:41:03;  author: john;  state: Exp;
Removed floating point from frame rate calculations.
----------------------------
revision 2.0
date: 1995/02/27 11:31:54;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.770
date: 1995/02/22 12:45:15;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.769
date: 1995/02/15 10:06:25;  author: allender;  state: Exp;
make pause pause game during demo playback
----------------------------
revision 1.768
date: 1995/02/13 20:35:11;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.767
date: 1995/02/13 19:40:29;  author: allender;  state: Exp;
added place to demo record restoration from rear view in place that
I forgot before
----------------------------
revision 1.766
date: 1995/02/13 10:29:27;  author: john;  state: Exp;
Fixed bug with cheats not restoreing across save games.
----------------------------
revision 1.765
date: 1995/02/11 22:54:33;  author: john;  state: Exp;
Made loading for pig not show up for demos.
----------------------------
revision 1.764
date: 1995/02/11 17:30:08;  author: allender;  state: Exp;
ifndef NDEBUG around strip frame stuff
----------------------------
revision 1.763
date: 1995/02/11 17:13:01;  author: rob;  state: Exp;
Took out modem.c code fille stuff.
----------------------------
revision 1.762
date: 1995/02/11 16:36:47;  author: allender;  state: Exp;
debug key to strip frames from end of demo
----------------------------
revision 1.761
date: 1995/02/11 14:29:16;  author: john;  state: Exp;
Turned off cheats when going into game.
----------------------------
revision 1.760
date: 1995/02/11 13:46:54;  author: mike;  state: Exp;
fix cheats.
----------------------------
revision 1.759
date: 1995/02/11 12:36:09;  author: matt;  state: Exp;
Cleaned up cheats
----------------------------
revision 1.758
date: 1995/02/11 12:27:04;  author: mike;  state: Exp;
fix path-to-exit cheat.
----------------------------
revision 1.757
date: 1995/02/11 01:56:24;  author: mike;  state: Exp;
robots don't fire cheat.
----------------------------
revision 1.756
date: 1995/02/10 16:38:40;  author: mike;  state: Exp;
illuminate path to exit cheat.
----------------------------
revision 1.755
date: 1995/02/10 16:19:40;  author: mike;  state: Exp;
new show-path-to-exit system, still buggy, compiled out.
----------------------------
revision 1.754
date: 1995/02/10 15:54:46;  author: matt;  state: Exp;
Added new cheats
----------------------------
revision 1.753
date: 1995/02/09 12:25:42;  author: matt;  state: Exp;
Made mem_fill() test routines not be called if RELEASE
----------------------------
revision 1.752
date: 1995/02/09 08:49:32;  author: mike;  state: Exp;
change fill opcode value to 0xcc, int 3 value.
----------------------------
revision 1.751
date: 1995/02/09 02:59:26;  author: mike;  state: Exp;
check code for 00066xxx bugs.
----------------------------
revision 1.750
date: 1995/02/08 17:10:02;  author: mike;  state: Exp;
add, but don't call, debug code.
----------------------------
revision 1.749
date: 1995/02/07 11:07:27;  author: john;  state: Exp;
Added hooks for confirm on game state restore.
----------------------------
revision 1.748
date: 1995/02/06 15:52:45;  author: mike;  state: Exp;
add mini megawow powerup for giving reasonable weapons.
----------------------------
revision 1.747
date: 1995/02/06 12:53:35;  author: allender;  state: Exp;
force endlevel_sequence to 0 to fix weird bug
----------------------------
revision 1.746
date: 1995/02/04 10:03:30;  author: mike;  state: Exp;
Fly to exit cheat.
----------------------------
revision 1.745
date: 1995/02/02 15:57:52;  author: john;  state: Exp;
Added turbo mode cheat.
----------------------------
revision 1.744
date: 1995/02/02 14:43:39;  author: john;  state: Exp;
Uppped frametime limit to 150 Hz.
----------------------------
revision 1.743
date: 1995/02/02 13:37:16;  author: mike;  state: Exp;
move T-?? message down in certain modes.
----------------------------
revision 1.742
date: 1995/02/02 01:26:59;  author: john;  state: Exp;
Took out no key repeating.
----------------------------
revision 1.741
date: 1995/01/29 21:36:44;  author: mike;  state: Exp;
make fusion cannon not make pitching slow.
----------------------------
revision 1.740
date: 1995/01/28 15:57:57;  author: john;  state: Exp;
Made joystick calibration be only when wrong detected in
menu or joystick axis changed.
----------------------------
revision 1.739
date: 1995/01/28 15:21:03;  author: yuan;  state: Exp;
Added X-tra life cheat.
----------------------------
revision 1.738
date: 1995/01/27 14:08:31;  author: rob;  state: Exp;
Fixed a bug.
----------------------------
revision 1.737
date: 1995/01/27 14:04:59;  author: rob;  state: Exp;
Its not my fault, Mark told me to do it!
----------------------------
revision 1.736
date: 1995/01/27 13:12:18;  author: rob;  state: Exp;
Added charging noises to play across net.
----------------------------
revision 1.735
date: 1995/01/27 11:48:28;  author: allender;  state: Exp;
check for newdemo_state to be paused and stop recording.  We might be
in between levels
----------------------------
revision 1.734
date: 1995/01/26 22:11:41;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.733
date: 1995/01/26 17:03:04;  author: mike;  state: Exp;
make fusion cannon have more chrome, make fusion, mega rock you!
----------------------------
revision 1.732
date: 1995/01/25 14:37:25;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.731
date: 1995/01/24 15:49:14;  author: john;  state: Exp;
Made typeing in long net messages wrap on 
small screen sizes.
----------------------------
revision 1.730
date: 1995/01/24 15:23:42;  author: mike;  state: Exp;
network message tweaking.
----------------------------
revision 1.729
date: 1995/01/24 12:00:47;  author: john;  state: Exp;
Fixed bug with defing macro passing keys to controls.
----------------------------
revision 1.728
date: 1995/01/24 11:53:35;  author: john;  state: Exp;
Added better macro defining code.
----------------------------
revision 1.727
date: 1995/01/23 22:17:15;  author: john;  state: Exp;
Fixed bug with not clearing key buffer when leaving f8.
----------------------------
revision 1.726
date: 1995/01/23 22:07:09;  author: john;  state: Exp;
Added flush to game inputs during F8.
=============================================================================
RCS file: f:/miner/source/main/game.h,v
Working file: main/game.h
head: 2.1
branch:
description: Constants & prototypes which pertain to the game only
----------------------------
revision 2.1
date: 1995/03/06 15:23:22;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:28:21;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.79
date: 1995/02/13 10:37:17;  author: john;  state: Exp;
Saved Buggin' cheat mode to save file.
----------------------------
revision 1.78
date: 1995/02/01 16:34:12;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.77
date: 1995/01/29 21:37:14;  author: mike;  state: Exp;
initialize variables on game load so you don't drain your energy when you fire.
----------------------------
revision 1.76
date: 1995/01/26 22:11:36;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.75
date: 1995/01/26 16:45:31;  author: mike;  state: Exp;
Add autofire fusion cannon stuff.
----------------------------
revision 1.74
date: 1994/12/11 23:18:06;  author: john;  state: Exp;
Added -nomusic.
Added RealFrameTime.
Put in a pause when sound initialization error.
Made controlcen countdown and framerate use RealFrameTime.
----------------------------
revision 1.73
date: 1994/12/09 00:41:24;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.72
date: 1994/12/04 13:47:00;  author: mike;  state: Exp;
enhance custom detail level support.
----------------------------
revision 1.71
date: 1994/12/02 15:05:44;  author: matt;  state: Exp;
Added new "official" cheats
----------------------------
revision 1.70
date: 1994/11/28 18:14:09;  author: rob;  state: Exp;
Added game_mode flag for team games.
----------------------------
revision 1.69
date: 1994/11/15 16:51:13;  author: matt;  state: Exp;
Made rear view only switch to rear cockpit if cockpit on in front view
----------------------------
revision 1.68
date: 1994/11/04 16:26:10;  author: john;  state: Exp;
Fixed bug with letterbox mode game after you finish a game.
----------------------------
revision 1.67
date: 1994/11/02 11:59:48;  author: john;  state: Exp;
Moved menu out of game into inferno main loop.
----------------------------
revision 1.66
date: 1994/10/26 23:02:19;  author: matt;  state: Exp;
Made palette flash saturate negative values
----------------------------
revision 1.65
date: 1994/10/26 15:21:05;  author: mike;  state: Exp;
Detail level stuff.  Make Render_depth public.
----------------------------
revision 1.64
date: 1994/10/19 00:13:01;  author: matt;  state: Exp;
Added prototypes
----------------------------
revision 1.63
date: 1994/10/09 14:54:39;  author: matt;  state: Exp;
Made player cockpit state & window size save/restore with saved games & automap
----------------------------
revision 1.62
date: 1994/10/08 19:56:32;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.61
date: 1994/10/07 22:19:32;  author: mike;  state: Exp;
Increase number of difficulty levels from 4 to 5.
----------------------------
revision 1.60
date: 1994/10/06 14:14:11;  author: matt;  state: Exp;
Added new function to reset time (to prevent big FrameTime) at start of level
----------------------------
revision 1.59
date: 1994/10/05 17:08:43;  author: matt;  state: Exp;
Changed order of cockpit bitmaps, since there's no longer a full-screen cockpit
----------------------------
revision 1.58
date: 1994/10/03 23:44:13;  author: matt;  state: Exp;
Save & restore palette effect around menus & pause message
----------------------------
revision 1.57
date: 1994/09/29 17:42:12;  author: matt;  state: Exp;
Cleaned up game_mode a little
----------------------------
revision 1.56
date: 1994/09/28 23:12:01;  author: matt;  state: Exp;
Macroized palette flash system
----------------------------
revision 1.55
date: 1994/09/24 16:56:13;  author: rob;  state: Exp;
Added new fields for the Game_mode bitvector for modem play.
----------------------------
revision 1.54
date: 1994/09/24 14:16:20;  author: mike;  state: Exp;
Added new game mode constants.
----------------------------
revision 1.53
date: 1994/09/22 19:00:57;  author: mike;  state: Exp;
Move NDL from robot.h to here.
----------------------------
revision 1.52
date: 1994/09/22 10:46:51;  author: mike;  state: Exp;
Add difficulty levels.
----------------------------
revision 1.51
date: 1994/09/17 01:39:52;  author: matt;  state: Exp;
Added status bar/sizable window mode, and in the process revamped the
whole cockpit mode system.
----------------------------
revision 1.50
date: 1994/09/15 21:23:10;  author: matt;  state: Exp;
Changed system to keep track of whether & what cockpit is up
----------------------------
revision 1.49
date: 1994/09/15 16:11:33;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.48
date: 1994/09/13 16:40:10;  author: mike;  state: Exp;
Prototype Global_missile_firing_count.
----------------------------
revision 1.47
date: 1994/09/13 11:19:05;  author: mike;  state: Exp;
Add Next_missile_fire_time.
----------------------------
revision 1.46
date: 1994/09/12 09:52:50;  author: john;  state: Exp;
Made global flush function that flushes keyboard,mouse, and joystick.
----------------------------
revision 1.45
date: 1994/09/03 15:24:14;  author: mike;  state: Exp;
Make global Global_laser_firing_count.
----------------------------
revision 1.44
date: 1994/08/31 19:26:57;  author: mike;  state: Exp;
Prototypes for Next_laser_fire_time, Laser_delay_time.
----------------------------
revision 1.43
date: 1994/08/18 10:47:22;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.42
date: 1994/08/11 18:03:53;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.41
date: 1994/06/29 20:41:38;  author: matt;  state: Exp;
Added new pause mode; cleaned up countdown & game startup code
----------------------------
revision 1.40
date: 1994/06/24 17:03:49;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.39
date: 1994/06/20 15:01:08;  author: yuan;  state: Exp;
Added death when mine blows up...
Continues onto next level.
----------------------------
revision 1.38
date: 1994/06/17 18:07:20;  author: matt;  state: Exp;
Moved some vars out of ifdef
----------------------------
revision 1.37
date: 1994/06/15 11:09:22;  author: yuan;  state: Exp;
Moved gauge_message to mono screen for now.
----------------------------
revision 1.36
date: 1994/05/30 20:22:11;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.35
date: 1994/05/27 10:32:48;  author: yuan;  state: Exp;
New dialog boxes (Walls and Triggers) added.
----------------------------
revision 1.34
date: 1994/05/20 11:56:45;  author: matt;  state: Exp;
Cleaned up find_vector_intersection() interface
Killed check_point_in_seg(), check_player_seg(), check_object_seg()
----------------------------
revision 1.33
date: 1994/05/19 21:45:21;  author: matt;  state: Exp;
Removed unused prototypes
----------------------------
revision 1.32
date: 1994/05/19 18:53:17;  author: yuan;  state: Exp;
Changing player structure...
----------------------------
revision 1.31
date: 1994/05/16 16:38:35;  author: yuan;  state: Exp;
Fixed palette add so it doesn't show up in the menu.
----------------------------
revision 1.30
date: 1994/05/16 09:28:17;  author: matt;  state: Exp;
Renamed init_player() to be init_player_stats(), added new funtion
init_player_object()
----------------------------
revision 1.29
date: 1994/05/14 17:14:57;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
=============================================================================
RCS file: f:/miner/source/main/gamefont.c,v
Working file: main/gamefont.c
head: 2.0
branch:
description: Fonts for the game.
----------------------------
revision 2.0
date: 1995/02/27 11:30:14;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.8
date: 1994/11/18 16:41:39;  author: adam;  state: Exp;
trimmed some meat
----------------------------
revision 1.7
date: 1994/11/17 13:07:11;  author: adam;  state: Exp;
removed unused font
----------------------------
revision 1.6
date: 1994/11/03 21:36:12;  author: john;  state: Exp;
Added code for credit fonts.
----------------------------
revision 1.5
date: 1994/08/17 20:20:02;  author: matt;  state: Exp;
Took out alternate-color versions of font3, since this is a mono font
----------------------------
revision 1.4
date: 1994/08/12 12:03:44;  author: adam;  state: Exp;
tweaked fonts.
----------------------------
revision 1.3
date: 1994/08/11 12:43:40;  author: adam;  state: Exp;
changed font filenames
----------------------------
revision 1.2
date: 1994/08/10 19:57:15;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.1
date: 1994/08/10 17:20:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gamefont.h,v
Working file: main/gamefont.h
head: 2.0
branch:
description: Font declarations for the game,.
----------------------------
revision 2.0
date: 1995/02/27 11:31:09;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.7
date: 1994/11/18 16:41:28;  author: adam;  state: Exp;
trimmed meat
----------------------------
revision 1.6
date: 1994/11/17 13:07:00;  author: adam;  state: Exp;
removed unused font
----------------------------
revision 1.5
date: 1994/11/03 21:36:02;  author: john;  state: Exp;
Added code for credit fonts.
----------------------------
revision 1.4
date: 1994/08/17 20:20:25;  author: matt;  state: Exp;
Took out alternate-color versions of font3, since this is a mono font
----------------------------
revision 1.3
date: 1994/08/11 12:44:32;  author: adam;  state: Exp;
killed a #define
----------------------------
revision 1.2
date: 1994/08/10 19:57:16;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.1
date: 1994/08/10 17:20:22;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gamemine.c,v
Working file: main/gamemine.c
head: 2.2
branch:
description: Functions for loading mines in the game
----------------------------
revision 2.2
date: 1995/03/06 15:23:14;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.1
date: 1995/02/27 13:13:37;  author: john;  state: Exp;
Removed floating point.
----------------------------
revision 2.0
date: 1995/02/27 11:27:45;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.70
date: 1995/02/13 20:35:09;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.69
date: 1995/02/07 17:12:03;  author: rob;  state: Exp;
Added ifdef's for Editor.
----------------------------
revision 1.68
date: 1995/02/07 16:51:48;  author: mike;  state: Exp;
fix gray rock josh problem.
----------------------------
revision 1.67
date: 1995/02/01 15:46:26;  author: yuan;  state: Exp;
Fixed matcen_nums.
----------------------------
revision 1.66
date: 1995/01/19 15:19:28;  author: mike;  state: Exp;
new super-compressed registered file format.
----------------------------
revision 1.65
date: 1994/12/10 16:44:59;  author: matt;  state: Exp;
Added debugging code to track down door that turns into rock
----------------------------
revision 1.64
date: 1994/12/10 14:58:24;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.63
date: 1994/12/08 17:19:10;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.62
date: 1994/12/07 14:05:33;  author: yuan;  state: Exp;
Fixed wall assert problem... Bashed highest_segment
_index before WALL_IS_DOORWAY check.
----------------------------
revision 1.61
date: 1994/11/27 23:14:52;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.60
date: 1994/11/27 18:05:20;  author: matt;  state: Exp;
Compile out LVL reader when editor compiled out
----------------------------
revision 1.59
date: 1994/11/26 22:51:45;  author: matt;  state: Exp;
Removed editor-only fields from segment structure when editor is compiled
out, and padded segment structure to even multiple of 4 bytes.
----------------------------
revision 1.58
date: 1994/11/26 21:48:02;  author: matt;  state: Exp;
Fixed saturation in short light value 
----------------------------
revision 1.57
date: 1994/11/20 22:11:49;  author: mike;  state: Exp;
comment out an apparently unnecessary call to fuelcen_reset().
----------------------------
revision 1.56
date: 1994/11/18 21:56:42;  author: john;  state: Exp;
Added a better, leaner pig format.
----------------------------
revision 1.55
date: 1994/11/17 20:09:18;  author: john;  state: Exp;
Added new compiled level format.
----------------------------
revision 1.54
date: 1994/11/17 15:40:17;  author: mike;  state: Exp;
Comment out mprintf which was causing important information to scroll away.
----------------------------
revision 1.53
date: 1994/11/17 14:56:37;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.52
date: 1994/11/17 11:39:35;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.51
date: 1994/11/14 20:47:53;  author: john;  state: Exp;
Attempted to strip out all the code in the game 
directory that uses any ui code.
----------------------------
revision 1.50
date: 1994/11/14 16:05:38;  author: matt;  state: Exp;
Fixed, maybe, again, errors when can't find texture during remap
----------------------------
revision 1.49
date: 1994/11/14 14:34:03;  author: matt;  state: Exp;
Fixed up handling when textures can't be found during remap
----------------------------
revision 1.48
date: 1994/11/14 13:01:55;  author: matt;  state: Exp;
Added Int3() when can't find texture
----------------------------
revision 1.47
date: 1994/10/30 14:12:21;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.46
date: 1994/10/27 19:43:07;  author: john;  state: Exp;
Disable the piglet option.
----------------------------
revision 1.45
date: 1994/10/27 18:51:42;  author: john;  state: Exp;
Added -piglet option that only loads needed textures for a 
mine.  Only saved ~1MB, and code still doesn't free textures
before you load a new mine.
----------------------------
revision 1.44
date: 1994/10/20 12:47:22;  author: matt;  state: Exp;
Replace old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.43
date: 1994/10/19 16:46:40;  author: matt;  state: Exp;
Made tmap overrides for robots remap texture numbers
----------------------------
revision 1.42
date: 1994/10/03 23:37:01;  author: mike;  state: Exp;
Adapt to changed fuelcen_activate parameters.
----------------------------
revision 1.41
date: 1994/09/23 22:14:49;  author: matt;  state: Exp;
Took out obsolete structure fields
----------------------------
revision 1.40
date: 1994/08/01 11:04:11;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.39
date: 1994/07/21 19:01:47;  author: mike;  state: Exp;
Call Lsegment stuff.
=============================================================================
RCS file: f:/miner/source/main/gamemine.h,v
Working file: main/gamemine.h
head: 2.0
branch:
description: Header for gamemine.c
----------------------------
revision 2.0
date: 1995/02/27 11:28:50;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.15
date: 1994/11/17 11:39:34;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.14
date: 1994/10/19 16:46:40;  author: matt;  state: Exp;
Made tmap overrides for robots remap texture numbers
----------------------------
revision 1.13
date: 1994/09/23 22:14:37;  author: matt;  state: Exp;
Took out obsolete structure fields
----------------------------
revision 1.12
date: 1994/07/22 12:36:32;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.11
date: 1994/06/01 11:21:37;  author: yuan;  state: Exp;
Added controlcentertriggers to the gamesave.
----------------------------
revision 1.10
date: 1994/05/10 12:14:26;  author: yuan;  state: Exp;
Game save/load... Demo levels 1-5 added...
High scores fixed...
----------------------------
revision 1.9
date: 1994/05/04 18:25:05;  author: yuan;  state: Exp;
Working on gamesave.
----------------------------
revision 1.8
date: 1994/05/03 15:53:27;  author: yuan;  state: Exp;
Readded structure field groups for backward compatibility...
----------------------------
revision 1.7
date: 1994/05/03 11:36:26;  author: yuan;  state: Exp;
Stabilizing gamesave stuff.
----------------------------
revision 1.6
date: 1994/04/28 11:01:32;  author: yuan;  state: Exp;
Added objects in structure.
----------------------------
revision 1.5
date: 1994/04/06 18:30:03;  author: john;  state: Exp;
Added Refueling segments.
----------------------------
revision 1.4
date: 1994/03/17 18:06:53;  author: yuan;  state: Exp;
Removed switch code... Now we just have Walls, Triggers, and Links...
----------------------------
revision 1.3
date: 1994/03/01 18:12:24;  author: yuan;  state: Exp;
Wallswitches, triggers, and more!
----------------------------
revision 1.2
date: 1994/02/10 15:36:01;  author: matt;  state: Exp;
Various changes to make editor compile out.
----------------------------
revision 1.1
date: 1994/02/09 17:11:45;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gamesave.c,v
Working file: main/gamesave.c
head: 2.2
branch:
description: Save game information
----------------------------
revision 2.2
date: 1995/04/23 14:53:12;  author: john;  state: Exp;
Made some mine structures read in with no structure packing problems.
----------------------------
revision 2.1
date: 1995/03/20 18:15:43;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:29:50;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.207
date: 1995/02/23 10:17:36;  author: allender;  state: Exp;
fixed parameter mismatch with compute_segment_center
----------------------------
revision 1.206
date: 1995/02/22 14:51:17;  author: allender;  state: Exp;
fixed some things that I missed
----------------------------
revision 1.205
date: 1995/02/22 13:31:38;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.204
date: 1995/02/01 20:58:08;  author: john;  state: Exp;
Made editor check hog.
----------------------------
revision 1.203
date: 1995/01/28 17:40:34;  author: mike;  state: Exp;
correct level names (use rdl, sdl) for dumpmine stuff.
----------------------------
revision 1.202
date: 1995/01/25 20:03:46;  author: matt;  state: Exp;
Moved matrix check to avoid orthogonalizing an uninitialize matrix
----------------------------
revision 1.201
date: 1995/01/20 16:56:53;  author: mike;  state: Exp;
remove some mprintfs.
----------------------------
revision 1.200
date: 1995/01/15 19:42:13;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.199
date: 1995/01/05 16:59:09;  author: yuan;  state: Exp;
Make it so if editor is loaded, don't get error from typo
in filename.
----------------------------
revision 1.198
date: 1994/12/19 12:49:46;  author: mike;  state: Exp;
Change fgets to cfgets.  fgets was getting a pointer mismatch warning.
----------------------------
revision 1.197
date: 1994/12/12 01:20:03;  author: matt;  state: Exp;
Took out object size hack for green claw guys
----------------------------
revision 1.196
date: 1994/12/11 13:19:37;  author: matt;  state: Exp;
Restored calls to fix_object_segs() when debugging is turned off, since
it's not a big routine, and could fix some possibly bad problems.
----------------------------
revision 1.195
date: 1994/12/10 16:17:24;  author: mike;  state: Exp;
fix editor bug that was converting transparent walls into rock.
----------------------------
revision 1.194
date: 1994/12/09 14:59:27;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.193
date: 1994/12/08 17:19:02;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.192
date: 1994/12/02 20:01:05;  author: matt;  state: Exp;
Always give vulcan cannon powerup same amount of ammo, regardless of
how much it was saved with
----------------------------
revision 1.191
date: 1994/11/30 17:45:57;  author: yuan;  state: Exp;
Saving files now creates RDL/SDLs instead of CDLs.
----------------------------
revision 1.190
date: 1994/11/30 17:22:14;  author: matt;  state: Exp;
Ripped out hostage faces in shareware version
----------------------------
revision 1.189
date: 1994/11/28 00:09:30;  author: allender;  state: Exp;
commented out call to newdemo_record_start_demo in load_level...what is
this doing here anyway?????
----------------------------
revision 1.188
date: 1994/11/27 23:13:48;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.187
date: 1994/11/27 18:06:20;  author: matt;  state: Exp;
Cleaned up LVL/CDL file loading
----------------------------
revision 1.186
date: 1994/11/25 22:46:29;  author: matt;  state: Exp;
Allow ESC out of compiled/normal menu (esc=compiled).
----------------------------
revision 1.185
date: 1994/11/23 12:18:35;  author: mike;  state: Exp;
move level names here...a more logical place than dumpmine.
----------------------------
revision 1.184
date: 1994/11/21 20:29:19;  author: matt;  state: Exp;
If hostage info is bad, fix it.
----------------------------
revision 1.183
date: 1994/11/21 20:26:07;  author: matt;  state: Exp;
Fixed bug, I hope
----------------------------
revision 1.182
date: 1994/11/21 20:20:37;  author: matt;  state: Exp;
Fixed stupid mistake
----------------------------
revision 1.181
date: 1994/11/21 20:18:40;  author: matt;  state: Exp;
Fixed (hopefully) totally bogus writing of hostage data
----------------------------
revision 1.180
date: 1994/11/20 14:11:56;  author: matt;  state: Exp;
Gracefully handle two hostages having same id
----------------------------
revision 1.179
date: 1994/11/19 23:55:05;  author: mike;  state: Exp;
remove Assert, put in comment for Matt.
----------------------------
revision 1.178
date: 1994/11/19 19:53:24;  author: matt;  state: Exp;
Added code to full support different hostage head clip & message for
each hostage.
----------------------------
revision 1.177
date: 1994/11/19 15:15:21;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.176
date: 1994/11/19 10:28:28;  author: matt;  state: Exp;
Took out write routines when editor compiled out
----------------------------
revision 1.175
date: 1994/11/17 20:38:25;  author: john;  state: Exp;
Took out warning.
----------------------------
revision 1.174
date: 1994/11/17 20:36:34;  author: john;  state: Exp;
Made it so that saving a mine will write the .cdl even
if .lvl gets error.
----------------------------
revision 1.173
date: 1994/11/17 20:26:19;  author: john;  state: Exp;
Made the game load whichever of .cdl or .lvl exists,
and if they both exist, prompt the user for which one.
----------------------------
revision 1.172
date: 1994/11/17 20:11:20;  author: john;  state: Exp;
Fixed warning.
----------------------------
revision 1.171
date: 1994/11/17 20:09:26;  author: john;  state: Exp;
Added new compiled level format.
----------------------------
revision 1.170
date: 1994/11/17 14:57:21;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.169
date: 1994/11/17 11:39:21;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.168
date: 1994/11/16 11:24:53;  author: matt;  state: Exp;
Made attack-type robots have smaller radius, so they get closer to player
----------------------------
revision 1.167
date: 1994/11/15 21:42:47;  author: mike;  state: Exp;
better error messages.
----------------------------
revision 1.166
date: 1994/11/15 15:30:41;  author: matt;  state: Exp;
Save ptr to name of level being loaded
----------------------------
revision 1.165
date: 1994/11/14 20:47:46;  author: john;  state: Exp;
Attempted to strip out all the code in the game 
directory that uses any ui code.
----------------------------
revision 1.164
date: 1994/11/14 14:34:23;  author: matt;  state: Exp;
Fixed up handling when textures can't be found during remap
----------------------------
revision 1.163
date: 1994/11/10 14:02:49;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.162
date: 1994/11/06 14:38:17;  author: mike;  state: Exp;
Remove an apparently unnecessary mprintf.
----------------------------
revision 1.161
date: 1994/10/30 14:11:28;  author: mike;  state: Exp;
ripout local segments stuff.
----------------------------
revision 1.160
date: 1994/10/28 12:10:41;  author: matt;  state: Exp;
Check that was supposed to happen only when editor was in was happening
only when editor was out.
----------------------------
revision 1.159
date: 1994/10/27 11:25:32;  author: matt;  state: Exp;
Only do connectivity error check when editor in
----------------------------
revision 1.158
date: 1994/10/27 10:54:00;  author: matt;  state: Exp;
Made connectivity error checking put up warning if errors found
----------------------------
revision 1.157
date: 1994/10/25 10:50:54;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.156
date: 1994/10/23 02:10:43;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.155
date: 1994/10/22 18:57:26;  author: matt;  state: Exp;
Added call to check_segment_connections()
----------------------------
revision 1.154
date: 1994/10/21 12:19:23;  author: matt;  state: Exp;
Clear transient objects when saving (& loading) games
----------------------------
revision 1.153
date: 1994/10/21 11:25:10;  author: mike;  state: Exp;
Use new constant IMMORTAL_TIME.
----------------------------
revision 1.152
date: 1994/10/20 12:46:59;  author: matt;  state: Exp;
Replace old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.151
date: 1994/10/19 19:26:32;  author: matt;  state: Exp;
Fixed stupid bug
----------------------------
revision 1.150
date: 1994/10/19 16:46:21;  author: matt;  state: Exp;
Made tmap overrides for robots remap texture numbers
----------------------------
revision 1.149
date: 1994/10/18 08:50:27;  author: yuan;  state: Exp;
Fixed correct variable this time.
----------------------------
revision 1.148
date: 1994/10/18 08:45:02;  author: yuan;  state: Exp;
Oops. forgot load function.
----------------------------
revision 1.147
date: 1994/10/18 08:42:10;  author: yuan;  state: Exp;
Avoid the int3.
----------------------------
revision 1.146
date: 1994/10/17 21:34:57;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.145
date: 1994/10/15 19:06:34;  author: mike;  state: Exp;
Fix bug, maybe, having to do with something or other, ...
----------------------------
revision 1.144
date: 1994/10/12 21:07:33;  author: matt;  state: Exp;
Killed unused field in object structure
----------------------------
revision 1.143
date: 1994/10/06 14:52:55;  author: mike;  state: Exp;
Put check in to detect possibly bogus walls in last segment which leaked through an earlier check
due to misuse of Highest_segment_index.
----------------------------
revision 1.142
date: 1994/10/05 22:12:44;  author: mike;  state: Exp;
Put in cleanup for matcen/fuelcen links.
----------------------------
revision 1.141
date: 1994/10/03 11:30:05;  author: matt;  state: Exp;
Make sure player in a valid segment before saving
----------------------------
revision 1.140
date: 1994/09/28 11:14:41;  author: mike;  state: Exp;
Better error messaging on bogus mines: Only bring up dialog box if a "real" (level??.*) level.
----------------------------
revision 1.139
date: 1994/09/28 09:22:58;  author: mike;  state: Exp;
Comment out a mprintf.
----------------------------
revision 1.138
date: 1994/09/27 17:08:36;  author: mike;  state: Exp;
Message boxes when you load bogus mines.
----------------------------
revision 1.137
date: 1994/09/27 15:43:45;  author: mike;  state: Exp;
Move the dump stuff to dumpmine.
----------------------------
revision 1.136
date: 1994/09/27 00:02:31;  author: mike;  state: Exp;
Dump text files (".txm") when loading a mine, showing all kinds of useful mine info.
----------------------------
revision 1.135
date: 1994/09/26 11:30:41;  author: matt;  state: Exp;
Took out code which loaded bogus player structure
----------------------------
revision 1.134
date: 1994/09/26 11:18:44;  author: john;  state: Exp;
Fixed some conflicts with newseg.
----------------------------
revision 1.133
date: 1994/09/26 10:56:58;  author: matt;  state: Exp;
Fixed inconsistancies in lifeleft for immortal objects
----------------------------
revision 1.132
date: 1994/09/25 23:41:10;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
=============================================================================
RCS file: f:/miner/source/main/gamesave.h,v
Working file: main/gamesave.h
head: 2.0
branch:
description: Headers for gamesave.c
----------------------------
revision 2.0
date: 1995/02/27 11:30:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.11
date: 1994/11/23 12:19:32;  author: mike;  state: Exp;
detail level menu.
----------------------------
revision 1.10
date: 1994/10/20 12:47:30;  author: matt;  state: Exp;
Replace old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.9
date: 1994/09/27 17:08:47;  author: mike;  state: Exp;
Message boxes when you load bogus mines.
----------------------------
revision 1.8
date: 1994/09/27 15:43:05;  author: mike;  state: Exp;
Prototype write_game_text.
----------------------------
revision 1.7
date: 1994/09/14 15:46:39;  author: matt;  state: Exp;
Added function load_mine_only()
----------------------------
revision 1.6
date: 1994/07/22 12:36:28;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.5
date: 1994/07/20 13:38:14;  author: matt;  state: Exp;
Added get_level_name() prototype
----------------------------
revision 1.4
date: 1994/06/20 22:19:41;  author: john;  state: Exp;
Added Gamesave_num_org_robots.
----------------------------
revision 1.3
date: 1994/06/14 11:32:49;  author: john;  state: Exp;
Made Newdemo record & restore the current mine.
----------------------------
revision 1.2
date: 1994/05/14 17:16:25;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:01:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gameseg.c,v
Working file: main/gameseg.c
head: 2.2
branch:
description: Functions moved from segment.c to make editor separable from game.
----------------------------
revision 2.2
date: 1995/03/20 18:15:39;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.1
date: 1995/03/08 12:11:39;  author: allender;  state: Exp;
fix shortpos reading/writing
----------------------------
revision 2.0
date: 1995/02/27 11:29:21;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.78
date: 1995/02/22 13:52:22;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.77
date: 1995/02/22 13:24:47;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.76
date: 1995/02/13 20:35:01;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.75
date: 1995/02/09 13:10:51;  author: mike;  state: Exp;
remove an annoying mprintf.
----------------------------
revision 1.74
date: 1995/02/05 17:49:28;  author: rob;  state: Exp;
Added assert to gameseg.c.
----------------------------
revision 1.73
date: 1995/02/02 00:49:26;  author: mike;  state: Exp;
new automap segment-depth functionality.
----------------------------
revision 1.72
date: 1995/01/16 21:06:51;  author: mike;  state: Exp;
Move function pick_random_point_in_segment from fireball.c to gameseg.c.
----------------------------
revision 1.71
date: 1994/12/21 19:54:32;  author: matt;  state: Exp;
Added error checking
----------------------------
revision 1.70
date: 1994/12/11 21:34:09;  author: matt;  state: Exp;
Changed assert() to int3()
----------------------------
revision 1.69
date: 1994/12/01 21:04:37;  author: matt;  state: Exp;
Several important changes:
 (1) Checking against triangulated sides has been standardized a bit
 (2) Code has been added to de-triangulate some sides
 (3) BIG ONE: the tolerance for checking a point against a plane has
     been drastically relaxed
----------------------------
revision 1.67
date: 1994/11/27 23:12:21;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.66
date: 1994/11/26 22:51:40;  author: matt;  state: Exp;
Removed editor-only fields from segment structure when editor is compiled
out, and padded segment structure to even multiple of 4 bytes.
----------------------------
revision 1.65
date: 1994/11/22 16:55:38;  author: mike;  state: Exp;
use memset in place of loop to clear array.
----------------------------
revision 1.64
date: 1994/11/19 15:20:37;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.63
date: 1994/11/18 18:31:48;  author: matt;  state: Exp;
Fixed code again (and maybe for real)
----------------------------
revision 1.62
date: 1994/11/18 16:54:24;  author: matt;  state: Exp;
Fixed extract_orient_from_segment()
----------------------------
revision 1.61
date: 1994/11/17 14:56:50;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.60
date: 1994/11/16 23:38:53;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.59
date: 1994/10/30 14:12:46;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.58
date: 1994/10/27 10:53:39;  author: matt;  state: Exp;
Made connectivity error checking put up warning if errors found
----------------------------
revision 1.57
date: 1994/10/25 21:19:26;  author: mike;  state: Exp;
debugging code.
----------------------------
revision 1.56
date: 1994/10/25 11:26:09;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.55
date: 1994/10/22 22:36:08;  author: matt;  state: Exp;
Improved error finding routine
----------------------------
revision 1.54
date: 1994/10/22 18:56:51;  author: matt;  state: Exp;
Fixed obscure bug in segment trace code
Added error find routine, check_segment_connections()
----------------------------
revision 1.53
date: 1994/10/17 14:05:19;  author: matt;  state: Exp;
Don't give recursion assert if doing lighting
----------------------------
revision 1.52
date: 1994/10/15 19:03:48;  author: mike;  state: Exp;
Don't do exhaustive search in smooth lighting.
----------------------------
revision 1.51
date: 1994/10/12 09:46:44;  author: mike;  state: Exp;
Add debug code for trapping exhaustive searches.
----------------------------
revision 1.50
date: 1994/10/11 20:50:41;  author: matt;  state: Exp;
Made find_point_seg() take -1 as segnum, meaning to search all segments
----------------------------
revision 1.49
date: 1994/10/11 17:40:31;  author: matt;  state: Exp;
Fixed bug that caused segment trace to only go through sides you can fly through
----------------------------
revision 1.48
date: 1994/10/10 14:48:16;  author: matt;  state: Exp;
Fixed mistake that caused odd pauses and occasional int3's
----------------------------
revision 1.47
date: 1994/10/09 23:50:41;  author: matt;  state: Exp;
Made find_hitpoint_uv() work with triangulated sides
----------------------------
revision 1.46
date: 1994/10/08 23:06:52;  author: matt;  state: Exp;
trace_segs() didn't know about external walls
----------------------------
revision 1.45
date: 1994/10/07 22:18:57;  author: mike;  state: Exp;
Put in asserts to trap bad segnums.
----------------------------
revision 1.44
date: 1994/10/06 14:08:07;  author: matt;  state: Exp;
Added new function, extract_orient_from_segment()
----------------------------
revision 1.43
date: 1994/10/04 16:24:11;  author: mike;  state: Exp;
Set global Connected_segment_distance for debug reasons for aipath.c.
----------------------------
revision 1.42
date: 1994/10/04 09:18:42;  author: mike;  state: Exp;
Comment out a variable definition, preventing a warning message.
----------------------------
revision 1.41
date: 1994/10/03 23:43:42;  author: mike;  state: Exp;
Put in a warning for overrunning point_segs buffer.
----------------------------
revision 1.40
date: 1994/10/03 20:55:43;  author: rob;  state: Exp;
Added velocity to shortpos.
----------------------------
revision 1.39
date: 1994/09/27 11:46:06;  author: rob;  state: Exp;
re-fixed that same bug (ugh).
----------------------------
revision 1.38
date: 1994/09/27 10:10:51;  author: rob;  state: Exp;
Fixed bug in extract_shortpos (obj_relink added).
----------------------------
revision 1.37
date: 1994/09/25 23:41:02;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.36
date: 1994/09/22 19:03:05;  author: mike;  state: Exp;
Add shortpos manipulation functions create_shortpos and extract_shortpos.
----------------------------
revision 1.35
date: 1994/09/19 21:21:16;  author: mike;  state: Exp;
Minor optimization to find_connected_distance.
----------------------------
revision 1.34
date: 1994/09/19 21:05:25;  author: mike;  state: Exp;
Write function find_connected_distance,
returns distance between two points as travellable through the mine.
----------------------------
revision 1.33
date: 1994/08/30 15:07:15;  author: matt;  state: Exp;
Changed find_point_seg() to deal with some infinite recursion problems.
----------------------------
revision 1.32
date: 1994/08/11 18:58:32;  author: mike;  state: Exp;
Use ints in place of shorts for optimization.
----------------------------
revision 1.31
date: 1994/08/04 00:20:09;  author: matt;  state: Exp;
Cleaned up fvi & physics error handling; put in code to make sure objects
are in correct segment; simplified segment finding for objects and points
----------------------------
revision 1.30
date: 1994/08/03 16:46:12;  author: mike;  state: Exp;
not much...
----------------------------
revision 1.29
date: 1994/08/02 20:41:31;  author: matt;  state: Exp;
Fixed bug in get_side_verts()
----------------------------
revision 1.28
date: 1994/08/02 19:04:25;  author: matt;  state: Exp;
Cleaned up vertex list functions
----------------------------
revision 1.27
date: 1994/08/01 10:39:44;  author: matt;  state: Exp;
find_new_seg() now will look through any kind of wall but a totally solid one
----------------------------
revision 1.26
date: 1994/07/28 19:15:59;  author: matt;  state: Exp;
Fixed yet another bug in get_seg_masks()
=============================================================================
RCS file: f:/miner/source/main/gameseg.h,v
Working file: main/gameseg.h
head: 2.0
branch:
description: Header file for stuff moved from segment.c to gameseg.c.
----------------------------
revision 2.0
date: 1995/02/27 11:31:20;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.24
date: 1995/02/01 16:34:03;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.23
date: 1995/01/16 21:06:36;  author: mike;  state: Exp;
Move function pick_random_point_in_segment from fireball.c to gameseg.c.
----------------------------
revision 1.22
date: 1994/11/23 12:18:59;  author: mike;  state: Exp;
prototype for level names.
----------------------------
revision 1.21
date: 1994/11/17 14:56:59;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.20
date: 1994/11/16 23:38:46;  author: mike;  state: Exp;
new improved boss teleportation behavior.
----------------------------
revision 1.19
date: 1994/10/30 14:12:14;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.18
date: 1994/10/09 23:51:07;  author: matt;  state: Exp;
Made find_hitpoint_uv() work with triangulated sides
----------------------------
revision 1.17
date: 1994/10/06 14:08:22;  author: matt;  state: Exp;
Added new function, extract_orient_from_segment()
----------------------------
revision 1.16
date: 1994/09/19 21:05:52;  author: mike;  state: Exp;
Prototype for find_connected_distance.
----------------------------
revision 1.15
date: 1994/08/11 18:58:45;  author: mike;  state: Exp;
Change shorts to ints.
----------------------------
revision 1.14
date: 1994/08/04 00:21:09;  author: matt;  state: Exp;
Cleaned up fvi & physics error handling; put in code to make sure objects
are in correct segment; simplified segment finding for objects and points
----------------------------
revision 1.13
date: 1994/08/02 19:04:25;  author: matt;  state: Exp;
Cleaned up vertex list functions
----------------------------
revision 1.12
date: 1994/07/21 19:01:53;  author: mike;  state: Exp;
lsegment stuff.
----------------------------
revision 1.11
date: 1994/07/07 09:31:13;  author: matt;  state: Exp;
Added comments
----------------------------
revision 1.10
date: 1994/06/14 12:21:20;  author: matt;  state: Exp;
Added new function, find_point_seg()
----------------------------
revision 1.9
date: 1994/05/29 23:17:38;  author: matt;  state: Exp;
Move find_object_seg() from physics.c to gameseg.c
Killed unused find_point_seg()
----------------------------
revision 1.8
date: 1994/05/20 11:56:57;  author: matt;  state: Exp;
Cleaned up find_vector_intersection() interface
Killed check_point_in_seg(), check_player_seg(), check_object_seg()
----------------------------
revision 1.7
date: 1994/03/17 18:07:38;  author: yuan;  state: Exp;
Removed switch code... Now we just have Walls, Triggers, and Links...
----------------------------
revision 1.6
date: 1994/02/22 18:14:44;  author: yuan;  state: Exp;
Added new wall system
----------------------------
revision 1.5
date: 1994/02/17 11:33:22;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.4
date: 1994/02/16 13:48:33;  author: mike;  state: Exp;
enable editor to compile out.
----------------------------
revision 1.3
date: 1994/02/14 12:05:07;  author: mike;  state: Exp;
change segment data structure.
----------------------------
revision 1.2
date: 1994/02/10 16:07:20;  author: mike;  state: Exp;
separate editor from game based on EDITOR flag.
----------------------------
revision 1.1
date: 1994/02/09 15:45:38;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gameseq.c,v
Working file: main/gameseq.c
head: 2.10
branch:
description: Routines for EndGame, EndLevel, etc.
----------------------------
revision 2.10
date: 1995/12/19 15:48:25;  author: john;  state: Exp;
Made screen reset when loading new level.
----------------------------
revision 2.9
date: 1995/07/07 16:47:52;  author: john;  state: Exp;
Fixed bug with reactor time..
----------------------------
revision 2.8
date: 1995/06/15 12:14:18;  author: john;  state: Exp;
Made end game, win game and title sequences all go
on after 5 minutes automatically.
----------------------------
revision 2.7
date: 1995/05/26 16:16:25;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.6
date: 1995/03/24 13:11:20;  author: john;  state: Exp;
Added save game during briefing screens.
----------------------------
revision 2.5
date: 1995/03/23 17:56:20;  author: allender;  state: Exp;
added code to record old laser level and weapons when player gets
new ship
----------------------------
revision 2.4
date: 1995/03/21 08:39:14;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.3
date: 1995/03/15 14:33:33;  author: john;  state: Exp;
Added code to force the Descent CD-rom in the drive.
----------------------------
revision 2.2
date: 1995/03/06 16:47:26;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.1
date: 1995/03/06 15:23:23;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:28:53;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.310
date: 1995/02/14 10:48:09;  author: mike;  state: Exp;
zero bonus if you are a cheater.
----------------------------
revision 1.309
date: 1995/02/11 19:17:08;  author: rob;  state: Exp;
Fixed bug in laser fire rate after demo playback.
----------------------------
revision 1.308
date: 1995/02/11 14:34:08;  author: rob;  state: Exp;
Added include of netmisc.c
----------------------------
revision 1.307
date: 1995/02/11 14:29:04;  author: rob;  state: Exp;
Fixes for invul. controlcen.
----------------------------
revision 1.306
date: 1995/02/11 13:47:00;  author: mike;  state: Exp;
fix cheats.
----------------------------
revision 1.305
date: 1995/02/11 13:10:52;  author: rob;  state: Exp;
Fixed end of anarchy mission problems.
----------------------------
revision 1.304
date: 1995/02/11 12:46:12;  author: mike;  state: Exp;
initialize Robot_firing_enabled, part of AHIMSA cheat.
----------------------------
revision 1.303
date: 1995/02/11 12:42:03;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.302
date: 1995/02/10 17:39:29;  author: matt;  state: Exp;
Changed secret exit message to be centered
----------------------------
revision 1.301
date: 1995/02/10 16:17:33;  author: mike;  state: Exp;
init Last_level_path_shown.
----------------------------
revision 1.300
date: 1995/02/09 22:18:22;  author: john;  state: Exp;
Took out between level saves.
----------------------------
revision 1.299
date: 1995/02/09 12:11:42;  author: rob;  state: Exp;
Get rid of high scores thing for multiplayer games.
----------------------------
revision 1.298
date: 1995/02/08 20:34:24;  author: rob;  state: Exp;
Took briefing screens back OUT of coop games (per Interplay request)
----------------------------
revision 1.297
date: 1995/02/08 19:20:09;  author: rob;  state: Exp;
Moved checksum calc.
----------------------------
revision 1.296
date: 1995/02/05 14:39:24;  author: rob;  state: Exp;
Changed object mapping to be more efficient.
----------------------------
revision 1.295
date: 1995/02/02 19:05:38;  author: john;  state: Exp;
Made end level menu for 27 not overwrite descent title..
----------------------------
revision 1.294
date: 1995/02/02 16:36:42;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.293
date: 1995/02/02 15:58:02;  author: john;  state: Exp;
Added turbo mode cheat.
----------------------------
revision 1.292
date: 1995/02/02 15:29:34;  author: matt;  state: Exp;
Changed & localized secret level text
----------------------------
revision 1.291
date: 1995/02/02 10:50:03;  author: adam;  state: Exp;
messed with secret level message
----------------------------
revision 1.290
date: 1995/02/02 01:20:28;  author: adam;  state: Exp;
changed endgame song temporarily.
----------------------------
revision 1.289
date: 1995/02/01 23:19:43;  author: rob;  state: Exp;
Fixed up endlevel stuff for multiplayer.
Put in palette fades around areas that didn't have them before.
----------------------------
revision 1.288
date: 1995/02/01 17:12:34;  author: mike;  state: Exp;
Make score come after endgame screens.
----------------------------
revision 1.287
date: 1995/01/30 18:34:30;  author: rob;  state: Exp;
Put briefing screens back into coop games.
----------------------------
revision 1.286
date: 1995/01/27 13:07:59;  author: rob;  state: Exp;
Removed erroneous warning message.
----------------------------
revision 1.285
date: 1995/01/27 11:47:43;  author: rob;  state: Exp;
Removed new secret level menu from multiplayer games.
----------------------------
revision 1.284
date: 1995/01/26 22:11:11;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.283
date: 1995/01/26 16:55:13;  author: rob;  state: Exp;
Removed ship bonus from cooperative endgame.
----------------------------
revision 1.282
date: 1995/01/26 16:45:24;  author: mike;  state: Exp;
Add autofire fusion cannon stuff.
----------------------------
revision 1.281
date: 1995/01/26 14:44:44;  author: rob;  state: Exp;
Removed unnecessary #ifdefs around mprintfs.
Changed NumNetPlayerPositions to be independant of MaxNumNetPlayers to
accomodate 4-player robo-archy games with 8 start positions.
----------------------------
revision 1.280
date: 1995/01/26 12:19:01;  author: rob;  state: Exp;
Changed network_do_frame call.
----------------------------
revision 1.279
date: 1995/01/26 00:35:03;  author: matt;  state: Exp;
Changed numbering convention for HMP files for levels
----------------------------
revision 1.278
date: 1995/01/25 16:07:59;  author: matt;  state: Exp;
Added message (prototype) when going to secret level
----------------------------
revision 1.277
date: 1995/01/22 18:57:23;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.276
date: 1995/01/21 23:13:08;  author: matt;  state: Exp;
Made high scores with (not work, really) with loaded missions
Don't give player high score when quit game
----------------------------
revision 1.275
date: 1995/01/21 17:17:39;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.274
date: 1995/01/21 17:15:38;  author: john;  state: Exp;
Added include for state.h
----------------------------
revision 1.273
date: 1995/01/21 16:21:14;  author: matt;  state: Exp;
Fixed bugs in secret level sequencing
----------------------------
revision 1.272
date: 1995/01/20 22:47:29;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.271
date: 1995/01/19 17:00:48;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.270
date: 1995/01/17 17:49:10;  author: rob;  state: Exp;
Added key syncing for coop.
----------------------------
revision 1.269
date: 1995/01/17 14:27:37;  author: john;  state: Exp;
y
----------------------------
revision 1.268
date: 1995/01/17 13:36:33;  author: john;  state: Exp;
Moved pig loading into StartNewLevelSub.
----------------------------
revision 1.267
date: 1995/01/16 16:53:55;  author: john;  state: Exp;
Added code to save cheat state during save game.
----------------------------
revision 1.266
date: 1995/01/15 19:42:10;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.265
date: 1995/01/15 16:55:06;  author: john;  state: Exp;
Improved mine texture parsing.
----------------------------
revision 1.264
date: 1995/01/15 11:56:24;  author: john;  state: Exp;
Working version of paging.
----------------------------
revision 1.263
date: 1995/01/14 19:16:40;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.262
date: 1995/01/13 17:38:58;  author: yuan;  state: Exp;
Removed Int3() for number players check.
----------------------------
revision 1.261
date: 1995/01/12 12:09:52;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.260
date: 1995/01/05 17:16:08;  author: yuan;  state: Exp;
Removed Int3s.
----------------------------
revision 1.259
date: 1995/01/05 11:34:29;  author: john;  state: Exp;
Took out endlevel save stuff for registered.
----------------------------
revision 1.258
date: 1995/01/04 19:00:16;  author: rob;  state: Exp;
Added some debugging for two bugs.
----------------------------
revision 1.257
date: 1995/01/04 13:18:18;  author: john;  state: Exp;
Added cool 6 game save.
----------------------------
revision 1.256
date: 1995/01/04 08:46:18;  author: rob;  state: Exp;
JOHN CHECKED IN FOR ROB !!!
----------------------------
revision 1.255
date: 1995/01/02 20:07:35;  author: rob;  state: Exp;
Added score syncing.
Get rid of endlevel score for coop games (put it back in elsewhere)
----------------------------
revision 1.254
date: 1995/01/02 16:17:43;  author: mike;  state: Exp;
init super boss.
----------------------------
revision 1.253
date: 1994/12/21 21:08:47;  author: rob;  state: Exp;
fixed a bug in coop player ship positions.
----------------------------
revision 1.252
date: 1994/12/21 12:57:08;  author: rob;  state: Exp;
Handle additional player ships in mines.
=============================================================================
RCS file: f:/miner/source/main/gameseq.h,v
Working file: main/gameseq.h
head: 2.0
branch:
description: Prototypes for functions for game sequencing.
----------------------------
revision 2.0
date: 1995/02/27 11:32:03;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.41
date: 1995/02/07 10:51:54;  author: rob;  state: Exp;
fix typo.
----------------------------
revision 1.40
date: 1995/02/06 20:10:16;  author: rob;  state: Exp;
Extern'ed DoEndLevelScoreGlitz.
----------------------------
revision 1.39
date: 1995/02/01 16:34:13;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.38
date: 1995/01/27 11:15:03;  author: rob;  state: Exp;
Added extern for player position vars.
----------------------------
revision 1.37
date: 1995/01/20 22:47:38;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.36
date: 1995/01/17 13:36:08;  author: john;  state: Exp;
Moved pig loading into StartNewLevelSub.
----------------------------
revision 1.35
date: 1995/01/04 12:21:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1995/01/04 12:20:47;  author: john;  state: Exp;
Declearations to work better with game state save.
----------------------------
revision 1.33
date: 1994/12/08 09:46:35;  author: matt;  state: Exp;
Made level name len a multiple of 4 for alignment
----------------------------
revision 1.32
date: 1994/11/29 16:33:29;  author: rob;  state: Exp;
Added new defines for last_secret_level based on shareware or not shareware.
----------------------------
revision 1.31
date: 1994/11/26 15:30:20;  author: matt;  state: Exp;
Allow escape out of change pilot menu
----------------------------
revision 1.30
date: 1994/11/21 17:29:38;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.29
date: 1994/11/21 15:55:03;  author: matt;  state: Exp;
Corrected LAST_LEVEL
----------------------------
revision 1.28
date: 1994/11/20 22:12:43;  author: mike;  state: Exp;
set LAST_LEVEL based on SHAREWARE.
----------------------------
revision 1.27
date: 1994/11/09 10:55:51;  author: matt;  state: Exp;
Cleaned up initialization for editor -> game transitions
----------------------------
revision 1.26
date: 1994/11/08 17:50:48;  author: rob;  state: Exp;
ADded prototype for StartNewLEvel.
----------------------------
revision 1.25
date: 1994/11/07 17:50:57;  author: rob;  state: Exp;
Added extern prototype for init_player_stats_level called for
network games.
----------------------------
revision 1.24
date: 1994/10/25 15:40:03;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/10/22 00:08:52;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.22
date: 1994/10/18 18:57:08;  author: matt;  state: Exp;
Added main menu option to enter new player name
----------------------------
revision 1.21
date: 1994/10/07 23:37:32;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.20
date: 1994/10/07 16:02:53;  author: matt;  state: Exp;
Loading saved game no longer clears players weapons & other stats
----------------------------
revision 1.19
date: 1994/10/06 14:12:46;  author: matt;  state: Exp;
Added flash effect when player appears
----------------------------
revision 1.18
date: 1994/10/03 13:34:44;  author: matt;  state: Exp;
Added new (and hopefully better) game sequencing functions
----------------------------
revision 1.17
date: 1994/09/30 15:19:53;  author: matt;  state: Exp;
Added new game sequencing functions, but left them disabled for now.
----------------------------
revision 1.16
date: 1994/09/28 17:24:34;  author: matt;  state: Exp;
Added first draft of game save/load system
----------------------------
revision 1.15
date: 1994/09/27 12:29:42;  author: matt;  state: Exp;
Changed level naming
----------------------------
revision 1.14
date: 1994/09/02 11:53:55;  author: mike;  state: Exp;
Rename init_player_stats to init_player_stats_game.
----------------------------
revision 1.13
date: 1994/08/31 20:57:34;  author: matt;  state: Exp;
Cleaned up endlevel/death code
----------------------------
revision 1.12
date: 1994/08/23 18:45:06;  author: yuan;  state: Exp;
Added level 10 capability.. (LEDGES)
----------------------------
revision 1.11
date: 1994/08/18 10:47:38;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.10
date: 1994/08/15 15:24:45;  author: john;  state: Exp;
Made players know who killed them; Disabled cheat menu
during net player; fixed bug with not being able to turn
of invulnerability; Made going into edit/starting new leve
l drop you out of a net game; made death dialog box.
----------------------------
revision 1.9
date: 1994/08/13 12:20:56;  author: john;  state: Exp;
Made the networking uise the Players array.
----------------------------
revision 1.8
date: 1994/07/22 12:36:24;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.7
date: 1994/07/19 20:15:33;  author: matt;  state: Exp;
Name for each level now saved in the .SAV file & stored in Current_level_name
----------------------------
revision 1.6
date: 1994/07/02 13:49:33;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.5
date: 1994/07/02 13:09:52;  author: matt;  state: Exp;
Moved player stats struct from gameseq.h to player.h
----------------------------
revision 1.4
date: 1994/07/01 16:35:35;  author: yuan;  state: Exp;
Added key system
----------------------------
revision 1.3
date: 1994/06/26 14:07:35;  author: matt;  state: Exp;
Added prototypes
----------------------------
revision 1.2
date: 1994/06/24 17:03:56;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.1
date: 1994/06/24 14:13:53;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/garage.c,v
Working file: main/garage.c
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:30:32;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/08/17 16:50:28;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.1
date: 1994/08/16 12:45:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gauges.c,v
Working file: main/gauges.c
head: 2.7
branch:
description: Inferno gauge drivers
----------------------------
revision 2.7
date: 1995/12/19 16:18:33;  author: john;  state: Exp;
Made weapon info align with canvas width, not 315.
----------------------------
revision 2.6
date: 1995/03/21 14:39:25;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.5
date: 1995/03/14 12:31:25;  author: john;  state: Exp;
Prevent negative shields from printing.
----------------------------
revision 2.4
date: 1995/03/10 12:57:58;  author: allender;  state: Exp;
move rear view text up four pixels up when playing back demo
----------------------------
revision 2.3
date: 1995/03/09 11:47:51;  author: john;  state: Exp;
Added HUD for VR helmets.
----------------------------
revision 2.2
date: 1995/03/06 15:23:26;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.1
date: 1995/02/27 13:13:45;  author: john;  state: Exp;
Removed floating point.
----------------------------
revision 2.0
date: 1995/02/27 11:29:06;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.203
date: 1995/02/11 01:56:45;  author: mike;  state: Exp;
move up weapons text on fullscreen hud, missiles was offscreen.
----------------------------
revision 1.202
date: 1995/02/09 13:23:34;  author: rob;  state: Exp;
Added reticle names in demo playback.
----------------------------
revision 1.201
date: 1995/02/08 19:20:46;  author: rob;  state: Exp;
Show cloaked teammates on H
UD.  Get rid of show ID's in anarchy option.
----------------------------
revision 1.200
date: 1995/02/07 21:09:00;  author: mike;  state: Exp;
add flashing to invulnerability and cloak on fullscreen.
----------------------------
revision 1.199
date: 1995/02/02 21:55:57;  author: matt;  state: Exp;
Added new colored key icons for fullscreen
----------------------------
revision 1.198
date: 1995/01/30 17:17:07;  author: rob;  state: Exp;
Fixed teammate names on hud.
----------------------------
revision 1.197
date: 1995/01/28 17:40:49;  author: mike;  state: Exp;
fix gauge fontcolor.
----------------------------
revision 1.196
date: 1995/01/27 17:03:14;  author: mike;  state: Exp;
fix placement of weapon info in multiplayer fullscreen, as per AP request.
----------------------------
revision 1.195
date: 1995/01/27 11:51:23;  author: rob;  state: Exp;
Put deaths tally into cooperative mode
----------------------------
revision 1.194
date: 1995/01/27 11:43:24;  author: adam;  state: Exp;
fiddled with key display
----------------------------
revision 1.193
date: 1995/01/25 23:38:35;  author: mike;  state: Exp;
fix keys on fullscreen.
----------------------------
revision 1.192
date: 1995/01/24 22:03:28;  author: mike;  state: Exp;
Lotsa hud stuff, put a lot of messages up.
----------------------------
revision 1.191
date: 1995/01/23 16:47:21;  author: rob;  state: Exp;
Fixed problem with playing extra life noise in coop.
----------------------------
revision 1.190
date: 1995/01/22 16:00:46;  author: mike;  state: Exp;
remove unneeded string.
----------------------------
revision 1.189
date: 1995/01/22 15:58:22;  author: mike;  state: Exp;
localization
----------------------------
revision 1.188
date: 1995/01/20 17:19:45;  author: rob;  state: Exp;
Fixing colors of hud kill list players.
----------------------------
revision 1.187
date: 1995/01/20 09:19:18;  author: allender;  state: Exp;
record player flags when in CM_FULL_SCREEN
----------------------------
revision 1.186
date: 1995/01/19 16:29:09;  author: allender;  state: Exp;
made demo recording of weapon change be in this file for shareware only
----------------------------
revision 1.185
date: 1995/01/19 15:00:33;  author: allender;  state: Exp;
code to record shield, energy, and ammo in fullscreen
----------------------------
revision 1.184
date: 1995/01/19 13:43:13;  author: matt;  state: Exp;
Fixed "cheater" message on HUD
----------------------------
revision 1.183
date: 1995/01/18 16:11:58;  author: mike;  state: Exp;
Don't show added scores of 0.
----------------------------
revision 1.182
date: 1995/01/17 17:42:39;  author: allender;  state: Exp;
do ammo counts in demo recording
----------------------------
revision 1.181
date: 1995/01/16 17:26:25;  author: rob;  state: Exp;
Fixed problem with coloration of team kill list.
----------------------------
revision 1.180
date: 1995/01/16 17:22:39;  author: john;  state: Exp;
Made so that KB and framerate don't collide.
----------------------------
revision 1.179
date: 1995/01/16 14:58:31;  author: matt;  state: Exp;
Changed score_added display to print "Cheater!" when cheats enabled
----------------------------
revision 1.178
date: 1995/01/15 19:42:07;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.177
date: 1995/01/15 19:25:07;  author: mike;  state: Exp;
show vulcan ammo and secondary ammo in fullscreen view.
----------------------------
revision 1.176
date: 1995/01/15 13:16:12;  author: john;  state: Exp;
Made so that paging always happens, lowmem just loads less.
Also, make KB load print to hud.
----------------------------
revision 1.175
date: 1995/01/14 19:17:32;  author: john;  state: Exp;
First version of piggy paging.
----------------------------
revision 1.174
date: 1995/01/05 21:25:23;  author: rob;  state: Exp;
Re-did some changes lost due to RCS weirdness.
----------------------------
revision 1.173
date: 1995/01/05 12:22:34;  author: rob;  state: Exp;
Don't show player names for cloaked players.
----------------------------
revision 1.172
date: 1995/01/04 17:14:50;  author: allender;  state: Exp;
make init_gauges work properly on demo playback
----------------------------
revision 1.171
date: 1995/01/04 15:04:42;  author: allender;  state: Exp;
new demo calls for registered version
----------------------------
revision 1.167
date: 1995/01/03 13:03:57;  author: allender;  state: Exp;
pass score points instead of total points.   Added ifdef for
multi_send_score
----------------------------
revision 1.166
date: 1995/01/03 11:45:02;  author: allender;  state: Exp;
add hook to record player score
----------------------------
revision 1.165
date: 1995/01/03 11:25:19;  author: allender;  state: Exp;
remove newdemo stuff around score display
----------------------------
revision 1.163
date: 1995/01/02 21:03:53;  author: rob;  state: Exp;
Fixing up the hud-score-list for coop games.
----------------------------
revision 1.162
date: 1994/12/31 20:54:40;  author: rob;  state: Exp;
Added coop mode HUD score list.
Added more generic system for player names on HUD.
----------------------------
revision 1.161
date: 1994/12/30 20:13:01;  author: rob;  state: Exp;
Ifdef reticle names on shareware.
Added robot reticle naming.
----------------------------
revision 1.160
date: 1994/12/29 17:53:51;  author: mike;  state: Exp;
move up energy/shield in fullscreen to get out of way of kill list.
----------------------------
revision 1.159
date: 1994/12/29 16:44:05;  author: mike;  state: Exp;
add energy and shield showing.
----------------------------
revision 1.158
date: 1994/12/28 16:34:29;  author: mike;  state: Exp;
make warning beep go away on Player_is_dead.
----------------------------
revision 1.157
date: 1994/12/28 10:00:43;  author: allender;  state: Exp;
change in init_gauges to for multiplayer demo playbacks
----------------------------
revision 1.156
date: 1994/12/27 11:06:46;  author: allender;  state: Exp;
removed some previous code to for demo playback stuff
----------------------------
revision 1.155
date: 1994/12/23 14:23:06;  author: john;  state: Exp;
Added floating reticle for VR helments.  
----------------------------
revision 1.154
date: 1994/12/21 12:56:41;  author: allender;  state: Exp;
on multiplayer demo playback, show kills and deaths
----------------------------
revision 1.153
date: 1994/12/19 20:28:42;  author: rob;  state: Exp;
Get rid of kill list in coop games.
----------------------------
revision 1.152
date: 1994/12/14 18:06:44;  author: matt;  state: Exp;
Removed compile warnings
----------------------------
revision 1.151
date: 1994/12/14 15:21:28;  author: rob;  state: Exp;
Made gauges align in status_bar net game.
----------------------------
revision 1.150
date: 1994/12/12 17:20:33;  author: matt;  state: Exp;
Don't get bonus points when cheating
----------------------------
revision 1.149
date: 1994/12/12 16:47:00;  author: matt;  state: Exp;
When cheating, get no score.  Change level cheat to prompt for and 
jump to new level.
----------------------------
revision 1.148
date: 1994/12/12 12:05:45;  author: rob;  state: Exp;
Grey out players who are disconnected.
----------------------------
revision 1.147
date: 1994/12/09 16:19:48;  author: yuan;  state: Exp;
kill matrix stuff.
----------------------------
revision 1.146
date: 1994/12/09 16:12:34;  author: rob;  state: Exp;
Fixed up the status bar kills gauges for net play.
----------------------------
revision 1.145
date: 1994/12/09 01:55:34;  author: rob;  state: Exp;
Added kills list to HUD/status bar.
Added something for Mark.
----------------------------
revision 1.144
date: 1994/12/08 21:03:30;  author: allender;  state: Exp;
pass old player flags to record_player_flags
----------------------------
revision 1.143
date: 1994/12/07 22:49:33;  author: mike;  state: Exp;
no homing missile warning during endlevel sequence.
----------------------------
revision 1.142
date: 1994/12/06 13:55:31;  author: matt;  state: Exp;
Use new rounding func, f2ir()
----------------------------
revision 1.141
date: 1994/12/03 19:03:37;  author: matt;  state: Exp;
Fixed vulcan ammo HUD message
----------------------------
revision 1.140
date: 1994/12/03 18:43:18;  author: matt;  state: Exp;
Fixed (hopefully) claok gauge
----------------------------
revision 1.139
date: 1994/12/03 14:26:21;  author: yuan;  state: Exp;
Fixed dumb bug
----------------------------
revision 1.138
date: 1994/12/03 14:17:30;  author: yuan;  state: Exp;
Localization 320
=============================================================================
RCS file: f:/miner/source/main/gauges.h,v
Working file: main/gauges.h
head: 2.0
branch:
description: Prototypes and defines for gauges
----------------------------
revision 2.0
date: 1995/02/27 11:28:45;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.27
date: 1994/12/14 18:06:39;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.26
date: 1994/12/09 16:19:52;  author: yuan;  state: Exp;
kill matrix stuff.
----------------------------
revision 1.25
date: 1994/10/25 11:07:34;  author: mike;  state: Exp;
Prototype play_homing_warning.
----------------------------
revision 1.24
date: 1994/10/24 16:34:39;  author: mike;  state: Exp;
Increase MAX_GAUGE_BMS from 56 to 80...
----------------------------
revision 1.23
date: 1994/10/21 20:43:47;  author: mike;  state: Exp;
Prototype add_bonus_points_to_score.
----------------------------
revision 1.22
date: 1994/10/14 15:56:33;  author: mike;  state: Exp;
Prototype update_laser_weapon_info.
----------------------------
revision 1.21
date: 1994/10/13 15:17:26;  author: mike;  state: Exp;
Remove afterburner references.
----------------------------
revision 1.20
date: 1994/10/05 17:09:46;  author: matt;  state: Exp;
Added functional reticle
----------------------------
revision 1.19
date: 1994/10/04 21:41:29;  author: matt;  state: Exp;
Added cloaked player gauge effect, and different ship bitmap for each player
----------------------------
revision 1.18
date: 1994/09/26 13:29:40;  author: matt;  state: Exp;
Added extra life each 100,000 points, and show icons on HUD for num lives
----------------------------
revision 1.17
date: 1994/09/20 11:56:08;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.16
date: 1994/09/20 00:11:03;  author: matt;  state: Exp;
Finished gauges for Status Bar, including hostage video display.
----------------------------
revision 1.15
date: 1994/09/17 23:57:18;  author: matt;  state: Exp;
Got some, but not all, off the status bar gauges working
----------------------------
revision 1.14
date: 1994/09/16 13:08:46;  author: mike;  state: Exp;
Prototype say_afterburner_status.
----------------------------
revision 1.13
date: 1994/09/14 16:27:03;  author: mike;  state: Exp;
Prototype player_dead_message();
----------------------------
revision 1.12
date: 1994/07/20 17:34:43;  author: yuan;  state: Exp;
Some minor bug fixes and new key gauges...
----------------------------
revision 1.11
date: 1994/07/14 14:46:02;  author: yuan;  state: Exp;
Added score effect.
----------------------------
revision 1.10
date: 1994/07/12 16:22:00;  author: yuan;  state: Exp;
Increased number of maximum gauges.
----------------------------
revision 1.9
date: 1994/07/11 20:10:36;  author: yuan;  state: Exp;
Numerical gauges.
----------------------------
revision 1.8
date: 1994/07/10 18:01:28;  author: yuan;  state: Exp;
Added new gauges.
----------------------------
revision 1.7
date: 1994/06/21 15:08:22;  author: john;  state: Exp;
Made demo record HUD message and cleaned up the HUD code.
----------------------------
revision 1.6
date: 1994/06/21 12:40:46;  author: yuan;  state: Exp;
Fixing HUD message.
----------------------------
revision 1.5
date: 1994/06/21 12:11:56;  author: yuan;  state: Exp;
Fixed up menus and added HUDisplay messages.
----------------------------
revision 1.4
date: 1994/04/28 21:34:24;  author: mike;  state: Exp;
prototype check_erase_gauge
----------------------------
revision 1.3
date: 1994/04/06 14:42:46;  author: yuan;  state: Exp;
Adding new powerups.
----------------------------
revision 1.2
date: 1993/12/05 22:48:58;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.1
date: 1993/12/05 21:07:55;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/gamemine.c,v
Working file: main/gamemine.c
head: 1.45
branch:
description: Functions for loading mines in the game
----------------------------
revision 1.45
date: 1994/10/27 18:51:42;  author: john;  state: Exp;
Added -piglet option that only loads needed textures for a 
mine.  Only saved ~1MB, and code still doesn't free textures
before you load a new mine.
----------------------------
revision 1.44
date: 1994/10/20 12:47:22;  author: matt;  state: Exp;
Replace old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.43
date: 1994/10/19 16:46:40;  author: matt;  state: Exp;
Made tmap overrides for robots remap texture numbers
----------------------------
revision 1.42
date: 1994/10/03 23:37:01;  author: mike;  state: Exp;
Adapt to changed fuelcen_activate parameters.
----------------------------
revision 1.41
date: 1994/09/23 22:14:49;  author: matt;  state: Exp;
Took out obsolete structure fields
----------------------------
revision 1.40
date: 1994/08/01 11:04:11;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.39
date: 1994/07/21 19:01:47;  author: mike;  state: Exp;
Call Lsegment stuff.
=============================================================================
RCS file: f:/miner/source/main/editor/group.c,v
Working file: main/editor/group.c
head: 2.0
branch:
description: group functions
----------------------------
revision 2.0
date: 1995/02/27 11:35:05;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.65
date: 1994/11/27 23:17:21;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.64
date: 1994/11/17 14:48:08;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.63
date: 1994/11/17 11:38:56;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.62
date: 1994/10/27 10:06:20;  author: mike;  state: Exp;
adapt to no inverse table.
----------------------------
revision 1.61
date: 1994/10/03 23:40:08;  author: mike;  state: Exp;
New fuelcen_activate parameters.
----------------------------
revision 1.60
date: 1994/09/28 17:32:01;  author: mike;  state: Exp;
Make group copying work for copying a group's walls.
----------------------------
revision 1.59
date: 1994/09/20 14:35:28;  author: mike;  state: Exp;
Fix bugs in group subtraction code.  Don't allow to attach a group if the attach side is unfree.
----------------------------
revision 1.58
date: 1994/08/25 21:58:07;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.57
date: 1994/08/04 19:12:58;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.56
date: 1994/08/03 15:40:01;  author: mike;  state: Exp;
Enable calls to compress_mine to get rid of bugs in group
copying -- was creating invalid segments.
----------------------------
revision 1.55
date: 1994/06/30 10:59:13;  author: yuan;  state: Exp;
Fixed texture translations.
----------------------------
revision 1.54
date: 1994/06/22 17:36:00;  author: mike;  state: Exp;
Fix bug in group creation, was stuffing first two group segs over number
of segments in group (then number would overwrite them), so there would
be two bogus segments in group, one of which was always 0, the other
would be a small number.
----------------------------
revision 1.53
date: 1994/06/14 17:07:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.52
date: 1994/06/14 16:59:09;  author: mike;  state: Exp;
Fix references to tmap_num2, must strip off orientation bits.
----------------------------
revision 1.51
date: 1994/05/23 14:56:37;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.50
date: 1994/05/19 12:10:01;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.49
date: 1994/05/17 10:33:59;  author: matt;  state: Exp;
Deleted unused get_free_object_num() func.
----------------------------
revision 1.48
date: 1994/05/09 23:34:17;  author: mike;  state: Exp;
Punch all sloppy sides in a group, speed up segment rotation.
----------------------------
revision 1.47
date: 1994/05/06 14:39:56;  author: mike;  state: Exp;
Make objects move and copy with groups.
----------------------------
revision 1.46
date: 1994/05/05 16:05:54;  author: yuan;  state: Exp;
Added fuelcen/repaircens to groups...
Eventually, walls will be added too...
----------------------------
revision 1.45
date: 1994/05/05 12:56:25;  author: yuan;  state: Exp;
Fixed a bunch of group bugs.
----------------------------
revision 1.44
date: 1994/05/04 14:10:04;  author: mike;  state: Exp;
Assert added to prevent bombing out when current_group = -1
----------------------------
revision 1.43
date: 1994/05/02 17:59:18;  author: yuan;  state: Exp;
Changed undo_status into an array rather than malloced pointers.
----------------------------
revision 1.42
date: 1994/05/02 15:23:19;  author: mike;  state: Exp;
Call med_combine_duplicate_vertices in med_copy_group and med_move_group.
----------------------------
revision 1.41
date: 1994/04/27 12:11:23;  author: mike;  state: Exp;
Fix bug in group rotation.
----------------------------
revision 1.40
date: 1994/04/22 10:07:37;  author: yuan;  state: Exp;
Make sure we don't get obj->next equal itself error.
----------------------------
revision 1.39
date: 1994/04/18 17:15:13;  author: yuan;  state: Exp;
Added error checking for select prev, and next group.
=============================================================================
RCS file: f:/miner/source/main/hash.c,v
Working file: main/hash.c
head: 2.0
branch:
description: Functions to do hash table lookup.
----------------------------
revision 2.0
date: 1995/02/27 11:28:01;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/05 23:37:06;  author: matt;  state: Exp;
Took out calls to warning() function
----------------------------
revision 1.4
date: 1994/05/09 20:02:33;  author: john;  state: Exp;
Fixed bug w/ upper/lower case.
----------------------------
revision 1.3
date: 1994/05/06 15:31:51;  author: john;  state: Exp;
Don't add duplicate names to the hash table.
----------------------------
revision 1.2
date: 1994/05/03 16:45:35;  author: john;  state: Exp;
Added hash table lookup to speed up loading.
----------------------------
revision 1.1
date: 1994/05/03 10:36:41;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/hash.h,v
Working file: main/hash.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:26:46;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/05/03 16:45:24;  author: john;  state: Exp;
Added hash table lookup to speed up loading.
----------------------------
revision 1.1
date: 1994/05/03 11:35:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/hostage.c,v
Working file: main/hostage.c
head: 2.0
branch:
description: Code to render and manipulate hostages
----------------------------
revision 2.0
date: 1995/02/27 11:28:36;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.65
date: 1995/02/22 13:45:54;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.64
date: 1995/02/13 20:34:57;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.63
date: 1995/01/15 19:41:48;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.62
date: 1995/01/14 19:16:53;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.61
date: 1994/12/19 16:35:09;  author: john;  state: Exp;
Made hoastage playback end when ship dies.
----------------------------
revision 1.60
date: 1994/12/06 16:30:41;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.59
date: 1994/11/30 17:32:46;  author: matt;  state: Exp;
Put hostage_face_clip array back in so editor would work
----------------------------
revision 1.58
date: 1994/11/30 17:22:13;  author: matt;  state: Exp;
Ripped out hostage faces in shareware version
----------------------------
revision 1.57
date: 1994/11/30 16:11:25;  author: matt;  state: Exp;
Use correct constant for hostage voice
----------------------------
revision 1.56
date: 1994/11/27 23:15:19;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.55
date: 1994/11/19 19:53:44;  author: matt;  state: Exp;
Added code to full support different hostage head clip & message for
each hostage.
----------------------------
revision 1.54
date: 1994/11/19 16:35:15;  author: matt;  state: Exp;
Got rid of unused code, & made an array smaller
----------------------------
revision 1.53
date: 1994/11/14 12:42:03;  author: matt;  state: Exp;
Increased palette flash when hostage rescued
----------------------------
revision 1.52
date: 1994/10/28 14:43:09;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.51
date: 1994/10/23 02:10:57;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.50
date: 1994/10/22 00:08:44;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.49
date: 1994/10/20 22:52:49;  author: matt;  state: Exp;
Fixed compiler warnings
----------------------------
revision 1.48
date: 1994/10/20 21:25:44;  author: matt;  state: Exp;
Took out silly scale down/scale up code for hostage anim
----------------------------
revision 1.47
date: 1994/10/20 12:47:28;  author: matt;  state: Exp;
Replace old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.46
date: 1994/10/04 15:33:33;  author: john;  state: Exp;
Took out the old PLAY_SOUND??? code and replaced it
with direct calls into digi_link_??? so that all sounds
can be made 3d.
----------------------------
revision 1.45
date: 1994/09/28 23:10:46;  author: matt;  state: Exp;
Made hostage rescue do palette flash
----------------------------
revision 1.44
date: 1994/09/20 00:11:00;  author: matt;  state: Exp;
Finished gauges for Status Bar, including hostage video display.
----------------------------
revision 1.43
date: 1994/09/15 21:24:19;  author: matt;  state: Exp;
Changed system to keep track of whether & what cockpit is up
Made hostage clip not queue when no cockpit
----------------------------
revision 1.42
date: 1994/08/25 13:45:19;  author: matt;  state: Exp;
Made hostage vclips queue
----------------------------
revision 1.41
date: 1994/08/14 23:15:06;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.40
date: 1994/08/12 22:41:11;  author: john;  state: Exp;
Took away Player_stats; add Players array.
----------------------------
revision 1.39
date: 1994/07/14 22:06:35;  author: john;  state: Exp;
Fix radar/hostage vclip conflict.
----------------------------
revision 1.38
date: 1994/07/12 18:40:21;  author: yuan;  state: Exp;
Tweaked location of radar and hostage screen... 
Still needs work.
----------------------------
revision 1.37
date: 1994/07/07 09:52:17;  author: john;  state: Exp;
Moved hostage screen.
----------------------------
revision 1.36
date: 1994/07/06 15:23:52;  author: john;  state: Exp;
Revamped hostage sound.
----------------------------
revision 1.35
date: 1994/07/06 15:14:54;  author: john;  state: Exp;
Added hostage sound effect picking.
----------------------------
revision 1.34
date: 1994/07/06 13:25:33;  author: john;  state: Exp;
Added compress hostages functions.
----------------------------
revision 1.33
date: 1994/07/06 12:52:59;  author: john;  state: Exp;
Fixed compiler warnings.
----------------------------
revision 1.32
date: 1994/07/06 12:43:50;  author: john;  state: Exp;
Made generic messages for hostages.
----------------------------
revision 1.31
date: 1994/07/06 10:55:07;  author: john;  state: Exp;
New structures for hostages.
----------------------------
revision 1.30
date: 1994/07/05 12:49:09;  author: john;  state: Exp;
Put functionality of New Hostage spec into code.
----------------------------
revision 1.29
date: 1994/07/02 13:08:47;  author: matt;  state: Exp;
Increment stats when hostage rescued
----------------------------
revision 1.28
date: 1994/07/01 18:07:46;  author: john;  state: Exp;
y
----------------------------
revision 1.27
date: 1994/07/01 18:07:03;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.26
date: 1994/07/01 17:55:26;  author: john;  state: Exp;
First version of not-working hostage system.
----------------------------
revision 1.25
date: 1994/06/27 15:53:21;  author: john;  state: Exp;
#define'd out the newdemo stuff
----------------------------
revision 1.24
date: 1994/06/20 16:08:52;  author: john;  state: Exp;
Added volume control; made doors 3d sounds.
----------------------------
revision 1.23
date: 1994/06/16 10:15:32;  author: yuan;  state: Exp;
Fixed location of face.
----------------------------
revision 1.22
date: 1994/06/15 15:05:33;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.21
date: 1994/06/14 21:15:20;  author: matt;  state: Exp;
Made rod objects draw lighted or not depending on a parameter, so the
materialization effect no longer darkens.
----------------------------
revision 1.20
date: 1994/06/08 18:16:26;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.19
date: 1994/06/02 19:30:08;  author: matt;  state: Exp;
Moved texture-mapped rod drawing stuff (used for hostage & now for the
materialization center) to object.c
=============================================================================
RCS file: f:/miner/source/main/hostage.h,v
Working file: main/hostage.h
head: 2.0
branch:
description: Header for hostage.c
----------------------------
revision 2.0
date: 1995/02/27 11:27:50;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.23
date: 1995/01/15 19:42:06;  author: matt;  state: Exp;
Ripped out hostage faces for registered version
----------------------------
revision 1.22
date: 1994/12/19 16:35:07;  author: john;  state: Exp;
Made hoastage playback end when ship dies.
----------------------------
revision 1.21
date: 1994/11/30 17:22:12;  author: matt;  state: Exp;
Ripped out hostage faces in shareware version
----------------------------
revision 1.20
date: 1994/11/19 19:53:43;  author: matt;  state: Exp;
Added code to full support different hostage head clip & message for
each hostage.
----------------------------
revision 1.19
date: 1994/11/19 16:35:28;  author: matt;  state: Exp;
Got rid of unused code, & made an array smaller
----------------------------
revision 1.18
date: 1994/10/23 02:10:57;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.17
date: 1994/09/20 00:10:37;  author: matt;  state: Exp;
Finished gauges for Status Bar, including hostage video display.
----------------------------
revision 1.16
date: 1994/09/01 10:41:24;  author: matt;  state: Exp;
Sizes for powerups now specified in bitmaps.tbl; blob bitmaps now plot
correctly if width & height of bitmap are different.
----------------------------
revision 1.15
date: 1994/08/14 23:15:14;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.14
date: 1994/07/14 22:06:51;  author: john;  state: Exp;
Fix radar/hostage vclip conflict.
----------------------------
revision 1.13
date: 1994/07/14 22:05:41;  author: john;  state: Exp;
Made radar display not conflict with hostage
vclip talking.
----------------------------
revision 1.12
date: 1994/07/06 13:41:46;  author: matt;  state: Exp;
Added support for bitmap hostages
----------------------------
revision 1.11
date: 1994/07/06 12:43:36;  author: john;  state: Exp;
Made generic messages for hostages.
----------------------------
revision 1.10
date: 1994/07/06 10:55:09;  author: john;  state: Exp;
New structures for hostages.
----------------------------
revision 1.9
date: 1994/07/05 12:48:47;  author: john;  state: Exp;
Put functionality of New Hostage spec into code.
----------------------------
revision 1.8
date: 1994/07/01 17:55:14;  author: john;  state: Exp;
First version of not-working hostage system.
----------------------------
revision 1.7
date: 1994/06/15 14:57:10;  author: john;  state: Exp;
Added triggers to demo recording.
----------------------------
revision 1.6
date: 1994/06/08 18:15:49;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.5
date: 1994/05/02 12:43:06;  author: yuan;  state: Exp;
Fixed warnings.
----------------------------
revision 1.4
date: 1994/04/06 14:42:46;  author: yuan;  state: Exp;
Adding new powerups.
----------------------------
revision 1.3
date: 1994/04/01 11:15:14;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.2
date: 1994/03/31 12:04:35;  author: matt;  state: Exp;
Added prototypes for 2 funcs
----------------------------
revision 1.1
date: 1994/03/31 11:39:24;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/hud.c,v
Working file: main/hud.c
head: 2.2
branch:
description: Routines for displaying HUD messages...
----------------------------
revision 2.2
date: 1995/03/30 16:36:40;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.1
date: 1995/03/06 15:23:50;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:30:41;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.27
date: 1995/01/23 16:51:30;  author: mike;  state: Exp;
Show hud messages on 3d if window in three largest sizes.
----------------------------
revision 1.26
date: 1995/01/17 17:42:45;  author: rob;  state: Exp;
Made message timeout for HUD messages longer.
----------------------------
revision 1.25
date: 1995/01/04 11:39:03;  author: rob;  state: Exp;
Made HUD text get out of the way of large HUD messages.
----------------------------
revision 1.24
date: 1995/01/01 14:20:32;  author: rob;  state: Exp;
longer timer for hud messages.
----------------------------
revision 1.23
date: 1994/12/15 13:04:34;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.22
date: 1994/12/13 12:55:12;  author: mike;  state: Exp;
move press any key to continue message when you are dead to bottom of window.
----------------------------
revision 1.21
date: 1994/12/07 17:08:01;  author: rob;  state: Exp;
removed unnecessary debug info.
----------------------------
revision 1.20
date: 1994/12/07 16:24:16;  author: john;  state: Exp;
Took out code that kept track of messages differently for different
screen modes... I made it so they just draw differently depending on screen mode.
----------------------------
revision 1.19
date: 1994/12/07 15:42:57;  author: rob;  state: Exp;
Added a bunch of debug stuff to look for HUD message problems in net games...
----------------------------
revision 1.18
date: 1994/12/06 16:30:35;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.17
date: 1994/12/05 00:32:36;  author: mike;  state: Exp;
fix randomness of color on status bar hud messages.
----------------------------
revision 1.16
date: 1994/11/19 17:05:53;  author: rob;  state: Exp;
Moved dead_player_message down to avoid overwriting HUD messages.
----------------------------
revision 1.15
date: 1994/11/18 23:37:56;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.14
date: 1994/11/12 16:38:25;  author: mike;  state: Exp;
clear some annoying debug messages.
----------------------------
revision 1.13
date: 1994/11/11 15:36:39;  author: mike;  state: Exp;
write hud messages on background if 3d window small enough
----------------------------
revision 1.12
date: 1994/10/20 09:49:31;  author: mike;  state: Exp;
Reduce number of messages.
----------------------------
revision 1.11
date: 1994/10/17 10:49:15;  author: john;  state: Exp;
Took out some warnings.
----------------------------
revision 1.10
date: 1994/10/17 10:45:13;  author: john;  state: Exp;
Made the player able to abort death by pressing any button or key.
----------------------------
revision 1.9
date: 1994/10/13 15:17:33;  author: mike;  state: Exp;
Remove afterburner references.
----------------------------
revision 1.8
date: 1994/10/11 12:06:32;  author: mike;  state: Exp;
Only show message advertising death sequence abort after player exploded.
----------------------------
revision 1.7
date: 1994/10/10 17:21:53;  author: john;  state: Exp;
Made so instead of saying too many messages, it scrolls off the
oldest message.
----------------------------
revision 1.6
date: 1994/10/07 23:05:39;  author: john;  state: Exp;
Fixed bug with HUD not drawing stuff sometimes...
( I had a circular buffer that I was stepping thru
to draw text that went: for (i=first;i<last;i++)...
duh!! last could be less than first.)
/
----------------------------
revision 1.5
date: 1994/09/16 13:08:20;  author: mike;  state: Exp;
Arcade stuff, afterburner stuff.
----------------------------
revision 1.4
date: 1994/09/14 16:26:57;  author: mike;  state: Exp;
player_dead_message.
----------------------------
revision 1.3
date: 1994/08/18 16:35:45;  author: john;  state: Exp;
Made gauges messages stay up a bit longer.
----------------------------
revision 1.2
date: 1994/08/18 12:10:21;  author: john;  state: Exp;
Made HUD messages scroll.
----------------------------
revision 1.1
date: 1994/08/18 11:22:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/iglasses.c,v
Working file: main/iglasses.c
head: 2.8
branch:
description: Routines for the i-glasses VR stuff.
----------------------------
revision 2.8
date: 1995/03/30 16:36:31;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.7
date: 1995/03/24 13:10:37;  author: john;  state: Exp;
Synced with shareware.
----------------------------
revision 2.6
date: 1995/03/09 18:07:35;  author: john;  state: Exp;
Fixed bug with iglasses tracking not "centering" right.
Made VFX have bright headlight lighting.
----------------------------
revision 2.5
date: 1995/03/09 15:33:23;  author: john;  state: Exp;
Fixed bug with iglasses timeout too long, and objects
disappearing from left eye.
----------------------------
revision 2.4
date: 1995/03/06 15:23:13;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.3
date: 1995/03/03 22:38:30;  author: john;  state: Exp;
Tweaked the filtering,.
----------------------------
revision 2.2
date: 1995/03/03 22:28:22;  author: john;  state: Exp;
Added code to detect invalid serial ports.
----------------------------
revision 2.1
date: 1995/03/03 22:24:00;  author: john;  state: Exp;
Added code to make iglasses work with Greenleaf.
----------------------------
revision 1.2
date: 1995/02/09 22:01:01;  author: john;  state: Exp;
Added i-glasses tracking.
----------------------------
revision 1.1
date: 1995/02/09 15:53:47;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/iglasses.h,v
Working file: main/iglasses.h
head: 2.0
branch:
description: Routines for the i-glasses VR stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:28:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1995/02/09 22:01:01;  author: john;  state: Exp;
Added i-glasses tracking.
----------------------------
revision 1.1
date: 1995/02/09 15:54:01;  author: john;  state: Exp;
Initial revision
head: 2.36
branch:
description: main() for Inferno  
----------------------------
revision 2.36
date: 1996/01/05 16:52:16;  author: john;  state: Exp;
Improved 3d stuff.
----------------------------
revision 2.35
date: 1995/10/07 13:20:06;  author: john;  state: Exp;
Added new modes for LCDBIOS, also added support for -JoyNice,
and added Shift+F1-F4 to controls various stereoscopic params.
----------------------------
revision 2.34
date: 1995/06/26 11:30:57;  author: john;  state: Exp;
Made registration/copyright screen go away after 5 minutes.
----------------------------
revision 2.33
date: 1995/05/31 14:26:55;  author: unknown;  state: Exp;
Fixed ugly spacing.
----------------------------
revision 2.32
date: 1995/05/26 16:15:28;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.31
date: 1995/05/11 13:30:01;  author: john;  state: Exp;
Changed 3dbios detection to work like Didde Kim wanted it to.
----------------------------
revision 2.30
date: 1995/05/08 13:53:50;  author: john;  state: Exp;
Added code to read vipport environemnt variable.
----------------------------
revision 2.29
date: 1995/05/08 11:26:18;  author: john;  state: Exp;
Reversed eyes in 3dmax mode.
----------------------------
revision 2.28
date: 1995/05/08 11:24:06;  author: john;  state: Exp;
Made 3dmax work like Kasan wants it to.
----------------------------
revision 2.27
date: 1995/04/23 16:06:25;  author: john;  state: Exp;
Moved rinvul into modem/null modem menu.
----------------------------
revision 2.26
date: 1995/04/12 13:39:26;  author: john;  state: Exp;
Fixed bug with -lowmem not working.
----------------------------
revision 2.25
date: 1995/04/09 14:43:00;  author: john;  state: Exp;
Made Dynamic sockets not print Msockets for help.
----------------------------
revision 2.24
date: 1995/04/07 16:11:33;  author: john;  state: Exp;
Fixed problem with VFX display when using setup.
----------------------------
revision 2.23
date: 1995/04/06 15:40:51;  author: john;  state: Exp;
Synced VFX with setup #'s.
----------------------------
revision 2.22
date: 1995/04/06 12:12:53;  author: john;  state: Exp;
Fixed some bugs with 3dmax.
----------------------------
revision 2.21
date: 1995/03/30 16:36:51;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.20
date: 1995/03/29 15:33:52;  author: john;  state: Exp;
Added code to parse descent.net file.
----------------------------
revision 2.19
date: 1995/03/28 20:08:21;  author: john;  state: Exp;
Took away alternate server thing.
----------------------------
revision 2.18
date: 1995/03/27 09:43:08;  author: john;  state: Exp;
Added VR Settings in config file.
----------------------------
revision 2.17
date: 1995/03/23 19:02:21;  author: john;  state: Exp;
Added descent.net file use.
----------------------------
revision 2.16
date: 1995/03/23 12:25:11;  author: john;  state: Exp;
Moved IPX stuff into BIOS lib.
----------------------------
revision 2.15
date: 1995/03/21 16:52:34;  author: john;  state: Exp;
Added 320x100.
----------------------------
revision 2.14
date: 1995/03/21 14:40:33;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.13
date: 1995/03/16 23:13:35;  author: john;  state: Exp;
Fixed bug with piggy paging in bitmap not checking for disk
error, hence bogifying textures if you pull the CD out.
----------------------------
revision 2.12
date: 1995/03/16 21:45:22;  author: john;  state: Exp;
Made all paged modes have incompatible menus!
----------------------------
revision 2.11
date: 1995/03/15 15:19:34;  author: john;  state: Exp;
Took out code that changes to exe dir.
----------------------------
revision 2.10
date: 1995/03/15 14:33:37;  author: john;  state: Exp;
Added code to force the Descent CD-rom in the drive.
----------------------------
revision 2.9
date: 1995/03/15 11:41:27;  author: john;  state: Exp;
Better Saturn CD-ROM support.
----------------------------
revision 2.8
date: 1995/03/14 18:24:46;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.7
date: 1995/03/14 16:22:35;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.6
date: 1995/03/13 15:17:19;  author: john;  state: Exp;
Added alternate hogfile directory.
----------------------------
revision 2.5
date: 1995/03/10 13:05:35;  author: john;  state: Exp;
Added code so that palette is correct for VFX1 helmets.
----------------------------
revision 2.4
date: 1995/03/07 15:12:43;  author: john;  state: Exp;
Fixed VFX,3dmax support.
----------------------------
revision 2.3
date: 1995/03/07 14:19:35;  author: mike;  state: Exp;
More destination saturn stuff.
----------------------------
revision 2.2
date: 1995/03/06 16:47:34;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.1
date: 1995/03/06 15:24:06;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:31:29;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.295
date: 1995/02/23 12:02:14;  author: john;  state: Exp;
Made mono  windows smaller.
----------------------------
revision 1.294
date: 1995/02/16 17:35:00;  author: john;  state: Exp;
Added code to allow dynamic socket changing.
----------------------------
revision 1.293
date: 1995/02/14 19:29:29;  author: john;  state: Exp;
Locked down critical error handler.
----------------------------
revision 1.292
date: 1995/02/14 15:29:20;  author: john;  state: Exp;
Added CR-LF to last line of menu help text.
----------------------------
revision 1.291
date: 1995/02/14 11:39:01;  author: john;  state: Exp;
Added polled/bios joystick readers.
----------------------------
revision 1.290
date: 1995/02/13 20:35:03;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.289
date: 1995/02/11 16:20:02;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.288
date: 1995/02/11 15:54:13;  author: rob;  state: Exp;
changed cinvul to rinvul.
----------------------------
revision 1.287
date: 1995/02/11 14:48:43;  author: rob;  state: Exp;
Added max of 314 seconds to control invul. times
----------------------------
revision 1.286
date: 1995/02/11 12:42:01;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.285
date: 1995/02/11 11:36:11;  author: rob;  state: Exp;
Added cinvul option.
----------------------------
revision 1.284
date: 1995/02/10 16:07:45;  author: matt;  state: Exp;
Took 'registered' out of printed info at startup
----------------------------
revision 1.283
date: 1995/02/09 22:00:59;  author: john;  state: Exp;
Added i-glasses tracking.
----------------------------
revision 1.282
date: 1995/02/02 11:11:27;  author: john;  state: Exp;
Added -nocyberman switch.
----------------------------
revision 1.281
date: 1995/02/01 16:35:14;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.280
date: 1995/01/31 02:04:25;  author: matt;  state: Exp;
Fixed up cmdline help
----------------------------
revision 1.279
date: 1995/01/30 16:25:55;  author: john;  state: Exp;
Put back in graphical screen at program end.
----------------------------
revision 1.278
date: 1995/01/28 17:05:50;  author: matt;  state: Exp;
Changed imbedded copyright to use comma instead of hyphen
----------------------------
revision 1.277
date: 1995/01/28 15:57:26;  author: john;  state: Exp;
Made joystick calibration be only when wrong detected in
menu or joystick axis changed.
----------------------------
revision 1.276
date: 1995/01/25 14:37:49;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.275
date: 1995/01/24 18:21:00;  author: john;  state: Exp;
Added Adam's text warning.
----------------------------
revision 1.274
date: 1995/01/22 15:57:20;  author: john;  state: Exp;
Took out code that printed warning out as game exited.
----------------------------
revision 1.273
date: 1995/01/22 13:31:35;  author: matt;  state: Exp;
Added load of mission 0, so there's always a default mission
----------------------------
revision 1.272
date: 1995/01/19 17:00:41;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.271
date: 1995/01/18 11:47:57;  author: adam;  state: Exp;
changed copyright notice
----------------------------
revision 1.270
date: 1995/01/15 13:42:42;  author: john;  state: Exp;
Moved low_mem cutoff higher.
----------------------------
revision 1.269
date: 1995/01/12 18:53:50;  author: john;  state: Exp;
Put ifdef EDITOR around the code that checked for 
a 800x600 mode, because this trashed some people's
computers (maybe) causing the mem allocation error in
mouse.c that many users reported.
----------------------------
revision 1.268
date: 1995/01/12 11:41:42;  author: john;  state: Exp;
Added external control reading.
----------------------------
revision 1.267
date: 1995/01/06 10:26:55;  author: john;  state: Exp;
Added -nodoscheck command line switch.
----------------------------
revision 1.266
date: 1995/01/05 16:59:30;  author: yuan;  state: Exp;
Don't show orderform in editor version.
----------------------------
revision 1.265
date: 1994/12/28 15:33:51;  author: john;  state: Exp;
Added -slowjoy option.
----------------------------
revision 1.264
date: 1994/12/15 16:44:15;  author: matt;  state: Exp;
Added trademark notice
----------------------------
revision 1.263
date: 1994/12/14 20:13:59;  author: john;  state: Exp;
Reduced physical mem requments to 2 MB.
----------------------------
revision 1.262
date: 1994/12/14 19:06:17;  author: john;  state: Exp;
Lowered physical memory requments to 2 MB.
----------------------------
revision 1.261
date: 1994/12/14 09:41:29;  author: allender;  state: Exp;
change to drive and directory (if needed) of command line invocation
so descent can be started from anywhere
----------------------------
revision 1.260
date: 1994/12/13 19:08:59;  author: john;  state: Exp;
Updated memory requirements.
----------------------------
revision 1.259
date: 1994/12/13 17:30:33;  author: john;  state: Exp;
Made the timer rate be changed right after initializing it.
----------------------------
revision 1.258
date: 1994/12/13 02:46:25;  author: matt;  state: Exp;
Added imbedded copyright
----------------------------
revision 1.257
date: 1994/12/13 02:06:46;  author: john;  state: Exp;
Added code to check stack used by descent... initial
check showed stack used 35k/50k, so we decided it wasn't
worth pursuing any more.
----------------------------
revision 1.256
date: 1994/12/11 23:17:54;  author: john;  state: Exp;
Added -nomusic.
Added RealFrameTime.
Put in a pause when sound initialization error.
Made controlcen countdown and framerate use RealFrameTime.
----------------------------
revision 1.255
date: 1994/12/10 00:56:51;  author: matt;  state: Exp;
Added -nomusic to command-line help
----------------------------
revision 1.254
date: 1994/12/08 11:55:11;  author: john;  state: Exp;
Took out low memory print.
----------------------------
revision 1.253
date: 1994/12/08 11:51:00;  author: john;  state: Exp;
Made strcpy only copy corect number of chars,.
----------------------------
revision 1.252
date: 1994/12/08 00:38:29;  author: matt;  state: Exp;
Cleaned up banner messages
----------------------------
revision 1.251
date: 1994/12/07 19:14:52;  author: matt;  state: Exp;
Cleaned up command-line options and command-line help message
----------------------------
revision 1.250
date: 1994/12/06 19:33:28;  author: john;  state: Exp;
Fixed text of message to make more sense.
----------------------------
revision 1.249
date: 1994/12/06 16:30:55;  author: john;  state: Exp;
Neatend mem message,..
----------------------------
revision 1.248
date: 1994/12/06 16:17:35;  author: john;  state: Exp;
Added better mem checking/printing.
----------------------------
revision 1.247
date: 1994/12/06 14:14:37;  author: john;  state: Exp;
Added code to set low mem based on memory.
----------------------------
revision 1.246
date: 1994/12/05 12:29:09;  author: allender;  state: Exp;
removed ifdefs around -norun option
----------------------------
revision 1.245
date: 1994/12/05 00:03:30;  author: matt;  state: Exp;
Added -norun option to exit after writing pig
----------------------------
revision 1.244
date: 1994/12/04 14:47:01;  author: john;  state: Exp;
MAde the intro and menu be the same song.
----------------------------
revision 1.243
date: 1994/12/04 14:36:42;  author: john;  state: Exp;
Added menu music.
----------------------------
revision 1.242
date: 1994/12/02 13:50:17;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.241
date: 1994/12/01 17:28:30;  author: adam;  state: Exp;
added end-shareware stuff
----------------------------
revision 1.240
date: 1994/11/30 12:10:57;  author: adam;  state: Exp;
added support for PCX titles/brief screens
----------------------------
revision 1.239
date: 1994/11/29 15:47:33;  author: matt;  state: Exp;
Moved error_init to start of game, so error message prints last
----------------------------
revision 1.238
date: 1994/11/29 14:19:22;  author: jasen;  state: Exp;
reduced dos mem requirments.
----------------------------
revision 1.237
date: 1994/11/29 03:46:35;  author: john;  state: Exp;
Added joystick sensitivity; Added sound channels to detail menu.  Removed -maxchannels
command line arg.
----------------------------
revision 1.236
date: 1994/11/29 02:50:18;  author: john;  state: Exp;
Increased the amount a joystick has to be off before
asking if they want to recalibrate their joystick.
----------------------------
revision 1.235
date: 1994/11/29 02:01:29;  author: john;  state: Exp;
Corrected some of the Descent command line help items.
----------------------------
revision 1.234
date: 1994/11/29 01:39:56;  author: john;  state: Exp;
Fixed minor bug with vfx_light help not wrapping correctly.
----------------------------
revision 1.233
date: 1994/11/28 21:34:17;  author: john;  state: Exp;
Reduced dos mem rqment to 70k.
----------------------------
revision 1.232
date: 1994/11/28 21:20:38;  author: john;  state: Exp;
First version with memory checking.
----------------------------
revision 1.231
date: 1994/11/28 20:06:21;  author: rob;  state: Exp;
Removed old serial param command line options.
Added -noserial and -nonetwork to help listing.
----------------------------
revision 1.230
date: 1994/11/27 23:15:24;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.229
date: 1994/11/27 20:50:51;  author: matt;  state: Exp;
Don't set mem stuff if no debug
----------------------------
revision 1.228
date: 1994/11/27 18:46:21;  author: matt;  state: Exp;
Cleaned up command-line switches a little
----------------------------
revision 1.227
date: 1994/11/21 17:48:00;  author: matt;  state: Exp;
Added text to specifiy whether shareware or registered version
----------------------------
revision 1.226
date: 1994/11/21 14:44:20;  author: john;  state: Exp;
Fixed some bugs with setting volumes even when -nosound was used. Duh!
----------------------------
revision 1.225
date: 1994/11/21 13:53:42;  author: matt;  state: Exp;
Took out dos extender copyright
----------------------------
revision 1.224
date: 1994/11/21 09:46:54;  author: john;  state: Exp;
Added -showmeminfo parameter.
----------------------------
revision 1.223
date: 1994/11/20 22:12:05;  author: mike;  state: Exp;
Make some stuff dependent on SHAREWARE.
----------------------------
revision 1.222
date: 1994/11/20 21:14:09;  author: john;  state: Exp;
Changed -serial to -noserial.  MAde a 1 sec delay 
before leaving title screen.  Clear keyboard buffer
before asking for player name.
----------------------------
revision 1.221
date: 1994/11/19 15:20:20;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.220
date: 1994/11/17 19:14:29;  author: adam;  state: Exp;
prevented order screen from coming up when -notitles is used
----------------------------
revision 1.219
date: 1994/11/16 11:34:39;  author: john;  state: Exp;
Added -nottitle switch.
----------------------------
revision 1.218
date: 1994/11/16 10:05:53;  author: john;  state: Exp;
Added verbose messages.
----------------------------
revision 1.217
date: 1994/11/15 20:12:34;  author: john;  state: Exp;
Added back in inferno and parallax screens.
----------------------------
revision 1.216
date: 1994/11/15 18:35:30;  author: john;  state: Exp;
Added verbose setting.
----------------------------
revision 1.215
date: 1994/11/15 17:47:44;  author: john;  state: Exp;
Added ordering info screen.
----------------------------
revision 1.214
date: 1994/11/15 08:57:44;  author: john;  state: Exp;
Added MS-DOS version checking and -nonetwork option.
----------------------------
revision 1.213
date: 1994/11/15 08:34:32;  author: john;  state: Exp;
Added better error messages for IPX init.
----------------------------
revision 1.212
date: 1994/11/14 20:14:18;  author: john;  state: Exp;
Fixed some warnings.
----------------------------
revision 1.211
date: 1994/11/14 19:50:49;  author: john;  state: Exp;
Added joystick cal values to descent.cfg.
----------------------------
revision 1.210
date: 1994/11/14 17:56:44;  author: allender;  state: Exp;
make call to ReadConfigFile at startup
----------------------------
revision 1.209
date: 1994/11/14 11:41:55;  author: john;  state: Exp;
Fixed bug with editor/game sequencing.
----------------------------
revision 1.208
date: 1994/11/13 17:05:11;  author: john;  state: Exp;
Made the callsign entry be a list box and gave the ability
to delete players.
----------------------------
revision 1.207
date: 1994/11/13 15:39:22;  author: john;  state: Exp;
Added critical error handler to game.  Took out -editor command line
option because it didn't work anymore and wasn't worth fixing.  Made scores
not use MINER enviroment variable on release version, and made scores
not print an error if there is no descent.hi.
----------------------------
revision 1.206
date: 1994/11/10 20:53:29;  author: john;  state: Exp;
Used new sound install parameters.
----------------------------
revision 1.205
date: 1994/11/10 11:07:52;  author: mike;  state: Exp;
Set default detail level.
----------------------------
revision 1.204
date: 1994/11/09 13:45:43;  author: matt;  state: Exp;
Made -? work again for help
----------------------------
revision 1.203
date: 1994/11/09 10:55:58;  author: matt;  state: Exp;
Cleaned up initialization for editor -> game transitions
----------------------------
revision 1.202
date: 1994/11/07 21:35:47;  author: matt;  state: Exp;
Use new function iff_read_into_bitmap()
----------------------------
revision 1.201
date: 1994/11/05 17:22:16;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.200
date: 1994/11/05 14:05:44;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.199
date: 1994/11/04 14:36:30;  author: allender;  state: Exp;
change Auto_demo meaning to mean autostart from menu only.  Use
FindArgs when searching for AutoDemo from command line.  also,
set N_Players to 1 when starting in editor mode.
----------------------------
revision 1.198
date: 1994/11/02 11:59:49;  author: john;  state: Exp;
Moved menu out of game into inferno main loop.
----------------------------
revision 1.197
date: 1994/11/01 17:57:39;  author: mike;  state: Exp;
-noscreens option to bypass all screens.
----------------------------
revision 1.196
date: 1994/10/28 15:42:34;  author: allender;  state: Exp;
don't register player if Autodemo is on
----------------------------
revision 1.195
date: 1994/10/28 10:58:01;  author: matt;  state: Exp;
Added copyright notice for DOS4GW
----------------------------
revision 1.194
date: 1994/10/20 21:26:48;  author: matt;  state: Exp;
Took out old serial name/number code, and put up message if this
is a marked version.
----------------------------
revision 1.193
date: 1994/10/19 09:52:14;  author: allender;  state: Exp;
Print out who descent.exe belongs to if descent.exe is stamped.
----------------------------
revision 1.192
date: 1994/10/18 16:43:05;  author: allender;  state: Exp;
Added check for identifier stamp and time after which descent will
no longer run.
----------------------------
revision 1.191
date: 1994/10/17 13:07:17;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.190
date: 1994/10/04 10:26:31;  author: matt;  state: Exp;
Support new menu fade in
----------------------------
revision 1.189
date: 1994/10/03 22:58:46;  author: matt;  state: Exp;
Changed some values of game_mode
----------------------------
revision 1.188
date: 1994/10/03 18:55:39;  author: rob;  state: Exp;
Changed defaults for com port settings.
----------------------------
revision 1.187
date: 1994/10/03 13:34:47;  author: matt;  state: Exp;
Added new (and hopefully better) game sequencing functions
----------------------------
revision 1.186
date: 1994/09/30 12:37:28;  author: john;  state: Exp;
Added midi,digi volume to configuration.
----------------------------
revision 1.185
date: 1994/09/30 10:08:48;  author: john;  state: Exp;
Changed sound stuff... made it so the reseting card doesn't hang, 
made volume change only if sound is installed.
----------------------------
revision 1.184
date: 1994/09/28 17:25:00;  author: matt;  state: Exp;
Added first draft of game save/load system
----------------------------
revision 1.183
date: 1994/09/28 16:18:23;  author: john;  state: Exp;
Added capability to play midi song.
----------------------------
revision 1.182
date: 1994/09/28 11:31:18;  author: john;  state: Exp;
Made text output unbuffered.
----------------------------
revision 1.181
date: 1994/09/27 19:23:44;  author: john;  state: Exp;
Added -nojoystick and -nomouse
----------------------------
revision 1.180
date: 1994/09/24 16:55:29;  author: rob;  state: Exp;
No longer open COM port immediately upon program start.
No longer set Network_active is serial_active is set.
----------------------------
revision 1.179
date: 1994/09/24 14:16:30;  author: mike;  state: Exp;
Support new game mode constants.
----------------------------
revision 1.178
date: 1994/09/22 17:52:31;  author: rob;  state: Exp;
Added Findargs hooks for -serial, -speed, and -com.
----------------------------
revision 1.177
date: 1994/09/22 16:14:11;  author: john;  state: Exp;
Redid intro sequecing.
----------------------------
revision 1.176
date: 1994/09/21 16:32:58;  author: john;  state: Exp;
Made mouse and keyboard init after bm_init. Why?
Because it seems to work better under virtual 
memory.
----------------------------
revision 1.175
date: 1994/09/21 16:27:52;  author: john;  state: Exp;
Added mouse_init
----------------------------
revision 1.174
date: 1994/09/20 15:14:10;  author: matt;  state: Exp;
New message for new VFX switches
----------------------------
revision 1.173
date: 1994/09/16 16:14:27;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.172
date: 1994/09/16 11:49:52;  author: john;  state: Exp;
Added first version of arcade joystick support;
Also fixed some bugs in kconfig.c, such as reading non-present
joysticks, which killed frame rate, and not reading key_down_time
when in slide mode or bank mode.
----------------------------
revision 1.171
date: 1994/09/15 16:11:35;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.170
date: 1994/09/12 19:38:23;  author: john;  state: Exp;
Made some stuff that prints to the DOS screen go to the
mono instead, since it really is debugging info.
----------------------------
revision 1.169
date: 1994/08/29 21:18:28;  author: john;  state: Exp;
First version of new keyboard/oystick remapping stuff.
----------------------------
revision 1.168
date: 1994/08/26 13:02:00;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.167
date: 1994/08/24 19:00:23;  author: john;  state: Exp;
Changed key_down_time to return fixed seconds instead of
milliseconds.
----------------------------
revision 1.166
date: 1994/08/18 16:24:20;  author: john;  state: Exp;
changed socket to channel in text.
----------------------------
revision 1.165
date: 1994/08/18 16:16:51;  author: john;  state: Exp;
Added support for different sockets.
----------------------------
revision 1.164
date: 1994/08/18 10:47:53;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.163
date: 1994/08/12 09:15:54;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.162
date: 1994/08/12 03:11:19;  author: john;  state: Exp;
Made network be default off; Moved network options into
main menu.  Made starting net game check that mines are the
same.
----------------------------
revision 1.161
date: 1994/08/10 19:57:05;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.160
date: 1994/08/05 16:30:23;  author: john;  state: Exp;
Added capability to turn off network.
----------------------------
revision 1.159
date: 1994/08/04 19:42:51;  author: matt;  state: Exp;
Moved serial number & name (and version name) from inferno.c to inferno.ini
----------------------------
revision 1.158
date: 1994/08/03 10:30:23;  author: matt;  state: Exp;
Change cybermaxx switches, updated command-line help, and added serial number system
----------------------------
revision 1.157
date: 1994/07/29 18:30:10;  author: matt;  state: Exp;
New parms (lack of parms, actually) for g3_init()
----------------------------
revision 1.156
date: 1994/07/24 00:39:25;  author: matt;  state: Exp;
Added more text to TEX file; make NewGame() take a start level; made game
load/save menus use open/close window funcs.
----------------------------
revision 1.155
date: 1994/07/21 21:31:27;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.154
date: 1994/07/21 18:15:34;  author: matt;  state: Exp;
Ripped out a bunch of unused stuff
----------------------------
revision 1.153
date: 1994/07/21 17:59:10;  author: matt;  state: Exp;
Cleaned up initial mode game/editor code
----------------------------
revision 1.152
date: 1994/07/21 13:11:19;  author: matt;  state: Exp;
Ripped out remants of old demo system, and added demo only system that
disables object movement and game options from menu.
----------------------------
revision 1.151
date: 1994/07/20 15:58:27;  author: john;  state: Exp;
First installment of ipx stuff.
----------------------------
revision 1.150
date: 1994/07/15 16:04:24;  author: matt;  state: Exp;
Changed comment for milestone 3 version
----------------------------
revision 1.149
date: 1994/07/15 13:59:24;  author: matt;  state: Exp;
Fixed stupid mistake I make in the last revision
----------------------------
revision 1.148
date: 1994/07/15 13:20:15;  author: matt;  state: Exp;
Updated comand-line help
----------------------------
revision 1.147
date: 1994/07/14 23:29:43;  author: matt;  state: Exp;
Open two mono debug messages, one for errors & one for spew
----------------------------
revision 1.146
date: 1994/07/09 22:48:05;  author: matt;  state: Exp;
Added localizable text
----------------------------
revision 1.145
date: 1994/07/02 13:49:47;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.144
date: 1994/06/30 20:04:43;  author: john;  state: Exp;
Added -joydef support.
----------------------------
revision 1.143
date: 1994/06/24 17:01:44;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
=============================================================================
RCS file: f:/miner/source/main/inferno.h,v
Working file: main/inferno.h
head: 2.4
branch:
description: Header file for Inferno.  Should be included in all source files. 
=============================================================================
RCS file: f:/miner/source/main/editor/info.c,v
Working file: main/editor/info.c
head: 2.0
branch:
description: Print debugging info in ui.
----------------------------
revision 2.0
date: 1995/02/27 11:35:34;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.42
date: 1995/02/22 15:12:50;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.41
date: 1994/12/08 13:59:39;  author: matt;  state: Exp;
*** empty log message ***
----------------------------
revision 1.40
date: 1994/09/30 00:38:30;  author: mike;  state: Exp;
Fix some diagnostic messages
----------------------------
revision 1.39
date: 1994/09/29 20:13:12;  author: mike;  state: Exp;
Clean up some text, prevent it from writing outside canvas.
----------------------------
revision 1.38
date: 1994/09/29 09:32:17;  author: mike;  state: Exp;
Fix text clipping problem in UI keypad info text.
----------------------------
revision 1.37
date: 1994/09/25 23:42:20;  author: matt;  state: Exp;
Took out references to obsolete constants
----------------------------
revision 1.36
date: 1994/08/25 21:57:05;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.35
date: 1994/08/23 16:39:50;  author: mike;  state: Exp;
mode replaced by behavior in ai_info.
----------------------------
revision 1.34
date: 1994/07/18 10:45:23;  author: mike;  state: Exp;
Fix erase window in texture pads after adding more click-boxes.
----------------------------
revision 1.33
date: 1994/07/15 12:34:10;  author: mike;  state: Exp;
Remove use of AIM_FOLLOW_PATH_CIRCULAR.
----------------------------
revision 1.32
date: 1994/06/17 17:13:46;  author: yuan;  state: Exp;
Fixed text so it doesn't overflow screen
----------------------------
revision 1.31
date: 1994/06/01 17:22:31;  author: matt;  state: Exp;
Set font color before drawing info; got rid of superfluous %d
----------------------------
revision 1.30
date: 1994/05/29 23:40:29;  author: matt;  state: Exp;
Killed reference to now-unused movement type
----------------------------
revision 1.29
date: 1994/05/29 22:52:32;  author: matt;  state: Exp;
Deleted unused stuff
----------------------------
revision 1.28
date: 1994/05/27 10:34:16;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.27
date: 1994/05/17 10:34:35;  author: matt;  state: Exp;
Changed Num_objects to num_objects, since it's not really global anymore
----------------------------
revision 1.26
date: 1994/05/14 17:17:59;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.25
date: 1994/05/12 14:47:07;  author: mike;  state: Exp;
Adjust for Ai_states killed, replaced by field in object structure.
----------------------------
revision 1.24
date: 1994/05/06 12:52:11;  author: yuan;  state: Exp;
Adding some gamesave checks...
----------------------------
revision 1.23
date: 1994/05/03 19:21:28;  author: matt;  state: Exp;
Removed reference to robot flythrough mode, which doesn't exist anymore
----------------------------
revision 1.22
date: 1994/05/03 11:03:06;  author: mike;  state: Exp;
Customize text for segment sizing keypad.
----------------------------
revision 1.21
date: 1994/04/29 15:05:40;  author: yuan;  state: Exp;
More info added...
----------------------------
revision 1.20
date: 1994/04/22 17:45:58;  author: john;  state: Exp;
MAde top 2 bits of paste-ons pick the 
orientation of the bitmap.
----------------------------
revision 1.19
date: 1994/04/20 17:29:30;  author: yuan;  state: Exp;
Added tmap_num info.
----------------------------
revision 1.18
date: 1994/04/13 19:12:55;  author: mike;  state: Exp;
Fix font color problems in keypads.
----------------------------
revision 1.17
date: 1994/04/13 13:26:37;  author: mike;  state: Exp;
Kill a mprintf.
----------------------------
revision 1.16
date: 1994/04/13 13:24:44;  author: mike;  state: Exp;
Separate info display, customize for each keypad.
----------------------------
revision 1.15
date: 1994/03/19 17:21:31;  author: yuan;  state: Exp;
Wall system implemented until specific features need to be added...
(Needs to be hammered on though.)
----------------------------
revision 1.14
date: 1994/02/22 18:13:13;  author: yuan;  state: Exp;
Added tmap number field.
----------------------------
revision 1.13
date: 1994/02/17 09:46:27;  author: matt;  state: Exp;
Removed include of slew.h
----------------------------
revision 1.12
date: 1994/02/16 19:58:56;  author: yuan;  state: Exp;
Added type to info
----------------------------
revision 1.11
date: 1994/02/16 16:48:08;  author: yuan;  state: Exp;
Added Curside.
----------------------------
revision 1.10
date: 1994/02/03 17:26:43;  author: yuan;  state: Exp;
Fixed formatting of vertex numbering.
----------------------------
revision 1.9
date: 1994/01/31 12:17:06;  author: yuan;  state: Exp;
Make sure Num_segments, etc. are drawn.
----------------------------
revision 1.8
date: 1994/01/22 13:43:12;  author: yuan;  state: Exp;
Cosmetic fixes.
----------------------------
revision 1.7
date: 1994/01/21 12:14:59;  author: yuan;  state: Exp;
Fixed cosmetic problem
----------------------------
revision 1.6
date: 1994/01/21 12:01:03;  author: yuan;  state: Exp;
Added segment and vertex info
----------------------------
revision 1.5
date: 1994/01/20 11:28:11;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1994/01/19 10:44:42;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/01/19 10:32:36;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/01/19 09:34:31;  author: john;  state: Exp;
First version.
----------------------------
revision 1.1
date: 1994/01/19 09:30:43;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/info.h,v
Working file: main/editor/info.h
head: 2.0
branch:
description: Header for info.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:32;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/05/14 17:18:17;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:30:39;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/joycal.c,v
Working file: main/joycal.c
head: 2.0
branch:
description: Routines to calibrate the joystick.
----------------------------
revision 2.0
date: 1995/02/27 11:27:48;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.1
date: 1994/11/21 11:55:47;  author: john;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1994/08/17 09:58:04;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/joycal.h,v
Working file: main/joycal.h
head: 1.1
branch:
description: Routines to calibrate the joystick
----------------------------
revision 1.1
date: 1994/08/17 09:58:17;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/joydefs.c,v
Working file: main/joydefs.c
head: 2.2
branch:
description: .
----------------------------
revision 2.2
date: 1995/06/30 12:30:22;  author: john;  state: Exp;
Added -Xname command line.
----------------------------
revision 2.1
date: 1995/04/06 12:13:20;  author: john;  state: Exp;
Made so you can calibrate Gravis Gamepad.
----------------------------
revision 2.0
date: 1995/02/27 11:30:27;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.71
date: 1995/02/12 02:06:10;  author: john;  state: Exp;
Fixed bug with joystick incorrectly asking for
calibration.
----------------------------
revision 1.70
date: 1995/01/28 15:58:07;  author: john;  state: Exp;
Made joystick calibration be only when wrong detected in
menu or joystick axis changed.
----------------------------
revision 1.69
date: 1995/01/25 14:37:55;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.68
date: 1995/01/24 16:34:29;  author: john;  state: Exp;
Made so that if you reconfigure joystick and
add or subtract an axis, it asks for a recalibration
upon leaving.
----------------------------
revision 1.67
date: 1994/12/29 11:08:51;  author: john;  state: Exp;
Fixed Thrustmaster and Logitech Wingman extreme
Hat by reading the y2 axis during the center stage
of the calibration, and using 75, 50, 27, and 3 %
as values for the 4 positions.
----------------------------
revision 1.66
date: 1994/12/15 18:17:39;  author: john;  state: Exp;
Fixed warning with previous.
----------------------------
revision 1.65
date: 1994/12/15 18:15:48;  author: john;  state: Exp;
Made the joy cal only write the .cfg file, not
the player file.
----------------------------
revision 1.64
date: 1994/12/13 14:43:35;  author: john;  state: Exp;
Took out the code in kconfig to build direction array.
Called kc_set_controls after selecting a new control type.
----------------------------
revision 1.63
date: 1994/12/10 12:08:47;  author: john;  state: Exp;
Changed some delays to use TICKER instead of timer_get_fixed_seconds.
----------------------------
revision 1.62
date: 1994/12/09 11:01:07;  author: mike;  state: Exp;
force calibration of joystick on joystick selection from Controls... menu.
----------------------------
revision 1.61
date: 1994/12/07 21:50:27;  author: john;  state: Exp;
Put stop/start time around joystick delay.
----------------------------
revision 1.60
date: 1994/12/07 19:34:39;  author: john;  state: Exp;
Added delay.
----------------------------
revision 1.59
date: 1994/12/07 18:12:14;  author: john;  state: Exp;
NEatened up joy cal.,
----------------------------
revision 1.58
date: 1994/12/07 17:07:51;  author: john;  state: Exp;
Fixed up joy cal.
----------------------------
revision 1.57
date: 1994/12/07 16:48:53;  author: yuan;  state: Exp;
localization
----------------------------
revision 1.56
date: 1994/12/07 16:05:55;  author: john;  state: Exp;
Changed the way joystick calibration works.
----------------------------
revision 1.55
date: 1994/12/06 20:15:22;  author: john;  state: Exp;
Took out code that unpauses songs that were never paused.
----------------------------
revision 1.54
date: 1994/12/06 15:14:09;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.53
date: 1994/12/05 16:29:16;  author: john;  state: Exp;
Took out music pause around the cheat menu.
----------------------------
revision 1.52
date: 1994/12/04 12:39:10;  author: john;  state: Exp;
MAde so that FCS calibration doesn't ask for axis #2.
----------------------------
revision 1.51
date: 1994/12/03 15:14:59;  author: john;  state: Exp;
Took out the delay mentioned previosuly cause it would
cause bigger problems than it helps, especially with netgames.
----------------------------
revision 1.50
date: 1994/12/03 14:16:14;  author: john;  state: Exp;
Put a delay between screens in joy cal to keep Yuan from
double hitting.
----------------------------
revision 1.49
date: 1994/12/03 11:04:06;  author: john;  state: Exp;
Changed newmenu code a bit to fix bug with bogus
backgrounds occcasionally.
----------------------------
revision 1.48
date: 1994/12/02 11:03:44;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.47
date: 1994/12/02 10:50:33;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.46
date: 1994/12/01 12:21:59;  author: john;  state: Exp;
Added code to calibrate 2 joysticks separately.
----------------------------
revision 1.45
date: 1994/12/01 11:52:31;  author: john;  state: Exp;
Added message when you select FCS to say that if
you have WCS, see manuel.
----------------------------
revision 1.44
date: 1994/11/29 02:26:28;  author: john;  state: Exp;
Made the prompts for upper-left, lower right for joy
calibration more obvious.
----------------------------
revision 1.43
date: 1994/11/26 13:13:59;  author: matt;  state: Exp;
Changed "none" option to "keyboard only"
----------------------------
revision 1.42
date: 1994/11/21 19:35:13;  author: john;  state: Exp;
Replaced calls to joy_init with if (joy_present)
----------------------------
revision 1.41
date: 1994/11/21 19:28:34;  author: john;  state: Exp;
Changed warning for no joystick to use nm_messagebox..
----------------------------
revision 1.40
date: 1994/11/21 19:06:25;  author: john;  state: Exp;
Made it so that it only stops sound when your in game mode. 
----------------------------
revision 1.39
date: 1994/11/21 11:47:18;  author: john;  state: Exp;
Made sound pause during joystick calibration.
----------------------------
revision 1.38
date: 1994/11/10 20:34:18;  author: rob;  state: Exp;
Removed menu-specific network mode support in favor in new stuff
in newmenu.c
----------------------------
revision 1.37
date: 1994/11/08 21:21:38;  author: john;  state: Exp;
Made Esc exit joystick calibration.
----------------------------
revision 1.36
date: 1994/11/08 15:14:42;  author: john;  state: Exp;
Added more calls so net doesn't die in net game.
----------------------------
revision 1.35
date: 1994/11/08 14:59:12;  author: john;  state: Exp;
Added code to respond to network while in menus.
----------------------------
revision 1.34
date: 1994/10/24 19:56:32;  author: john;  state: Exp;
Made the new user setup prompt for config options.
----------------------------
revision 1.33
date: 1994/10/22 14:11:52;  author: mike;  state: Exp;
Suppress compiler warning message.
----------------------------
revision 1.32
date: 1994/10/19 12:44:24;  author: john;  state: Exp;
Added hours field to player structure.
----------------------------
revision 1.31
date: 1994/10/17 13:07:13;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.30
date: 1994/10/13 21:41:12;  author: john;  state: Exp;
MAde Esc exit out of joystick calibration.
----------------------------
revision 1.29
date: 1994/10/13 19:22:27;  author: john;  state: Exp;
Added separate config saves for different devices.
Made all the devices work together better, such as mice won't
get read when you're playing with the joystick.
----------------------------
revision 1.28
date: 1994/10/13 11:40:18;  author: john;  state: Exp;
Took out warnings.
----------------------------
revision 1.27
date: 1994/10/13 11:35:23;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.26
date: 1994/10/11 21:29:03;  author: matt;  state: Exp;
Made a bunch of menus have good initial selected values
----------------------------
revision 1.25
date: 1994/10/11 17:08:39;  author: john;  state: Exp;
Added sliders for volume controls.
----------------------------
revision 1.24
date: 1994/10/10 17:59:21;  author: john;  state: Exp;
Neatend previous.
----------------------------
revision 1.23
date: 1994/10/10 17:57:59;  author: john;  state: Exp;
Neatend previous.
----------------------------
revision 1.22
date: 1994/10/10 17:56:11;  author: john;  state: Exp;
Added messagebox that tells that config has been saved.
----------------------------
revision 1.21
date: 1994/09/30 12:37:26;  author: john;  state: Exp;
Added midi,digi volume to configuration.
----------------------------
revision 1.20
date: 1994/09/22 16:14:14;  author: john;  state: Exp;
Redid intro sequecing.
----------------------------
revision 1.19
date: 1994/09/19 18:50:15;  author: john;  state: Exp;
Added switch to disable joystick.
----------------------------
revision 1.18
date: 1994/09/12 11:47:36;  author: john;  state: Exp;
Made stupid cruise work better.  Make kconfig values get
read/written to disk.
----------------------------
revision 1.17
date: 1994/09/10 15:46:47;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.16
date: 1994/09/06 19:35:44;  author: john;  state: Exp;
Fixed bug that didn';t load new size .cal file.
----------------------------
revision 1.15
date: 1994/09/06 14:51:58;  author: john;  state: Exp;
Added sensitivity adjustment, fixed bug with joystick button not
staying down.
----------------------------
revision 1.14
date: 1994/09/02 16:13:47;  author: john;  state: Exp;
Made keys fill in position.
----------------------------
revision 1.13
date: 1994/08/31 17:58:50;  author: john;  state: Exp;
Made a bit simpler.
----------------------------
revision 1.12
date: 1994/08/31 14:17:54;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1994/08/31 14:10:56;  author: john;  state: Exp;
Made keys not work when KEY_DELETE pressed.
----------------------------
revision 1.10
date: 1994/08/31 13:40:47;  author: mike;  state: Exp;
Change constant
----------------------------
revision 1.9
date: 1994/08/31 12:56:27;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1994/08/30 20:38:29;  author: john;  state: Exp;
Add more config stuff..
----------------------------
revision 1.7
date: 1994/08/30 16:37:25;  author: john;  state: Exp;
Added menu options to set controls.
----------------------------
revision 1.6
date: 1994/08/30 09:27:18;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/08/30 09:12:01;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1994/08/29 21:18:32;  author: john;  state: Exp;
First version of new keyboard/oystick remapping stuff.
----------------------------
revision 1.3
date: 1994/08/24 19:00:29;  author: john;  state: Exp;
Changed key_down_time to return fixed seconds instead of
milliseconds.
----------------------------
revision 1.2
date: 1994/08/17 16:50:37;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.1
date: 1994/08/17 10:07:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/joydefs.h,v
Working file: main/joydefs.h
head: 2.0
branch:
description: Variables for joystick settings.
----------------------------
revision 2.0
date: 1995/02/27 11:32:12;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.12
date: 1995/01/25 14:37:52;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.11
date: 1994/10/13 11:35:43;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.10
date: 1994/09/10 15:46:49;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.9
date: 1994/09/06 14:51:29;  author: john;  state: Exp;
Added sensitivity adjustment, fixed bug with joystick button not
staying down.
----------------------------
revision 1.8
date: 1994/08/31 12:56:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/08/30 16:37:07;  author: john;  state: Exp;
Added menu options to set controls.
----------------------------
revision 1.6
date: 1994/08/29 21:18:33;  author: john;  state: Exp;
First version of new keyboard/oystick remapping stuff.
----------------------------
revision 1.5
date: 1994/08/24 19:00:30;  author: john;  state: Exp;
Changed key_down_time to return fixed seconds instead of
milliseconds.
----------------------------
revision 1.4
date: 1994/08/17 16:50:04;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.3
date: 1994/07/01 10:55:18;  author: john;  state: Exp;
Added analog joystick throttle
----------------------------
revision 1.2
date: 1994/06/30 20:04:46;  author: john;  state: Exp;
Added -joydef support.
----------------------------
revision 1.1
date: 1994/06/30 18:08:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kbuild.c,v
Working file: main/editor/kbuild.c
head: 2.0
branch:
description: Functions for building parts of mines.
----------------------------
revision 2.0
date: 1995/02/27 11:35:43;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.20
date: 1995/02/22 11:00:47;  author: yuan;  state: Exp;
prototype include.
----------------------------
revision 1.19
date: 1995/02/22 10:59:01;  author: yuan;  state: Exp;
Save sloppy mine before punching.
----------------------------
revision 1.18
date: 1994/08/25 21:57:56;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.17
date: 1994/05/16 12:00:52;  author: mike;  state: Exp;
Call med_combine_duplicate_vertices before various build functions.
----------------------------
revision 1.16
date: 1994/05/09 23:34:31;  author: mike;  state: Exp;
Punch all sloppy sides in a group.
----------------------------
revision 1.15
date: 1994/02/16 15:23:06;  author: yuan;  state: Exp;
Checking in for editor make.
----------------------------
revision 1.14
date: 1994/01/21 12:01:31;  author: yuan;  state: Exp;
Added clearer editor_status messages (sloppy joint vs. joint)
----------------------------
revision 1.13
date: 1994/01/14 11:59:52;  author: yuan;  state: Exp;
New function in build menu. 
"Punch" through walls to force a joint formation with
closest segment:side, if the closest segment:side allows
a connection.
----------------------------
revision 1.12
date: 1994/01/07 17:45:05;  author: yuan;  state: Exp;
Just changed some tabs and formatting I believe.
----------------------------
revision 1.11
date: 1993/12/06 19:33:36;  author: yuan;  state: Exp;
Fixed autosave stuff so that undo restores Cursegp and
Markedsegp
----------------------------
revision 1.10
date: 1993/12/02 12:39:15;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.9
date: 1993/11/12 14:31:31;  author: yuan;  state: Exp;
Added warn_if_concave_segments.
----------------------------
revision 1.8
date: 1993/11/11 17:12:45;  author: yuan;  state: Exp;
Fixed display of messages, so that concave segment
warning doesn't wipe them out immediately.
----------------------------
revision 1.7
date: 1993/11/09 12:09:28;  author: mike;  state: Exp;
Remove extern for mine_filename, put it in editor.h
----------------------------
revision 1.6
date: 1993/11/08 19:14:06;  author: yuan;  state: Exp;
Added Undo command (not working yet)
----------------------------
revision 1.5
date: 1993/11/05 17:32:36;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.4
date: 1993/11/01 16:53:51;  author: mike;  state: Exp;
Add CreateAdjacentJointsSegment and CreateAdjacentJointsAll
----------------------------
revision 1.3
date: 1993/11/01 11:24:59;  author: mike;  state: Exp;
Add CreateJointAdjacent
----------------------------
revision 1.2
date: 1993/10/29 19:13:11;  author: yuan;  state: Exp;
Added diagnostic messages
----------------------------
revision 1.1
date: 1993/10/13 18:53:27;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/kconfig.c,v
Working file: main/kconfig.c
head: 2.11
branch:
description: Routines to configure keyboard, joystick, etc..
----------------------------
revision 2.11
date: 1995/08/23 16:08:04;  author: john;  state: Exp;
Added version 2 of external controls that passes the ship
position and orientation the drivers.
----------------------------
revision 2.10
date: 1995/07/07 16:48:01;  author: john;  state: Exp;
Fixed bug with new interface.
----------------------------
revision 2.9
date: 1995/07/03 15:02:32;  author: john;  state: Exp;
Added new version of external controls for Cybermouse absolute position.
----------------------------
revision 2.8
date: 1995/06/30 12:30:28;  author: john;  state: Exp;
Added -Xname command line.
----------------------------
revision 2.7
date: 1995/03/30 16:36:56;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.6
date: 1995/03/21 14:39:31;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.5
date: 1995/03/16 10:53:07;  author: john;  state: Exp;
Move VFX center to Shift+Z instead of Enter because
it conflicted with toggling HUD on/off.
----------------------------
revision 2.4
date: 1995/03/10 13:47:24;  author: john;  state: Exp;
Added head tracking sensitivity.
----------------------------
revision 2.3
date: 1995/03/09 18:07:06;  author: john;  state: Exp;
Fixed bug with iglasses tracking not "centering" right.
Made VFX have bright headlight lighting.
----------------------------
revision 2.2
date: 1995/03/08 15:32:39;  author: john;  state: Exp;
Made VictorMaxx head tracking use Greenleaf code.
----------------------------
revision 2.1
date: 1995/03/06 15:23:31;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:29:26;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.105
date: 1995/02/22 14:11:58;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.104
date: 1995/02/13 12:01:56;  author: john;  state: Exp;
Fixed bug with buggin not mmaking player faster.
----------------------------
revision 1.103
date: 1995/02/09 22:00:46;  author: john;  state: Exp;
Added i-glasses tracking.
----------------------------
revision 1.102
date: 1995/01/24 21:25:47;  author: john;  state: Exp;
Fixed bug with slide/bank on not working with
Cyberman heading.,
----------------------------
revision 1.101
date: 1995/01/24 16:09:56;  author: john;  state: Exp;
Fixed bug with Wingman extreme customize text overwriting title.
----------------------------
revision 1.100
date: 1995/01/24 12:37:46;  author: john;  state: Exp;
Made Esc exit key define menu.
----------------------------
revision 1.99
date: 1995/01/23 23:54:43;  author: matt;  state: Exp;
Made keypad enter work
----------------------------
revision 1.98
date: 1995/01/23 16:42:00;  author: john;  state: Exp;
Made the external controls always turn banking off, leveling off
and passed automap state thru to the tsr.
----------------------------
revision 1.97
date: 1995/01/12 11:41:33;  author: john;  state: Exp;
Added external control reading.
----------------------------
revision 1.96
date: 1995/01/05 10:43:58;  author: mike;  state: Exp;
Handle case when timer_get_fixed_seconds() goes negative.  Happens at 9.1
hours.  Previously, joystick would stop functioning.  Now will work.
----------------------------
revision 1.95
date: 1994/12/29 11:17:38;  author: john;  state: Exp;
Took out some warnings and mprintf.
----------------------------
revision 1.94
date: 1994/12/29 11:07:41;  author: john;  state: Exp;
Fixed Thrustmaster and Logitech Wingman extreme
Hat by reading the y2 axis during the center stage
of the calibration, and using 75, 50, 27, and 3 %
as values for the 4 positions.
----------------------------
revision 1.93
date: 1994/12/27 12:16:20;  author: john;  state: Exp;
Fixed bug with slide on not working with joystick or mouse buttons.
----------------------------
revision 1.92
date: 1994/12/20 10:34:15;  author: john;  state: Exp;
Made sensitivity work for mouse & joystick and made
it only affect, pitch, heading, and roll.
----------------------------
revision 1.91
date: 1994/12/16 00:11:23;  author: matt;  state: Exp;
Made delete key act normally when debug out
----------------------------
revision 1.90
date: 1994/12/14 17:41:15;  author: john;  state: Exp;
Added more buttons so that  Yoke would work.
----------------------------
revision 1.89
date: 1994/12/13 17:25:35;  author: allender;  state: Exp;
Added Assert for bogus time for joystick reading.
----------------------------
revision 1.88
date: 1994/12/13 14:48:01;  author: john;  state: Exp;
Took out some debugging mprintf's
----------------------------
revision 1.87
date: 1994/12/13 14:43:02;  author: john;  state: Exp;
Took out the code in kconfig to build direction array.
Called kc_set_controls after selecting a new control type.
----------------------------
revision 1.86
date: 1994/12/13 01:11:32;  author: john;  state: Exp;
Fixed bug with message clearing overwriting 
right border.
----------------------------
revision 1.85
date: 1994/12/12 00:35:58;  author: john;  state: Exp;
Added or thing for keys.
----------------------------
revision 1.84
date: 1994/12/09 17:08:06;  author: john;  state: Exp;
Made mouse a bit less sensitive.
----------------------------
revision 1.83
date: 1994/12/09 16:04:00;  author: john;  state: Exp;
Increased mouse sensitivity.
----------------------------
revision 1.82
date: 1994/12/09 00:41:26;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.81
date: 1994/12/08 11:50:37;  author: john;  state: Exp;
Made strcpy only copy corect number of chars,.
----------------------------
revision 1.80
date: 1994/12/07 16:16:06;  author: john;  state: Exp;
Added command to check to see if a joystick axes has been used.
----------------------------
revision 1.79
date: 1994/12/07 14:52:28;  author: yuan;  state: Exp;
Localization 492
----------------------------
revision 1.78
date: 1994/12/07 13:37:40;  author: john;  state: Exp;
Made the joystick thrust work in reverse.
----------------------------
revision 1.77
date: 1994/12/07 11:28:24;  author: matt;  state: Exp;
Did a little localization support
----------------------------
revision 1.76
date: 1994/12/04 12:30:03;  author: john;  state: Exp;
Made the Thrustmaster stick read every frame, not every 10 frames,
because it uses analog axis as buttons.
----------------------------
revision 1.75
date: 1994/12/03 22:35:25;  author: yuan;  state: Exp;
Localization 412
----------------------------
revision 1.74
date: 1994/12/03 15:39:24;  author: john;  state: Exp;
Made numeric keypad move in conifg.
----------------------------
revision 1.73
date: 1994/12/01 16:23:39;  author: john;  state: Exp;
Fixed include mistake.
----------------------------
revision 1.72
date: 1994/12/01 16:07:57;  author: john;  state: Exp;
Fixed bug that disabled joystick in automap because it used gametime, which is
paused during automap. Fixed be used timer_Get_fixed_seconds instead of GameTime.
----------------------------
revision 1.71
date: 1994/12/01 12:30:49;  author: john;  state: Exp;
Made Ctrl+D delete, not Ctrl+E
----------------------------
revision 1.70
date: 1994/12/01 11:52:52;  author: john;  state: Exp;
Added default values for GamePad.
----------------------------
revision 1.69
date: 1994/11/30 00:59:12;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.68
date: 1994/11/29 03:45:50;  author: john;  state: Exp;
Added joystick sensitivity; Added sound channels to detail menu.  Removed -maxchannels
command line arg.
----------------------------
revision 1.67
date: 1994/11/27 23:13:44;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.66
date: 1994/11/27 19:52:12;  author: matt;  state: Exp;
Made screen shots work in a few more places
----------------------------
revision 1.65
date: 1994/11/22 16:54:50;  author: mike;  state: Exp;
autorepeat on missiles.
----------------------------
revision 1.64
date: 1994/11/21 11:16:17;  author: rob;  state: Exp;
Changed calls to GameLoop to calls to multi_menu_poll and changed
conditions under which they are called.
----------------------------
revision 1.63
date: 1994/11/19 15:14:48;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.62
date: 1994/11/18 23:37:56;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.61
date: 1994/11/17 13:36:35;  author: rob;  state: Exp;
Added better network hook in kconfig menu.
----------------------------
revision 1.60
date: 1994/11/14 20:09:13;  author: john;  state: Exp;
Made Tab be default for automap.
----------------------------
revision 1.59
date: 1994/11/13 16:34:07;  author: matt;  state: Exp;
Fixed victormaxx angle conversions
----------------------------
revision 1.58
date: 1994/11/12 14:47:05;  author: john;  state: Exp;
Added support for victor head tracking.
----------------------------
revision 1.57
date: 1994/11/08 15:14:55;  author: john;  state: Exp;
Added more calls so net doesn't die in net game.
----------------------------
revision 1.56
date: 1994/11/07 14:01:07;  author: john;  state: Exp;
Changed the gamma correction sequencing.
----------------------------
revision 1.55
date: 1994/11/01 16:40:08;  author: john;  state: Exp;
Added Gamma correction.
----------------------------
revision 1.54
date: 1994/10/25 23:09:26;  author: john;  state: Exp;
Made the automap key configurable.
----------------------------
revision 1.53
date: 1994/10/25 13:11:59;  author: john;  state: Exp;
Made keys the way Adam speced 'em for final game.
----------------------------
revision 1.52
date: 1994/10/24 17:44:22;  author: john;  state: Exp;
Added stereo channel reversing.
----------------------------
revision 1.51
date: 1994/10/22 13:23:18;  author: john;  state: Exp;
Made default rear view key be R.
----------------------------
revision 1.50
date: 1994/10/22 13:20:09;  author: john;  state: Exp;
Took out toggle primary/secondary weapons.  Fixed black
background for 'axes' and 'buttons' text.
----------------------------
revision 1.49
date: 1994/10/21 15:20:15;  author: john;  state: Exp;
Made PrtScr do screen dump, not F2.
----------------------------
revision 1.48
date: 1994/10/21 13:41:36;  author: john;  state: Exp;
Allowed F2 to screen dump.
----------------------------
revision 1.47
date: 1994/10/17 13:07:05;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.46
date: 1994/10/14 15:30:22;  author: john;  state: Exp;
Added Cyberman default positions.
----------------------------
revision 1.45
date: 1994/10/14 15:24:54;  author: john;  state: Exp;
Made Cyberman work with config.
----------------------------
revision 1.44
date: 1994/10/14 12:46:04;  author: john;  state: Exp;
Added the ability to reset all to default.
----------------------------
revision 1.43
date: 1994/10/14 12:18:31;  author: john;  state: Exp;
Made mouse invert axis always be 0 or 1.
----------------------------
revision 1.42
date: 1994/10/14 12:16:03;  author: john;  state: Exp;
Changed code so that by doing DEL+F12 saves the current kconfig
values as default. Added support for drop_bomb key.  Took out
unused slots for keyboard.  Made keyboard use control_type of 0
save slots.
----------------------------
revision 1.41
date: 1994/10/13 21:27:02;  author: john;  state: Exp;
Made axis invert value always be 0 or 1.----------------------------
revision 1.40
date: 1994/10/13 20:18:15;  author: john;  state: Exp;
Added some more system keys, such as F? and CAPSLOCK.
----------------------------
revision 1.39
date: 1994/10/13 19:22:29;  author: john;  state: Exp;
Added separate config saves for different devices.
Made all the devices work together better, such as mice won't
get read when you're playing with the joystick.
----------------------------
revision 1.38
date: 1994/10/13 15:41:57;  author: mike;  state: Exp;
Remove afterburner.
=============================================================================
RCS file: f:/miner/source/main/kconfig.h,v
Working file: main/kconfig.h
head: 2.0
branch:
description: Prototypes for reading controls
----------------------------
revision 2.0
date: 1995/02/27 11:29:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.23
date: 1995/01/12 11:41:44;  author: john;  state: Exp;
Added external control reading.
----------------------------
revision 1.22
date: 1994/12/07 16:15:30;  author: john;  state: Exp;
Added command to check to see if a joystick axes has been used.
----------------------------
revision 1.21
date: 1994/11/29 03:46:29;  author: john;  state: Exp;
Added joystick sensitivity; Added sound channels to detail menu.  Removed -maxchannels
command line arg.
----------------------------
revision 1.20
date: 1994/11/22 16:54:45;  author: mike;  state: Exp;
autorepeat on missiles.
----------------------------
revision 1.19
date: 1994/11/07 14:01:27;  author: john;  state: Exp;
Changed the gamma correction sequencing.
----------------------------
revision 1.18
date: 1994/11/01 16:40:02;  author: john;  state: Exp;
Added Gamma correction.
----------------------------
revision 1.17
date: 1994/10/25 23:09:24;  author: john;  state: Exp;
Made the automap key configurable.
----------------------------
revision 1.16
date: 1994/10/24 19:56:51;  author: john;  state: Exp;
Made the new user setup prompt for config options.
----------------------------
revision 1.15
date: 1994/10/24 17:44:18;  author: john;  state: Exp;
Added stereo channel reversing.
----------------------------
revision 1.14
date: 1994/10/22 13:19:33;  author: john;  state: Exp;
Took out toggle primary/secondary weapons.  Fixed black
background for 'axes' and 'buttons' text.
----------------------------
revision 1.13
date: 1994/10/17 13:06:51;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.12
date: 1994/10/14 12:14:47;  author: john;  state: Exp;
Changed code so that by doing DEL+F12 saves the current kconfig
values as default. Added support for drop_bomb key.  Took out
unused slots for keyboard.  Made keyboard use control_type of 0
save slots.
----------------------------
revision 1.11
date: 1994/10/13 19:21:33;  author: john;  state: Exp;
Added separate config saves for different devices.
Made all the devices work together better, such as mice won't
get read when you're playing with the joystick.
----------------------------
revision 1.10
date: 1994/10/13 15:18:41;  author: john;  state: Exp;
Started ripping out old afterburner, show message, show automap
keys in the keyboard config stuff.
----------------------------
revision 1.9
date: 1994/10/13 11:35:27;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.8
date: 1994/10/06 14:10:50;  author: matt;  state: Exp;
New function reset_cruise()
----------------------------
revision 1.7
date: 1994/10/03 14:58:25;  author: john;  state: Exp;
Added rear_view_down_state so that the rear view can
work like the automap.
----------------------------
revision 1.6
date: 1994/09/30 12:37:25;  author: john;  state: Exp;
Added midi,digi volume to configuration.
----------------------------
revision 1.5
date: 1994/09/19 18:49:59;  author: john;  state: Exp;
Added switch to disable joystick.
----------------------------
revision 1.4
date: 1994/09/15 16:11:21;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.3
date: 1994/09/12 11:47:38;  author: john;  state: Exp;
Made stupid cruise work better.  Make kconfig values get
read/written to disk.
----------------------------
revision 1.2
date: 1994/09/10 15:46:55;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.1
date: 1994/09/10 13:51:40;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kcurve.c,v
Working file: main/editor/kcurve.c
head: 2.0
branch:
description: Functions for curve stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:35:29;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.17
date: 1994/08/25 21:56:43;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.16
date: 1994/05/14 17:17:54;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.15
date: 1994/01/28 10:52:24;  author: mike;  state: Exp;
Bind set_average_light_on_curside to DeleteCurve
----------------------------
revision 1.14
date: 1994/01/25 17:34:47;  author: mike;  state: Exp;
Stupidly bound fix_bogus_uvs_all to delete curve.
----------------------------
revision 1.13
date: 1993/12/06 19:34:15;  author: yuan;  state: Exp;
Fixed autosave so that undo restores Cursegp
and Markedsegp
----------------------------
revision 1.12
date: 1993/12/02 12:39:28;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.11
date: 1993/11/12 13:08:38;  author: yuan;  state: Exp;
Fixed warning for concave segment so it appears after any
"less important" diagnostic messages.
----------------------------
revision 1.10
date: 1993/11/11 17:03:25;  author: yuan;  state: Exp;
Fixed undo-status display
----------------------------
revision 1.9
date: 1993/11/11 15:55:11;  author: yuan;  state: Exp;
Added undo messages.
----------------------------
revision 1.8
date: 1993/11/08 19:13:30;  author: yuan;  state: Exp;
Added Undo command (not working yet)
----------------------------
revision 1.7
date: 1993/11/05 17:32:51;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.6
date: 1993/10/29 19:12:41;  author: yuan;  state: Exp;
Added diagnostic messages
----------------------------
revision 1.5
date: 1993/10/29 16:26:30;  author: yuan;  state: Exp;
Added diagnostic messages for curve generation
----------------------------
revision 1.4
date: 1993/10/22 19:47:30;  author: yuan;  state: Exp;
Can't build curve if Marked Seg has a segment attached.
----------------------------
revision 1.3
date: 1993/10/19 20:54:50;  author: matt;  state: Exp;
Changed/cleaned up window updates
----------------------------
revision 1.2
date: 1993/10/14 13:52:17;  author: mike;  state: Exp;
Add return value to AssignTexture
----------------------------
revision 1.1
date: 1993/10/13 18:53:11;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kdefs.h,v
Working file: main/editor/kdefs.h
head: 2.1
branch:
description: Prototypes for functions called from keypresses or buttons.
----------------------------
revision 2.1
date: 1995/03/08 16:07:10;  author: yuan;  state: Exp;
Added segment sizing default functions.
----------------------------
revision 2.0
date: 1995/02/27 11:34:34;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.97
date: 1995/01/12 12:10:22;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.96
date: 1994/10/27 10:06:33;  author: mike;  state: Exp;
kill macro stuff.
----------------------------
revision 1.95
date: 1994/09/26 23:22:59;  author: matt;  state: Exp;
Added functions to keep player's starting position from getting messed up
----------------------------
revision 1.94
date: 1994/09/24 14:15:24;  author: mike;  state: Exp;
Custom colored object support.
----------------------------
revision 1.93
date: 1994/09/23 18:03:52;  author: yuan;  state: Exp;
Finished wall checking code.
----------------------------
revision 1.92
date: 1994/09/14 16:50:49;  author: yuan;  state: Exp;
Added load mine only function
----------------------------
revision 1.91
date: 1994/08/16 18:11:03;  author: yuan;  state: Exp;
Maded C place you in the center of a segment.
----------------------------
revision 1.90
date: 1994/08/15 17:47:55;  author: yuan;  state: Exp;
Added external walls.
----------------------------
revision 1.89
date: 1994/08/03 10:32:10;  author: mike;  state: Exp;
Texture map propagation without uv assignment.
----------------------------
revision 1.88
date: 1994/08/02 14:18:01;  author: mike;  state: Exp;
Add Object dialog.
----------------------------
revision 1.87
date: 1994/07/22 17:19:15;  author: yuan;  state: Exp;
Working on dialog box for refuel/repair/material/control centers.
----------------------------
revision 1.86
date: 1994/07/21 17:26:49;  author: matt;  state: Exp;
When new mine created, the default save filename is now reset
----------------------------
revision 1.85
date: 1994/07/21 12:47:26;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.84
date: 1994/07/14 14:49:19;  author: yuan;  state: Exp;
Added prototype
----------------------------
revision 1.83
date: 1994/07/14 14:43:09;  author: yuan;  state: Exp;
Added new rotation functions
----------------------------
revision 1.82
date: 1994/07/01 17:57:04;  author: john;  state: Exp;
First version of not-working hostage system
----------------------------
revision 1.81
date: 1994/06/21 12:57:27;  author: yuan;  state: Exp;
Remove center from segment function added to menu.
----------------------------
revision 1.80
date: 1994/06/17 16:05:20;  author: mike;  state: Exp;
Prototype set_average_light_on_all_quick.
----------------------------
revision 1.79
date: 1994/05/31 16:43:24;  author: john;  state: Exp;
Added hooks to create materialization centers.
----------------------------
revision 1.78
date: 1994/05/27 10:34:40;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.77
date: 1994/05/25 18:08:44;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.76
date: 1994/05/09 23:34:04;  author: mike;  state: Exp;
SubtractFromGroup, CreateSloppyAdjacentJointsGroup, ClearFoundList
----------------------------
revision 1.75
date: 1994/05/03 18:31:17;  author: mike;  state: Exp;
Add PerturbCurside.
----------------------------
revision 1.74
date: 1994/05/03 11:04:39;  author: mike;  state: Exp;
Add prototypes for new segment sizing functions.
----------------------------
revision 1.73
date: 1994/04/29 10:32:04;  author: yuan;  state: Exp;
Added door 8... Door typing system should be replaced soon.
=============================================================================
RCS file: f:/miner/source/main/editor/kfuncs.c,v
Working file: main/editor/kfuncs.c
head: 2.1
branch:
description: .
----------------------------
revision 2.1
date: 1995/03/08 16:07:23;  author: yuan;  state: Exp;
Added segment sizing default functions.
----------------------------
revision 2.0
date: 1995/02/27 11:34:45;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.112
date: 1995/01/12 12:10:31;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.111
date: 1994/11/27 23:17:16;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.110
date: 1994/11/23 12:17:22;  author: mike;  state: Exp;
bind retmap functions.
----------------------------
revision 1.109
date: 1994/11/19 15:20:54;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.108
date: 1994/11/17 11:39:02;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.107
date: 1994/10/27 10:06:12;  author: mike;  state: Exp;
kill macro stuff.
----------------------------
revision 1.106
date: 1994/10/18 15:31:43;  author: mike;  state: Exp;
Bind mine correction function to test keypad, key=1.
----------------------------
revision 1.105
date: 1994/09/26 23:22:06;  author: matt;  state: Exp;
Added functions to keep player's starting position from getting messed up
----------------------------
revision 1.104
date: 1994/09/24 14:15:41;  author: mike;  state: Exp;
Custom colored object support.
----------------------------
revision 1.103
date: 1994/09/23 18:03:54;  author: yuan;  state: Exp;
Finished wall checking code.
----------------------------
revision 1.102
date: 1994/09/22 19:03:52;  author: mike;  state: Exp;
Test function test_shortpos on ctrl-keypad3
----------------------------
revision 1.101
date: 1994/09/20 14:35:56;  author: mike;  state: Exp;
Bind functions to keypad 2, 3.
----------------------------
revision 1.100
date: 1994/09/15 22:58:10;  author: matt;  state: Exp;
Made new objects be oriented to their segment
Added keypad function to flip an object upside-down
----------------------------
revision 1.99
date: 1994/09/14 16:50:50;  author: yuan;  state: Exp;
Added load mine only function
----------------------------
revision 1.98
date: 1994/08/25 21:57:52;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.97
date: 1994/08/16 18:10:52;  author: yuan;  state: Exp;
Maded C place you in the center of a segment.
----------------------------
revision 1.96
date: 1994/08/15 17:48:01;  author: yuan;  state: Exp;
Added external walls.
----------------------------
revision 1.95
date: 1994/08/13 17:32:38;  author: mike;  state: Exp;
test function.
----------------------------
revision 1.94
date: 1994/08/05 21:17:57;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.93
date: 1994/08/05 18:18:52;  author: matt;  state: Exp;
Made object rotation have 4x resolution, and SHIFT+rotate do old resolution.
----------------------------
revision 1.92
date: 1994/08/03 10:31:06;  author: mike;  state: Exp;
Add texture map propagation without uv assignment.
----------------------------
revision 1.91
date: 1994/08/02 14:17:00;  author: mike;  state: Exp;
Clean up dialog boxes, add one for Matt.
----------------------------
revision 1.90
date: 1994/07/30 17:04:47;  author: mike;  state: Exp;
Bind key for max_depth on path testing.
=============================================================================
RCS file: f:/miner/source/main/editor/kfuncs.h,v
Working file: main/editor/kfuncs.h
head: 2.0
branch:
description: Header for kfuncs.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:33;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/05/14 17:18:18;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:37:14;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kgame.c,v
Working file: main/editor/kgame.c
head: 2.0
branch:
description: Game Loading editor functions
----------------------------
revision 2.0
date: 1995/02/27 11:34:55;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.25
date: 1995/02/23 10:18:05;  author: allender;  state: Exp;
fixed parameter mismatch with compute_segment_center
----------------------------
revision 1.24
date: 1994/11/17 11:38:59;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.23
date: 1994/11/09 11:58:56;  author: matt;  state: Exp;
Fixed small bug
----------------------------
revision 1.22
date: 1994/10/20 12:48:02;  author: matt;  state: Exp;
Replaced old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.21
date: 1994/10/15 19:08:47;  author: mike;  state: Exp;
Fix bug if player object out of mine at save.
----------------------------
revision 1.20
date: 1994/10/13 13:15:43;  author: matt;  state: Exp;
Properly relink player object when bashed for "permanant" position save
----------------------------
revision 1.19
date: 1994/10/11 17:07:23;  author: matt;  state: Exp;
Fixed problem that sometimes caused bad player segnum after compress
----------------------------
revision 1.18
date: 1994/10/08 17:10:40;  author: matt;  state: Exp;
Correctly set current_level_num when loading/creating mine in editor
----------------------------
revision 1.17
date: 1994/09/26 23:46:13;  author: matt;  state: Exp;
Improved player position save code
----------------------------
revision 1.16
date: 1994/09/26 23:22:50;  author: matt;  state: Exp;
Added functions to keep player's starting position from getting messed up
----------------------------
revision 1.15
date: 1994/09/14 16:50:51;  author: yuan;  state: Exp;
Added load mine only function
----------------------------
revision 1.14
date: 1994/07/22 12:36:50;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.13
date: 1994/07/21 17:26:26;  author: matt;  state: Exp;
When new mine created, the default save filename is now reset
----------------------------
revision 1.12
date: 1994/06/03 12:27:05;  author: yuan;  state: Exp;
Fixed restore game state.
----------------------------
revision 1.11
date: 1994/05/30 11:36:09;  author: yuan;  state: Exp;
Do gamesave if new mine is loaded and game is entered...
----------------------------
revision 1.10
date: 1994/05/14 18:00:33;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.9
date: 1994/05/10 12:15:44;  author: yuan;  state: Exp;
Fixed load_game functions to match prototype.
----------------------------
revision 1.8
date: 1994/05/06 12:52:15;  author: yuan;  state: Exp;
Adding some gamesave checks...
----------------------------
revision 1.7
date: 1994/05/04 17:32:05;  author: yuan;  state: Exp;
med_load_game changed to load_game
med_save_game changed to save_game
=============================================================================
RCS file: f:/miner/source/main/editor/khelp.c,v
Working file: main/editor/khelp.c
head: 2.0
branch:
description: Functions for showing help.
----------------------------
revision 2.0
date: 1995/02/27 11:34:27;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.5
date: 1993/12/02 12:39:30;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.4
date: 1993/11/05 17:32:57;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.3
date: 1993/11/03 13:42:41;  author: yuan;  state: Exp;
Updated help commands
----------------------------
revision 1.2
date: 1993/10/22 19:48:07;  author: yuan;  state: Exp;
added ctrl-shift-keypad comment in help.
----------------------------
revision 1.1
date: 1993/10/13 18:53:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/kmatrix.c,v
Working file: main/kmatrix.c
head: 2.3
branch:
description: Kill matrix displayed at end of level.
----------------------------
revision 2.3
date: 1995/05/02 17:01:22;  author: john;  state: Exp;
Fixed bug with kill list not showing up in VFX mode.
----------------------------
revision 2.2
date: 1995/03/21 14:38:20;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.1
date: 1995/03/06 15:22:54;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:25:56;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.19
date: 1995/02/15 14:47:23;  author: john;  state: Exp;
Added code to keep track of kills during endlevel.
----------------------------
revision 1.18
date: 1995/02/08 11:00:06;  author: rob;  state: Exp;
Moved string to localized file
----------------------------
revision 1.17
date: 1995/02/01 23:45:55;  author: rob;  state: Exp;
Fixed string.
----------------------------
revision 1.16
date: 1995/01/30 21:47:11;  author: rob;  state: Exp;
Added a line of instructions.
----------------------------
revision 1.15
date: 1995/01/20 16:58:43;  author: rob;  state: Exp;
careless careless careless... 
----------------------------
revision 1.14
date: 1995/01/20 13:43:48;  author: rob;  state: Exp;
Longer time to view.
----------------------------
revision 1.13
date: 1995/01/20 13:42:34;  author: rob;  state: Exp;
Fixed sorting bug.
----------------------------
revision 1.12
date: 1995/01/19 17:35:21;  author: rob;  state: Exp;
Fixed coloration of player names in team mode.
----------------------------
revision 1.11
date: 1995/01/16 21:26:15;  author: rob;  state: Exp;
Fixed it!!
----------------------------
revision 1.10
date: 1995/01/16 18:55:41;  author: rob;  state: Exp;
Added include of network.h
----------------------------
revision 1.9
date: 1995/01/16 18:22:35;  author: rob;  state: Exp;
Fixed problem with signs.
----------------------------
revision 1.8
date: 1995/01/12 16:07:51;  author: rob;  state: Exp;
ADded sorting before display.
----------------------------
revision 1.7
date: 1995/01/04 08:46:53;  author: rob;  state: Exp;
JOHN CHECKED IN FOR ROB !!!
----------------------------
revision 1.6
date: 1994/12/09 20:17:20;  author: yuan;  state: Exp;
Touched up
----------------------------
revision 1.5
date: 1994/12/09 19:46:35;  author: yuan;  state: Exp;
Localized the sucker.
----------------------------
revision 1.4
date: 1994/12/09 19:24:58;  author: rob;  state: Exp;
Yuan's fix to the centering.
----------------------------
revision 1.3
date: 1994/12/09 19:02:37;  author: yuan;  state: Exp;
Cleaned up a bit.
----------------------------
revision 1.2
date: 1994/12/09 16:19:46;  author: yuan;  state: Exp;
kill matrix stuff.
----------------------------
revision 1.1
date: 1994/12/09 15:08:58;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/kmatrix.h,v
Working file: main/kmatrix.h
head: 2.0
branch:
description: Kill matrix.
----------------------------
revision 2.0
date: 1995/02/27 11:28:51;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1995/02/15 14:47:39;  author: john;  state: Exp;
Added code to keep track of kills during endlevel.
----------------------------
revision 1.2
date: 1994/12/09 16:19:46;  author: yuan;  state: Exp;
kill matrix stuff.
----------------------------
revision 1.1
date: 1994/12/09 15:58:33;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kmine.c,v
Working file: main/editor/kmine.c
head: 2.0
branch:
description: Functions to change entire mines.
----------------------------
revision 2.0
date: 1995/02/27 11:34:22;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.53
date: 1995/02/22 15:04:52;  author: allender;  state: Exp;
remove anonymous unions from vecmat stuff
----------------------------
revision 1.52
date: 1994/11/27 23:17:13;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.51
date: 1994/11/17 14:48:05;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.50
date: 1994/11/17 11:38:49;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.49
date: 1994/10/08 17:10:22;  author: matt;  state: Exp;
Correctly set current_level_num when loading/creating mine in editor
----------------------------
revision 1.48
date: 1994/10/03 11:30:45;  author: matt;  state: Exp;
Fixed problem with permanant player position when creating a new mine
----------------------------
revision 1.47
date: 1994/09/29 17:42:19;  author: matt;  state: Exp;
Cleaned up game_mode a little
----------------------------
revision 1.46
date: 1994/08/18 10:48:21;  author: john;  state: Exp;
Cleaned up game sequencing.
----------------------------
revision 1.45
date: 1994/08/09 16:05:36;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.44
date: 1994/07/22 12:37:06;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.43
date: 1994/07/21 17:26:50;  author: matt;  state: Exp;
When new mine created, the default save filename is now reset
----------------------------
revision 1.42
date: 1994/06/08 14:29:25;  author: matt;  state: Exp;
Took out support for old mine versions
----------------------------
revision 1.41
date: 1994/06/03 12:28:04;  author: yuan;  state: Exp;
Fixed game restore state.
----------------------------
revision 1.40
date: 1994/05/19 12:10:29;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.39
date: 1994/05/14 17:17:56;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.38
date: 1994/05/12 14:47:47;  author: mike;  state: Exp;
New previous mine structure and object structure.
----------------------------
revision 1.37
date: 1994/05/06 12:52:12;  author: yuan;  state: Exp;
Adding some gamesave checks...
----------------------------
revision 1.36
date: 1994/05/05 20:37:02;  author: yuan;  state: Exp;
Added gamesave checks when entering and leaving the game.
Removed Load Game Save Game functions...
Now there is only Load/Save Mine... (equivalent to old Load/Save Game)
----------------------------
revision 1.35
date: 1994/04/27 22:57:54;  author: matt;  state: Exp;
Made sit mine load from path of sit file
----------------------------
revision 1.34
date: 1994/04/21 18:29:55;  author: matt;  state: Exp;
Don't use same variable for mine filename & sit filename
----------------------------
revision 1.33
date: 1994/04/21 18:21:43;  author: matt;  state: Exp;
Strip path from mine filename in sit file
----------------------------
revision 1.32
date: 1994/04/18 10:54:35;  author: mike;  state: Exp;
Add situation save/load
----------------------------
revision 1.31
date: 1994/02/16 16:47:54;  author: yuan;  state: Exp;
Removed temp.min.
----------------------------
revision 1.30
date: 1994/02/16 15:22:51;  author: yuan;  state: Exp;
Checking in for editor make.
----------------------------
revision 1.29
date: 1994/02/09 15:04:23;  author: yuan;  state: Exp;
brought back save ability
----------------------------
revision 1.28
date: 1994/02/08 12:42:45;  author: yuan;  state: Exp;
fixed log.
----------------------------
revision 1.27
date: 1994/02/08 12:41:47;  author: yuan;  state: Exp;
----------------------------
revision 1.26
date: 1994/01/13 13:26:05;  author: yuan;  state: Exp;
Added med_compress_mine when creating new mine or
when loading mine
----------------------------
revision 1.25
date: 1994/01/11 12:03:23;  author: yuan;  state: Exp;
Fixed so that when old mine implementation not in,
message is displayed when you try to load an old mine
----------------------------
revision 1.24
date: 1994/01/11 11:47:57;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/01/05 09:59:56;  author: yuan;  state: Exp;
Added load old mine funciton
----------------------------
revision 1.22
date: 1993/12/16 15:58:08;  author: john;  state: Exp;
moved texture selection page to texpage.c
,
----------------------------
revision 1.21
date: 1993/12/10 14:48:55;  author: mike;  state: Exp;
Kill orthogonal views.
----------------------------
revision 1.20
date: 1993/12/03 16:44:06;  author: yuan;  state: Exp;
Changed some 0.0 return values to 0
----------------------------
revision 1.19
date: 1993/12/02 12:39:34;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.18
date: 1993/11/17 13:14:48;  author: yuan;  state: Exp;
Moved Save Group to group.c
----------------------------
revision 1.17
date: 1993/11/16 17:25:48;  author: yuan;  state: Exp;
Unworking group function added... 
----------------------------
revision 1.16
date: 1993/11/15 14:46:25;  author: john;  state: Exp;
Changed Menu to MenuX
----------------------------
revision 1.15
date: 1993/11/08 19:13:45;  author: yuan;  state: Exp;
Added Undo command (not working yet)
=============================================================================
RCS file: f:/miner/source/main/editor/ksegmove.c,v
Working file: main/editor/ksegmove.c
head: 2.0
branch:
description: Functions for moving segments.
----------------------------
revision 2.0
date: 1995/02/27 11:33:37;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.5
date: 1993/12/02 12:39:36;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.4
date: 1993/11/12 16:40:23;  author: mike;  state: Exp;
Use rotate_segment_new in place of med_rotate_segment_ang.
----------------------------
revision 1.3
date: 1993/11/05 17:32:54;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.2
date: 1993/10/26 11:28:41;  author: mike;  state: Exp;
Write common routine SegOrientCommon so all movement can pass
through the same routine to check for concavity, among other things.
----------------------------
revision 1.1
date: 1993/10/13 18:53:21;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/ksegsel.c,v
Working file: main/editor/ksegsel.c
head: 2.0
branch:
description: Functions for selecting segments
----------------------------
revision 2.0
date: 1995/02/27 11:35:33;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.12
date: 1994/08/25 21:57:02;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.11
date: 1994/05/23 14:48:35;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.10
date: 1993/12/06 19:33:43;  author: yuan;  state: Exp;
Fixed autosave stuff so that undo restores Cursegp and
Markedsegp
----------------------------
revision 1.9
date: 1993/12/02 12:39:37;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.8
date: 1993/11/12 13:08:17;  author: yuan;  state: Exp;
Fixed warning for concave segment so it appears after any
"less important" diagnostic messages.
----------------------------
revision 1.7
date: 1993/11/05 17:32:49;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.6
date: 1993/11/01 09:53:18;  author: mike;  state: Exp;
Write functions get_next_segment and get_previous_segment.
----------------------------
revision 1.5
date: 1993/10/31 18:06:56;  author: mike;  state: Exp;
Only set_view_target_from_segment if in that mode.
----------------------------
revision 1.4
date: 1993/10/28 15:01:09;  author: matt;  state: Exp;
Mucked with update flags
----------------------------
revision 1.3
date: 1993/10/14 18:07:47;  author: mike;  state: Exp;
Change use of CONNECTIVITY to MAX_SIDES_PER_SEGMENT
----------------------------
revision 1.2
date: 1993/10/14 11:47:34;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/10/13 18:53:39;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/ksegsize.c,v
Working file: main/editor/ksegsize.c
head: 2.1
branch:
description: Functions for sizing segments
----------------------------
revision 2.1
date: 1995/03/08 16:07:21;  author: yuan;  state: Exp;
Added segment sizing default functions.
----------------------------
revision 2.0
date: 1995/02/27 11:35:46;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.15
date: 1994/11/17 14:47:42;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.14
date: 1994/08/25 21:57:45;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.13
date: 1994/07/18 10:44:43;  author: mike;  state: Exp;
Fix uv propagation after segment sizing.
----------------------------
revision 1.12
date: 1994/05/04 19:16:34;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1994/05/03 18:31:00;  author: mike;  state: Exp;
Add PerturbCurside.
----------------------------
revision 1.10
date: 1994/05/03 11:05:14;  author: mike;  state: Exp;
Overhaul segment sizing system to allow sizing of non-free vertices,
and also sizing of vertices on a side, edge or a single vertex.
----------------------------
revision 1.9
date: 1993/12/12 17:16:00;  author: mike;  state: Exp;
Kill some mprintf code.
----------------------------
revision 1.8
date: 1993/12/10 11:10:53;  author: mike;  state: Exp;
Fix bugs in tmap propagation in segment sizing.
----------------------------
revision 1.7
date: 1993/12/06 13:25:30;  author: mike;  state: Exp;
Fix bug in setting size of New_segment after segment scale.
----------------------------
revision 1.6
date: 1993/11/17 18:57:52;  author: mike;  state: Exp;
Change scaling to be additive.
----------------------------
revision 1.5
date: 1993/11/12 16:52:57;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/11/05 17:32:47;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.3
date: 1993/10/19 11:22:11;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.2
date: 1993/10/17 14:17:52;  author: mike;  state: Exp;
Add big scale changes for segment.
----------------------------
revision 1.1
date: 1993/10/13 18:53:01;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/ktmap.c,v
Working file: main/editor/ktmap.c
head: 2.0
branch:
description: Texture map key bindings.
----------------------------
revision 2.0
date: 1995/02/27 11:35:37;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.26
date: 1994/08/25 21:57:12;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.25
date: 1994/08/03 10:32:41;  author: mike;  state: Exp;
Texture map stretching.
----------------------------
revision 1.24
date: 1994/05/14 17:17:35;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.23
date: 1994/04/28 10:48:38;  author: yuan;  state: Exp;
Fixed undo message for Clear Texture.
----------------------------
revision 1.22
date: 1994/04/22 17:45:42;  author: john;  state: Exp;
MAde top 2 bits of paste-ons pick the 
orientation of the bitmap.
----------------------------
revision 1.21
date: 1994/04/01 14:36:08;  author: yuan;  state: Exp;
Fixed propogate function so you can propogate and move.
----------------------------
revision 1.20
date: 1994/03/19 17:22:08;  author: yuan;  state: Exp;
Wall system implemented until specific features need to be added...
(Needs to be hammered on though.)
----------------------------
revision 1.19
date: 1994/02/14 12:06:12;  author: mike;  state: Exp;
change segment data structure.
----------------------------
revision 1.18
date: 1994/01/25 17:58:47;  author: yuan;  state: Exp;
Added ambient lighting, and also added fixing bogus segments
functions to the editor... (they don't work fully... need to
check out seguvs.c
----------------------------
revision 1.17
date: 1994/01/24 11:54:52;  author: yuan;  state: Exp;
Checking everything in
----------------------------
revision 1.16
date: 1994/01/18 16:05:57;  author: yuan;  state: Exp;
Added clear texture 2 function (shift 0)
----------------------------
revision 1.15
date: 1994/01/18 10:15:01;  author: yuan;  state: Exp;
added texture stuff
----------------------------
revision 1.14
date: 1993/12/06 19:33:57;  author: yuan;  state: Exp;
Fixed autosave stuff so that undo restores Cursegp and
Markedsegp
----------------------------
revision 1.13
date: 1993/12/02 12:39:39;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.12
date: 1993/11/28 17:31:34;  author: mike;  state: Exp;
Use new segment data structure.
----------------------------
revision 1.11
date: 1993/11/12 16:38:37;  author: mike;  state: Exp;
Change call to med_propagate_tmaps_to_segments to include new uv_only_flag parameter.
----------------------------
revision 1.10
date: 1993/11/11 15:53:30;  author: yuan;  state: Exp;
Fixed undo display message
----------------------------
revision 1.9
date: 1993/11/08 19:13:46;  author: yuan;  state: Exp;
Added Undo command (not working yet)
----------------------------
revision 1.8
date: 1993/11/05 17:32:48;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.7
date: 1993/11/02 10:31:08;  author: mike;  state: Exp;
Add PropagateTexturesSelected.
----------------------------
revision 1.6
date: 1993/10/29 11:43:15;  author: mike;  state: Exp;
Write PropagateTextures
----------------------------
revision 1.5
date: 1993/10/25 13:26:39;  author: mike;  state: Exp;
Force redraw whenever a texture map is assigned.
----------------------------
revision 1.4
date: 1993/10/15 17:42:53;  author: mike;  state: Exp;
Make AssignTexture also assign texture maps to New_segment.
----------------------------
revision 1.3
date: 1993/10/15 13:10:24;  author: mike;  state: Exp;
Adapt AssignTexture to new segment structure.
----------------------------
revision 1.2
date: 1993/10/14 18:09:17;  author: mike;  state: Exp;
Debug code for AssignTexture and comment out code.
----------------------------
revision 1.1
date: 1993/10/14 14:01:49;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kview.c,v
Working file: main/editor/kview.c
head: 2.0
branch:
description: Functions for changing viewer's position
----------------------------
revision 2.0
date: 1995/02/27 11:34:21;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.11
date: 1993/12/02 12:39:41;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.10
date: 1993/11/16 13:47:54;  author: john;  state: Exp;
Xchanged move away/closer
----------------------------
revision 1.9
date: 1993/11/16 13:45:32;  author: john;  state: Exp;
Exchanged zoom in/out.
----------------------------
revision 1.8
date: 1993/11/05 17:32:56;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.7
date: 1993/11/03 12:10:21;  author: yuan;  state: Exp;
No keypress associated with chase mode
----------------------------
revision 1.6
date: 1993/11/02 17:06:55;  author: yuan;  state: Exp;
Icon stuff added.
----------------------------
revision 1.5
date: 1993/11/01 12:48:59;  author: yuan;  state: Exp;
Added Chase mode icon to status bar.
----------------------------
revision 1.4
date: 1993/10/29 19:12:55;  author: yuan;  state: Exp;
Added diagnostic messages
----------------------------
revision 1.3
date: 1993/10/27 18:26:16;  author: matt;  state: Exp;
Made zoom & related keys not do anything if no current view
----------------------------
revision 1.2
date: 1993/10/19 20:54:33;  author: matt;  state: Exp;
Changed/cleaned up window updates
----------------------------
revision 1.1
date: 1993/10/13 18:53:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/texpage.c,v
Working file: main/editor/texpage.c
head: 1.13
branch:
description: Routines for displaying texture pages
----------------------------
revision 1.13
date: 1994/11/27 23:17:15;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.12
date: 1994/11/23 15:49:00;  author: mike;  state: Exp;
fix bug in tmapnum == 0 always getting reassigned.
----------------------------
revision 1.11
date: 1994/11/23 12:17:34;  author: mike;  state: Exp;
changing texture maps in all mines.
----------------------------
revision 1.10
date: 1994/11/19 00:04:42;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.9
date: 1994/11/16 17:59:36;  author: john;  state: Exp;
Fixed bug with writing to canvas before initing it.
----------------------------
revision 1.8
date: 1994/11/16 13:15:21;  author: matt;  state: Exp;
Fixed grab bug, and cleaned up code
----------------------------
revision 1.7
date: 1994/08/05 12:26:37;  author: matt;  state: Exp;
Fixed overplot problem with texture names
----------------------------
revision 1.6
date: 1994/04/11 12:01:58;  author: yuan;  state: Exp;
Fixed resetting to first texture on page annoyance.
----------------------------
revision 1.5
date: 1994/04/01 11:15:53;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.4
date: 1994/03/15 16:33:37;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.3
date: 1993/12/16 17:25:46;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.2
date: 1993/12/16 15:57:39;  author: john;  state: Exp;
moved texture selection stuff to texpage.c
----------------------------
revision 1.1
date: 1993/12/16 15:06:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/object.h,v
Working file: main/object.h
head: 1.122
branch:
description: object system definitions
----------------------------
revision 1.122
date: 1995/02/22 12:35:53;  author: allender;  state: Exp;
remove anonymous unions
----------------------------
revision 1.121
date: 1995/02/06 20:43:25;  author: rob;  state: Exp;
Extern'ed Dead_player_camera so it can be reset by multi.c
----------------------------
revision 1.120
date: 1995/02/01 16:34:07;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.119
date: 1995/01/29 13:46:42;  author: mike;  state: Exp;
adapt to new create_small_fireball_on_object prototype.
----------------------------
revision 1.118
date: 1995/01/26 22:11:27;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.117
date: 1995/01/24 12:09:29;  author: mike;  state: Exp;
Boost MAX_OBJECTS from 250 to 350.
----------------------------
revision 1.116
date: 1995/01/13 19:39:51;  author: rob;  state: Exp;
Removed outdated remote_info structure.  (looking for cause of bugs
----------------------------
revision 1.115
date: 1995/01/12 12:09:38;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.114
date: 1994/12/15 13:04:20;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.113
date: 1994/12/12 17:18:09;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.112
date: 1994/12/09 14:58:42;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.111
date: 1994/12/08 12:35:35;  author: matt;  state: Exp;
Added new object allocation & deallocation functions so other code
could stop messing around with internal object data structures.
----------------------------
revision 1.110
date: 1994/11/21 17:30:21;  author: matt;  state: Exp;
Increased max number of objects
----------------------------
revision 1.109
date: 1994/11/18 23:41:52;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.108
date: 1994/11/10 14:02:45;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.107
date: 1994/11/08 12:19:27;  author: mike;  state: Exp;
Small explosions on objects.
----------------------------
revision 1.106
date: 1994/10/25 10:51:17;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.105
date: 1994/10/21 12:19:41;  author: matt;  state: Exp;
Clear transient objects when saving (& loading) games
----------------------------
revision 1.104
date: 1994/10/21 11:25:04;  author: mike;  state: Exp;
Add IMMORTAL_TIME.
----------------------------
revision 1.103
date: 1994/10/17 21:34:54;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.102
date: 1994/10/14 18:12:28;  author: mike;  state: Exp;
Make egg dropping return object number.
----------------------------
revision 1.101
date: 1994/10/12 21:07:19;  author: matt;  state: Exp;
Killed unused field in object structure
----------------------------
revision 1.100
date: 1994/10/12 10:38:24;  author: mike;  state: Exp;
Add field OF_SILENT to obj->flags.
----------------------------
revision 1.99
date: 1994/10/11 20:35:48;  author: matt;  state: Exp;
Clear "transient" objects (weapons,explosions,etc.) when starting a level
----------------------------
revision 1.98
date: 1994/10/03 20:56:13;  author: rob;  state: Exp;
Added velocity to shortpos strucutre.
----------------------------
revision 1.97
date: 1994/09/30 18:24:00;  author: rob;  state: Exp;
Added new control type CT_REMOTE for remote controlled objects.
Also added a union struct 'remote_info' for this type.
----------------------------
revision 1.96
date: 1994/09/28 09:23:05;  author: mike;  state: Exp;
Prototype Object_type_names.
----------------------------
revision 1.95
date: 1994/09/25 23:32:37;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.94
date: 1994/09/25 15:45:28;  author: matt;  state: Exp;
Added OBJ_LIGHT, a type of object that casts light
Added generalized lifeleft, and moved it to local_object
----------------------------
revision 1.93
date: 1994/09/24 17:41:19;  author: mike;  state: Exp;
Add stuff to Local_object structure for materialization centers.
----------------------------
revision 1.92
date: 1994/09/24 13:16:50;  author: matt;  state: Exp;
Added (hacked in, really) support for overriding the bitmaps used on to
texture map a polygon object, and using a new bitmap for all the faces.
----------------------------
revision 1.91
date: 1994/09/22 19:02:14;  author: mike;  state: Exp;
Prototype functions extract_shortpos and create_shortpos which reside in
gameseg.c, but are prototyped here to prevent circular dependencies.
----------------------------
revision 1.90
date: 1994/09/15 21:47:14;  author: mike;  state: Exp;
Prototype dead_player_end().
----------------------------
revision 1.89
date: 1994/09/15 16:34:47;  author: mike;  state: Exp;
Add danger_laser_num and danger_laser_signature to object_local to
enable robots to efficiently (too efficiently!) avoid player fire.
----------------------------
revision 1.88
date: 1994/09/11 22:46:19;  author: mike;  state: Exp;
Death_sequence_aborted prototyped.
----------------------------
revision 1.87
date: 1994/09/09 20:04:30;  author: mike;  state: Exp;
Add vclips for weapons.
----------------------------
revision 1.86
date: 1994/09/09 14:20:54;  author: matt;  state: Exp;
Added flag that says object uses thrust
----------------------------
revision 1.85
date: 1994/09/08 14:51:32;  author: mike;  state: Exp;
Make a crucial name change to a field of local_object struct.
----------------------------
revision 1.84
date: 1994/09/07 19:16:45;  author: mike;  state: Exp;
Homing missile.
----------------------------
revision 1.83
date: 1994/09/06 17:05:43;  author: matt;  state: Exp;
Added new type for dead player
----------------------------
revision 1.82
date: 1994/09/02 11:56:09;  author: mike;  state: Exp;
Add persistency (PF_PERSISTENT) to physics_info.
----------------------------
revision 1.81
date: 1994/08/28 19:10:28;  author: mike;  state: Exp;
Add Player_is_dead.
----------------------------
revision 1.80
date: 1994/08/18 15:11:44;  author: mike;  state: Exp;
powerup stuff.
----------------------------
revision 1.79
date: 1994/08/15 15:24:54;  author: john;  state: Exp;
Made players know who killed them; Disabled cheat menu
during net player; fixed bug with not being able to turn
of invulnerability; Made going into edit/starting new leve
l drop you out of a net game; made death dialog box.
----------------------------
revision 1.78
date: 1994/08/14 23:15:12;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.77
date: 1994/08/13 14:58:27;  author: matt;  state: Exp;
Finished adding support for miscellaneous objects
----------------------------
revision 1.76
date: 1994/08/09 16:04:13;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.75
date: 1994/08/03 21:06:19;  author: matt;  state: Exp;
Added prototype for fix_object_segs(), and renamed now-unused spawn_pos
----------------------------
revision 1.74
date: 1994/08/02 12:30:27;  author: matt;  state: Exp;
Added support for spinning objects
----------------------------
revision 1.73
date: 1994/07/27 20:53:25;  author: matt;  state: Exp;
Added rotational drag & thrust, so turning now has momemtum like moving
----------------------------
revision 1.72
date: 1994/07/27 19:44:21;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.71
date: 1994/07/22 20:43:29;  author: matt;  state: Exp;
Fixed flares, by adding a physics flag that makes them stick to walls.
----------------------------
revision 1.70
date: 1994/07/21 12:42:10;  author: mike;  state: Exp;
Prototype new find_object_seg and update_object_seg.
----------------------------
revision 1.69
date: 1994/07/19 15:26:39;  author: mike;  state: Exp;
New ai_static structure.
----------------------------
revision 1.68
date: 1994/07/13 00:15:06;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.67
date: 1994/07/12 12:40:12;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.66
date: 1994/07/06 15:26:23;  author: yuan;  state: Exp;
Added chase mode.
=============================================================================
RCS file: f:/miner/source/main/editor/texpage.c,v
Working file: main/editor/texpage.c
head: 1.13
branch:
description: Routines for displaying texture pages
----------------------------
revision 1.13
date: 1994/11/27 23:17:15;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.12
date: 1994/11/23 15:49:00;  author: mike;  state: Exp;
fix bug in tmapnum == 0 always getting reassigned.
----------------------------
revision 1.11
date: 1994/11/23 12:17:34;  author: mike;  state: Exp;
changing texture maps in all mines.
----------------------------
revision 1.10
date: 1994/11/19 00:04:42;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.9
date: 1994/11/16 17:59:36;  author: john;  state: Exp;
Fixed bug with writing to canvas before initing it.
----------------------------
revision 1.8
date: 1994/11/16 13:15:21;  author: matt;  state: Exp;
Fixed grab bug, and cleaned up code
----------------------------
revision 1.7
date: 1994/08/05 12:26:37;  author: matt;  state: Exp;
Fixed overplot problem with texture names
----------------------------
revision 1.6
date: 1994/04/11 12:01:58;  author: yuan;  state: Exp;
Fixed resetting to first texture on page annoyance.
----------------------------
revision 1.5
date: 1994/04/01 11:15:53;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.4
date: 1994/03/15 16:33:37;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.3
date: 1993/12/16 17:25:46;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.2
date: 1993/12/16 15:57:39;  author: john;  state: Exp;
moved texture selection stuff to texpage.c
----------------------------
revision 1.1
date: 1993/12/16 15:06:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/texpage.c,v
Working file: main/editor/texpage.c
head: 1.14
branch:
description: Routines for displaying texture pages
----------------------------
revision 1.14
date: 1995/01/14 19:18:02;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.13
date: 1994/11/27 23:17:15;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.12
date: 1994/11/23 15:49:00;  author: mike;  state: Exp;
fix bug in tmapnum == 0 always getting reassigned.
----------------------------
revision 1.11
date: 1994/11/23 12:17:34;  author: mike;  state: Exp;
changing texture maps in all mines.
----------------------------
revision 1.10
date: 1994/11/19 00:04:42;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.9
date: 1994/11/16 17:59:36;  author: john;  state: Exp;
Fixed bug with writing to canvas before initing it.
----------------------------
revision 1.8
date: 1994/11/16 13:15:21;  author: matt;  state: Exp;
Fixed grab bug, and cleaned up code
----------------------------
revision 1.7
date: 1994/08/05 12:26:37;  author: matt;  state: Exp;
Fixed overplot problem with texture names
----------------------------
revision 1.6
date: 1994/04/11 12:01:58;  author: yuan;  state: Exp;
Fixed resetting to first texture on page annoyance.
----------------------------
revision 1.5
date: 1994/04/01 11:15:53;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.4
date: 1994/03/15 16:33:37;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.3
date: 1993/12/16 17:25:46;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.2
date: 1993/12/16 15:57:39;  author: john;  state: Exp;
moved texture selection stuff to texpage.c
----------------------------
revision 1.1
date: 1993/12/16 15:06:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/laser.c,v
Working file: main/laser.c
head: 2.6
branch:
description: This will contain the laser code
----------------------------
revision 1.1
date: 1993/11/29 17:19:02;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/laser.h,v
Working file: main/laser.h
head: 2.0
branch:
description: Definitions for the laser code.
----------------------------
revision 2.0
date: 1995/02/27 11:32:27;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.50
date: 1995/02/01 21:03:44;  author: john;  state: Exp;
Lintified.
----------------------------
revision 1.49
date: 1995/02/01 16:34:11;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.48
date: 1995/01/31 16:16:16;  author: mike;  state: Exp;
Separate smart blobs for robot and player.
----------------------------
revision 1.47
date: 1995/01/27 17:02:55;  author: mike;  state: Exp;
Add LASER_ID -- why wasn't this added in June?
----------------------------
revision 1.46
date: 1995/01/25 10:53:27;  author: mike;  state: Exp;
make badass damage go through grates.
----------------------------
revision 1.45
date: 1994/12/12 17:17:32;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.44
date: 1994/12/04 16:17:23;  author: mike;  state: Exp;
spruce up homing missile behavior.
----------------------------
revision 1.43
date: 1994/12/03 12:48:30;  author: mike;  state: Exp;
make homing missile tracking not frame rate dependent (more-or-less)
----------------------------
revision 1.42
date: 1994/10/12 08:04:54;  author: mike;  state: Exp;
Clean up proximity/homing mess.
----------------------------
revision 1.41
date: 1994/10/09 20:07:04;  author: rob;  state: Exp;
Change prototype for do_laser_firing
----------------------------
revision 1.40
date: 1994/10/09 00:15:48;  author: mike;  state: Exp;
Add constants for super mech missile, regular mech missile, silent spreadfire.
----------------------------
revision 1.39
date: 1994/10/08 19:52:09;  author: rob;  state: Exp;
Added new weapon fire flags.
----------------------------
revision 1.38
date: 1994/10/07 15:31:12;  author: mike;  state: Exp;
Prototypes for new laser functions which don't necessarily make sound.
----------------------------
revision 1.37
date: 1994/10/05 17:08:29;  author: matt;  state: Exp;
Fixed a couple of small bugs, and made homing missiles alternate sides
----------------------------
revision 1.36
date: 1994/09/28 14:28:55;  author: rob;  state: Exp;
Added firing of missiles on networks/serial.
----------------------------
revision 1.35
date: 1994/09/24 14:17:02;  author: mike;  state: Exp;
Prototype do_laser_firing.
----------------------------
revision 1.34
date: 1994/09/23 11:36:49;  author: mike;  state: Exp;
Prototype Laser_create_new_easy.
----------------------------
revision 1.33
date: 1994/09/20 11:55:01;  author: mike;  state: Exp;
Fix bug.
----------------------------
revision 1.32
date: 1994/09/20 11:48:34;  author: mike;  state: Exp;
Change spreadfire laser to use new bitmap. (Define SPREADFIRE_ID)
----------------------------
revision 1.31
date: 1994/09/15 16:31:28;  author: mike;  state: Exp;
Prototype object_to_object_visibility.
----------------------------
revision 1.30
date: 1994/09/10 17:31:40;  author: mike;  state: Exp;
Add thrust to weapons.
----------------------------
revision 1.29
date: 1994/09/08 14:49:44;  author: mike;  state: Exp;
Bunch of IDs for new weapon types.
----------------------------
revision 1.28
date: 1994/09/07 19:16:40;  author: mike;  state: Exp;
Homing missile.
----------------------------
revision 1.27
date: 1994/09/07 15:59:47;  author: mike;  state: Exp;
Kill FLARE_MAX_TIME (now defined in bitmaps.tbl), add PROXIMITY_ID (shame!), prototype do_laser_firing, do_missile_firing.
----------------------------
revision 1.26
date: 1994/09/03 15:22:41;  author: mike;  state: Exp;
Kill Projectile_player_fire prototype.
----------------------------
revision 1.25
date: 1994/09/02 16:39:00;  author: mike;  state: Exp;
IDs for primary weapons.
----------------------------
revision 1.24
date: 1994/09/02 11:55:54;  author: mike;  state: Exp;
Define some illegal constants.
----------------------------
revision 1.23
date: 1994/08/25 18:12:06;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.22
date: 1994/08/19 15:22:28;  author: mike;  state: Exp;
Define constant for MAX_LASER_LEVEL.
----------------------------
revision 1.21
date: 1994/08/13 12:20:47;  author: john;  state: Exp;
Made the networking uise the Players array.
----------------------------
revision 1.20
date: 1994/08/10 10:44:05;  author: john;  state: Exp;
Made net players fire..
----------------------------
revision 1.19
date: 1994/06/27 18:30:57;  author: mike;  state: Exp;
Add flares.
----------------------------
revision 1.18
date: 1994/06/09 15:32:37;  author: mike;  state: Exp;
Muzzle flash
----------------------------
revision 1.17
date: 1994/05/19 09:09:00;  author: mike;  state: Exp;
Move a bunch of laser variables to bm.h, I think.
Also, added Robot_laser_speed, instead of hard-coding Laser_speed/4.
----------------------------
revision 1.16
date: 1994/05/14 17:16:20;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.15
date: 1994/05/13 20:27:39;  author: john;  state: Exp;
Version II of John's new object code.
----------------------------
revision 1.14
date: 1994/04/20 15:06:47;  author: john;  state: Exp;
Neatend laser code and fixed some laser bugs.
----------------------------
revision 1.13
date: 1994/04/01 13:35:15;  author: matt;  state: Exp;
Cleaned up laser code a bit; moved some code here object.c to laser.c
----------------------------
revision 1.12
date: 1994/04/01 11:14:24;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.11
date: 1994/03/31 09:10:09;  author: matt;  state: Exp;
Added #define to turn crosshair off
----------------------------
revision 1.10
date: 1994/02/17 11:33:15;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.9
date: 1994/01/06 11:56:01;  author: john;  state: Exp;
Made lasers be lines, not purple blobs
----------------------------
revision 1.8
date: 1994/01/05 10:53:35;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.7
date: 1993/12/08 14:21:36;  author: john;  state: Exp;
Added ExplodeObject
----------------------------
revision 1.6
date: 1993/12/08 11:28:54;  author: john;  state: Exp;
Made lasers look like bolts.
----------------------------
revision 1.5
date: 1993/12/01 13:12:40;  author: john;  state: Exp;
made lasers frame-rate independant
----------------------------
revision 1.4
date: 1993/11/30 19:00:42;  author: john;  state: Exp;
lasers working kinda
----------------------------
revision 1.3
date: 1993/11/29 19:44:53;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/11/29 17:44:55;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/11/29 17:19:19;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/lighting.c,v
Working file: main/lighting.c
head: 2.1
branch:
description: Lighting functions.
----------------------------
revision 2.1
date: 1995/07/24 13:21:56;  author: john;  state: Exp;
Added new lighting calculation code to speed things up.
----------------------------
revision 2.0
date: 1995/02/27 11:27:33;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.43
date: 1995/02/22 13:57:10;  author: allender;  state: Exp;
remove anonymous union from object structure
----------------------------
revision 1.42
date: 1995/02/13 20:35:07;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.41
date: 1995/02/04 21:43:40;  author: matt;  state: Exp;
Changed an assert() to an int3() and deal with the bad case
----------------------------
revision 1.40
date: 1995/01/15 20:48:27;  author: mike;  state: Exp;
support light field for powerups.
----------------------------
revision 1.39
date: 1994/12/15 13:04:19;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.38
date: 1994/11/28 21:50:41;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.37
date: 1994/11/28 01:32:33;  author: mike;  state: Exp;
lighting optimization.
----------------------------
revision 1.36
date: 1994/11/15 12:01:00;  author: john;  state: Exp;
Changed a bunch of code that uses timer_get_milliseconds to 
timer_get_fixed_Seconds.  
----------------------------
revision 1.35
date: 1994/10/31 21:56:07;  author: matt;  state: Exp;
Fixed bug & added error checking
----------------------------
revision 1.34
date: 1994/10/21 11:24:57;  author: mike;  state: Exp;
Trap divide overflows in lighting.
----------------------------
revision 1.33
date: 1994/10/08 14:49:11;  author: matt;  state: Exp;
If viewer changed, don't do smooth lighting hack
----------------------------
revision 1.32
date: 1994/09/25 23:41:07;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.31
date: 1994/09/25 15:45:15;  author: matt;  state: Exp;
Added OBJ_LIGHT, a type of object that casts light
Added generalized lifeleft, and moved it to local_object
----------------------------
revision 1.30
date: 1994/09/11 15:48:27;  author: mike;  state: Exp;
Use vm_vec_mag_quick in place of vm_vec_mag in point_dist computation.
----------------------------
revision 1.29
date: 1994/09/08 21:44:49;  author: matt;  state: Exp;
Made lighting ramp 4x as fast; made only static (ambient) light ramp
up, but not headlight & dynamic light
----------------------------
revision 1.28
date: 1994/09/02 14:00:07;  author: matt;  state: Exp;
Simplified explode_object() & mutliple-stage explosions
----------------------------
revision 1.27
date: 1994/08/29 19:06:44;  author: mike;  state: Exp;
Make lighting proportional to square of distance, not linear.
----------------------------
revision 1.26
date: 1994/08/25 18:08:38;  author: matt;  state: Exp;
Made muzzle flash cast 3x as much light
----------------------------
revision 1.25
date: 1994/08/23 16:38:31;  author: mike;  state: Exp;
Key weapon light off bitmaps.tbl.
----------------------------
revision 1.24
date: 1994/08/13 12:20:44;  author: john;  state: Exp;
Made the networking uise the Players array.
----------------------------
revision 1.23
date: 1994/08/12 22:42:18;  author: john;  state: Exp;
Took away Player_stats; added Players array.
----------------------------
revision 1.22
date: 1994/07/06 10:19:22;  author: matt;  state: Exp;
Changed include
----------------------------
revision 1.21
date: 1994/06/28 13:20:22;  author: mike;  state: Exp;
Oops, fixed a dumb typo.
----------------------------
revision 1.20
date: 1994/06/28 12:53:25;  author: mike;  state: Exp;
Change lighting function for flares, make brighter and asynchronously flicker.
----------------------------
revision 1.19
date: 1994/06/27 18:31:15;  author: mike;  state: Exp;
Add flares.
----------------------------
revision 1.18
date: 1994/06/20 13:41:17;  author: matt;  state: Exp;
Added time-based gradual lighting hack for objects
Took out strobing robots
----------------------------
revision 1.17
date: 1994/06/19 16:25:54;  author: mike;  state: Exp;
Optimize lighting.
----------------------------
revision 1.16
date: 1994/06/17 18:08:08;  author: mike;  state: Exp;
Make robots cast more and variable light.
----------------------------
revision 1.15
date: 1994/06/13 15:15:55;  author: mike;  state: Exp;
Fix phantom light, every 64K milliseconds, muzzle flash would flash again.
=============================================================================
RCS file: f:/miner/source/main/lighting.h,v
Working file: main/lighting.h
head: 2.0
branch:
description: Lighting system prototypes, structures, etc.
----------------------------
revision 2.0
date: 1995/02/27 11:27:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1994/11/28 21:50:56;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.5
date: 1994/06/07 16:51:58;  author: matt;  state: Exp;
Made object lighting work correctly; changed name of Ambient_light to
Dynamic_light; cleaned up polygobj object rendering a little.
----------------------------
revision 1.4
date: 1994/05/31 18:41:35;  author: matt;  state: Exp;
Added comments
----------------------------
revision 1.3
date: 1994/05/23 15:00:08;  author: mike;  state: Exp;
Change MIN_LIGHT_DIST.
----------------------------
revision 1.2
date: 1994/05/22 15:30:09;  author: mike;  state: Exp;
First version.
----------------------------
revision 1.1
date: 1994/05/22 15:16:44;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/macro.c,v
Working file: main/editor/macro.c
head: 2.0
branch:
description: Routines for recording/playing/saving macros
----------------------------
revision 2.0
date: 1995/02/27 11:35:09;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.12
date: 1993/11/15 14:46:37;  author: john;  state: Exp;
Changed Menu to MenuX
----------------------------
revision 1.11
date: 1993/11/05 17:32:44;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.10
date: 1993/10/28 16:23:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1993/10/28 13:03:12;  author: john;  state: Exp;
..
----------------------------
revision 1.8
date: 1993/10/25 16:02:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1993/10/22 13:35:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1993/10/21 17:10:09;  author: john;  state: Exp;
Fixed bug w/ load macro.
----------------------------
revision 1.5
date: 1993/10/19 12:58:47;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/10/19 12:55:02;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/10/19 12:49:49;  author: john;  state: Exp;
made EventBuffer dynamic, use ReadFile, WriteFile
----------------------------
revision 1.2
date: 1993/10/15 17:42:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/10/15 17:28:06;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/macro.h,v
Working file: main/editor/macro.h
head: 2.0
branch:
description: Header for macro.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:32;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/05/14 17:18:19;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:38:50;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/mcockpit.c,v
Working file: main/mcockpit.c
head: 2.0
branch:
description: File to make the cockpit.inc source code file.
----------------------------
revision 2.0
date: 1995/02/27 11:30:20;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.8
date: 1994/05/30 19:27:57;  author: john;  state: Exp;
Moved functionality of mcockpit into 2d, ibitblt.
----------------------------
revision 1.7
date: 1994/05/11 11:36:08;  author: john;  state: Exp;
Neatend up; took out debugging lines.
----------------------------
revision 1.6
date: 1994/05/11 11:19:19;  author: john;  state: Exp;
Made cockpit code be created at runtime.
----------------------------
revision 1.5
date: 1994/01/28 17:40:22;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1994/01/26 18:14:10;  author: john;  state: Exp;
Printed out x,y,w,h;
----------------------------
revision 1.3
date: 1994/01/25 11:45:00;  author: john;  state: Exp;
Took out graphics.
----------------------------
revision 1.2
date: 1994/01/24 18:55:40;  author: john;  state: Exp;
initial version.
----------------------------
revision 1.1
date: 1994/01/24 18:31:21;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/mcockpit.h,v
Working file: main/mcockpit.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:30:24;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/05/30 19:28:16;  author: john;  state: Exp;
Moved functionality of mcockpit into 2d, ibitblt.
----------------------------
revision 1.2
date: 1994/05/11 11:19:21;  author: john;  state: Exp;
Made cockpit code be created at runtime.
----------------------------
revision 1.1
date: 1994/05/11 10:38:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/med.c,v
Working file: main/editor/med.c
head: 2.3
branch:
description: Editor loop for Inferno
----------------------------
revision 2.3
date: 1995/03/06 18:23:52;  author: john;  state: Exp;
Fixed bug with font screwing up.
----------------------------
revision 2.2
date: 1995/03/06 16:34:55;  author: john;  state: Exp;
Fixed bug with previous.
----------------------------
revision 2.1
date: 1995/03/06 15:20:57;  author: john;  state: Exp;
New screen mode method.
----------------------------
revision 2.0
date: 1995/02/27 11:35:54;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.192
date: 1994/11/30 12:33:55;  author: mike;  state: Exp;
set window clearing mode for editor.
----------------------------
revision 1.191
date: 1994/11/27 23:17:02;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.190
date: 1994/11/19 00:04:33;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.189
date: 1994/11/17 14:47:57;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.188
date: 1994/11/14 11:41:38;  author: john;  state: Exp;
Fixed bug with editor/game sequencing.
----------------------------
revision 1.187
date: 1994/11/13 15:36:44;  author: john;  state: Exp;
Changed game sequencing with editor.
----------------------------
revision 1.186
date: 1994/11/10 16:49:12;  author: matt;  state: Exp;
Don't sort seg list if no segs in list
----------------------------
revision 1.185
date: 1994/11/08 09:28:39;  author: mike;  state: Exp;
reset ai paths on going to game.
----------------------------
revision 1.184
date: 1994/10/30 14:13:05;  author: mike;  state: Exp;
rip out repair center stuff.
----------------------------
revision 1.183
date: 1994/10/27 10:07:06;  author: mike;  state: Exp;
adapt to no inverse table.
----------------------------
revision 1.182
date: 1994/10/20 12:48:03;  author: matt;  state: Exp;
Replaced old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.181
date: 1994/10/13 11:39:22;  author: john;  state: Exp;
Took out network stuff/.
----------------------------
revision 1.180
date: 1994/10/07 22:21:38;  author: mike;  state: Exp;
Stop Delete-{whatever} from hanging you!
----------------------------
revision 1.179
date: 1994/10/03 23:39:37;  author: mike;  state: Exp;
Adapt to newer, better, fuelcen_activate function.
----------------------------
revision 1.178
date: 1994/09/30 00:38:05;  author: mike;  state: Exp;
Shorten diagnostic message erase -- was erasing outside canvas.
----------------------------
revision 1.177
date: 1994/09/28 17:31:37;  author: mike;  state: Exp;
Add call to check_wall_validity();
----------------------------
revision 1.176
date: 1994/08/19 10:57:42;  author: mike;  state: Exp;
Fix status message erase bug.
----------------------------
revision 1.175
date: 1994/08/18 10:48:12;  author: john;  state: Exp;
Cleaned up game sequencing.
----------------------------
revision 1.174
date: 1994/08/16 18:11:04;  author: yuan;  state: Exp;
Maded C place you in the center of a segment.
----------------------------
revision 1.173
date: 1994/08/10 19:55:05;  author: john;  state: Exp;
Changed font stuff.
----------------------------
revision 1.172
date: 1994/08/09 16:06:06;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.171
date: 1994/08/04 09:14:11;  author: matt;  state: Exp;
Fixed problem I said I fixed last time
----------------------------
revision 1.170
date: 1994/08/04 00:27:57;  author: matt;  state: Exp;
When viewing a wall, update the objects segnum if moved out of the segment
----------------------------
revision 1.169
date: 1994/08/02 14:18:12;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.168
date: 1994/07/29 15:34:35;  author: mike;  state: Exp;
Kill some mprintfs.
----------------------------
revision 1.167
date: 1994/07/29 14:56:46;  author: yuan;  state: Exp;
Close centers window, when you go into game.
----------------------------
revision 1.166
date: 1994/07/28 17:16:20;  author: john;  state: Exp;
MAde editor use Network stuff.
----------------------------
revision 1.165
date: 1994/07/28 16:59:10;  author: mike;  state: Exp;
objects containing objects.
----------------------------
revision 1.164
date: 1994/07/22 12:37:07;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.163
date: 1994/07/21 19:35:11;  author: yuan;  state: Exp;
Fixed #include problem
----------------------------
revision 1.162
date: 1994/07/21 18:02:09;  author: matt;  state: Exp;
Don't re-init player stats when going from editor -> game
----------------------------
revision 1.161
date: 1994/07/21 12:47:53;  author: mike;  state: Exp;
Add tilde key functionality for object movement.
----------------------------
revision 1.160
date: 1994/07/18 10:44:55;  author: mike;  state: Exp;
One-click access to keypads.
----------------------------
revision 1.159
date: 1994/07/01 18:05:54;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.158
date: 1994/07/01 17:57:06;  author: john;  state: Exp;
First version of not-working hostage system
----------------------------
revision 1.157
date: 1994/07/01 11:32:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.156
date: 1994/06/24 17:04:36;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.155
date: 1994/06/23 15:53:47;  author: matt;  state: Exp;
Finished hacking in 3d rendering in big window
----------------------------
revision 1.154
date: 1994/06/21 16:17:54;  author: yuan;  state: Exp;
Init stats when you go to game from editor
----------------------------
revision 1.153
date: 1994/06/21 12:57:14;  author: yuan;  state: Exp;
Remove center from segment function added to menu.
=============================================================================
RCS file: f:/miner/source/main/editor/meddraw.c,v
Working file: main/editor/meddraw.c
head: 2.0
branch:
description: Med drawing functions.
----------------------------
revision 2.0
date: 1995/02/27 11:34:42;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.34
date: 1994/11/09 11:46:30;  author: matt;  state: Exp;
Don't draw non-existant special segments
----------------------------
revision 1.33
date: 1994/10/27 10:06:38;  author: mike;  state: Exp;
adapt to no inverse table.
----------------------------
revision 1.32
date: 1994/10/17 18:06:23;  author: john;  state: Exp;
Made net player objects draw in dark green.
----------------------------
revision 1.31
date: 1994/09/26 16:44:33;  author: yuan;  state: Exp;
Colored special segments.
----------------------------
revision 1.30
date: 1994/09/01 17:02:41;  author: matt;  state: Exp;
Redraw pointer after world draw
----------------------------
revision 1.29
date: 1994/08/25 21:56:21;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.28
date: 1994/08/11 18:59:46;  author: mike;  state: Exp;
Adapt to new int (vs short) version of gameseg functions.
----------------------------
revision 1.27
date: 1994/08/09 16:06:03;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.26
date: 1994/07/25 00:03:05;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.25
date: 1994/07/09 17:38:13;  author: mike;  state: Exp;
comment out mprintf(0, "\n");
----------------------------
revision 1.24
date: 1994/07/07 19:34:47;  author: matt;  state: Exp;
These changes are mostly Mike's, but I fixed a little bug that caused
some edges to think they were never used.
----------------------------
revision 1.23
date: 1994/07/06 16:36:18;  author: mike;  state: Exp;
Optionally only draw segment lines which are in only one segment.
----------------------------
revision 1.22
date: 1994/05/27 10:34:28;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.21
date: 1994/05/14 18:00:56;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.20
date: 1994/05/09 23:35:21;  author: mike;  state: Exp;
Change order of drawing found and selected segments.
----------------------------
revision 1.19
date: 1994/05/05 12:55:38;  author: yuan;  state: Exp;
Fixed a bunch of group bugs.
----------------------------
revision 1.18
date: 1994/05/04 13:07:52;  author: matt;  state: Exp;
Made current edge draw in green in wire-frame window
Also, moved a bunch of color constants here from editor.h
=============================================================================
RCS file: f:/miner/source/main/editor/meddraw.h,v
Working file: main/editor/meddraw.h
head: 2.0
branch:
description: Defnts for med drawing stuff
----------------------------
revision 2.0
date: 1995/02/27 11:35:12;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/07/06 16:36:54;  author: mike;  state: Exp;
Prototype for draw_mine_all.
----------------------------
revision 1.2
date: 1993/12/17 12:05:09;  author: john;  state: Exp;
Took stuff out of med.c; moved into medsel.c, meddraw.c, medmisc.c
----------------------------
revision 1.1
date: 1993/12/17 08:55:14;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medmisc.c,v
Working file: main/editor/medmisc.c
head: 2.1
branch:
description: Miscellaneous functions stripped out of med.c
----------------------------
revision 2.1
date: 1995/03/06 15:20:50;  author: john;  state: Exp;
New screen mode method.
----------------------------
revision 2.0
date: 1995/02/27 11:36:40;  author: john;  state: Exp;
Version 2.0. Ansi-fied.
----------------------------
revision 1.31
date: 1994/11/27 23:17:20;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.30
date: 1994/11/17 14:48:11;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.29
date: 1994/08/25 21:56:15;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.28
date: 1994/08/09 16:06:00;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.27
date: 1994/07/21 17:25:43;  author: matt;  state: Exp;
Took out unused func medlisp_create_new_mine() and its prototype
----------------------------
revision 1.26
date: 1994/07/21 13:27:01;  author: matt;  state: Exp;
Cleaned up render code and added error checking
----------------------------
revision 1.25
date: 1994/07/20 15:32:52;  author: matt;  state: Exp;
Added func to call g3_point_2_vec() for texture-mapped window
----------------------------
revision 1.24
date: 1994/07/15 15:26:53;  author: yuan;  state: Exp;
Fixed warning
----------------------------
revision 1.23
date: 1994/07/14 14:45:16;  author: yuan;  state: Exp;
Added function to set default segment and attach.
----------------------------
revision 1.22
date: 1994/07/14 09:46:34;  author: yuan;  state: Exp;
Make E attach segment as well as make default.
----------------------------
revision 1.21
date: 1994/07/11 18:39:17;  author: john;  state: Exp;
Reversed y axis roll.
----------------------------
revision 1.20
date: 1994/07/06 16:36:32;  author: mike;  state: Exp;
Add hook for game to render wireframe view: draw_world_from_game.
----------------------------
revision 1.19
date: 1994/06/24 14:08:31;  author: john;  state: Exp;
Changed calling params for render_frame.
----------------------------
revision 1.18
date: 1994/06/23 15:54:02;  author: matt;  state: Exp;
Finished hacking in 3d rendering in big window
----------------------------
revision 1.17
date: 1994/06/22 00:32:56;  author: matt;  state: Exp;
New version, without all the errors of the last version. Sorry.
----------------------------
revision 1.15
date: 1994/05/23 14:48:54;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.14
date: 1994/05/19 12:09:35;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.13
date: 1994/05/14 17:17:55;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.12
date: 1994/05/09 23:35:06;  author: mike;  state: Exp;
Add ClearFoundList, which is probably no longer being called.
----------------------------
revision 1.11
date: 1994/05/04 14:11:40;  author: mike;  state: Exp;
Increase render depth from 4 to 6 by default.
----------------------------
revision 1.10
date: 1994/04/27 21:00:25;  author: matt;  state: Exp;
Made texture-mapped window redraw when editor state variables (such as
current object) have changed.
----------------------------
revision 1.9
date: 1994/03/31 12:03:38;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.8
date: 1994/02/17 11:31:21;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.7
date: 1994/02/11 11:05:14;  author: yuan;  state: Exp;
Make chase mode unsettable... Gives a warning on the mono.
----------------------------
revision 1.6
date: 1994/01/21 17:37:24;  author: matt;  state: Exp;
Moved code from render_frame() to caller, making code cleaner
----------------------------
revision 1.5
date: 1994/01/11 18:12:43;  author: yuan;  state: Exp;
compress_mines removed.  Now it is called within
the gamesave.min save whenever we go into the game.
----------------------------
revision 1.4
date: 1994/01/05 10:54:15;  author: john;  state: Exp;
New object code by John
----------------------------
revision 1.3
date: 1993/12/29 16:15:27;  author: mike;  state: Exp;
Kill scale field from segment struct.
----------------------------
revision 1.2
date: 1993/12/17 12:05:00;  author: john;  state: Exp;
Took stuff out of med.c; moved into medsel.c, meddraw.c, medmisc.c
----------------------------
revision 1.1
date: 1993/12/17 08:35:47;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medmisc.h,v
Working file: main/editor/medmisc.h
head: 2.0
branch:
description: Defn'tns for medmisc.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:40;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/07/21 17:25:28;  author: matt;  state: Exp;
Took out unused func medlisp_create_new_mine() and its prototype
----------------------------
revision 1.2
date: 1993/12/17 12:05:04;  author: john;  state: Exp;
Took stuff out of med.c; moved into medsel.c, meddraw.c, medmisc.c
----------------------------
revision 1.1
date: 1993/12/17 08:45:23;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medrobot.c,v
Working file: main/editor/medrobot.c
head: 2.0
branch:
description: Dialog box to edit robot properties.
----------------------------
revision 2.0
date: 1995/02/27 11:35:59;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.46
date: 1995/02/22 15:22:03;  author: allender;  state: Exp;
remove anonyous unions from object structure
----------------------------
revision 1.45
date: 1994/11/27 23:17:32;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.44
date: 1994/11/14 11:39:57;  author: mike;  state: Exp;
fix default robot behavior
----------------------------
revision 1.43
date: 1994/11/02 16:18:47;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor, and cleaned up code
----------------------------
revision 1.42
date: 1994/10/10 17:23:23;  author: mike;  state: Exp;
Verify that not placing too many player objects.
----------------------------
revision 1.41
date: 1994/10/09 22:04:38;  author: mike;  state: Exp;
Maybe improve, maybe not, robot selection in shift-R menu.
----------------------------
revision 1.40
date: 1994/09/30 21:49:01;  author: mike;  state: Exp;
Fix stupid shift-R dialog bug which caused lots of mprintf and selecting of object and frustration.
----------------------------
revision 1.39
date: 1994/09/30 11:51:33;  author: mike;  state: Exp;
Fix boolean logic on an error trap.
----------------------------
revision 1.38
date: 1994/09/20 14:36:32;  author: mike;  state: Exp;
Clean up Robot dialog.
----------------------------
revision 1.37
date: 1994/09/12 19:11:56;  author: mike;  state: Exp;
Fix stupid bugs in selecting objects.
----------------------------
revision 1.36
date: 1994/09/01 17:05:51;  author: matt;  state: Exp;
Don't force redraw if object select fails
----------------------------
revision 1.35
date: 1994/08/31 19:24:40;  author: mike;  state: Exp;
Fix hang bug when only objects in mine are not robots.
----------------------------
revision 1.34
date: 1994/08/25 21:56:38;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.33
date: 1994/08/23 16:39:29;  author: mike;  state: Exp;
mode replaced by behavior in ai_info.
----------------------------
revision 1.32
date: 1994/08/15 23:47:16;  author: mike;  state: Exp;
fix bugs.
----------------------------
revision 1.31
date: 1994/08/13 17:32:45;  author: mike;  state: Exp;
set to still function.
----------------------------
revision 1.30
date: 1994/08/09 16:06:02;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.29
date: 1994/08/02 16:22:48;  author: matt;  state: Exp;
Finished object editor dialog
=============================================================================
RCS file: f:/miner/source/main/editor/medrobot.h,v
Working file: main/editor/medrobot.h
head: 2.0
branch:
description: Header for robot.c
----------------------------
revision 2.0
date: 1995/02/27 11:35:04;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.4
date: 1994/08/02 14:17:56;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.3
date: 1994/07/21 19:34:58;  author: yuan;  state: Exp;
Fixed #include problem
----------------------------
revision 1.2
date: 1994/04/27 21:01:16;  author: matt;  state: Exp;
Added prototypes for robot functions
----------------------------
revision 1.1
date: 1994/04/27 20:28:59;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medsel.c,v
Working file: main/editor/medsel.c
head: 2.0
branch:
description: Routines stripped from med.c for segment selection
----------------------------
revision 2.0
date: 1995/02/27 11:35:20;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.10
date: 1994/08/09 16:05:59;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.9
date: 1994/05/23 14:56:27;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.8
date: 1994/05/14 18:00:50;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.7
date: 1994/03/31 12:03:33;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.6
date: 1994/02/17 12:52:13;  author: yuan;  state: Exp;
Unbackdated
y
----------------------------
revision 1.4
date: 1994/02/17 09:46:53;  author: matt;  state: Exp;
Removed include of slew.h
----------------------------
revision 1.3
date: 1994/01/05 10:54:23;  author: john;  state: Exp;
New object code by John
----------------------------
revision 1.2
date: 1993/12/17 12:18:22;  author: john;  state: Exp;
Moved selection stuff out of med.c
----------------------------
revision 1.1
date: 1993/12/17 09:29:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medsel.h,v
Working file: main/editor/medsel.h
head: 2.0
branch:
description: rountines stipped from med.c for segment selection
----------------------------
revision 2.0
date: 1995/02/27 11:34:28;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1993/12/17 12:18:35;  author: john;  state: Exp;
Moved selection stuff out of med.c
----------------------------
revision 1.1
date: 1993/12/17 09:29:51;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medwall.c,v
Working file: main/editor/medwall.c
head: 2.0
branch:
description: Created from version 1.11 of main\wall.c
----------------------------
revision 2.0
date: 1995/02/27 11:35:47;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.71
date: 1995/02/01 16:30:03;  author: yuan;  state: Exp;
Stabilizing triggers and matcens.
----------------------------
revision 1.70
date: 1995/01/28 15:28:08;  author: yuan;  state: Exp;
Return proper bug description.
----------------------------
revision 1.69
date: 1995/01/14 19:18:07;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.68
date: 1995/01/12 12:10:44;  author: yuan;  state: Exp;
Added delete trigger function
----------------------------
revision 1.67
date: 1994/11/29 16:51:53;  author: yuan;  state: Exp;
Fixed false bogus trigger info.
----------------------------
revision 1.66
date: 1994/11/27 23:17:29;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.65
date: 1994/11/15 11:59:42;  author: john;  state: Exp;
Changed timing for door to use fixed seconds instead of milliseconds.
----------------------------
revision 1.64
date: 1994/11/03 10:41:17;  author: yuan;  state: Exp;
Made walls add whichever the previous type was.
----------------------------
revision 1.63
date: 1994/10/13 13:14:59;  author: yuan;  state: Exp;
Fixed trigger removal bug.
----------------------------
revision 1.62
date: 1994/10/07 17:43:39;  author: yuan;  state: Exp;
Make validate walls default to 1.
----------------------------
revision 1.61
date: 1994/10/03 23:40:20;  author: mike;  state: Exp;
Fix hosedness in walls in group copying.
----------------------------
revision 1.60
date: 1994/09/29 00:20:36;  author: matt;  state: Exp;
Took out reference to unused external wall type
----------------------------
revision 1.59
date: 1994/09/28 17:32:24;  author: mike;  state: Exp;
Functions to copy walls withing groups.
----------------------------
revision 1.58
date: 1994/09/28 13:40:46;  author: yuan;  state: Exp;
Fixed control center trigger bug.
----------------------------
revision 1.57
date: 1994/09/24 12:41:52;  author: matt;  state: Exp;
Took out references to obsolete constants
----------------------------
revision 1.56
date: 1994/09/23 18:03:55;  author: yuan;  state: Exp;
Finished wall checking code.
----------------------------
revision 1.55
date: 1994/09/22 14:35:25;  author: matt;  state: Exp;
Made blastable walls work again
----------------------------
revision 1.54
date: 1994/09/21 16:46:07;  author: yuan;  state: Exp;
Fixed bug that reset wall slot which was just deleted.
----------------------------
revision 1.53
date: 1994/09/20 18:31:21;  author: yuan;  state: Exp;
Output right Wallnum
----------------------------
revision 1.52
date: 1994/09/20 18:23:24;  author: yuan;  state: Exp;
Killed the BOGIFYING WALL DRAGON...
There was a problem with triggers being created that had bogus
pointers back to their segments.
----------------------------
revision 1.51
date: 1994/09/20 11:13:11;  author: yuan;  state: Exp;
Delete all bogus walls when checking walls.
----------------------------
revision 1.50
date: 1994/09/19 23:31:14;  author: yuan;  state: Exp;
Adding wall checking stuff.
----------------------------
revision 1.49
date: 1994/09/13 21:11:20;  author: matt;  state: Exp;
Added wclips that use tmap1 instead of tmap2, saving lots of merging
----------------------------
revision 1.48
date: 1994/09/10 13:32:08;  author: matt;  state: Exp;
Made exploding walls a type of blastable walls.
Cleaned up blastable walls, making them tmap2 bitmaps.
----------------------------
revision 1.47
date: 1994/09/10 09:47:47;  author: yuan;  state: Exp;
Added wall checking function.
----------------------------
revision 1.46
date: 1994/08/26 14:14:56;  author: yuan;  state: Exp;
Fixed wall clip being set to -2 bug.
----------------------------
revision 1.45
date: 1994/08/25 21:56:26;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.44
date: 1994/08/19 19:30:27;  author: matt;  state: Exp;
Added informative message if wall is already external when making it so.
----------------------------
revision 1.43
date: 1994/08/17 11:13:46;  author: matt;  state: Exp;
Changed way external walls work
----------------------------
revision 1.42
date: 1994/08/15 17:47:29;  author: yuan;  state: Exp;
Added external walls
----------------------------
revision 1.41
date: 1994/08/05 21:18:09;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.40
date: 1994/08/02 14:18:06;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.39
date: 1994/08/01 11:04:33;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.38
date: 1994/07/22 17:19:11;  author: yuan;  state: Exp;
Working on dialog box for refuel/repair/material/control centers.
----------------------------
revision 1.37
date: 1994/07/20 17:35:33;  author: yuan;  state: Exp;
Added new gold key.
----------------------------
revision 1.36
date: 1994/07/19 14:31:44;  author: yuan;  state: Exp;
Fixed keys bug.
----------------------------
revision 1.35
date: 1994/07/18 15:58:31;  author: yuan;  state: Exp;
Hopefully prevent any "Adam door bombouts"
----------------------------
revision 1.34
date: 1994/07/18 15:48:40;  author: yuan;  state: Exp;
Made minor cosmetic change.
----------------------------
revision 1.33
date: 1994/07/15 16:09:22;  author: yuan;  state: Exp;
Error checking
----------------------------
revision 1.32
date: 1994/07/14 16:47:05;  author: yuan;  state: Exp;
Fixed wall dialog for selected dooranims.
----------------------------
revision 1.31
date: 1994/07/11 15:09:16;  author: yuan;  state: Exp;
Wall anim filenames stored in wclip structure.
----------------------------
revision 1.30
date: 1994/07/06 10:56:01;  author: john;  state: Exp;
New structures for hostages.
----------------------------
revision 1.29
date: 1994/07/01 16:35:54;  author: yuan;  state: Exp;
Added key system
----------------------------
revision 1.28
date: 1994/06/21 18:50:12;  author: john;  state: Exp;
Made ESC key exit dialog.
----------------------------
revision 1.27
date: 1994/06/20 22:29:59;  author: yuan;  state: Exp;
Fixed crazy runaway trigger bug that Adam found
----------------------------
revision 1.26
date: 1994/06/01 15:50:25;  author: yuan;  state: Exp;
Added one more door... Needs to be set by bm.c in the future.
----------------------------
revision 1.25
date: 1994/05/30 20:22:34;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.24
date: 1994/05/27 10:34:31;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.23
date: 1994/05/25 18:08:45;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.22
date: 1994/05/18 18:21:56;  author: yuan;  state: Exp;
Fixed delete segment and walls bug.
----------------------------
revision 1.21
date: 1994/05/11 18:24:29;  author: yuan;  state: Exp;
Oops.. trigger not triggers..
----------------------------
revision 1.20
date: 1994/05/11 18:23:53;  author: yuan;  state: Exp;
Fixed trigger not set to -1 bug.
=============================================================================
RCS file: f:/miner/source/main/editor/medwall.h,v
Working file: main/editor/medwall.h
head: 2.0
branch:
description: Created from version 1.6 of main\wall.h
----------------------------
revision 2.0
date: 1995/02/27 11:35:10;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.9
date: 1994/09/28 17:31:51;  author: mike;  state: Exp;
Prototype copy_group_walls().
----------------------------
revision 1.8
date: 1994/08/05 21:18:16;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.7
date: 1994/06/20 22:30:10;  author: yuan;  state: Exp;
Fixed crazy runaway trigger bug that Adam found
----------------------------
revision 1.6
date: 1994/05/30 20:22:58;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.5
date: 1994/05/25 18:08:37;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.4
date: 1994/05/18 18:22:04;  author: yuan;  state: Exp;
Fixed delete segment and walls bug.
----------------------------
revision 1.3
date: 1994/03/17 18:08:41;  author: yuan;  state: Exp;
New wall stuff... Cut out switches....
----------------------------
revision 1.2
date: 1994/03/15 16:34:10;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.1
date: 1994/02/10 17:52:01;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/menu.c,v
Working file: main/menu.c
head: 2.5
branch:
description: Inferno main menu.
=============================================================================
RCS file: f:/miner/source/main/menu.h,v
Working file: main/menu.h
head: 2.1
branch:
description: Menu prototypes and variables
----------------------------
revision 2.1
date: 1995/03/06 16:47:41;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.0
date: 1995/02/27 11:29:47;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.34
date: 1994/12/12 00:16:16;  author: john;  state: Exp;
Added auto-leveling flag.
----------------------------
revision 1.33
date: 1994/12/07 20:04:26;  author: mike;  state: Exp;
set Max_debris_objects.
----------------------------
revision 1.32
date: 1994/11/14 17:23:19;  author: rob;  state: Exp;
ADded extern for default difficulty settings.
----------------------------
revision 1.31
date: 1994/11/10 11:08:29;  author: mike;  state: Exp;
detail level stuff.
----------------------------
revision 1.30
date: 1994/11/05 14:05:53;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.29
date: 1994/11/02 11:59:44;  author: john;  state: Exp;
Moved menu out of game into inferno main loop.
----------------------------
revision 1.28
date: 1994/10/17 20:30:59;  author: john;  state: Exp;
Made the text for the difficulty labels global so that
the high score screen can print "rookie" or whatever.
----------------------------
revision 1.27
date: 1994/10/04 10:47:09;  author: matt;  state: Exp;
Made main menu remember selected item
----------------------------
revision 1.26
date: 1994/08/10 19:55:19;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.25
date: 1994/06/23 18:54:09;  author: matt;  state: Exp;
Cleaned up game start/menu interaction, and improved main menu a little
----------------------------
revision 1.24
date: 1994/06/21 12:11:50;  author: yuan;  state: Exp;
Fixed up menus and added HUDisplay messages.
----------------------------
revision 1.23
date: 1994/06/20 23:15:16;  author: yuan;  state: Exp;
Color switching capability for the menus.
----------------------------
revision 1.22
date: 1994/06/20 22:02:25;  author: yuan;  state: Exp;
Made menu GREEN by POPULAR DEMAND!!
----------------------------
revision 1.21
date: 1994/06/20 21:05:48;  author: yuan;  state: Exp;
Fixed up menus.
----------------------------
revision 1.20
date: 1994/06/20 19:19:29;  author: yuan;  state: Exp;
Tidied up the menu and the "message blocks" between levels, etc.
----------------------------
revision 1.19
date: 1994/06/17 18:01:10;  author: john;  state: Exp;
A bunch of new stuff by John
----------------------------
revision 1.18
date: 1994/05/16 09:37:22;  author: matt;  state: Exp;
Got rid of global continue_flag
----------------------------
revision 1.17
date: 1994/05/14 17:14:51;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.16
date: 1994/05/10 12:14:26;  author: yuan;  state: Exp;
Game save/load... Demo levels 1-5 added...
High scores fixed...
----------------------------
revision 1.15
date: 1994/05/05 09:21:21;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.14
date: 1994/04/29 14:55:40;  author: mike;  state: Exp;
Change some menu colors.
----------------------------
revision 1.13
date: 1994/04/28 18:04:36;  author: yuan;  state: Exp;
Gamesave added.
Trigger problem fixed (seg pointer is replaced by index now.)
----------------------------
revision 1.12
date: 1994/02/18 11:55:01;  author: yuan;  state: Exp;
Fixed menu to be called from game.
----------------------------
revision 1.11
date: 1994/02/10 17:45:39;  author: yuan;  state: Exp;
Integrated some hacks which still need to be fixed.
----------------------------
revision 1.10
date: 1994/02/01 22:50:23;  author: yuan;  state: Exp;
Final menu version for demo
----------------------------
revision 1.9
date: 1994/02/01 11:50:17;  author: yuan;  state: Exp;
Moved quit message down just a tiny bit
----------------------------
revision 1.8
date: 1994/01/31 17:30:16;  author: yuan;  state: Exp;
Fixed quit not disappearing problem
----------------------------
revision 1.7
date: 1994/01/31 12:25:20;  author: yuan;  state: Exp;
New menu stuff
----------------------------
revision 1.6
date: 1994/01/26 13:14:04;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/12/29 16:44:44;  author: yuan;  state: Exp;
Added some function definitions
----------------------------
revision 1.4
date: 1993/12/13 18:53:12;  author: yuan;  state: Exp;
Fixed dependency problem
----------------------------
revision 1.3
date: 1993/12/12 13:53:51;  author: yuan;  state: Exp;
Added menu and -g flag
----------------------------
revision 1.2
date: 1993/12/10 16:07:17;  author: yuan;  state: Exp;
Working on menu system.  Updated the title screen.
----------------------------
revision 1.1
date: 1993/12/10 12:45:27;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/mglobal.c,v
Working file: main/mglobal.c
head: 2.2
branch:
description: Global variables for main directory
----------------------------
revision 2.2
date: 1995/03/14 18:24:37;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.1
date: 1995/03/06 16:47:23;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.0
date: 1995/02/27 11:30:00;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.43
date: 1995/01/19 17:00:53;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.42
date: 1994/12/05 14:23:53;  author: adam;  state: Exp;
changed default detail to max, not custom
----------------------------
revision 1.41
date: 1994/11/19 15:15:07;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.40
date: 1994/11/03 10:13:19;  author: yuan;  state: Exp;
Added #include "game.h"
----------------------------
revision 1.39
date: 1994/11/03 10:09:59;  author: matt;  state: Exp;
Properly initialize detail & difficulty levels
----------------------------
revision 1.38
date: 1994/10/30 14:11:21;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.37
date: 1994/10/26 15:21:30;  author: mike;  state: Exp;
detail level.
----------------------------
revision 1.36
date: 1994/09/22 10:46:12;  author: mike;  state: Exp;
Add difficulty levels.
----------------------------
revision 1.35
date: 1994/09/13 11:19:11;  author: mike;  state: Exp;
Add Next_missile_fire_time.
----------------------------
revision 1.34
date: 1994/08/31 19:25:34;  author: mike;  state: Exp;
GameTime and laser-firing limiting stuff added.
----------------------------
revision 1.33
date: 1994/08/11 18:58:53;  author: mike;  state: Exp;
Add Side_to_verts_int.
----------------------------
revision 1.32
date: 1994/07/21 19:01:38;  author: mike;  state: Exp;
Add Lsegment.
----------------------------
revision 1.31
date: 1994/07/21 13:11:24;  author: matt;  state: Exp;
Ripped out remants of old demo system, and added demo only system that
disables object movement and game options from menu.
----------------------------
revision 1.30
date: 1994/06/17 18:06:48;  author: matt;  state: Exp;
Made password be treated as lowercase, since cmdline parsing converts
everything to lowercase.
----------------------------
revision 1.29
date: 1994/03/15 16:33:04;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(Fixed structures too)
----------------------------
revision 1.28
date: 1994/02/17 11:32:45;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.27
date: 1994/02/16 17:08:43;  author: matt;  state: Exp;
Added needed include of 3d.h
----------------------------
revision 1.26
date: 1994/02/16 13:47:58;  author: mike;  state: Exp;
fix bugs so editor can compile out.
----------------------------
revision 1.25
date: 1994/02/11 21:52:13;  author: matt;  state: Exp;
Made password protection selectable by #define (and thus INFERNO.INI)
----------------------------
revision 1.24
date: 1994/02/10 15:35:56;  author: matt;  state: Exp;
Various changes to make editor compile out.
----------------------------
revision 1.23
date: 1994/02/02 12:34:29;  author: mike;  state: Exp;
take out BATS encryption.
----------------------------
revision 1.22
date: 1994/01/21 16:08:11;  author: matt;  state: Exp;
Added FrameCount variable
----------------------------
revision 1.21
date: 1994/01/06 17:13:10;  author: john;  state: Exp;
Added Video clip functionality
----------------------------
revision 1.20
date: 1993/12/08 17:45:08;  author: matt;  state: Exp;
Changed password again
----------------------------
revision 1.19
date: 1993/12/08 17:41:05;  author: matt;  state: Exp;
Changed password
----------------------------
revision 1.18
date: 1993/12/08 10:55:10;  author: mike;  state: Exp;
Add free_obj_list
----------------------------
revision 1.17
date: 1993/12/07 13:46:38;  author: john;  state: Exp;
Added Explosion bitmap array
----------------------------
revision 1.16
date: 1993/12/06 18:40:35;  author: matt;  state: Exp;
Changed object loading & handling
----------------------------
revision 1.15
date: 1993/12/05 22:47:48;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.14
date: 1993/12/01 11:44:11;  author: matt;  state: Exp;
Chagned Frfract to FrameTime
----------------------------
revision 1.13
date: 1993/12/01 00:27:11;  author: yuan;  state: Exp;
Implemented new bitmap structure system...
overall bitmap scheme still needs some work.
----------------------------
revision 1.12
date: 1993/11/19 17:21:59;  author: matt;  state: Exp;
Changed the bitmap number of object class UNICLASS
Removed static initialization for objects
----------------------------
revision 1.11
date: 1993/11/18 13:51:47;  author: mike;  state: Exp;
Add Classes, Class_views, Objects
----------------------------
revision 1.10
date: 1993/11/04 18:52:36;  author: matt;  state: Exp;
Made Vertices[] and Segment_points[] use same constant for size, since
they must be the same size anyway
----------------------------
revision 1.9
date: 1993/11/04 14:01:06;  author: matt;  state: Exp;
Mucked with include files
----------------------------
revision 1.8
date: 1993/10/26 13:58:42;  author: mike;  state: Exp;
Add password protection.
----------------------------
revision 1.7
date: 1993/10/14 18:05:50;  author: mike;  state: Exp;
Change Side_to_verts to use MAX_SIDES_PER_SEGMENT in place of CONNECTIVITY
----------------------------
revision 1.6
date: 1993/10/12 13:57:19;  author: john;  state: Exp;
added texture[]
----------------------------
revision 1.5
date: 1993/10/12 09:58:15;  author: mike;  state: Exp;
Move Side_to_verts here from eglobal.c, since it is needed in the game.
----------------------------
revision 1.4
date: 1993/10/09 15:52:30;  author: mike;  state: Exp;
Move test_pos, test_orient here from render.c.
----------------------------
revision 1.3
date: 1993/10/02 18:15:45;  author: mike;  state: Exp;
Killed include of segment.h, which gets included by inferno.h.
----------------------------
revision 1.2
date: 1993/09/23 17:54:24;  author: mike;  state: Exp;
Add Segment_points
----------------------------
revision 1.1
date: 1993/09/23 15:01:50;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/mine.c,v
Working file: main/editor/mine.c
head: 2.0
branch:
description: Mine specific editing functions, such as load_mine, save_mine
----------------------------
revision 2.0
date: 1995/02/27 11:34:38;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.82
date: 1995/01/19 15:19:42;  author: mike;  state: Exp;
New super-compressed registered file format.
----------------------------
revision 1.81
date: 1994/12/15 16:51:39;  author: mike;  state: Exp;
fix error message.
----------------------------
revision 1.80
date: 1994/12/09 22:52:27;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.79
date: 1994/11/27 23:17:14;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.78
date: 1994/11/26 21:48:24;  author: matt;  state: Exp;
Fixed saturation in short light value
----------------------------
revision 1.77
date: 1994/11/18 09:43:22;  author: mike;  state: Exp;
mprintf and clean up instead of Assert on values which don't fit in a short.
----------------------------
revision 1.76
date: 1994/11/17 20:37:37;  author: john;  state: Exp;
Added comment to get mike or john.
----------------------------
revision 1.75
date: 1994/11/17 20:08:51;  author: john;  state: Exp;
Added new compiled level format.
----------------------------
revision 1.74
date: 1994/11/17 11:39:00;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.73
date: 1994/10/20 12:47:47;  author: matt;  state: Exp;
Replaced old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.72
date: 1994/09/23 22:13:58;  author: matt;  state: Exp;
Tooks out references to obsolete structure fields
----------------------------
revision 1.71
date: 1994/09/22 18:39:40;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.70
date: 1994/09/22 18:38:09;  author: john;  state: Exp;
Added better help for locked files.
----------------------------
revision 1.69
date: 1994/08/01 11:04:44;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.68
date: 1994/06/08 14:29:35;  author: matt;  state: Exp;
Took out support for old mine versions
----------------------------
revision 1.67
date: 1994/05/27 10:34:37;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.66
date: 1994/05/23 14:48:08;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.65
date: 1994/05/17 10:34:52;  author: matt;  state: Exp;
New parm to reset_objects; Num_objects no longer global
----------------------------
revision 1.64
date: 1994/05/12 14:46:46;  author: mike;  state: Exp;
Load previous mine type.
----------------------------
revision 1.63
date: 1994/05/06 12:52:13;  author: yuan;  state: Exp;
Adding some gamesave checks...
----------------------------
revision 1.62
date: 1994/05/05 12:56:32;  author: yuan;  state: Exp;
Fixed a bunch of group bugs.
----------------------------
revision 1.61
date: 1994/05/03 11:36:55;  author: yuan;  state: Exp;
Fixing mine save.
----------------------------
revision 1.60
date: 1994/03/19 17:22:14;  author: yuan;  state: Exp;
Wall system implemented until specific features need to be added...
(Needs to be hammered on though.)
----------------------------
revision 1.59
date: 1994/03/17 18:08:32;  author: yuan;  state: Exp;
New wall stuff... Cut out switches....
----------------------------
revision 1.58
date: 1994/03/15 16:34:15;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.57
date: 1994/03/01 18:14:09;  author: yuan;  state: Exp;
Added new walls, switches, and triggers.
=============================================================================
RCS file: f:/miner/source/main/mission.c,v
Working file: main/mission.c
head: 2.9
branch:
description: Code to handle multiple missions
----------------------------
revision 2.9
date: 1995/05/26 16:16:32;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.8
date: 1995/03/20 15:49:31;  author: mike;  state: Exp;
Remove eof char from comment which confused make depend, causing
no mission.obj: line in makefile.  Pretty stupid tool, huh?
----------------------------
revision 2.7
date: 1995/03/20 12:12:11;  author: john;  state: Exp;
Added ifdef SATURN.
----------------------------
revision 2.6
date: 1995/03/15 14:32:49;  author: john;  state: Exp;
Added code to force the Descent CD-rom in the drive.
----------------------------
revision 2.5
date: 1995/03/15 11:41:15;  author: john;  state: Exp;
Better Saturn CD-ROM support.
----------------------------
revision 2.4
date: 1995/03/14 18:24:14;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.3
date: 1995/03/07 14:19:41;  author: mike;  state: Exp;
More destination saturn stuff.
----------------------------
revision 2.2
date: 1995/03/06 23:09:03;  author: mike;  state: Exp;
more saturn stuff: make briefings work for saturn mission.
----------------------------
revision 2.1
date: 1995/03/06 16:47:48;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.0
date: 1995/02/27 11:27:49;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.14
date: 1995/02/15 11:30:37;  author: john;  state: Exp;
Fixed bug with potential mem overwrite on line 160.
----------------------------
revision 1.13
date: 1995/02/10 17:53:20;  author: matt;  state: Exp;
Changed mission name again
----------------------------
revision 1.12
date: 1995/02/10 17:35:38;  author: matt;  state: Exp;
Changed name of built-in mission
----------------------------
revision 1.11
date: 1995/02/07 17:13:51;  author: allender;  state: Exp;
removed return statement in load_mission so that built in mission will
actually set the Current_mission_name and _filename
----------------------------
revision 1.10
date: 1995/01/31 01:19:45;  author: matt;  state: Exp;
Made build_mission_list() sort missions by name
----------------------------
revision 1.9
date: 1995/01/30 13:49:58;  author: allender;  state: Exp;
changed build_mission_list in load_mission_by_name to include
anarchy levels.
----------------------------
revision 1.8
date: 1995/01/30 13:03:51;  author: matt;  state: Exp;
Fixed dumb mistake
----------------------------
revision 1.7
date: 1995/01/30 12:55:22;  author: matt;  state: Exp;
Added vars to point to mission names
----------------------------
revision 1.6
date: 1995/01/22 18:57:28;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.5
date: 1995/01/22 14:13:08;  author: matt;  state: Exp;
Added flag in mission list for anarchy-only missions
----------------------------
revision 1.4
date: 1995/01/21 23:13:12;  author: matt;  state: Exp;
Made high scores with (not work, really) with loaded missions
Don't give player high score when quit game
----------------------------
revision 1.3
date: 1995/01/21 16:27:12;  author: matt;  state: Exp;
Made endlevel briefing work with missions
----------------------------
revision 1.2
date: 1995/01/20 22:47:50;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.1
date: 1995/01/20 13:42:19;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/mission.h,v
Working file: main/mission.h
head: 2.0
branch:
description: Header for mission.h
----------------------------
revision 2.0
date: 1995/02/27 11:31:35;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1995/01/30 12:55:41;  author: matt;  state: Exp;
Added vars to point to mission names
----------------------------
revision 1.5
date: 1995/01/22 18:57:21;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.4
date: 1995/01/22 14:13:21;  author: matt;  state: Exp;
Added flag in mission list for anarchy-only missions
----------------------------
revision 1.3
date: 1995/01/21 23:13:12;  author: matt;  state: Exp;
Made high scores with (not work, really) with loaded missions
Don't give player high score when quit game
----------------------------
revision 1.2
date: 1995/01/20 22:47:53;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.1
date: 1995/01/20 13:42:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/modem.c,v
Working file: main/modem.c
head: 2.13
branch:
description: Modem support code
----------------------------
revision 2.13
date: 1995/11/28 16:25:05;  author: john;  state: Exp;
Added fixed for Rockwell voice modems thats waits for OK after sending
initial AT to modem to detect if there is a modem on the port.
----------------------------
revision 2.12
date: 1995/06/14 16:32:09;  author: john;  state: Exp;
Fixed bug where all modem games were anarchy.
----------------------------
revision 2.11
date: 1995/05/29 16:17:59;  author: john;  state: Exp;
Added support for Rockwell that takes out all net modes except for anarchy.
----------------------------
revision 2.10
date: 1995/04/23 16:06:38;  author: john;  state: Exp;
Moved rinvul into modem/null modem menu.
----------------------------
revision 2.9
date: 1995/04/09 14:43:20;  author: john;  state: Exp;
Took out mem-overwrite error when > 25 char phone numbers.
----------------------------
revision 2.8
date: 1995/04/06 12:13:36;  author: john;  state: Exp;
Made phone numbers be 32 characters max.
----------------------------
revision 2.7
date: 1995/03/31 14:16:33;  author: john;  state: Exp;
Mode phone numbers 30 chars long.
----------------------------
revision 2.6
date: 1995/03/30 16:39:44;  author: john;  state: Exp;
Incread phone numbers to 25 characters.
----------------------------
revision 2.5
date: 1995/03/30 16:04:49;  author: john;  state: Exp;
Increased modem number length.
 
----------------------------
revision 2.4
date: 1995/03/29 15:33:23;  author: john;  state: Exp;
Took out RTS/CTS handshaking. Made it enabled with -RTSCTS.
----------------------------
revision 2.3
date: 1995/03/21 14:41:10;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.2
date: 1995/03/06 16:47:50;  author: mike;  state: Exp;
destination saturn
----------------------------
revision 2.1
date: 1995/03/02 15:58:31;  author: john;  state: Exp;
Made menu support modex.
----------------------------
revision 2.0
date: 1995/02/27 11:32:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.157
date: 1995/02/15 15:35:12;  author: john;  state: Exp;
Added code to support modem tracking of kills during endlevel..
----------------------------
revision 1.156
date: 1995/02/15 15:27:16;  author: john;  state: Exp;
Mode modem code work with kills after you leave mine.
----------------------------
revision 1.155
date: 1995/02/12 19:53:04;  author: rob;  state: Exp;
Fixed up com flush.
----------------------------
revision 1.154
date: 1995/02/11 17:13:25;  author: rob;  state: Exp;
Took out code fill stuff.
----------------------------
revision 1.153
date: 1995/02/11 14:26:25;  author: rob;  state: Exp;
Added support for invul. controlcen.
----------------------------
revision 1.152
date: 1995/02/09 02:59:44;  author: mike;  state: Exp;
check code for 00066xxx bugs.
----------------------------
revision 1.151
date: 1995/02/08 19:18:56;  author: rob;  state: Exp;
Took out show IDs on HUD option.
----------------------------
revision 1.150
date: 1995/02/08 11:30:29;  author: rob;  state: Exp;
Fixed some pretty minor bugs.
----------------------------
revision 1.149
date: 1995/02/07 20:39:54;  author: rob;  state: Exp;
Added new modem game options for hud id's and automap show.
----------------------------
revision 1.148
date: 1995/02/06 18:42:09;  author: rob;  state: Exp;
Removed debugging crap.
----------------------------
revision 1.147
date: 1995/02/06 18:17:17;  author: rob;  state: Exp;
Fixed bug in killed tallys in modem game.
----------------------------
revision 1.146
date: 1995/02/05 17:04:29;  author: rob;  state: Exp;
Removed performance monitoring debug message.
----------------------------
revision 1.145
date: 1995/02/05 17:02:48;  author: rob;  state: Exp;
Speeding up cooperative/robo-anarchy modes.
----------------------------
revision 1.142
date: 1995/02/03 18:09:40;  author: rob;  state: Exp;
Small fixes to modem setup menu..
----------------------------
revision 1.141
date: 1995/02/03 11:12:15;  author: rob;  state: Exp;
Fixed a bug (again).  Somehow last checkin got lost.
----------------------------
revision 1.140
date: 1995/02/02 22:06:20;  author: rob;  state: Exp;
Removed a function frm shareware.
----------------------------
revision 1.139
date: 1995/02/01 23:20:32;  author: rob;  state: Exp;
Put baud rate in connect subtitle.
----------------------------
revision 1.138
date: 1995/01/30 21:22:11;  author: rob;  state: Exp;
Fixed bug in sync pack memcpy len.
----------------------------
revision 1.137
date: 1995/01/30 21:18:31;  author: rob;  state: Exp;
Simplified mission loading support.
----------------------------
revision 1.136
date: 1995/01/30 18:32:08;  author: rob;  state: Exp;
Added include of multibot.h
----------------------------
revision 1.135
date: 1995/01/30 17:16:04;  author: rob;  state: Exp;
Added new system for sending robots positions in modem games.
----------------------------
revision 1.134
date: 1995/01/30 15:29:44;  author: rob;  state: Exp;
Localizing.
----------------------------
revision 1.133
date: 1995/01/29 15:20:21;  author: rob;  state: Exp;
Fixed a bug in secret level sequencing for modem games.
----------------------------
revision 1.132
date: 1995/01/24 15:48:51;  author: rob;  state: Exp;
fixed error dialog.
----------------------------
revision 1.131
date: 1995/01/23 18:51:59;  author: rob;  state: Exp;
Added RTS/CTS to null-modem games to help IHHD folks.
Fixed a bad assert.
Added support for user-written mission files.
----------------------------
revision 1.130
date: 1995/01/23 16:01:36;  author: rob;  state: Exp;
More reliable syncing.
Added mission selection.
----------------------------
revision 1.129
date: 1995/01/20 22:47:35;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.128
date: 1995/01/19 18:18:05;  author: rob;  state: Exp;
Fixed kill list display.
----------------------------
revision 1.127
date: 1995/01/19 16:33:48;  author: rob;  state: Exp;
removed ambigous variable name in check_message.
----------------------------
revision 1.126
date: 1995/01/19 11:56:38;  author: rob;  state: Exp;
Take out Int3 that could never get hit.
----------------------------
revision 1.125
date: 1995/01/18 19:01:46;  author: rob;  state: Exp;
Added new asserts to check for proper game staus.
----------------------------
revision 1.124
date: 1995/01/18 15:39:25;  author: rob;  state: Exp;
Fixed title of serial menu.
----------------------------
revision 1.123
date: 1995/01/18 11:54:23;  author: rob;  state: Exp;
Fixing a bug with connect status.
----------------------------
revision 1.122
date: 1995/01/17 22:16:07;  author: rob;  state: Exp;
Changed timer calls.
----------------------------
revision 1.121
date: 1995/01/17 13:58:31;  author: rob;  state: Exp;
Fixed problem with not allowing non-anarchy modes in registered.
----------------------------
revision 1.120
date: 1995/01/15 15:46:18;  author: rob;  state: Exp;
Fixed lost character on serial menu messages.
----------------------------
revision 1.119
date: 1995/01/12 22:03:15;  author: rob;  state: Exp;
Added sound cue when connection is established.
----------------------------
revision 1.118
date: 1995/01/12 11:42:05;  author: john;  state: Exp;
added better UART detection.
/.
Works under OS/2 and DOS.
=============================================================================
RCS file: f:/miner/source/main/modem.h,v
Working file: main/modem.h
head: 2.1
branch:
description: Header file for modem support
----------------------------
revision 2.1
date: 1995/03/21 14:40:38;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:31:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.18
date: 1994/11/22 17:12:05;  author: rob;  state: Exp;
Starting working on secret level fix for modem games.
----------------------------
revision 1.17
date: 1994/11/17 16:43:17;  author: rob;  state: Exp;
Added prototype for com_level_sync function.
----------------------------
revision 1.16
date: 1994/11/15 21:30:32;  author: rob;  state: Exp;
Added prototype for new menu hook.
----------------------------
revision 1.15
date: 1994/10/07 16:15:33;  author: rob;  state: Exp;
Changed calls to multi_send_position.
----------------------------
revision 1.14
date: 1994/10/07 12:52:24;  author: rob;  state: Exp;
Fixed some problems.
----------------------------
revision 1.13
date: 1994/10/07 11:25:47;  author: rob;  state: Exp;
Tried to fix modem to work with new multi stuff.  Still a bit jacked up, tho.
----------------------------
revision 1.12
date: 1994/10/05 19:14:50;  author: rob;  state: Exp;
Exported macros and arrays to support network object mapping.
----------------------------
revision 1.11
date: 1994/10/05 17:48:59;  author: rob;  state: Exp;
Several changes, most to end_of_level sequencing.
----------------------------
revision 1.10
date: 1994/10/05 14:22:54;  author: rob;  state: Exp;
Added com_end_level.
----------------------------
revision 1.9
date: 1994/09/30 18:37:22;  author: rob;  state: Exp;
Another day's worth of work.  Mostly menus, error checking.  Added
level checksums during sync, carrier detect during all com calls,
generic com_abort() procedure for bailing out, and nm_messagebox
handling of QUIT instead of HUD message (which never gets seen).
----------------------------
revision 1.8
date: 1994/09/29 20:55:16;  author: rob;  state: Exp;
Lots of changes.
----------------------------
revision 1.7
date: 1994/09/29 16:09:20;  author: rob;  state: Exp;
Added explode stuff.
----------------------------
revision 1.6
date: 1994/09/28 14:31:08;  author: rob;  state: Exp;
Added serial setup menu.
----------------------------
revision 1.5
date: 1994/09/27 15:02:49;  author: rob;  state: Exp;
Null modem basic routines working.  Sending DEAD messages and
missiles still need to be done.
----------------------------
revision 1.4
date: 1994/09/24 16:52:33;  author: rob;  state: Exp;
Added stubbed funcs for startup and stop of serial games.
----------------------------
revision 1.3
date: 1994/09/24 14:47:31;  author: rob;  state: Exp;
New function protos.
----------------------------
revision 1.2
date: 1994/09/22 17:53:29;  author: rob;  state: Exp;
First revision, not yet functional.
----------------------------
revision 1.1
date: 1994/09/22 12:39:25;  author: rob;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/morph.c,v
Working file: main/morph.c
head: 2.1
branch:
description: Morphing code
----------------------------
revision 2.1
date: 1995/02/27 18:26:33;  author: john;  state: Exp;
Fixed bug that was caused by externing Polygon_models, and I had
changed the type of it in polyobj.c, thus causing page faults.
----------------------------
revision 2.0
date: 1995/02/27 11:27:44;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.35
date: 1995/02/22 14:45:37;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.34
date: 1995/01/14 19:16:52;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.33
date: 1995/01/03 20:38:36;  author: john;  state: Exp;
Externed MAX_MORPH_OBJECTS
----------------------------
revision 1.32
date: 1994/11/17 15:34:04;  author: matt;  state: Exp;
Attempt #4 to fix morph bug
----------------------------
revision 1.31
date: 1994/11/15 10:57:14;  author: matt;  state: Exp;
Tried again to fix morph
----------------------------
revision 1.30
date: 1994/11/14 14:06:45;  author: matt;  state: Exp;
Fixed stupid bug
----------------------------
revision 1.29
date: 1994/11/14 11:55:13;  author: matt;  state: Exp;
Added divide overflow check
----------------------------
revision 1.28
date: 1994/09/26 17:28:14;  author: matt;  state: Exp;
Made new multiple-object morph code work with the demo system
----------------------------
revision 1.27
date: 1994/09/26 15:39:56;  author: matt;  state: Exp;
Allow multiple simultaneous morphing objects
----------------------------
revision 1.26
date: 1994/09/11 22:44:59;  author: mike;  state: Exp;
quick on vecmat function.
----------------------------
revision 1.25
date: 1994/08/26 15:36:00;  author: matt;  state: Exp;
Made eclips usable on more than one object at a time
----------------------------
revision 1.24
date: 1994/07/25 00:02:46;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.23
date: 1994/07/12 12:39:58;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.22
date: 1994/06/28 11:54:51;  author: john;  state: Exp;
Made newdemo system record/play directly to/from disk, so
we don't need the 4 MB buffer anymore.
----------------------------
revision 1.21
date: 1994/06/27 15:53:01;  author: john;  state: Exp;
#define'd out the newdemo stuff
----------------------------
revision 1.20
date: 1994/06/16 14:30:19;  author: matt;  state: Exp;
Moved morph record data call to reder routine
----------------------------
revision 1.19
date: 1994/06/16 13:57:23;  author: matt;  state: Exp;
Added support for morphing objects in demos
----------------------------
revision 1.18
date: 1994/06/16 12:24:23;  author: matt;  state: Exp;
Made robot lighting not mess with Lighting_on so robots now night
according to this variable.
----------------------------
revision 1.17
date: 1994/06/14 16:55:01;  author: matt;  state: Exp;
Got rid of physics_object speed field
----------------------------
revision 1.16
date: 1994/06/08 21:16:29;  author: matt;  state: Exp;
Made objects spin while morphing
----------------------------
revision 1.15
date: 1994/06/08 18:21:53;  author: matt;  state: Exp;
Made morphing objects light correctly
----------------------------
revision 1.14
date: 1994/06/07 16:50:49;  author: matt;  state: Exp;
Made object lighting work correctly; changed name of Ambient_light to
Dynamic_light; cleaned up polygobj object rendering a little.
----------------------------
revision 1.13
date: 1994/06/01 16:33:59;  author: yuan;  state: Exp;
Fixed bug.
----------------------------
revision 1.12
date: 1994/06/01 16:29:08;  author: matt;  state: Exp;
If morph_frame called on object this isn't the morph object, kill it.
----------------------------
revision 1.11
date: 1994/06/01 12:46:34;  author: matt;  state: Exp;
Added needed include
----------------------------
revision 1.10
date: 1994/05/31 22:12:41;  author: matt;  state: Exp;
Set lighting for morph objects
Don't let another object start morph while one is morphing, unless
that one dies.
----------------------------
revision 1.9
date: 1994/05/31 18:49:53;  author: john;  state: Exp;
Took out debugging printf's that Matt left in.
----------------------------
revision 1.8
date: 1994/05/30 22:50:22;  author: matt;  state: Exp;
Added morph effect for robots
=============================================================================
RCS file: f:/miner/source/main/morph.h,v
Working file: main/morph.h
head: 2.0
branch:
description: Header for morph.c
----------------------------
revision 2.0
date: 1995/02/27 11:32:19;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.9
date: 1995/01/04 12:20:46;  author: john;  state: Exp;
Declearations to work better with game state save.
----------------------------
revision 1.8
date: 1995/01/03 20:38:44;  author: john;  state: Exp;
Externed MAX_MORPH_OBJECTS
----------------------------
revision 1.7
date: 1994/09/26 17:28:33;  author: matt;  state: Exp;
Made new multiple-object morph code work with the demo system
----------------------------
revision 1.6
date: 1994/09/26 15:40:17;  author: matt;  state: Exp;
Allow multiple simultaneous morphing objects
----------------------------
revision 1.5
date: 1994/06/28 11:55:19;  author: john;  state: Exp;
Made newdemo system record/play directly to/from disk, so
we don't need the 4 MB buffer anymore.
----------------------------
revision 1.4
date: 1994/06/16 13:57:40;  author: matt;  state: Exp;
Added support for morphing objects in demos
----------------------------
revision 1.3
date: 1994/06/08 18:22:03;  author: matt;  state: Exp;
Made morphing objects light correctly
----------------------------
revision 1.2
date: 1994/05/30 22:50:25;  author: matt;  state: Exp;
Added morph effect for robots
----------------------------
revision 1.1
date: 1994/05/30 12:04:19;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/multi.c,v
Working file: main/multi.c
head: 2.10
branch:
description: Multiplayer code shared by serial and network play.
=============================================================================
RCS file: f:/miner/source/main/multi.h,v
Working file: main/multi.h
head: 2.3
branch:
description: Defines and exported variables for multi.c
----------------------------
revision 2.3
date: 1995/04/03 08:49:50;  author: john;  state: Exp;
Added code to get someone's player struct.
----------------------------
revision 2.2
date: 1995/03/27 12:59:17;  author: john;  state: Exp;
Initial version of multiplayer save games.
----------------------------
revision 2.1
date: 1995/03/21 14:39:06;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:28:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.74
date: 1995/02/11 11:36:42;  author: rob;  state: Exp;
Added new var.
----------------------------
revision 1.73
date: 1995/02/08 18:17:41;  author: rob;  state: Exp;
Added prototype for reset function.
----------------------------
revision 1.72
date: 1995/02/05 14:37:42;  author: rob;  state: Exp;
Made object mapping more efficient.
----------------------------
revision 1.71
date: 1995/02/01 18:07:36;  author: rob;  state: Exp;
Change object mapping to int functions.
----------------------------
revision 1.70
date: 1995/02/01 12:55:00;  author: rob;  state: Exp;
Changed message type.
----------------------------
revision 1.69
date: 1995/01/31 12:46:12;  author: rob;  state: Exp;
Fixed a bug with object overflow handling.
----------------------------
revision 1.68
date: 1995/01/27 11:15:13;  author: rob;  state: Exp;
removed extern of variable no longer in multi.c
----------------------------
revision 1.67
date: 1995/01/24 11:53:13;  author: john;  state: Exp;
Added better macro defining code.
----------------------------
revision 1.66
date: 1995/01/24 11:32:03;  author: john;  state: Exp;
Added new defining macro method.
----------------------------
revision 1.65
date: 1995/01/23 17:17:06;  author: john;  state: Exp;
Added multi_sending_message.
----------------------------
revision 1.64
date: 1995/01/23 16:02:42;  author: rob;  state: Exp;
Added prototype for mission select function.
----------------------------
revision 1.63
date: 1995/01/18 19:01:21;  author: rob;  state: Exp;
Added new message for hostage door sync.
----------------------------
revision 1.62
date: 1995/01/14 18:39:57;  author: rob;  state: Exp;
Added new message type for dropping robot powerups.
----------------------------
revision 1.61
date: 1995/01/12 21:41:13;  author: rob;  state: Exp;
Fixed incompat. with 1.0 and 1.1.
----------------------------
revision 1.60
date: 1995/01/04 21:40:55;  author: rob;  state: Exp;
Added new type for boss actions in coop.
----------------------------
revision 1.59
date: 1995/01/04 11:38:09;  author: rob;  state: Exp;
Fixed problem with lost character in messages.
----------------------------
revision 1.58
date: 1995/01/03 20:12:44;  author: rob;  state: Exp;
Made max message length in shareware = 40.
----------------------------
revision 1.57
date: 1995/01/03 14:27:25;  author: rob;  state: Exp;
ADded trigger messages.
----------------------------
revision 1.56
date: 1995/01/02 20:08:21;  author: rob;  state: Exp;
Added robot creation.
----------------------------
revision 1.55
date: 1995/01/02 14:41:30;  author: rob;  state: Exp;
Added score syncing.
----------------------------
revision 1.54
date: 1994/12/21 21:02:01;  author: rob;  state: Exp;
Added new message type for ROBOT_FIRE
----------------------------
revision 1.53
date: 1994/12/21 17:27:25;  author: rob;  state: Exp;
Changed the format for send_create_powerup messages.
----------------------------
revision 1.52
date: 1994/12/20 20:41:39;  author: rob;  state: Exp;
ADded robot release message type.
----------------------------
revision 1.51
date: 1994/12/19 19:00:12;  author: rob;  state: Exp;
Changed buf to multibuf so it can be safely externed.
----------------------------
revision 1.50
date: 1994/12/19 16:41:14;  author: rob;  state: Exp;
Added new message types for robot support.
Added prototype for external use of multi_send_data (from multibot.c)
----------------------------
revision 1.49
date: 1994/12/11 13:30:13;  author: rob;  state: Exp;
Added new variables to get players out of nested menus.
----------------------------
revision 1.48
date: 1994/12/11 01:58:57;  author: rob;  state: Exp;
Added variable to track menu deth..
----------------------------
revision 1.47
date: 1994/12/08 12:41:17;  author: rob;  state: Exp;
Added audio taunts.
----------------------------
revision 1.46
date: 1994/12/07 21:53:12;  author: rob;  state: Exp;
Fixing sequencing bugginess in modem/serial.
----------------------------
revision 1.45
date: 1994/12/07 16:46:58;  author: rob;  state: Exp;
Added prototype.
----------------------------
revision 1.44
date: 1994/12/01 12:22:31;  author: rob;  state: Exp;
Added de-cloak message for demo.
----------------------------
revision 1.43
date: 1994/12/01 00:54:14;  author: rob;  state: Exp;
Added variable for tracking homing missiles.
----------------------------
revision 1.42
date: 1994/11/30 16:04:39;  author: rob;  state: Exp;
Added show reticle name variable for team games.
----------------------------
revision 1.41
date: 1994/11/29 19:33:38;  author: rob;  state: Exp;
Team support.
----------------------------
revision 1.40
date: 1994/11/29 12:49:37;  author: rob;  state: Exp;
Added more team support stuff.
----------------------------
revision 1.39
date: 1994/11/28 21:20:49;  author: rob;  state: Exp;
Cleaned up the .h file, removed an unused function.
----------------------------
revision 1.38
date: 1994/11/28 21:04:50;  author: rob;  state: Exp;
Added support for network sound-casting.
----------------------------
revision 1.37
date: 1994/11/28 14:02:08;  author: rob;  state: Exp;
Added protocol versioning for registered versus shareware.
----------------------------
revision 1.36
date: 1994/11/28 13:30:04;  author: rob;  state: Exp;
Added a define for protocol version.
----------------------------
revision 1.35
date: 1994/11/22 19:19:48;  author: rob;  state: Exp;
remove unused function.
----------------------------
revision 1.34
date: 1994/11/22 18:47:34;  author: rob;  state: Exp;
Added hooks for modem support for secret levels.
----------------------------
revision 1.33
date: 1994/11/22 17:10:50;  author: rob;  state: Exp;
Fix for secret levels in network play mode.
----------------------------
revision 1.32
date: 1994/11/21 16:00:28;  author: rob;  state: Exp;
Added secret-level hooks.
----------------------------
revision 1.31
date: 1994/11/18 18:28:50;  author: rob;  state: Exp;
Added new function for multiplayer score screen.
----------------------------
revision 1.30
date: 1994/11/18 16:31:05;  author: rob;  state: Exp;
Added kill list timer variable.
----------------------------
revision 1.29
date: 1994/11/17 16:38:15;  author: rob;  state: Exp;
Added creation of net powerups.
----------------------------
revision 1.28
date: 1994/11/17 13:37:33;  author: rob;  state: Exp;
Added prototype for multi_new_game.
----------------------------
revision 1.27
date: 1994/11/17 12:58:45;  author: rob;  state: Exp;
Added kill matrix.
----------------------------
revision 1.26
date: 1994/11/16 20:35:24;  author: rob;  state: Exp;
Changed explosion hook.
----------------------------
revision 1.25
date: 1994/11/15 21:31:13;  author: rob;  state: Exp;
Bumped max message size, was giving modem.c fits.
----------------------------
revision 1.24
date: 1994/11/15 19:28:37;  author: matt;  state: Exp;
Added prototypes
----------------------------
revision 1.23
date: 1994/11/14 17:22:19;  author: rob;  state: Exp;
Added extern for message macros.
----------------------------
revision 1.22
date: 1994/11/11 18:16:44;  author: rob;  state: Exp;
Made multi_menu_poll return a value to exit menus.
----------------------------
revision 1.21
date: 1994/11/11 11:06:19;  author: rob;  state: Exp;
Added prototype for multi_menu_poll.
----------------------------
revision 1.20
date: 1994/11/10 21:48:41;  author: rob;  state: Exp;
Changed multi_endlevel to return an int.
----------------------------
revision 1.19
date: 1994/11/08 17:48:14;  author: rob;  state: Exp;
Fixing endlevel stuff.
----------------------------
revision 1.18
date: 1994/11/07 17:49:07;  author: rob;  state: Exp;
Changed prototype for object mapping funcs.
----------------------------
revision 1.17
date: 1994/11/07 15:46:32;  author: rob;  state: Exp;
Changed the way remote object number mapping works, and it was a real
pain in the ass..  I think it will work more reliably now.
----------------------------
revision 1.16
date: 1994/11/04 19:53:01;  author: rob;  state: Exp;
Added a new message type for Player_leave 'explosions'.
Added a prototype for function moved over from network.c
----------------------------
revision 1.15
date: 1994/11/02 18:02:33;  author: rob;  state: Exp;
Added message type for control center firing.
----------------------------
revision 1.14
date: 1994/11/02 11:38:00;  author: rob;  state: Exp;
Added player-in-process-of-dying explosions to network game.
----------------------------
revision 1.13
date: 1994/11/01 19:31:44;  author: rob;  state: Exp;
Bumped max_net_create_objects to 20 to accomodate a fully equipped
character blowing up.
----------------------------
revision 1.12
date: 1994/10/31 13:48:02;  author: rob;  state: Exp;
Fixed bug in opening doors over network/modem.  Added a new message
type to multi.c that communicates door openings across the net. 
Changed includes in multi.c and wall.c to accomplish this.
----------------------------
revision 1.11
date: 1994/10/09 20:08:20;  author: rob;  state: Exp;
Added some exported func prototypes.
Changed max net message length to 25 (from 30).
Removed some message types no longer used.
----------------------------
revision 1.10
date: 1994/10/08 20:06:10;  author: rob;  state: Exp;
fixed a typo.
----------------------------
revision 1.9
date: 1994/10/08 19:59:43;  author: rob;  state: Exp;
Moved MAX_MESSAGE_LEN to here.
----------------------------
revision 1.8
date: 1994/10/07 23:09:54;  author: rob;  state: Exp;
Fixed some prototypes.
----------------------------
revision 1.7
date: 1994/10/07 18:11:19;  author: rob;  state: Exp;
Added multi_do_death to multi.c.
----------------------------
revision 1.6
date: 1994/10/07 16:14:32;  author: rob;  state: Exp;
Added new message type for player reappear
----------------------------
revision 1.5
date: 1994/10/07 12:58:17;  author: rob;  state: Exp;
Added multi_leave_game.
----------------------------
revision 1.4
date: 1994/10/07 12:17:17;  author: rob;  state: Exp;
Fixed some stuff in multi_do_frame and exported the message_length
array.
----------------------------
revision 1.3
date: 1994/10/07 11:10:17;  author: john;  state: Exp;
Added function to parse multiple messages into individual
messages.
----------------------------
revision 1.2
date: 1994/10/07 10:28:06;  author: rob;  state: Exp;
Headers and stuff for multi.c (obviously)
----------------------------
revision 1.1
date: 1994/10/06 16:07:39;  author: rob;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/multibot.c,v
Working file: main/multibot.c
head: 2.2
branch:
description: Multiplayer robot code
=============================================================================
RCS file: f:/miner/source/main/multibot.h,v
Working file: main/multibot.h
head: 2.1
branch:
description: Header file for multiplayer robot support.
----------------------------
revision 2.1
date: 1995/03/21 14:40:18;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:30:57;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.20
date: 1995/02/06 18:18:05;  author: rob;  state: Exp;
Tweaking cooperative stuff.
----------------------------
revision 1.19
date: 1995/02/04 16:49:50;  author: rob;  state: Exp;
Changed multi_send_robot_frame to return the number of robot positions that were sent.
----------------------------
revision 1.18
date: 1995/02/04 12:29:32;  author: rob;  state: Exp;
Added buffered fire sends.
----------------------------
revision 1.17
date: 1995/01/30 17:22:02;  author: rob;  state: Exp;
Added prototype for modem robot send function.
----------------------------
revision 1.16
date: 1995/01/26 18:24:56;  author: rob;  state: Exp;
Reduced # of controlled bots.
----------------------------
revision 1.15
date: 1995/01/25 19:26:35;  author: rob;  state: Exp;
Added define for robot laser agitation.
----------------------------
revision 1.14
date: 1995/01/25 13:45:26;  author: rob;  state: Exp;
Added prototype of robot transfer fucm.
----------------------------
revision 1.13
date: 1995/01/14 19:01:08;  author: rob;  state: Exp;
Added prototypes for new functionality.
----------------------------
revision 1.12
date: 1995/01/12 16:41:53;  author: rob;  state: Exp;
Added new prototypes.
----------------------------
revision 1.11
date: 1995/01/12 15:42:55;  author: rob;  state: Exp;
Fixing score awards for coop.
----------------------------
revision 1.10
date: 1995/01/02 21:00:40;  author: rob;  state: Exp;
added robot matcen support.
----------------------------
revision 1.9
date: 1994/12/31 21:03:53;  author: rob;  state: Exp;
More tweaking for robot behavior.
----------------------------
revision 1.8
date: 1994/12/29 13:54:25;  author: rob;  state: Exp;
Ooops.. fixed a bug..
----------------------------
revision 1.7
date: 1994/12/29 12:51:38;  author: rob;  state: Exp;
ADded proto for multi_robot_explode_sub
----------------------------
revision 1.6
date: 1994/12/21 21:08:32;  author: rob;  state: Exp;
Added new functions for robot firing.
----------------------------
revision 1.5
date: 1994/12/21 19:04:02;  author: rob;  state: Exp;
Fixing score accounting for multi robot games.
----------------------------
revision 1.4
date: 1994/12/21 17:36:09;  author: rob;  state: Exp;
Added a new func.
----------------------------
revision 1.3
date: 1994/12/21 11:12:02;  author: rob;  state: Exp;
Added new function and new vars.
----------------------------
revision 1.2
date: 1994/12/19 16:41:42;  author: rob;  state: Exp;
first revision.
----------------------------
revision 1.1
date: 1994/12/16 15:48:20;  author: rob;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/netmisc.c,v
Working file: main/netmisc.c
head: 2.0
branch:
description: Misc routines for network.
----------------------------
revision 2.0
date: 1995/02/27 11:27:24;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/11/19 15:19:34;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.2
date: 1994/08/09 19:31:53;  author: john;  state: Exp;
Networking changes.
----------------------------
revision 1.1
date: 1994/08/08 11:06:07;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/netmisc.h,v
Working file: main/netmisc.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:30:18;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/08/09 19:31:54;  author: john;  state: Exp;
Networking changes.
----------------------------
revision 1.1
date: 1994/08/08 11:18:40;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/netseq.c,v
Working file: main/netseq.c
head: 2.0
branch:
description: Routines for getting a network game started.
----------------------------
revision 2.0
date: 1995/02/27 11:32:54;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.1
date: 1994/10/06 16:07:45;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/netseq.h,v
Working file: main/netseq.h
head: 2.0
branch:
description: Prototypes for functions that get a net game started.
----------------------------
revision 2.0
date: 1995/02/27 11:30:31;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.1
date: 1994/10/06 16:08:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/netware.c,v
Working file: main/netware.c
head: 2.0
branch:
description: Code to get the user's login name from netware
----------------------------
revision 2.0
date: 1995/02/27 11:32:29;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/07/23 23:53:56;  author: matt;  state: Exp;
Code to get the user's name, not usable until we find a way to check
that the user is attached and logged into a Novell network.
----------------------------
revision 1.1
date: 1994/07/23 19:35:16;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/network.c,v
Working file: main/network.c
head: 2.11
branch:
description: Routines for managing network play.
=============================================================================
RCS file: f:/miner/source/main/network.h,v
Working file: main/network.h
head: 2.2
branch:
description: Prototypes for network management functions.
----------------------------
revision 2.2
date: 1995/03/21 14:58:09;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 2.1
date: 1995/03/21 14:39:43;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:29:48;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.72
date: 1995/02/11 14:24:39;  author: rob;  state: Exp;
Added suppor for invul. cntrlcen.
----------------------------
revision 1.71
date: 1995/02/08 19:18:43;  author: rob;  state: Exp;
Added extern for segments checksum.
----------------------------
revision 1.70
date: 1995/02/08 11:01:16;  author: rob;  state: Exp;
Fixed a bug.
----------------------------
revision 1.69
date: 1995/02/07 21:16:49;  author: rob;  state: Exp;
Added flag for automap.
----------------------------
revision 1.68
date: 1995/02/06 18:18:33;  author: rob;  state: Exp;
Extern'ed Packet Urgent.
----------------------------
revision 1.67
date: 1995/02/05 14:36:29;  author: rob;  state: Exp;
Moved defines to network.h.
----------------------------
revision 1.66
date: 1995/02/01 16:34:09;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.65
date: 1995/01/30 21:14:35;  author: rob;  state: Exp;
Fixed a bug in join menu.
Simplified mission load support.
----------------------------
revision 1.64
date: 1995/01/30 18:19:40;  author: rob;  state: Exp;
Added mission title to gameinfo packet.
----------------------------
revision 1.63
date: 1995/01/28 17:02:39;  author: rob;  state: Exp;
Fixed monitor syncing bug (minor 19).
----------------------------
revision 1.62
date: 1995/01/27 11:15:25;  author: rob;  state: Exp;
removed extern of variable no longer in network.c
----------------------------
revision 1.61
date: 1995/01/26 12:17:34;  author: rob;  state: Exp;
Added new param to network_do_frame.
----------------------------
revision 1.60
date: 1995/01/22 17:32:11;  author: rob;  state: Exp;
Added mission support for network games.
----------------------------
revision 1.59
date: 1995/01/17 17:10:33;  author: rob;  state: Exp;
Added some flags to netgame struct.
----------------------------
revision 1.58
date: 1995/01/12 18:57:15;  author: rob;  state: Exp;
Added score resync stuff.
----------------------------
revision 1.57
date: 1995/01/12 16:42:18;  author: rob;  state: Exp;
Added new prototypes.
----------------------------
revision 1.56
date: 1995/01/05 12:12:10;  author: rob;  state: Exp;
Fixed a problem with packet size.
----------------------------
revision 1.55
date: 1995/01/05 11:12:36;  author: rob;  state: Exp;
Reduced packet size by 1 byte just to be safe.
----------------------------
revision 1.54
date: 1995/01/04 21:39:32;  author: rob;  state: Exp;
New framedata packet for registered.
----------------------------
revision 1.53
date: 1995/01/04 08:47:04;  author: rob;  state: Exp;
JOHN CHECKED IN FOR ROB !!!
----------------------------
revision 1.52
date: 1994/12/30 20:09:07;  author: rob;  state: Exp;
ADded a toggle for showing player names on HUD.
----------------------------
revision 1.51
date: 1994/12/29 15:59:52;  author: rob;  state: Exp;
Centralized network disconnects.
----------------------------
revision 1.50
date: 1994/12/09 21:21:57;  author: rob;  state: Exp;
rolled back changes.
----------------------------
revision 1.48
date: 1994/12/05 22:59:27;  author: rob;  state: Exp;
added prototype for send_endlevel_packet.
----------------------------
revision 1.47
date: 1994/12/05 21:47:34;  author: rob;  state: Exp;
Added a new field to netgame struct.
----------------------------
revision 1.46
date: 1994/12/05 14:39:16;  author: rob;  state: Exp;
Added new variable to indicate new net game starting.
----------------------------
revision 1.45
date: 1994/12/04 15:37:18;  author: rob;  state: Exp;
Fixed a typo.
----------------------------
revision 1.44
date: 1994/12/04 15:30:42;  author: rob;  state: Exp;
Added new fields to netgame struct.
----------------------------
revision 1.43
date: 1994/12/03 18:03:19;  author: rob;  state: Exp;
ADded team kill syncing.
----------------------------
revision 1.42
date: 1994/12/01 21:21:27;  author: rob;  state: Exp;
Added new system for object sync on rejoin.
----------------------------
revision 1.41
date: 1994/11/29 13:07:33;  author: rob;  state: Exp;
Changed structure defs to .h files.
----------------------------
revision 1.40
date: 1994/11/22 17:10:48;  author: rob;  state: Exp;
Fix for secret levels in network play mode.
----------------------------
revision 1.39
date: 1994/11/18 16:36:31;  author: rob;  state: Exp;
Added variable network_rejoined to enable random placement
of rejoining palyers.
----------------------------
revision 1.38
date: 1994/11/12 19:51:13;  author: rob;  state: Exp;
Changed prototype for network_send_data to pass
urgent flag.
----------------------------
revision 1.37
date: 1994/11/10 21:48:26;  author: rob;  state: Exp;
Changed net_endlevel to return an int.
----------------------------
revision 1.36
date: 1994/11/10 20:32:49;  author: rob;  state: Exp;
Added extern for LastPacketTime.
----------------------------
revision 1.35
date: 1994/11/09 11:36:34;  author: rob;  state: Exp;
ADded return value to network_level_sync for success/fail.
----------------------------
revision 1.34
date: 1994/11/08 21:22:31;  author: rob;  state: Exp;
Added proto for network_endlevel_snyc
----------------------------
revision 1.33
date: 1994/11/08 15:20:00;  author: rob;  state: Exp;
added proto for change_playernum_to
----------------------------
revision 1.32
date: 1994/11/07 17:45:40;  author: rob;  state: Exp;
Added prototype for network_endlevel (called from multi.c)
----------------------------
revision 1.31
date: 1994/11/04 19:52:37;  author: rob;  state: Exp;
Removed a function from network.h (network_show_player_list)
----------------------------
revision 1.30
date: 1994/11/01 19:39:26;  author: rob;  state: Exp;
Removed a couple of variables that should be externed from multi.c
(remnants of the changover)
----------------------------
revision 1.29
date: 1994/10/31 19:18:24;  author: rob;  state: Exp;
Changed prototype for network_do_frame to add a parameter if you wish
to force the frame to be sent.  Important if this is a leave_game frame.
----------------------------
revision 1.28
date: 1994/10/08 19:59:20;  author: rob;  state: Exp;
Removed network message variables.
----------------------------
revision 1.27
date: 1994/10/08 11:08:38;  author: john;  state: Exp;
Moved network_delete_unused objects into multi.c,
took out network callsign stuff and used Matt's net
players[.].callsign stuff.
----------------------------
revision 1.26
date: 1994/10/07 11:26:20;  author: rob;  state: Exp;
Changed network_start_frame to network_do_frame,.
----------------------------
revision 1.25
date: 1994/10/05 13:58:10;  author: rob;  state: Exp;
Added a new function net_endlevel that is called after each level is 
completed.  Currently it only does anything if SERIAL game is in effect.
----------------------------
revision 1.24
date: 1994/10/04 19:34:57;  author: rob;  state: Exp;
export network_find_max_net_players.
----------------------------
revision 1.23
date: 1994/10/04 17:31:10;  author: rob;  state: Exp;
Exported MaxNumNetPlayers.
----------------------------
revision 1.22
date: 1994/10/03 22:57:30;  author: matt;  state: Exp;
Took out redundant definition of callsign_len
----------------------------
revision 1.21
date: 1994/10/03 15:12:48;  author: rob;  state: Exp;
Boosted MAX_CREATE_OBJECTS to 15.
----------------------------
revision 1.20
date: 1994/09/30 18:19:51;  author: rob;  state: Exp;
Added two new variables for tracking object creation.
----------------------------
revision 1.19
date: 1994/09/27 15:03:18;  author: rob;  state: Exp;
Added prototype for network_delete_extra_objects used by modem.c
----------------------------
revision 1.18
date: 1994/09/27 14:36:45;  author: rob;  state: Exp;
Added two new varaibles for network/serial weapon firing.
----------------------------
revision 1.17
date: 1994/09/07 17:10:57;  author: john;  state: Exp;
Started adding code to sync powerups.
----------------------------
revision 1.16
date: 1994/09/06 19:29:05;  author: john;  state: Exp;
Added trial version of rejoin function.
----------------------------
revision 1.15
date: 1994/08/26 13:01:54;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.14
date: 1994/08/25 18:12:04;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.13
date: 1994/08/17 16:50:00;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.12
date: 1994/08/16 12:25:22;  author: john;  state: Exp;
Added hooks for sending messages.
----------------------------
revision 1.11
date: 1994/08/13 12:20:18;  author: john;  state: Exp;
Made the networking uise the Players array.
----------------------------
revision 1.10
date: 1994/08/12 22:41:27;  author: john;  state: Exp;
Took away Player_stats; add Players array.
----------------------------
revision 1.9
date: 1994/08/12 03:10:22;  author: john;  state: Exp;
Made network be default off; Moved network options into
main menu.  Made starting net game check that mines are the
same.
----------------------------
revision 1.8
date: 1994/08/11 21:57:08;  author: john;  state: Exp;
Moved network options to main menu.
----------------------------
revision 1.7
date: 1994/08/10 11:29:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1994/08/10 10:44:12;  author: john;  state: Exp;
Made net players fire..
----------------------------
revision 1.5
date: 1994/08/09 19:31:46;  author: john;  state: Exp;
Networking changes.
----------------------------
revision 1.4
date: 1994/08/05 16:30:26;  author: john;  state: Exp;
Added capability to turn off network.
----------------------------
revision 1.3
date: 1994/08/05 16:11:43;  author: john;  state: Exp;
Psuedo working version of networking.
----------------------------
revision 1.2
date: 1994/07/25 12:33:34;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.1
date: 1994/07/20 16:09:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/newdemo.c,v
Working file: main/newdemo.c
head: 2.7
branch:
description: Code to make a complete demo playback system.
----------------------------
revision 2.7
date: 1995/05/26 16:16:06;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.6
date: 1995/03/21 14:39:38;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.5
date: 1995/03/14 18:24:31;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.4
date: 1995/03/14 16:22:29;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.3
date: 1995/03/10 12:58:33;  author: allender;  state: Exp;
only display rear view cockpit when cockpit mode was CM_FULL_COCKPIT.
----------------------------
revision 2.2
date: 1995/03/08 16:12:15;  author: allender;  state: Exp;
changes for Destination Saturn
----------------------------
revision 2.1
date: 1995/03/08 12:11:26;  author: allender;  state: Exp;
fix shortpos reading
----------------------------
revision 2.0
date: 1995/02/27 11:29:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.189
date: 1995/02/22 14:53:42;  author: allender;  state: Exp;
missed some anonymous stuff
----------------------------
revision 1.188
date: 1995/02/22 13:24:53;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.187
date: 1995/02/22 13:13:54;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.186
date: 1995/02/14 15:36:41;  author: allender;  state: Exp;
fix fix for morph effect
----------------------------
revision 1.185
date: 1995/02/14 11:25:48;  author: allender;  state: Exp;
save cockpit mode and restore after playback.  get orientation for morph
effect when object is morph vclip
----------------------------
revision 1.184
date: 1995/02/13 12:18:14;  author: allender;  state: Exp;
change to decide about interpolating or not
----------------------------
revision 1.183
date: 1995/02/12 00:46:23;  author: adam;  state: Exp;
don't decide to skip frames until after at least 10 frames have
passed -- allender
----------------------------
revision 1.182
date: 1995/02/11 22:34:01;  author: john;  state: Exp;
Made textures page in for newdemos before playback time.
----------------------------
revision 1.181
date: 1995/02/11 17:28:32;  author: allender;  state: Exp;
strip frames from end of demo
----------------------------
revision 1.180
date: 1995/02/11 16:40:35;  author: allender;  state: Exp;
start of frame stripping debug code
----------------------------
revision 1.179
date: 1995/02/10 17:40:06;  author: allender;  state: Exp;
put back in wall_hit_process code to fix door problem
----------------------------
revision 1.178
date: 1995/02/10 17:17:24;  author: adam;  state: Exp;
allender } fix
----------------------------
revision 1.177
date: 1995/02/10 17:16:24;  author: allender;  state: Exp;
fix possible tmap problems
----------------------------
revision 1.176
date: 1995/02/10 15:54:37;  author: allender;  state: Exp;
changes for out of space on device.
----------------------------
revision 1.175
date: 1995/02/09 19:55:00;  author: allender;  state: Exp;
fix bug with morph recording -- force rendertype to RT_POLYOBJ when
playing back since it won't render until fully morphed otherwise
----------------------------
revision 1.174
date: 1995/02/07 17:15:35;  author: allender;  state: Exp;
DOH!!!!!
----------------------------
revision 1.173
date: 1995/02/07 17:14:21;  author: allender;  state: Exp;
immediately return when loading bogus level stuff when reading a frame
----------------------------
revision 1.172
date: 1995/02/02 11:15:03;  author: allender;  state: Exp;
after loading new level, read next frame (forward or back) always because
of co-op ships showing up when level is loaded
----------------------------
revision 1.171
date: 1995/02/02 10:24:16;  author: allender;  state: Exp;
removed cfile stuff.  Use standard FILE functions for demo playback
----------------------------
revision 1.170
date: 1995/01/30 13:54:32;  author: allender;  state: Exp;
support for missions
----------------------------
revision 1.169
date: 1995/01/27 16:27:35;  author: allender;  state: Exp;
put game mode to demo_game_mode when sorting multiplayer kill (and score)
list
----------------------------
revision 1.168
date: 1995/01/27 09:52:25;  author: allender;  state: Exp;
minor changes because of object/segment linking problems
----------------------------
revision 1.167
date: 1995/01/27 09:22:28;  author: allender;  state: Exp;
changed way multi-player score is recorded.  Record difference, not
actual
----------------------------
revision 1.166
date: 1995/01/25 14:32:44;  author: allender;  state: Exp;
changed with recorded player flags.  More checks for paused state
during interpolation reading of objects
----------------------------
revision 1.165
date: 1995/01/25 11:23:32;  author: allender;  state: Exp;
found bug with out of disk space problem
----------------------------
revision 1.164
date: 1995/01/25 11:11:33;  author: allender;  state: Exp;
coupla' things.  Fix problem with objects apparently being linked in
the wrong segment.  Put an Int3 in to check why demos will write to
end of space on drive. close demo file if demo doens't start playing
back.  Put obj->type == OBJ_ROBOT around checking for boss cloaking
----------------------------
revision 1.163
date: 1995/01/24 19:44:30;  author: allender;  state: Exp;
fix obscure problem with rewinding and having the wrong object linked
to the wrong segments.  will investigate further.
----------------------------
revision 1.162
date: 1995/01/23 09:31:28;  author: allender;  state: Exp;
add team score in team mode playback
----------------------------
revision 1.161
date: 1995/01/20 22:47:39;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.160
date: 1995/01/20 09:30:37;  author: allender;  state: Exp;
don't call LoadLevel with bogus data
----------------------------
revision 1.159
date: 1995/01/20 09:13:23;  author: allender;  state: Exp;
*&^%&*%$ typo
----------------------------
revision 1.158
date: 1995/01/20 09:12:04;  author: allender;  state: Exp;
record team names during demo recoring in GM_TEAM
----------------------------
revision 1.157
date: 1995/01/19 16:31:09;  author: allender;  state: Exp;
forgot to bump demo version for new weapon change stuff
----------------------------
revision 1.156
date: 1995/01/19 16:29:33;  author: allender;  state: Exp;
added new byte for weapon change (old weapon) so rewinding works
correctly for weapon changes in registered
----------------------------
revision 1.155
date: 1995/01/19 15:00:05;  author: allender;  state: Exp;
remove code to take away blastable walls in multiplayer demo playbacks
----------------------------
revision 1.154
date: 1995/01/19 11:07:05;  author: allender;  state: Exp;
put in psuedo cloaking for boss robots.  Problem is that cloaking is
time based, and that don't get done in demos, so bosses just disappear.
oh well
----------------------------
revision 1.153
date: 1995/01/19 09:42:29;  author: allender;  state: Exp;
record laser levels in demos
----------------------------
revision 1.152
date: 1995/01/18 20:43:12;  author: allender;  state: Exp;
fix laser level stuff on goto-beginning and goto-end
----------------------------
revision 1.151
date: 1995/01/18 20:28:18;  author: allender;  state: Exp;
cloak robots now cloak (except maybe for boss........)  Put in function
to deal with control center triggers
----------------------------
revision 1.150
date: 1995/01/18 18:55:07;  author: allender;  state: Exp;
bug fix
----------------------------
revision 1.149
date: 1995/01/18 18:49:03;  author: allender;  state: Exp;
lots 'o stuff....record laser level.  Record beginning of door opening
sequence.  Fix some problems with control center stuff.  Control center
triggers now work in reverse
----------------------------
revision 1.148
date: 1995/01/18 08:51:40;  author: allender;  state: Exp;
forgot to record ammo counts at beginning of demo
----------------------------
revision 1.147
date: 1995/01/17 17:42:07;  author: allender;  state: Exp;
added primary and secondary ammo counts.  Changed goto_end routine
to be more efficient
----------------------------
revision 1.146
date: 1995/01/17 13:46:35;  author: allender;  state: Exp;
fix problem with destroyed control center and rewinding a demo.
Save callsign and restore after demo playback
----------------------------
revision 1.145
date: 1995/01/12 10:21:53;  author: allender;  state: Exp;
fixes for 1.0 to 1.1 demo incompatibility
----------------------------
revision 1.144
date: 1995/01/05 13:51:43;  author: allender;  state: Exp;
fixed type of player num variable
----------------------------
revision 1.143
date: 1995/01/04 16:58:28;  author: allender;  state: Exp;
bumped up demo version number
----------------------------
revision 1.142
date: 1995/01/04 14:59:02;  author: allender;  state: Exp;
added more information to end of demo for registered.  Forced game mode
to be GM_NORMAL on demo playback
----------------------------
revision 1.141
date: 1995/01/03 17:30:47;  author: allender;  state: Exp;
fixed logic problem with cloak stuf
----------------------------
revision 1.140
date: 1995/01/03 17:12:23;  author: allender;  state: Exp;
fix for getting cloak stuff at end of demo for shareware
----------------------------
revision 1.139
date: 1995/01/03 15:20:24;  author: allender;  state: Exp;
fix goto_end for shareware -- changes to goto_end for registered
----------------------------
revision 1.138
date: 1995/01/03 13:13:26;  author: allender;  state: Exp;
add } I forgot
----------------------------
revision 1.137
date: 1995/01/03 13:10:29;  author: allender;  state: Exp;
make score work forwards and backwards
----------------------------
revision 1.136
date: 1995/01/03 11:45:20;  author: allender;  state: Exp;
added code to record players scores
----------------------------
revision 1.135
date: 1994/12/30 10:03:57;  author: allender;  state: Exp;
put cloak stuff at end of demo for fast forward to the end
----------------------------
revision 1.134
date: 1994/12/29 17:02:55;  author: allender;  state: Exp;
spelling fix on SHAREWARE
----------------------------
revision 1.133
date: 1994/12/29 16:43:41;  author: allender;  state: Exp;
lots of new multiplayer stuff.  wrapped much code with SHAREWARE defines
----------------------------
revision 1.132
date: 1994/12/28 14:15:01;  author: allender;  state: Exp;
added routines to deal with connecting and reconnecting players when
recording multiplayer demos
----------------------------
revision 1.131
date: 1994/12/21 12:57:59;  author: allender;  state: Exp;
bug fix
----------------------------
revision 1.130
date: 1994/12/21 12:46:53;  author: allender;  state: Exp;
record multi player deaths and kills
----------------------------
revision 1.129
date: 1994/12/19 16:37:27;  author: allender;  state: Exp;
pick good filename when trying to save in network play and player
gets bumped out of menu by multi-player code
----------------------------
revision 1.128
date: 1994/12/14 10:49:01;  author: allender;  state: Exp;
reset bad_read variable when starting demo playback
----------------------------
revision 1.127
date: 1994/12/14 08:53:06;  author: allender;  state: Exp;
lowered watermark for out of space
----------------------------
revision 1.126
date: 1994/12/14 08:49:52;  author: allender;  state: Exp;
put up warning when starting demo recording if not enough space and
not let them record
----------------------------
revision 1.125
date: 1994/12/13 00:01:37;  author: allender;  state: Exp;
CLOAK FIX -- (I'm tempted to take cloak out of game because I can't
seem to get it right in demo playback)
----------------------------
revision 1.124
date: 1994/12/12 14:51:21;  author: allender;  state: Exp;
more fixed to multiplayer cloak stuff
----------------------------
revision 1.123
date: 1994/12/12 11:33:11;  author: allender;  state: Exp;
fixed rearview mode to work again
----------------------------
revision 1.122
date: 1994/12/12 11:00:16;  author: matt;  state: Exp;
Added code to handle confusion with attached objects
----------------------------
revision 1.121
date: 1994/12/12 00:31:29;  author: allender;  state: Exp;
give better warning when out of space when recording.  Don't record
until no space left.  We have 500K watermark when we now stop recording
----------------------------
revision 1.120
date: 1994/12/10 16:44:54;  author: matt;  state: Exp;
Added debugging code to track down door that turns into rock
----------------------------
revision 1.119
date: 1994/12/09 18:46:15;  author: matt;  state: Exp;
Added code to handle odd error condition
----------------------------
revision 1.118
date: 1994/12/09 17:27:37;  author: allender;  state: Exp;
force playernum to 0 when demo is done playing
----------------------------
revision 1.117
date: 1994/12/09 16:40:39;  author: allender;  state: Exp;
yet more cloak stuff.  Assign cloak/invuln time when starting demo
if flags are set.  Check cloak and invuln time when demo
even when paused
----------------------------
revision 1.116
date: 1994/12/09 14:59:22;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.115
date: 1994/12/09 12:21:45;  author: allender;  state: Exp;
only allow valid chars when typing in demo filename
----------------------------
revision 1.114
date: 1994/12/08 23:19:02;  author: allender;  state: Exp;
final(?) fix for getting cloak gauge to work on demo playback
with forward and reverse
----------------------------
revision 1.113
date: 1994/12/08 21:34:38;  author: allender;  state: Exp;
record old and new player flags to accuratedly record cloaking and
decloaking
./
----------------------------
revision 1.112
date: 1994/12/08 18:04:47;  author: allender;  state: Exp;
bashed playernum right after reading it in demo header so shields
and energy are put in right place
----------------------------
revision 1.111
date: 1994/12/08 17:10:07;  author: allender;  state: Exp;
encode playernum in demo header.  Bash viewer segment to 0 if in
bogus segnum.  Don't link render objs for same reason
----------------------------
revision 1.110
date: 1994/12/08 15:36:12;  author: allender;  state: Exp;
cloak stuff works forwards and backwards
----------------------------
revision 1.109
date: 1994/12/08 13:46:03;  author: allender;  state: Exp;
don't record rearview anymore, but leave in case statement for playback
purposes.  change the way letterbox <--> cockpit transitions happen
----------------------------
revision 1.108
date: 1994/12/08 12:36:06;  author: matt;  state: Exp;
Added new object allocation & deallocation functions so other code
could stop messing around with internal object data structures.
----------------------------
revision 1.107
date: 1994/12/08 11:19:04;  author: allender;  state: Exp;
handle out of space (more) gracefully then before
----------------------------
revision 1.106
date: 1994/12/08 00:29:49;  author: allender;  state: Exp;
fixed bug that didn't load level on goto_beginning
----------------------------
revision 1.105
date: 1994/12/08 00:11:51;  author: mike;  state: Exp;
change matrix interpolation.
----------------------------
revision 1.104
date: 1994/12/07 23:46:37;  author: allender;  state: Exp;
changed invulnerability and cloak to work (almost) correctly both
in single and multi player
----------------------------
revision 1.103
date: 1994/12/07 11:48:49;  author: adam;  state: Exp;
BY ALLENDER -- added dampening of interpolation factor to 1 if greater
than 1 (although I have not seen this happen).  this is attempt to
get wobbling problem solved
----------------------------
revision 1.102
date: 1994/12/07 11:23:56;  author: allender;  state: Exp;
attempt at getting rid of wobbling on demo playback
----------------------------
revision 1.101
date: 1994/12/06 19:31:17;  author: allender;  state: Exp;
moved blastable wall stuff code to where we load level during demo
playback
----------------------------
revision 1.100
date: 1994/12/06 19:21:51;  author: allender;  state: Exp;
multi games, destroy blastable walls.  Do wall toggle when control center
destroyed
----------------------------
revision 1.99
date: 1994/12/06 16:54:48;  author: allender;  state: Exp;
fixed code so if demo automatically started from menu, don't bring up
message if demo is too old
----------------------------
revision 1.98
date: 1994/12/06 13:55:15;  author: matt;  state: Exp;
Use new rounding func, f2ir()
----------------------------
revision 1.97
date: 1994/12/06 13:44:45;  author: allender;  state: Exp;
suppressed compiler warnings
----------------------------
revision 1.96
date: 1994/12/06 13:38:03;  author: allender;  state: Exp;
removed recording of wall hit process.  I think that all bases are covered
elsewhere
----------------------------
revision 1.95
date: 1994/12/06 12:57:35;  author: allender;  state: Exp;
added recording of multi_decloaking.  Fixed some other cloaking code so
that cloak should last as long as player was cloaked.  We will lose the
guage effect, but the time is probably more important on playback
----------------------------
revision 1.94
date: 1994/12/05 23:37:17;  author: matt;  state: Exp;
Took out calls to warning() function
----------------------------
revision 1.93
date: 1994/12/03 17:52:04;  author: yuan;  state: Exp;
Localization 380ish
----------------------------
revision 1.92
date: 1994/12/02 12:53:39;  author: allender;  state: Exp;
fixed goto_beginning and goto_end on demo playback
----------------------------
revision 1.91
date: 1994/12/01 12:01:49;  author: allender;  state: Exp;
added multi player cloak stuff
----------------------------
revision 1.90
date: 1994/11/30 09:33:58;  author: allender;  state: Exp;
added field in header to tell what version (shareware or registered)
demo was recorded with.  Don't allow demo recorded on one to playback
on the other
----------------------------
revision 1.89
date: 1994/11/29 00:31:01;  author: allender;  state: Exp;
major changes -- added level recording feature which records level
advancement.  Changes to internal code to handle this.
----------------------------
revision 1.88
date: 1994/11/27 23:13:54;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.87
date: 1994/11/27 23:07:35;  author: allender;  state: Exp;
starting on code to get all level transitions recorded. not done yet
----------------------------
revision 1.86
date: 1994/11/27 17:39:47;  author: matt;  state: Exp;
Don't xlate tmap numbers when editor compiled out
----------------------------
revision 1.85
date: 1994/11/23 09:27:21;  author: allender;  state: Exp;
put up info box with message if demo version is too old or level
cannot be loaded
----------------------------
revision 1.84
date: 1994/11/22 19:37:39;  author: allender;  state: Exp;
fix array mistake
----------------------------
revision 1.83
date: 1994/11/22 19:35:09;  author: allender;  state: Exp;
record player ship colors in multiplayer demo recordings
----------------------------
revision 1.82
date: 1994/11/19 15:36:42;  author: mike;  state: Exp;
fix fix.
----------------------------
revision 1.81
date: 1994/11/19 15:23:21;  author: mike;  state: Exp;
rip out unused code
----------------------------
revision 1.80
date: 1994/11/16 14:51:49;  author: rob;  state: Exp;
Fixed network/demo incompatibility.
----------------------------
revision 1.79
date: 1994/11/15 10:55:48;  author: allender;  state: Exp;
made start of demo playback read initial demo information so
level will get loaded.  Made demo record to single file which
will get renamed.  Added numerics after old filename so
sequential filenames would be defaulted to
----------------------------
revision 1.78
date: 1994/11/15 09:46:06;  author: allender;  state: Exp;
added versioning.  Fixed problems with trying to interpolating a completely
0 orientation matrix
----------------------------
revision 1.77
date: 1994/11/14 14:34:31;  author: matt;  state: Exp;
Fixed up handling when textures can't be found during remap
----------------------------
revision 1.76
date: 1994/11/14 09:15:29;  author: allender;  state: Exp;
make ESC from file save menu exit w/o saving.  Fix letterbox, rear view,
to normal cockpit mode transition to work correctly when skipping and
interpolating frames
----------------------------
revision 1.75
date: 1994/11/11 16:22:07;  author: allender;  state: Exp;
made morphing objects record only the object being morphed.
----------------------------
revision 1.74
date: 1994/11/08 14:59:19;  author: john;  state: Exp;
Added code to respond to network while in menus.
----------------------------
revision 1.73
date: 1994/11/08 14:52:20;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.72
date: 1994/11/07 15:47:04;  author: allender;  state: Exp;
prompt for filename when done recording demo
----------------------------
revision 1.71
date: 1994/11/07 11:47:19;  author: allender;  state: Exp;
when interpolating frames, delete weapon, fireball, and debris objects
from an inpolated frame if they don't appear in the next recorded
frame
----------------------------
revision 1.70
date: 1994/11/07 11:02:41;  author: allender;  state: Exp;
more with interpolation. I believe that I have it right now
----------------------------
revision 1.69
date: 1994/11/07 08:47:40;  author: john;  state: Exp;
Made wall state record.
----------------------------
revision 1.68
date: 1994/11/05 17:22:51;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.67
date: 1994/11/04 20:11:52;  author: john;  state: Exp;
Neatening up palette stuff with demos.
----------------------------
revision 1.66
date: 1994/11/04 16:49:44;  author: allender;  state: Exp;
changed newdemo_do_interpolate to default to on
----------------------------
revision 1.65
date: 1994/11/04 16:44:51;  author: allender;  state: Exp;
added filename support for demo recording.  more auto demo stuff
----------------------------
revision 1.64
date: 1994/11/04 13:05:31;  author: allender;  state: Exp;
fixing the lifeleft variable again.  (I think I got it right this time)
----------------------------
revision 1.63
date: 1994/11/04 11:37:37;  author: allender;  state: Exp;
commented out fprintfs and fixed compiler warning
----------------------------
revision 1.62
date: 1994/11/04 11:33:50;  author: allender;  state: Exp;
added OBJ_FLARE and OBJ_LIGHT to obj->lifeleft recording
----------------------------
revision 1.61
date: 1994/11/04 11:29:21;  author: allender;  state: Exp;
more interpolation stuff -- not done yet.  Fixed so hostage vclips
render correctly.  Changed lifeleft to full precision, but only
write it when object is fireball or weapon type of object
----------------------------
revision 1.60
date: 1994/11/03 10:00:11;  author: allender;  state: Exp;
fixed divide by zero in calculating render time.  more interpolation
stuff which isn't quite done
----------------------------
revision 1.59
date: 1994/11/02 17:10:59;  author: allender;  state: Exp;
never play recorded frames when interpolation is occuring
----------------------------
revision 1.58
date: 1994/11/02 14:28:58;  author: allender;  state: Exp;
profile total playback time and average frame render time
----------------------------
revision 1.57
date: 1994/11/02 14:09:03;  author: allender;  state: Exp;
record rear view.  start of playback interpolation code -- this
is not yet done
----------------------------
revision 1.56
date: 1994/11/01 13:25:30;  author: allender;  state: Exp;
drop frames if playing back demo on slower machine
----------------------------
revision 1.55
date: 1994/10/31 16:10:40;  author: allender;  state: Exp;
record letterbox mode on death seq, and then restore
----------------------------
revision 1.54
date: 1994/10/29 16:01:38;  author: allender;  state: Exp;
added ND_STATE_NODEMOS to indicate that there are no demos currently
available for playback
----------------------------
revision 1.53
date: 1994/10/29 15:38:42;  author: allender;  state: Exp;
in newdemo_start_playback, make Newdemo_at_eof = 0
----------------------------
revision 1.52
date: 1994/10/28 14:45:28;  author: john;  state: Exp;
fixed typo from last checkin.
----------------------------
revision 1.51
date: 1994/10/28 14:42:55;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.50
date: 1994/10/28 14:31:57;  author: allender;  state: Exp;
homing missle and autodemo stuff
----------------------------
revision 1.49
date: 1994/10/28 12:42:14;  author: allender;  state: Exp;
record homing distance
----------------------------
revision 1.48
date: 1994/10/27 16:57:54;  author: allender;  state: Exp;
changed demo vcr to be able to play any number of frames by storing
frame length (in bytes) in the demo file.  Added blowing up monitors
----------------------------
revision 1.47
date: 1994/10/26 16:50:50;  author: allender;  state: Exp;
put two functions inside of VCR_MODE ifdef
----------------------------
revision 1.46
date: 1994/10/26 15:20:32;  author: allender;  state: Exp;
added CT_REMOTE as valid control type for recording
----------------------------
revision 1.45
date: 1994/10/26 14:45:35;  author: allender;  state: Exp;
completed hacked in vcr demo playback stuff
----------------------------
revision 1.44
date: 1994/10/26 13:40:52;  author: allender;  state: Exp;
vcr playback of demo stuff
----------------------------
revision 1.43
date: 1994/10/26 08:51:57;  author: allender;  state: Exp;
record player weapon change
----------------------------
revision 1.42
date: 1994/10/25 15:48:01;  author: allender;  state: Exp;
add shields, energy, and player flags to demo recording.
,
----------------------------
revision 1.41
date: 1994/10/24 08:19:35;  author: allender;  state: Exp;
fixed compilation errors
----------------------------
revision 1.40
date: 1994/10/23 19:17:08;  author: matt;  state: Exp;
Fixed bug with "no key" messages
----------------------------
revision 1.39
date: 1994/10/22 14:15:08;  author: mike;  state: Exp;
Suppress compiler warnings.
----------------------------
revision 1.38
date: 1994/10/21 15:24:55;  author: allender;  state: Exp;
compressed writing of object structures with specialized code
to write out only pertinent object structures.
----------------------------
revision 1.37
date: 1994/10/20 13:03:17;  author: matt;  state: Exp;
Replaced old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.36
date: 1994/09/28 23:13:10;  author: matt;  state: Exp;
Macroized palette flash system
----------------------------
revision 1.35
date: 1994/09/26 17:28:32;  author: matt;  state: Exp;
Made new multiple-object morph code work with the demo system
----------------------------
revision 1.34
date: 1994/09/10 13:31:54;  author: matt;  state: Exp;
Made exploding walls a type of blastable walls.
Cleaned up blastable walls, making them tmap2 bitmaps.
----------------------------
revision 1.33
date: 1994/08/15 18:05:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.32
date: 1994/08/15 17:56:38;  author: john;  state: Exp;
,
----------------------------
revision 1.31
date: 1994/08/10 09:44:54;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.30
date: 1994/07/22 12:35:48;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.29
date: 1994/07/21 13:06:45;  author: matt;  state: Exp;
Ripped out remants of old demo system, and added demo only system that
disables object movement and game options from menu.
----------------------------
revision 1.28
date: 1994/07/18 16:22:44;  author: john;  state: Exp;
Made all file read/writes call the same routine.
----------------------------
revision 1.27
date: 1994/07/14 22:38:27;  author: matt;  state: Exp;
Added exploding doors
----------------------------
revision 1.26
date: 1994/07/05 12:49:04;  author: john;  state: Exp;
Put functionality of New Hostage spec into code.
----------------------------
revision 1.25
date: 1994/06/29 11:05:38;  author: john;  state: Exp;
Made demos read in compressed.
----------------------------
revision 1.24
date: 1994/06/29 09:14:06;  author: john;  state: Exp;
Made files write out uncompressed and read in compressed.
----------------------------
revision 1.23
date: 1994/06/28 11:55:28;  author: john;  state: Exp;
Made newdemo system record/play directly to/from disk, so
we don't need the 4 MB buffer anymore.
----------------------------
revision 1.22
date: 1994/06/27 15:52:38;  author: john;  state: Exp;
#define'd out the newdemo stuff
----------------------------
revision 1.21
date: 1994/06/22 00:29:04;  author: john;  state: Exp;
Fixed bug with playing demo then playing game without
loading new mine.
----------------------------
revision 1.20
date: 1994/06/22 00:14:23;  author: john;  state: Exp;
Attempted to fix sign.
----------------------------
revision 1.19
date: 1994/06/21 23:57:54;  author: john;  state: Exp;
Hopefully fixed bug with negative countdowns.
----------------------------
revision 1.18
date: 1994/06/21 23:47:44;  author: john;  state: Exp;
MAde Malloc always 4*1024*1024.
----------------------------
revision 1.17
date: 1994/06/21 22:58:47;  author: john;  state: Exp;
Added error if out of memory.
----------------------------
revision 1.16
date: 1994/06/21 22:15:48;  author: john;  state: Exp;
Added  % done to demo recording.
----------------------------
revision 1.15
date: 1994/06/21 19:45:55;  author: john;  state: Exp;
Added palette effects to demo recording.
----------------------------
revision 1.14
date: 1994/06/21 15:08:54;  author: john;  state: Exp;
Made demo record HUD message and cleaned up the HUD code.
----------------------------
revision 1.13
date: 1994/06/21 14:20:08;  author: john;  state: Exp;
Put in hooks to record HUD messages.
----------------------------
revision 1.12
date: 1994/06/20 11:50:15;  author: john;  state: Exp;
Made demo record flash effect, and control center triggers.
----------------------------
revision 1.11
date: 1994/06/17 18:01:33;  author: john;  state: Exp;
A bunch of new stuff by John
----------------------------
revision 1.10
date: 1994/06/17 12:13:31;  author: john;  state: Exp;
More newdemo stuff; made editor->game transition start in slew mode.
----------------------------
revision 1.9
date: 1994/06/16 13:14:36;  author: matt;  state: Exp;
Fixed typo
----------------------------
revision 1.8
date: 1994/06/16 13:02:07;  author: john;  state: Exp;
Added morph hooks.
----------------------------
revision 1.7
date: 1994/06/15 19:01:33;  author: john;  state: Exp;
Added the capability to make 3d sounds play just once for the
laser hit wall effects.
----------------------------
revision 1.6
date: 1994/06/15 14:56:59;  author: john;  state: Exp;
Added triggers to demo recording.
----------------------------
revision 1.5
date: 1994/06/14 20:42:15;  author: john;  state: Exp;
Made robot matztn cntr not work until no robots or player are
in the segment.
----------------------------
revision 1.4
date: 1994/06/14 14:43:27;  author: john;  state: Exp;
Made doors work with newdemo system.
----------------------------
revision 1.3
date: 1994/06/14 11:32:29;  author: john;  state: Exp;
Made Newdemo record & restore the current mine.
----------------------------
revision 1.2
date: 1994/06/13 21:02:43;  author: john;  state: Exp;
Initial version of new demo recording system.
----------------------------
revision 1.1
date: 1994/06/13 11:09:00;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/nfile.h,v
Working file: main/nfile.h
head: 2.0
branch:
description: Prototypes for nfile.c
----------------------------
revision 2.0
date: 1995/02/27 11:29:13;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/12/09 19:20:51;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/12/07 20:54:43;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/object.h,v
Working file: main/object.h
head: 1.75
branch:
description: object system definitions
----------------------------
revision 1.75
date: 1994/08/03 21:06:19;  author: matt;  state: Exp;
Added prototype for fix_object_segs(), and renamed now-unused spawn_pos
----------------------------
revision 1.74
date: 1994/08/02 12:30:27;  author: matt;  state: Exp;
Added support for spinning objects
----------------------------
revision 1.73
date: 1994/07/27 20:53:25;  author: matt;  state: Exp;
Added rotational drag & thrust, so turning now has momemtum like moving
----------------------------
revision 1.72
date: 1994/07/27 19:44:21;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.71
date: 1994/07/22 20:43:29;  author: matt;  state: Exp;
Fixed flares, by adding a physics flag that makes them stick to walls.
----------------------------
revision 1.70
date: 1994/07/21 12:42:10;  author: mike;  state: Exp;
Prototype new find_object_seg and update_object_seg.
----------------------------
revision 1.69
date: 1994/07/19 15:26:39;  author: mike;  state: Exp;
New ai_static structure.
----------------------------
revision 1.68
date: 1994/07/13 00:15:06;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.67
date: 1994/07/12 12:40:12;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.66
date: 1994/07/06 15:26:23;  author: yuan;  state: Exp;
Added chase mode.
----------------------------
revision 1.65
date: 1994/06/29 19:43:31;  author: matt;  state: Exp;
Made powerup animation not happen in render routine
----------------------------
revision 1.64
date: 1994/06/27 18:31:09;  author: mike;  state: Exp;
Add flares.
----------------------------
revision 1.63
date: 1994/06/14 21:15:21;  author: matt;  state: Exp;
Made rod objects draw lighted or not depending on a parameter, so the
materialization effect no longer darkens.
----------------------------
revision 1.62
date: 1994/06/14 16:55:00;  author: matt;  state: Exp;
Got rid of physics_object speed field
----------------------------
revision 1.61
date: 1994/06/09 16:24:58;  author: matt;  state: Exp;
Fixed confusion with two constants, MAX_SUBOBJS & MAX_SUBMODELS, which
were used for the same things, but had different values.
----------------------------
revision 1.60
date: 1994/06/08 10:56:44;  author: matt;  state: Exp;
Improved debris: now get submodel size from new POF files; debris now has
limited life; debris can now be blown up.
----------------------------
revision 1.59
date: 1994/06/02 19:30:49;  author: matt;  state: Exp;
Moved texture-mapped rod drawing stuff (used for hostage & now for the
materialization center) to object.c
----------------------------
revision 1.58
date: 1994/05/30 22:50:20;  author: matt;  state: Exp;
Added morph effect for robots
----------------------------
revision 1.57
date: 1994/05/30 19:46:47;  author: mike;  state: Exp;
Move MAX_SUBOBJS from here to inferno.h
----------------------------
revision 1.56
date: 1994/05/30 00:03:19;  author: matt;  state: Exp;
Got rid of robot render type, and generally cleaned up polygon model
render objects.
----------------------------
revision 1.55
date: 1994/05/26 21:08:44;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.54
date: 1994/05/20 11:56:59;  author: matt;  state: Exp;
Cleaned up find_vector_intersection() interface
Killed check_point_in_seg(), check_player_seg(), check_object_seg()
----------------------------
revision 1.53
date: 1994/05/19 18:53:18;  author: yuan;  state: Exp;
Changing player structure...
----------------------------
revision 1.52
date: 1994/05/17 12:36:16;  author: matt;  state: Exp;
Changed parms to obj_create() and cleaned up object creation code
----------------------------
revision 1.51
date: 1994/05/17 11:53:45;  author: yuan;  state: Exp;
Adding Player_init, which saves position of player at beginning of level.
----------------------------
revision 1.50
date: 1994/05/17 10:37:08;  author: matt;  state: Exp;
Added new parm to reset_objects(), made Num_objects not public, added
Highest_object_index().
----------------------------
revision 1.49
date: 1994/05/16 16:48:14;  author: yuan;  state: Exp;
Added symbolic constant OBJECT_INITIAL_SHIELDS
----------------------------
revision 1.48
date: 1994/05/16 16:17:47;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.47
date: 1994/05/16 10:12:12;  author: matt;  state: Exp;
Added prototype for init_player_object()
----------------------------
revision 1.46
date: 1994/05/14 17:15:06;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.45
date: 1994/05/13 20:27:37;  author: john;  state: Exp;
Version II of John's new object code.
----------------------------
revision 1.44
date: 1994/05/12 14:44:39;  author: mike;  state: Exp;
Add ai_info to object structure.
----------------------------
revision 1.43
date: 1994/05/11 23:33:08;  author: mike;  state: Exp;
Make RESULT_KILLS directional with RESULT_KILLS_1_2 and RESULT_KILLS_2_1.
----------------------------
revision 1.42
date: 1994/05/10 18:02:16;  author: mike;  state: Exp;
Increase MAX_OBJECTS from 100 to 200
----------------------------
revision 1.41
date: 1994/05/07 16:42:07;  author: matt;  state: Exp;
Changed name of turnbank to turnroll
----------------------------
revision 1.40
date: 1994/05/06 10:12:39;  author: matt;  state: Exp;
Added new function, obj_create_copy()
----------------------------
revision 1.39
date: 1994/05/05 20:39:33;  author: matt;  state: Exp;
Made physics code more general-purpose; moved code from object.c to
physics.c; renamed routines; made behavior such as levelling and turn
banking controllable by flags.
----------------------------
revision 1.38
date: 1994/05/05 16:41:12;  author: matt;  state: Exp;
Cleaned up repair center code, and moved some from object.c to fuelcen.c
----------------------------
revision 1.37
date: 1994/05/03 19:33:40;  author: matt;  state: Exp;
Cleaned up usage of rotvel field from physics_info structure
----------------------------
revision 1.36
date: 1994/05/02 18:34:14;  author: matt;  state: Exp;
Changed parms to obj_link(), added a little more error checking, changed
a few fields in object physics_info, and probably a few other little things.
----------------------------
revision 1.35
date: 1994/05/02 16:30:31;  author: john;  state: Exp;
Added object flag OF_SHOULD_BE_DEAD which fixed the bug
that caused very close robots to die 10 seconds after they
actually got shot.
----------------------------
revision 1.34
date: 1994/04/29 09:18:08;  author: matt;  state: Exp;
Added support for multiple-piece explosions
----------------------------
revision 1.33
date: 1994/04/07 16:28:07;  author: yuan;  state: Exp;
Added SUPERPIG the robot with 200 hit points.
Now robots can take multiple hits before blowing up.
----------------------------
revision 1.32
date: 1994/04/07 13:44:13;  author: yuan;  state: Exp;
Added powerup_info to object structure.
----------------------------
revision 1.31
date: 1994/04/01 13:34:15;  author: matt;  state: Exp;
Cleaned up explosion and laser code; added mutliple-stage explosions.
----------------------------
revision 1.30
date: 1994/04/01 11:15:07;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.29
date: 1994/03/31 09:07:43;  author: matt;  state: Exp;
Made last_pos a field of all objects, not just lasers
----------------------------
revision 1.28
date: 1994/03/30 21:14:33;  author: yuan;  state: Exp;
Minor name change for object->damage...
object->lifeleft now.
----------------------------
revision 1.27
date: 1994/03/28 20:57:36;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.26
date: 1994/03/25 17:30:13;  author: yuan;  state: Exp;
Checking in hostage stuff... (start of it)
----------------------------
revision 1.25
date: 1994/03/25 16:54:55;  author: matt;  state: Exp;
polyobj_info field of object structure now has data for object animation
----------------------------
revision 1.24
date: 1994/02/17 11:32:50;  author: matt;  state: Exp;
Changes in object system
=============================================================================
RCS file: f:/miner/source/main/newdemo.h,v
Working file: main/newdemo.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:27:18;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.43
date: 1995/01/19 09:41:43;  author: allender;  state: Exp;
prototype for laser level recording
----------------------------
revision 1.42
date: 1995/01/18 18:48:49;  author: allender;  state: Exp;
added function prototype for door_open
----------------------------
revision 1.41
date: 1995/01/17 17:42:31;  author: allender;  state: Exp;
new prototypes for ammo counts
----------------------------
revision 1.40
date: 1995/01/04 15:04:27;  author: allender;  state: Exp;
added some different prototypes for registered
----------------------------
revision 1.39
date: 1995/01/03 11:45:11;  author: allender;  state: Exp;
extern function definition
----------------------------
revision 1.38
date: 1994/12/29 16:43:31;  author: allender;  state: Exp;
new function prototype
----------------------------
revision 1.37
date: 1994/12/28 14:15:27;  author: allender;  state: Exp;
new function prototypes
----------------------------
revision 1.36
date: 1994/12/21 12:46:41;  author: allender;  state: Exp;
new functions for multiplayer deaths and kills
----------------------------
revision 1.35
date: 1994/12/12 11:32:55;  author: allender;  state: Exp;
added new record function to restore after in rearview mode
----------------------------
revision 1.34
date: 1994/12/08 21:03:15;  author: allender;  state: Exp;
added new param to record_player_flags
----------------------------
revision 1.33
date: 1994/12/08 13:47:01;  author: allender;  state: Exp;
removed function call to record_rearview
----------------------------
revision 1.32
date: 1994/12/06 12:57:10;  author: allender;  state: Exp;
added new prototype for multi decloaking
----------------------------
revision 1.31
date: 1994/12/01 11:46:34;  author: allender;  state: Exp;
added recording prototype for multi player cloak
----------------------------
revision 1.30
date: 1994/11/27 23:04:22;  author: allender;  state: Exp;
function prototype for recording new levels
----------------------------
revision 1.29
date: 1994/11/07 08:47:43;  author: john;  state: Exp;
Made wall state record.
----------------------------
revision 1.28
date: 1994/11/05 17:22:53;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.27
date: 1994/11/04 16:48:49;  author: allender;  state: Exp;
extern Newdemo_do_interpolate variable
----------------------------
revision 1.26
date: 1994/11/02 14:08:53;  author: allender;  state: Exp;
record rearview
----------------------------
revision 1.25
date: 1994/10/31 13:35:04;  author: allender;  state: Exp;
added two record functions to save and restore cockpit state on
death sequence
----------------------------
revision 1.24
date: 1994/10/29 16:01:11;  author: allender;  state: Exp;
added ND_STATE_NODEMOS to indicate that there are no demos currently
available for playback
----------------------------
revision 1.23
date: 1994/10/28 12:41:58;  author: allender;  state: Exp;
add homing distance recording event
----------------------------
revision 1.22
date: 1994/10/27 16:57:32;  author: allender;  state: Exp;
removed VCR_MODE stuff, and added monitor blowup effects
----------------------------
revision 1.21
date: 1994/10/26 14:44:48;  author: allender;  state: Exp;
completed hacked in vcr type demo playback states
----------------------------
revision 1.20
date: 1994/10/26 13:40:38;  author: allender;  state: Exp;
more vcr demo playback defines
----------------------------
revision 1.19
date: 1994/10/26 08:51:26;  author: allender;  state: Exp;
record player weapon change
----------------------------
revision 1.18
date: 1994/10/25 16:25:31;  author: allender;  state: Exp;
prototypes for shield, energy and flags
----------------------------
revision 1.17
date: 1994/08/15 18:05:30;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/07/21 13:11:26;  author: matt;  state: Exp;
Ripped out remants of old demo system, and added demo only system that
disables object movement and game options from menu.
----------------------------
revision 1.15
date: 1994/07/05 12:49:02;  author: john;  state: Exp;
Put functionality of New Hostage spec into code.
----------------------------
revision 1.14
date: 1994/06/27 15:53:12;  author: john;  state: Exp;
#define'd out the newdemo stuff
----------------------------
revision 1.13
date: 1994/06/24 17:01:25;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.12
date: 1994/06/21 19:46:05;  author: john;  state: Exp;
Added palette effects to demo recording.
----------------------------
revision 1.11
date: 1994/06/21 14:19:58;  author: john;  state: Exp;
Put in hooks to record HUD messages.
----------------------------
revision 1.10
date: 1994/06/20 11:50:42;  author: john;  state: Exp;
Made demo record flash effect, and control center triggers.
----------------------------
revision 1.9
date: 1994/06/17 18:01:29;  author: john;  state: Exp;
A bunch of new stuff by John
----------------------------
revision 1.8
date: 1994/06/17 12:13:34;  author: john;  state: Exp;
More newdemo stuff; made editor->game transition start in slew mode.
----------------------------
revision 1.7
date: 1994/06/16 13:02:02;  author: john;  state: Exp;
Added morph hooks.
----------------------------
revision 1.6
date: 1994/06/15 19:01:42;  author: john;  state: Exp;
Added the capability to make 3d sounds play just once for the
laser hit wall effects.
----------------------------
revision 1.5
date: 1994/06/15 14:57:11;  author: john;  state: Exp;
Added triggers to demo recording.
----------------------------
revision 1.4
date: 1994/06/14 20:42:19;  author: john;  state: Exp;
Made robot matztn cntr not work until no robots or player are
in the segment.
----------------------------
revision 1.3
date: 1994/06/14 14:43:52;  author: john;  state: Exp;
Made doors work with newdemo system.
----------------------------
revision 1.2
date: 1994/06/13 21:02:44;  author: john;  state: Exp;
Initial version of new demo recording system.
----------------------------
revision 1.1
date: 1994/06/13 15:51:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/newmenu.c,v
Working file: main/newmenu.c
head: 2.8
branch:
description: Routines for menus.
----------------------------
revision 2.8
date: 1995/05/26 16:16:28;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.7
date: 1995/04/23 14:54:17;  author: john;  state: Exp;
Fixed bug with background breaking in first menu.
----------------------------
revision 2.6
date: 1995/03/21 14:38:46;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.5
date: 1995/03/15 14:33:29;  author: john;  state: Exp;
Added code to force the Descent CD-rom in the drive.
----------------------------
revision 2.4
date: 1995/03/14 18:24:28;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.3
date: 1995/03/14 16:22:23;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.2
date: 1995/03/06 18:30:51;  author: john;  state: Exp;
Fixed bug with newmenu trashing editor font.
----------------------------
revision 2.1
date: 1995/03/06 15:23:17;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:27:55;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.129
date: 1995/02/11 16:19:56;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.128
date: 1995/02/02 19:41:33;  author: john;  state: Exp;
Added 10 save game slots.
----------------------------
revision 1.127
date: 1995/02/01 18:13:52;  author: john;  state: Exp;
Fixed some constants.
----------------------------
revision 1.126
date: 1995/02/01 18:04:01;  author: yuan;  state: Exp;
Added 50 characters to list.
----------------------------
revision 1.125
date: 1995/02/01 13:39:35;  author: john;  state: Exp;
Made menu text that changes not overwrite.
----------------------------
revision 1.124
date: 1995/01/31 10:47:57;  author: john;  state: Exp;
Added menu that you can specify the width of the menu.
----------------------------
revision 1.123
date: 1995/01/28 17:18:12;  author: john;  state: Exp;
Added file list box.
----------------------------
revision 1.122
date: 1995/01/27 17:15:55;  author: john;  state: Exp;
Made prev comment actually work.
----------------------------
revision 1.121
date: 1995/01/27 16:49:03;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.120
date: 1995/01/27 16:46:40;  author: john;  state: Exp;
Made so that input_menu only clears text if -empty-.
----------------------------
revision 1.119
date: 1995/01/27 15:25:04;  author: john;  state: Exp;
Delete saved game when deleteing a pilot file.
----------------------------
revision 1.118
date: 1995/01/25 16:36:09;  author: john;  state: Exp;
Made so that when you hit enter during
game save, -empty- goes away.
----------------------------
revision 1.117
date: 1995/01/24 16:59:30;  author: john;  state: Exp;
took out mono debugging text.
----------------------------
revision 1.116
date: 1995/01/24 16:23:16;  author: john;  state: Exp;
Fixed some bugs with listboxes.
----------------------------
revision 1.115
date: 1995/01/23 23:47:36;  author: matt;  state: Exp;
Made keypad enter work in menus
----------------------------
revision 1.114
date: 1995/01/23 19:29:59;  author: john;  state: Exp;
Added scrolling listbox menus.
----------------------------
revision 1.113
date: 1995/01/19 12:33:34;  author: john;  state: Exp;
Made keys jump to sliders, etc in menus.
----------------------------
revision 1.112
date: 1995/01/15 14:33:08;  author: rob;  state: Exp;
Fixed problem with nested nm_messageboxes.
----------------------------
revision 1.111
date: 1995/01/03 17:33:40;  author: john;  state: Exp;
Made scrolling textbox. Used it for scores cool saying.
----------------------------
revision 1.110
date: 1994/12/28 10:42:58;  author: john;  state: Exp;
More VFX tweaking.
----------------------------
revision 1.109
date: 1994/12/28 10:26:39;  author: john;  state: Exp;
Fixed some VFX problems.
----------------------------
revision 1.108
date: 1994/12/15 23:18:10;  author: john;  state: Exp;
Added fix so that VFX mode doesn't hang.
----------------------------
revision 1.107
date: 1994/12/15 12:19:55;  author: john;  state: Exp;
Made menu use clipped bitblt functions.
----------------------------
revision 1.106
date: 1994/12/09 00:41:30;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.105
date: 1994/12/08 10:01:34;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.104
date: 1994/12/04 15:34:30;  author: john;  state: Exp;
Fixed bug with newmenu not restoring font properly.
----------------------------
revision 1.103
date: 1994/12/03 17:47:09;  author: john;  state: Exp;
Fixed bug that didn't free filename mem when not .plr files found.
----------------------------
revision 1.102
date: 1994/12/03 15:06:15;  author: john;  state: Exp;
If no pilot exists, bring up box asking for name.
----------------------------
revision 1.101
date: 1994/12/03 11:04:02;  author: john;  state: Exp;
Changed newmenu code a bit to fix bug with bogus
backgrounds occcasionally.
----------------------------
revision 1.100
date: 1994/12/01 20:15:48;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.99
date: 1994/12/01 10:33:28;  author: john;  state: Exp;
Fixed bug with large menu backgrounds not drawing correctly.
----------------------------
revision 1.98
date: 1994/12/01 02:41:56;  author: john;  state: Exp;
Fixed warnining.
----------------------------
revision 1.97
date: 1994/11/30 22:52:43;  author: john;  state: Exp;
Fixed bug in code that made the backgrounds behind menus.
----------------------------
revision 1.96
date: 1994/11/30 19:47:42;  author: john;  state: Exp;
Added a check for out o' memory when mallocing background.
----------------------------
revision 1.95
date: 1994/11/30 19:39:10;  author: john;  state: Exp;
..
----------------------------
revision 1.94
date: 1994/11/30 19:38:27;  author: john;  state: Exp;
fixed bug with previous.
----------------------------
revision 1.93
date: 1994/11/30 19:36:47;  author: john;  state: Exp;
Made Gravis Ultrasound work again.  Made the scores blink
at a constant rate.  Revamped the newmenu background storage,
which hopefully fixed some bugs.  Made menus in ame not pause
sound, except for the pause key.               ^== Game!
----------------------------
revision 1.92
date: 1994/11/30 18:06:05;  author: matt;  state: Exp;
When player types space in callsign, comes up as underscore
----------------------------
revision 1.91
date: 1994/11/30 12:28:22;  author: adam;  state: Exp;
added PCX support
----------------------------
revision 1.90
date: 1994/11/30 12:10:59;  author: adam;  state: Exp;
added support for PCX titles/brief screens
----------------------------
revision 1.89
date: 1994/11/29 00:59:12;  author: allender;  state: Exp;
change newmenu_get_filename so demo files can be deleted too
----------------------------
revision 1.88
date: 1994/11/27 21:16:18;  author: allender;  state: Exp;
made some return values in newmenu_get_filename 0 instead of -1
----------------------------
revision 1.87
date: 1994/11/27 16:58:17;  author: matt;  state: Exp;
Made printscreen work all the time (not just when no ndebug) and made it
work when getting a filename.
----------------------------
revision 1.86
date: 1994/11/27 16:47:51;  author: john;  state: Exp;
Made the call to fade in palette only happen if it needs to be, just
because I thought it might reduce code paging with vm in menus.
----------------------------
revision 1.85
date: 1994/11/26 15:30:16;  author: matt;  state: Exp;
Allow escape out of change pilot menu
----------------------------
revision 1.84
date: 1994/11/26 14:17:26;  author: matt;  state: Exp;
Player can now only enter valid chars for his name
----------------------------
revision 1.83
date: 1994/11/23 14:13:17;  author: allender;  state: Exp;
if no demo files, displays less "techy" message
----------------------------
revision 1.82
date: 1994/11/21 11:55:52;  author: john;  state: Exp;
Fixed some sound pausing in menus bugs.
----------------------------
revision 1.81
date: 1994/11/19 15:14:58;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.80
date: 1994/11/18 23:37:54;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.79
date: 1994/11/15 09:29:21;  author: john;  state: Exp;
Made it so that pressing a letter when selecting players moves to 
a matching choice.
----------------------------
revision 1.78
date: 1994/11/14 17:12:28;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.77
date: 1994/11/14 16:58:31;  author: rob;  state: Exp;
Tried to fix a problem with save demo dialog.
----------------------------
revision 1.76
date: 1994/11/14 16:13:46;  author: matt;  state: Exp;
Fixed handling of players with DOS device names
----------------------------
revision 1.75
date: 1994/11/13 18:12:53;  author: matt;  state: Exp;
Fixed handling of filenames that are the same as DOS devices
----------------------------
revision 1.74
date: 1994/11/13 17:20:44;  author: john;  state: Exp;
Fixed text a bit.
----------------------------
revision 1.73
date: 1994/11/13 17:18:22;  author: john;  state: Exp;
Changed wording of new pilot.
----------------------------
revision 1.72
date: 1994/11/13 17:14:21;  author: john;  state: Exp;
Fixed bug with player list box.
----------------------------
revision 1.71
date: 1994/11/13 17:12:48;  author: john;  state: Exp;
Fixed broken demo file list.
----------------------------
revision 1.70
date: 1994/11/13 17:04:49;  author: john;  state: Exp;
Made the callsign entry be a list box and gave the ability
to delete players.
----------------------------
revision 1.69
date: 1994/11/13 15:38:03;  author: john;  state: Exp;
Added critical error handler to game.  Took out -editor command line
option because it didn't work anymore and wasn't worth fixing.  Made scores
not use MINER enviroment variable on release version, and made scores
not print an error if there is no descent.hi.
----------------------------
revision 1.68
date: 1994/11/11 18:17:03;  author: rob;  state: Exp;
Made multi_menu_poll return a value to exit menus.
----------------------------
revision 1.67
date: 1994/11/11 11:07:06;  author: rob;  state: Exp;
Added include of multi.h
----------------------------
revision 1.66
date: 1994/11/10 20:25:16;  author: rob;  state: Exp;
John's stuff to make network menus work.
----------------------------
revision 1.65
date: 1994/11/08 14:51:39;  author: john;  state: Exp;
Added nm_messagebox1, (like the original, only you can pass a function).
----------------------------
revision 1.64
date: 1994/11/08 08:30:39;  author: john;  state: Exp;
Fixed bug with centering titles.
----------------------------
revision 1.63
date: 1994/11/08 08:27:00;  author: john;  state: Exp;
Made titles and subtitles center.
----------------------------
revision 1.62
date: 1994/11/07 09:40:48;  author: john;  state: Exp;
Neatend file list box some.
----------------------------
revision 1.61
date: 1994/11/05 17:22:41;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.60
date: 1994/11/05 15:04:08;  author: john;  state: Exp;
Added non-popup menu for the main menu, so that scores and credits don't have to save
the background.
----------------------------
revision 1.59
date: 1994/11/05 14:03:52;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.58
date: 1994/11/04 20:11:50;  author: john;  state: Exp;
Neatening up palette stuff with demos.
----------------------------
revision 1.57
date: 1994/11/04 13:49:24;  author: allender;  state: Exp;
fixed newmenu_get_filename to work with less than 10 files
----------------------------
revision 1.56
date: 1994/11/03 19:37:44;  author: john;  state: Exp;
Added scrolling file list box
----------------------------
revision 1.55
date: 1994/10/31 18:16:42;  author: john;  state: Exp;
Made Pad arrows work with menus.
----------------------------
revision 1.54
date: 1994/10/28 14:54:25;  author: john;  state: Exp;
Added forward dec. for newmenu_close.
.\
----------------------------
revision 1.53
date: 1994/10/28 14:53:00;  author: john;  state: Exp;
Fixed hideous bug that would bomb if you called newmenu_draw_background
before any menus were ever displayed.
----------------------------
revision 1.52
date: 1994/10/24 19:56:53;  author: john;  state: Exp;
Made the new user setup prompt for config options.
----------------------------
revision 1.51
date: 1994/10/24 15:15:49;  author: john;  state: Exp;
Made Esc exit nm_messagebox's,
,
----------------------------
revision 1.50
date: 1994/10/21 15:20:20;  author: john;  state: Exp;
Made PrtScr do screen dump, not F2.
----------------------------
revision 1.49
date: 1994/10/18 12:33:38;  author: john;  state: Exp;
Only used copy the item text into the saved_text field
if it is an inputbox or inputbox_menu.
----------------------------
revision 1.48
date: 1994/10/17 11:04:01;  author: john;  state: Exp;
Made backtab work also.
----------------------------
revision 1.47
date: 1994/10/17 10:47:49;  author: john;  state: Exp;
MAde Tab work like down arrow.
----------------------------
revision 1.46
date: 1994/10/17 10:45:10;  author: john;  state: Exp;
Made the player able to abort death by pressing any button or key.
----------------------------
revision 1.45
date: 1994/10/13 21:52:02;  author: john;  state: Exp;
Made it so that if a messagebox has 1 choice, then
Esc will return -1.
----------------------------
revision 1.44
date: 1994/10/13 11:35:38;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.43
date: 1994/10/11 17:18:52;  author: john;  state: Exp;
Fixed bug with sliders always starting at -1.
----------------------------
revision 1.42
date: 1994/10/11 17:08:29;  author: john;  state: Exp;
Added sliders for volume controls.
----------------------------
revision 1.41
date: 1994/10/06 16:04:40;  author: john;  state: Exp;
Made text items color differently than others. Adam
is gonna make a diff colored font for these.
----------------------------
revision 1.40
date: 1994/10/06 15:08:23;  author: rob;  state: Exp;
Allowed any negative key value to abort the menu and return.
----------------------------
revision 1.39
date: 1994/10/04 10:26:06;  author: matt;  state: Exp;
Changed fade in to happen every time a global var is set
----------------------------
revision 1.38
date: 1994/10/04 09:16:08;  author: john;  state: Exp;
If you pass -1 as choice in newmenu_do1, then
no item is highlighted until you press up or
down arrows.
----------------------------
revision 1.37
date: 1994/10/03 23:44:37;  author: matt;  state: Exp;
Save & restore palette effect around menus & pause message
----------------------------
revision 1.36
date: 1994/10/03 22:59:40;  author: matt;  state: Exp;
Re-enabled backspace to generate Int3()
----------------------------
revision 1.35
date: 1994/10/03 19:11:21;  author: matt;  state: Exp;
Changed string input cursor to blinking underscore
----------------------------
revision 1.34
date: 1994/10/03 14:44:15;  author: john;  state: Exp;
Added newmenu_do1, which allows you to pass the starting
item to the menu system
----------------------------
revision 1.33
date: 1994/09/30 11:51:21;  author: john;  state: Exp;
Added Matt's NM_TYPE_INPUT_MENU
----------------------------
revision 1.32
date: 1994/09/28 17:22:56;  author: matt;  state: Exp;
Added extra space between subtitle and menu items
Made shortcut key check ignore leading spaces in text
----------------------------
revision 1.31
date: 1994/09/15 16:11:22;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.30
date: 1994/09/12 09:52:59;  author: john;  state: Exp;
Made global flush function that flushes keyboard,mouse, and joystick.
----------------------------
revision 1.29
date: 1994/09/10 19:10:54;  author: matt;  state: Exp;
Fixed a few things (like arrow key handling) for menus with all
text items, such as the key help message.
----------------------------
revision 1.28
date: 1994/09/01 18:55:38;  author: john;  state: Exp;
freed scores.lbm
----------------------------
revision 1.27
date: 1994/09/01 18:03:50;  author: john;  state: Exp;
Neatened up scores a bit.
----------------------------
revision 1.26
date: 1994/08/30 20:38:13;  author: john;  state: Exp;
Passed citem in newmenu sub.
----------------------------
revision 1.25
date: 1994/08/30 11:13:01;  author: john;  state: Exp;
Added beveled edges to menus.
----------------------------
revision 1.24
date: 1994/08/26 13:01:58;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.23
date: 1994/08/16 00:18:44;  author: john;  state: Exp;
Made pressing the first letter of a menu
item move to it.
----------------------------
revision 1.22
date: 1994/08/15 23:17:43;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.21
date: 1994/08/15 23:15:28;  author: john;  state: Exp;
Made 1 menu/checkbox return with any keypress.
----------------------------
revision 1.20
date: 1994/08/12 10:18:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.19
date: 1994/08/12 10:09:11;  author: john;  state: Exp;
Made borders better.
----------------------------
revision 1.18
date: 1994/08/12 03:11:16;  author: john;  state: Exp;
Made network be default off; Moved network options into
main menu.  Made starting net game check that mines are the
same.
----------------------------
revision 1.17
date: 1994/08/11 22:14:43;  author: john;  state: Exp;
Free'd up some memory that I forgot to free.
----------------------------
revision 1.16
date: 1994/08/11 19:27:35;  author: john;  state: Exp;
Made the Backspace drop into the debugger only
if you're not in an inputbox.
----------------------------
revision 1.15
date: 1994/08/11 18:01:49;  author: matt;  state: Exp;
Added F2 and BACKSPACE keys to new menu system
----------------------------
revision 1.14
date: 1994/08/11 14:25:58;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.13
date: 1994/08/11 14:25:40;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1994/08/11 13:47:02;  author: john;  state: Exp;
Made newmenu have subtitles, passed key through to
the newmenu subfunctions.
----------------------------
revision 1.11
date: 1994/08/11 12:45:08;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/08/11 12:25:45;  author: john;  state: Exp;
Made right_offset spacing different
----------------------------
revision 1.9
date: 1994/08/11 12:09:49;  author: john;  state: Exp;
Made work with bitmapped fonts.
----------------------------
revision 1.8
date: 1994/08/10 19:56:16;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.7
date: 1994/07/27 16:12:23;  author: john;  state: Exp;
Changed newmenu system to have a callback function.
/.
----------------------------
revision 1.6
date: 1994/07/25 15:10:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/07/25 12:33:35;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.4
date: 1994/07/24 18:21:27;  author: john;  state: Exp;
Took out first time stuff.
----------------------------
revision 1.3
date: 1994/07/24 17:32:47;  author: john;  state: Exp;
Added percent item.  Also neatend up a bit.
----------------------------
revision 1.2
date: 1994/07/22 17:48:13;  author: john;  state: Exp;
Added new menuing system.
----------------------------
revision 1.1
date: 1994/07/22 13:55:38;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/newmenu.h,v
Working file: main/newmenu.h
head: 2.0
branch:
description: Routines for menus.
----------------------------
revision 2.0
date: 1995/02/27 11:32:28;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.24
date: 1995/02/11 16:20:05;  author: john;  state: Exp;
Added code to make the default mission be the one last played.
----------------------------
revision 1.23
date: 1995/01/31 10:21:41;  author: john;  state: Exp;
Added code to specify width, height.
----------------------------
revision 1.22
date: 1995/01/28 17:09:21;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.21
date: 1995/01/23 18:38:43;  author: john;  state: Exp;
Added listbox function.
----------------------------
revision 1.20
date: 1994/11/26 15:29:55;  author: matt;  state: Exp;
Allow escape out of change pilot menu
----------------------------
revision 1.19
date: 1994/11/26 14:17:05;  author: matt;  state: Exp;
Player can now only enter valid chars for his name
----------------------------
revision 1.18
date: 1994/11/18 16:17:13;  author: mike;  state: Exp;
prototype Max_linear_depth_objects.
----------------------------
revision 1.17
date: 1994/11/08 14:51:17;  author: john;  state: Exp;
Added nm_messagebox1, (like the original, only you can pass a function).
----------------------------
revision 1.16
date: 1994/11/05 14:31:45;  author: john;  state: Exp;
Added a new menu function for the background.
----------------------------
revision 1.15
date: 1994/11/05 14:05:46;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.14
date: 1994/11/03 19:37:35;  author: john;  state: Exp;
Added scrolling file list box
----------------------------
revision 1.13
date: 1994/10/13 11:34:03;  author: john;  state: Exp;
Made Thrustmaster FCS Hat work.  Put a background behind the
keyboard configure.  Took out turn_sensitivity.  Changed sound/config
menu to new menu. Made F6 be calibrate joystick.
----------------------------
revision 1.12
date: 1994/10/11 17:08:32;  author: john;  state: Exp;
Added sliders for volume controls.
----------------------------
revision 1.11
date: 1994/10/04 10:26:23;  author: matt;  state: Exp;
Changed fade in to happen every time a global var is set
----------------------------
revision 1.10
date: 1994/10/03 14:43:56;  author: john;  state: Exp;
Added newmenu_do1, which allows you to pass the starting
item to the menu system
----------------------------
revision 1.9
date: 1994/09/30 11:51:33;  author: john;  state: Exp;
Added Matt's NM_TYPE_INPUT_MENU
----------------------------
revision 1.8
date: 1994/08/30 20:38:28;  author: john;  state: Exp;
Passed citem in newmenu sub.
----------------------------
revision 1.7
date: 1994/08/12 03:11:00;  author: john;  state: Exp;
Made network be default off; Moved network options into
main menu.  Made starting net game check that mines are the
same.
----------------------------
revision 1.6
date: 1994/08/11 13:47:05;  author: john;  state: Exp;
Made newmenu have subtitles, passed key through to
the newmenu subfunctions.
----------------------------
revision 1.5
date: 1994/07/27 16:12:24;  author: john;  state: Exp;
Changed newmenu system to have a callback function.
/.
----------------------------
revision 1.4
date: 1994/07/24 17:41:38;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/07/24 17:33:01;  author: john;  state: Exp;
Added percent item.  Also neatend up a bit.
----------------------------
revision 1.2
date: 1994/07/22 17:48:12;  author: john;  state: Exp;
Added new menuing system.
----------------------------
revision 1.1
date: 1994/07/22 13:55:51;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/nfile.c,v
Working file: main/nfile.c
head: 2.0
branch:
description: Routines to read from a big file.
----------------------------
revision 2.0
date: 1995/02/27 11:31:27;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/12/09 19:20:49;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/12/07 20:54:27;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/object.c,v
Working file: main/object.c
head: 2.3
branch:
description: object rendering
----------------------------
revision 2.3
date: 1995/06/15 12:30:51;  author: john;  state: Exp;
Fixed bug with multiplayer ships cloaking out wrongly.
----------------------------
revision 2.2
date: 1995/05/15 11:34:53;  author: john;  state: Exp;
Fixed bug as Matt directed that fixed problems with the exit
triggers being missed on slow frame rate computer.
----------------------------
revision 2.1
date: 1995/03/21 14:38:51;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:28:14;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.335
date: 1995/02/22 12:57:30;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.334
date: 1995/02/09 22:04:40;  author: mike;  state: Exp;
fix lifeleft on badass weapons.
----------------------------
revision 1.333
date: 1995/02/08 12:54:00;  author: matt;  state: Exp;
Fixed object freeing code which was deleting some explosions it shouldn't
----------------------------
revision 1.332
date: 1995/02/08 11:37:26;  author: mike;  state: Exp;
Check for failures in call to obj_create.
----------------------------
revision 1.331
date: 1995/02/05 17:48:52;  author: rob;  state: Exp;
Changed assert in obj_relink, more robust.
----------------------------
revision 1.330
date: 1995/02/05 13:39:48;  author: mike;  state: Exp;
remove invulnerability effect code (actually, comment out).
----------------------------
revision 1.329
date: 1995/02/04 12:29:52;  author: rob;  state: Exp;
Get rid of potential assert error for explosion detachment.
----------------------------
revision 1.328
date: 1995/02/01 18:15:57;  author: rob;  state: Exp;
Removed debugging output from engine glow change.
----------------------------
revision 1.327
date: 1995/02/01 16:20:12;  author: matt;  state: Exp;
Made engine glow vary over a wider range, and made the glow be based
on thrust/speed, without regard to direction.
----------------------------
revision 1.326
date: 1995/01/29 14:46:24;  author: rob;  state: Exp;
Fixed invul. vclip to only appear on player who is invul.
----------------------------
revision 1.325
date: 1995/01/29 13:48:16;  author: mike;  state: Exp;
Add invulnerability graphical effect viewable by other players.
----------------------------
revision 1.324
date: 1995/01/29 11:39:25;  author: mike;  state: Exp;
Add invulnerability effect.
----------------------------
revision 1.323
date: 1995/01/27 17:02:41;  author: mike;  state: Exp;
add more information to an Error call.
----------------------------
revision 1.322
date: 1995/01/26 22:11:30;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.321
date: 1995/01/25 20:04:10;  author: matt;  state: Exp;
Moved matrix check to avoid orthogonalizing an uninitialize matrix
----------------------------
revision 1.320
date: 1995/01/25 12:11:35;  author: matt;  state: Exp;
Make sure orient matrix is orthogonal when resetting player object
----------------------------
revision 1.319
date: 1995/01/21 21:46:22;  author: mike;  state: Exp;
Optimize code in Assert (and prevent warning message).
----------------------------
revision 1.318
date: 1995/01/21 21:22:16;  author: rob;  state: Exp;
Removed HUD clear messages.
Added more Asserts to try and find illegal control type bug.
----------------------------
revision 1.317
date: 1995/01/15 15:34:30;  author: matt;  state: Exp;
When freeing object slots, don't free fireballs that will be deleting
other objects.
----------------------------
revision 1.316
date: 1995/01/14 19:16:48;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.315
date: 1995/01/12 18:53:37;  author: john;  state: Exp;
Fixed parameter passing error.
----------------------------
revision 1.314
date: 1995/01/12 12:09:47;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.313
date: 1994/12/15 16:45:44;  author: matt;  state: Exp;
Took out slew stuff for release version
----------------------------
revision 1.312
date: 1994/12/15 13:04:25;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.311
date: 1994/12/15 11:01:04;  author: mike;  state: Exp;
add Object_minus_one for debugging.
----------------------------
revision 1.310
date: 1994/12/15 03:03:33;  author: matt;  state: Exp;
Added error checking for NULL return from object_create_explosion()
----------------------------
revision 1.309
date: 1994/12/14 17:25:31;  author: matt;  state: Exp;
Made next viewer func based on release not ndebug
----------------------------
revision 1.308
date: 1994/12/13 12:55:42;  author: mike;  state: Exp;
hostages on board messages for when you die.
----------------------------
revision 1.307
date: 1994/12/12 17:18:11;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.306
date: 1994/12/12 00:27:11;  author: matt;  state: Exp;
Added support for no-levelling option
----------------------------
revision 1.305
date: 1994/12/11 22:41:14;  author: matt;  state: Exp;
Added command-line option, -nolevel, which turns off player ship levelling
----------------------------
revision 1.304
date: 1994/12/11 22:03:23;  author: mike;  state: Exp;
free up object slots as necessary.
----------------------------
revision 1.303
date: 1994/12/11 14:09:31;  author: mike;  state: Exp;
make boss explosion sounds softer.
----------------------------
revision 1.302
date: 1994/12/11 13:25:11;  author: matt;  state: Exp;
Restored calls to fix_object_segs() when debugging is turned off, since
it's not a big routine, and could fix some possibly bad problems.
----------------------------
revision 1.301
date: 1994/12/11 12:38:25;  author: mike;  state: Exp;
make boss explosion sounds louder in create_small_fireball.
----------------------------
revision 1.300
date: 1994/12/10 15:28:37;  author: matt;  state: Exp;
Added asserts for debugging
----------------------------
revision 1.299
date: 1994/12/09 16:18:51;  author: matt;  state: Exp;
Fixed init_player_object, for editor
----------------------------
revision 1.298
date: 1994/12/09 15:03:10;  author: matt;  state: Exp;
Two changes for Mike:
  1.  Do better placement of camera during death sequence (prevents hang)
  2.  Only record dodging information if the player fired in a frame
----------------------------
revision 1.297
date: 1994/12/09 14:59:12;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.296
date: 1994/12/08 20:05:07;  author: matt;  state: Exp;
Removed unneeded debug message
----------------------------
revision 1.295
date: 1994/12/08 12:36:02;  author: matt;  state: Exp;
Added new object allocation & deallocation functions so other code
could stop messing around with internal object data structures.
----------------------------
revision 1.294
date: 1994/12/07 20:13:37;  author: matt;  state: Exp;
Added debris object limiter
----------------------------
revision 1.293
date: 1994/12/06 16:58:38;  author: matt;  state: Exp;
Killed warnings
----------------------------
revision 1.292
date: 1994/12/05 22:34:35;  author: matt;  state: Exp;
Make tmap_override objects use override texture as alt texture.  This 
should have the effect of making simpler models use the override texture.
----------------------------
revision 1.291
date: 1994/12/05 12:23:53;  author: mike;  state: Exp;
make camera start closer, but move away from player in death sequence.
----------------------------
revision 1.290
date: 1994/12/02 11:11:18;  author: mike;  state: Exp;
hook sound effect to player small explosions (ctrlcen, too).
----------------------------
revision 1.289
date: 1994/11/28 21:50:52;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.288
date: 1994/11/27 23:12:28;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.287
date: 1994/11/27 20:35:50;  author: matt;  state: Exp;
Fixed dumb mistake
----------------------------
revision 1.286
date: 1994/11/27 20:30:52;  author: matt;  state: Exp;
Got rid of warning
----------------------------
revision 1.285
date: 1994/11/21 11:43:21;  author: mike;  state: Exp;
ndebug stuff.
----------------------------
revision 1.284
date: 1994/11/19 15:19:37;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.283
date: 1994/11/18 23:41:59;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.282
date: 1994/11/18 16:16:17;  author: mike;  state: Exp;
Separate depth on objects vs. walls.
----------------------------
revision 1.281
date: 1994/11/18 12:05:35;  author: rob;  state: Exp;
Removed unnecessary invulnerability flag set in player death.
(I hope its unnecessary.. its commented out if it proves crucial)
fixes powerup dropping bug for net play.
----------------------------
revision 1.280
date: 1994/11/16 20:36:34;  author: rob;  state: Exp;
Changed player explosion (small) code.
----------------------------
revision 1.279
date: 1994/11/16 18:26:04;  author: matt;  state: Exp;
Clear tmap override on player, to fix "rock ship" bug
----------------------------
revision 1.278
date: 1994/11/16 14:54:12;  author: rob;  state: Exp;
Moved hook for network explosions.
----------------------------
revision 1.277
date: 1994/11/14 11:40:42;  author: mike;  state: Exp;
plot inner polygon on laser based on detail level.
----------------------------
revision 1.276
date: 1994/11/10 14:02:59;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.275
date: 1994/11/08 12:19:08;  author: mike;  state: Exp;
Make a generally useful function for putting small explosions on any object.
----------------------------
revision 1.274
date: 1994/11/04 19:55:54;  author: rob;  state: Exp;
Changed calls to player_explode to accomodate new parameter.
----------------------------
revision 1.273
date: 1994/11/02 21:54:27;  author: matt;  state: Exp;
Delete the camera when the death sequence is done
----------------------------
revision 1.272
date: 1994/11/02 11:36:35;  author: rob;  state: Exp;
Added player-in-process-of-dying explosions to network play.
----------------------------
revision 1.271
date: 1994/10/31 17:25:33;  author: matt;  state: Exp;
Fixed cloaked bug
----------------------------
revision 1.270
date: 1994/10/31 16:11:19;  author: allender;  state: Exp;
on demo recording, store letterbox mode in demo.
----------------------------
revision 1.269
date: 1994/10/31 10:36:18;  author: mike;  state: Exp;
Make cloak effect fadein/fadeout different for robots versus player.
----------------------------
revision 1.268
date: 1994/10/30 14:11:44;  author: mike;  state: Exp;
rip out repair center stuff.
----------------------------
revision 1.267
date: 1994/10/28 19:43:52;  author: mike;  state: Exp;
Boss cloaking effect.
----------------------------
revision 1.266
date: 1994/10/27 11:33:42;  author: mike;  state: Exp;
Add Highest_ever_object_index -- high water mark in object creation.
----------------------------
revision 1.265
date: 1994/10/25 10:51:12;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.264
date: 1994/10/24 20:49:24;  author: matt;  state: Exp;
Made cloaked objects pulse
----------------------------
revision 1.263
date: 1994/10/21 12:19:45;  author: matt;  state: Exp;
Clear transient objects when saving (& loading) games
----------------------------
revision 1.262
date: 1994/10/21 11:25:23;  author: mike;  state: Exp;
Use new constant IMMORTAL_TIME.
----------------------------
revision 1.261
date: 1994/10/19 16:50:35;  author: matt;  state: Exp;
If out of segment, put player in center of segment when checking objects
----------------------------
revision 1.260
date: 1994/10/17 23:21:55;  author: mike;  state: Exp;
Clean up robot cloaking, move more to ai.c
----------------------------
revision 1.259
date: 1994/10/17 21:34:49;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.258
date: 1994/10/17 21:18:04;  author: mike;  state: Exp;
robot cloaking.
----------------------------
revision 1.257
date: 1994/10/17 14:12:23;  author: matt;  state: Exp;
Cleaned up problems with player dying from mine explosion
----------------------------
revision 1.256
date: 1994/10/15 19:04:31;  author: mike;  state: Exp;
Don't remove proximity bombs after you die.
----------------------------
revision 1.255
date: 1994/10/14 15:57:00;  author: mike;  state: Exp;
Don't show ids in network mode.
Fix, I hope, but in death sequence.
----------------------------
revision 1.254
date: 1994/10/12 08:04:29;  author: mike;  state: Exp;
Don't decloak player on death.
----------------------------
revision 1.253
date: 1994/10/11 20:36:16;  author: matt;  state: Exp;
Clear "transient" objects (weapons,explosions,etc.) when starting a level
----------------------------
revision 1.252
date: 1994/10/11 12:24:09;  author: matt;  state: Exp;
Cleaned up/change badass explosion calls
----------------------------
revision 1.251
date: 1994/10/08 19:30:20;  author: matt;  state: Exp;
Fixed (I hope) a bug in cloaking of multiplayer objects
----------------------------
revision 1.250
date: 1994/10/08 14:03:15;  author: rob;  state: Exp;
Changed cloaking routine.
----------------------------
revision 1.249
date: 1994/10/07 22:17:27;  author: mike;  state: Exp;
Asserts on valid segnum.
----------------------------
revision 1.248
date: 1994/10/07 19:11:14;  author: matt;  state: Exp;
Added cool cloak transition effect
 Global variables
=============================================================================
RCS file: f:/miner/source/main/object.h,v
Working file: main/object.h
head: 2.1
branch:
description: object system definitions
----------------------------
revision 2.1
date: 1995/03/31 12:24:10;  author: john;  state: Exp;
I had changed alt_textures from a pointer to a byte. This hosed old
saved games, so I restored it to an int.
----------------------------
revision 2.0
date: 1995/02/27 11:26:47;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.122
date: 1995/02/22 12:35:53;  author: allender;  state: Exp;
remove anonymous unions
----------------------------
revision 1.121
date: 1995/02/06 20:43:25;  author: rob;  state: Exp;
Extern'ed Dead_player_camera so it can be reset by multi.c
----------------------------
revision 1.120
date: 1995/02/01 16:34:07;  author: john;  state: Exp;
Linted.
----------------------------
revision 1.119
date: 1995/01/29 13:46:42;  author: mike;  state: Exp;
adapt to new create_small_fireball_on_object prototype.
----------------------------
revision 1.118
date: 1995/01/26 22:11:27;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.117
date: 1995/01/24 12:09:29;  author: mike;  state: Exp;
Boost MAX_OBJECTS from 250 to 350.
----------------------------
revision 1.116
date: 1995/01/13 19:39:51;  author: rob;  state: Exp;
Removed outdated remote_info structure.  (looking for cause of bugs
----------------------------
revision 1.115
date: 1995/01/12 12:09:38;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.114
date: 1994/12/15 13:04:20;  author: mike;  state: Exp;
Replace Players[Player_num].time_total references with GameTime.
----------------------------
revision 1.113
date: 1994/12/12 17:18:09;  author: mike;  state: Exp;
make boss cloak/teleport when get hit, make quad laser 3/4 as powerful.
----------------------------
revision 1.112
date: 1994/12/09 14:58:42;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.111
date: 1994/12/08 12:35:35;  author: matt;  state: Exp;
Added new object allocation & deallocation functions so other code
could stop messing around with internal object data structures.
----------------------------
revision 1.110
date: 1994/11/21 17:30:21;  author: matt;  state: Exp;
Increased max number of objects
----------------------------
revision 1.109
date: 1994/11/18 23:41:52;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.108
date: 1994/11/10 14:02:45;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.107
date: 1994/11/08 12:19:27;  author: mike;  state: Exp;
Small explosions on objects.
----------------------------
revision 1.106
date: 1994/10/25 10:51:17;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.105
date: 1994/10/21 12:19:41;  author: matt;  state: Exp;
Clear transient objects when saving (& loading) games
----------------------------
revision 1.104
date: 1994/10/21 11:25:04;  author: mike;  state: Exp;
Add IMMORTAL_TIME.
----------------------------
revision 1.103
date: 1994/10/17 21:34:54;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.102
date: 1994/10/14 18:12:28;  author: mike;  state: Exp;
Make egg dropping return object number.
----------------------------
revision 1.101
date: 1994/10/12 21:07:19;  author: matt;  state: Exp;
Killed unused field in object structure
----------------------------
revision 1.100
date: 1994/10/12 10:38:24;  author: mike;  state: Exp;
Add field OF_SILENT to obj->flags.
----------------------------
revision 1.99
date: 1994/10/11 20:35:48;  author: matt;  state: Exp;
Clear "transient" objects (weapons,explosions,etc.) when starting a level
----------------------------
revision 1.98
date: 1994/10/03 20:56:13;  author: rob;  state: Exp;
Added velocity to shortpos strucutre.
----------------------------
revision 1.97
date: 1994/09/30 18:24:00;  author: rob;  state: Exp;
Added new control type CT_REMOTE for remote controlled objects.
Also added a union struct 'remote_info' for this type.
----------------------------
revision 1.96
date: 1994/09/28 09:23:05;  author: mike;  state: Exp;
Prototype Object_type_names.
----------------------------
revision 1.95
date: 1994/09/25 23:32:37;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.94
date: 1994/09/25 15:45:28;  author: matt;  state: Exp;
Added OBJ_LIGHT, a type of object that casts light
Added generalized lifeleft, and moved it to local_object
----------------------------
revision 1.93
date: 1994/09/24 17:41:19;  author: mike;  state: Exp;
Add stuff to Local_object structure for materialization centers.
----------------------------
revision 1.92
date: 1994/09/24 13:16:50;  author: matt;  state: Exp;
Added (hacked in, really) support for overriding the bitmaps used on to
texture map a polygon object, and using a new bitmap for all the faces.
----------------------------
revision 1.91
date: 1994/09/22 19:02:14;  author: mike;  state: Exp;
Prototype functions extract_shortpos and create_shortpos which reside in
gameseg.c, but are prototyped here to prevent circular dependencies.
----------------------------
revision 1.90
date: 1994/09/15 21:47:14;  author: mike;  state: Exp;
Prototype dead_player_end().
----------------------------
revision 1.89
date: 1994/09/15 16:34:47;  author: mike;  state: Exp;
Add danger_laser_num and danger_laser_signature to object_local to
enable robots to efficiently (too efficiently!) avoid player fire.
----------------------------
revision 1.88
date: 1994/09/11 22:46:19;  author: mike;  state: Exp;
Death_sequence_aborted prototyped.
----------------------------
revision 1.87
date: 1994/09/09 20:04:30;  author: mike;  state: Exp;
Add vclips for weapons.
----------------------------
revision 1.86
date: 1994/09/09 14:20:54;  author: matt;  state: Exp;
Added flag that says object uses thrust
----------------------------
revision 1.85
date: 1994/09/08 14:51:32;  author: mike;  state: Exp;
Make a crucial name change to a field of local_object struct.
----------------------------
revision 1.84
date: 1994/09/07 19:16:45;  author: mike;  state: Exp;
Homing missile.
----------------------------
revision 1.83
date: 1994/09/06 17:05:43;  author: matt;  state: Exp;
Added new type for dead player
----------------------------
revision 1.82
date: 1994/09/02 11:56:09;  author: mike;  state: Exp;
Add persistency (PF_PERSISTENT) to physics_info.
----------------------------
revision 1.81
date: 1994/08/28 19:10:28;  author: mike;  state: Exp;
Add Player_is_dead.
----------------------------
revision 1.80
date: 1994/08/18 15:11:44;  author: mike;  state: Exp;
powerup stuff.
----------------------------
revision 1.79
date: 1994/08/15 15:24:54;  author: john;  state: Exp;
Made players know who killed them; Disabled cheat menu
during net player; fixed bug with not being able to turn
of invulnerability; Made going into edit/starting new leve
l drop you out of a net game; made death dialog box.
----------------------------
revision 1.78
date: 1994/08/14 23:15:12;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.77
date: 1994/08/13 14:58:27;  author: matt;  state: Exp;
Finished adding support for miscellaneous objects
----------------------------
revision 1.76
date: 1994/08/09 16:04:13;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.75
date: 1994/08/03 21:06:19;  author: matt;  state: Exp;
Added prototype for fix_object_segs(), and renamed now-unused spawn_pos
----------------------------
revision 1.74
date: 1994/08/02 12:30:27;  author: matt;  state: Exp;
Added support for spinning objects
----------------------------
revision 1.73
date: 1994/07/27 20:53:25;  author: matt;  state: Exp;
Added rotational drag & thrust, so turning now has momemtum like moving
----------------------------
revision 1.72
date: 1994/07/27 19:44:21;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.71
date: 1994/07/22 20:43:29;  author: matt;  state: Exp;
Fixed flares, by adding a physics flag that makes them stick to walls.
----------------------------
revision 1.70
date: 1994/07/21 12:42:10;  author: mike;  state: Exp;
Prototype new find_object_seg and update_object_seg.
----------------------------
revision 1.69
date: 1994/07/19 15:26:39;  author: mike;  state: Exp;
New ai_static structure.
----------------------------
revision 1.68
date: 1994/07/13 00:15:06;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.67
date: 1994/07/12 12:40:12;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.66
date: 1994/07/06 15:26:23;  author: yuan;  state: Exp;
Added chase mode.
=============================================================================
RCS file: f:/miner/source/main/objfly.c,v
Working file: main/objfly.c
head: 2.0
branch:
description: Code for making objects do a flythrough.
----------------------------
revision 2.0
date: 1995/02/27 11:31:00;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/11/17 14:58:11;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.3
date: 1994/02/17 11:32:36;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.2
date: 1994/01/27 18:46:28;  author: john;  state: Exp;
Initial version
----------------------------
revision 1.1
date: 1994/01/27 15:11:07;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/objpage.c,v
Working file: main/editor/objpage.c
head: 2.0
branch:
description: object selection stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:34:43;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.37
date: 1995/01/14 19:17:55;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.36
date: 1995/01/05 16:20:13;  author: mike;  state: Exp;
bah, remove the int3.
----------------------------
revision 1.35
date: 1995/01/05 12:47:13;  author: mike;  state: Exp;
Move code about to prevent compiler warning.
----------------------------
revision 1.34
date: 1994/11/18 15:23:55;  author: john;  state: Exp;
Made so the int3 for drawing an invalib object just returns.
----------------------------
revision 1.33
date: 1994/11/02 16:19:18;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor, and cleaned up code
----------------------------
revision 1.32
date: 1994/10/23 02:11:18;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.31
date: 1994/09/09 14:41:35;  author: matt;  state: Exp;
New parms for draw_polygon_model()
----------------------------
revision 1.30
date: 1994/08/29 19:26:53;  author: matt;  state: Exp;
Fixed botches change from yesterday
----------------------------
revision 1.29
date: 1994/08/28 23:40:35;  author: matt;  state: Exp;
----------------------------
revision 1.28
date: 1994/08/14 23:15:32;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.27
date: 1994/08/13 14:59:02;  author: matt;  state: Exp;
Finished adding support for miscellaneous objects
----------------------------
revision 1.26
date: 1994/08/09 16:06:15;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.25
date: 1994/07/28 16:59:23;  author: mike;  state: Exp;
objects containing objects.
----------------------------
revision 1.24
date: 1994/06/08 18:17:25;  author: john;  state: Exp;
Changed the way object types and id's work for hostages
and powerups.
----------------------------
revision 1.23
date: 1994/06/07 16:52:30;  author: matt;  state: Exp;
Made object lighting work correctly; changed name of Ambient_light to
Dynamic_light; cleaned up polygobj object rendering a little.
----------------------------
revision 1.22
date: 1994/05/31 18:42:07;  author: matt;  state: Exp;
Made robot photos unlighted
----------------------------
revision 1.21
date: 1994/05/26 21:09:34;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.20
date: 1994/05/19 12:10:11;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.19
date: 1994/05/17 14:45:27;  author: mike;  state: Exp;
Get object type and id from ObjType and ObjId.
----------------------------
revision 1.18
date: 1994/05/17 12:03:36;  author: mike;  state: Exp;
Deal with little known fact that polygon object != robot.
----------------------------
revision 1.17
date: 1994/04/29 09:16:56;  author: matt;  state: Exp;
Added support for multiple-piece explosions
----------------------------
revision 1.16
date: 1994/04/18 14:15:00;  author: john;  state: Exp;
Initial version of robot dialog box.
----------------------------
revision 1.15
date: 1994/04/11 12:01:36;  author: yuan;  state: Exp;
Fixed resetting to first object on page annoyance.
----------------------------
revision 1.14
date: 1994/04/01 14:35:50;  author: yuan;  state: Exp;
Removed debug "id %d\n" for placing objects
----------------------------
revision 1.13
date: 1994/04/01 11:17:04;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.12
date: 1994/03/25 18:42:26;  author: matt;  state: Exp;
Adjusted constant to make robot pictures more correct size
----------------------------
revision 1.11
date: 1994/03/25 16:57:17;  author: matt;  state: Exp;
New parm to draw_polygon_object(), and draw object "snapshots" in
correct size (although this probably doesn't work yet).
----------------------------
revision 1.10
date: 1994/03/25 14:23:01;  author: matt;  state: Exp;
Disabled lighting when taking "snapshots" of robots
----------------------------
revision 1.9
date: 1994/03/17 10:47:24;  author: john;  state: Exp;
Corrected all kinds of problems associated with N_polygon_objects.
----------------------------
revision 1.8
date: 1994/03/16 11:07:31;  author: john;  state: Exp;
Made zoom work a bit better.
----------------------------
revision 1.7
date: 1994/03/16 10:50:32;  author: john;  state: Exp;
fixed warning with constant length.
----------------------------
revision 1.6
date: 1994/03/16 10:43:18;  author: john;  state: Exp;
Added controls to rotate/zoom object.
----------------------------
revision 1.5
date: 1994/03/15 22:23:24;  author: matt;  state: Exp;
Render little bitmap pictures of robots for display on editor page
----------------------------
revision 1.4
date: 1994/02/01 11:27:14;  author: john;  state: Exp;
Hacked in 8 object types for demo.
----------------------------
revision 1.3
date: 1994/01/26 16:42:19;  author: john;  state: Exp;
Display numbers instead of bitmaps... made 
Num_robot_types or whatever be set to 4
in init_object_page... this is a hack!!!
----------------------------
revision 1.2
date: 1993/12/16 17:26:24;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.1
date: 1993/12/16 16:12:57;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/objpage.h,v
Working file: main/editor/objpage.h
head: 2.0
branch:
description: object selection stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:35:32;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.8
date: 1994/11/02 16:19:20;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor, and cleaned up code
----------------------------
revision 1.7
date: 1994/07/28 16:59:36;  author: mike;  state: Exp;
objects containing objects.
----------------------------
revision 1.6
date: 1994/05/17 14:45:48;  author: mike;  state: Exp;
Get object type and id from ObjectType and ObjectId.
----------------------------
revision 1.5
date: 1994/05/17 12:03:55;  author: mike;  state: Exp;
Deal with little known fact that polygon object != robot.
----------------------------
revision 1.4
date: 1994/05/14 18:00:33;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.3
date: 1994/04/01 11:17:06;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.2
date: 1993/12/16 17:26:27;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.1
date: 1993/12/16 16:13:08;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/objvecs.c,v
Working file: main/objvecs.c
head: 1.2
branch:
description: Vectors for multiple-view bitmaps
----------------------------
revision 1.2
date: 1993/12/07 23:55:26;  author: matt;  state: Exp;
Added tables from files from 3d
----------------------------
revision 1.1
date: 1993/12/07 23:02:54;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/ourcom.c,v
Working file: main/ourcom.c
head: 2.0
branch:
description: Modem support code
----------------------------
revision 2.0
date: 1995/02/27 11:27:36;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.1
date: 1994/10/09 22:29:00;  author: rob;  state: Exp;
Initial revision
----------------------------
revision 1.7
date: 1994/09/27 15:05:54;  author: rob;  state: Exp;
Last checkin had error.
----------------------------
revision 1.6
date: 1994/09/27 15:03:12;  author: rob;  state: Exp;
Null modem basic routines working.  Sending DEAD messages and
missiles still need to be done.
----------------------------
revision 1.5
date: 1994/09/24 16:52:20;  author: rob;  state: Exp;
Added stubbed funcs for startup and stop of serial games.
----------------------------
revision 1.4
date: 1994/09/24 15:10:21;  author: rob;  state: Exp;
Removed some compiler warnings.
----------------------------
revision 1.3
date: 1994/09/24 14:40:34;  author: rob;  state: Exp;
Sending shortpos structures.  9600 baud max.
----------------------------
revision 1.2
date: 1994/09/22 17:53:11;  author: rob;  state: Exp;
First revision.  Not functional yet.
----------------------------
revision 1.1
date: 1994/09/21 13:23:25;  author: rob;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/outside.c,v
Working file: main/outside.c
head: 1.1
branch:
description: Code for rendering external scenes
----------------------------
revision 1.1
date: 1994/08/15 14:04:53;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/outside.h,v
Working file: main/outside.h
head: 1.1
branch:
description: Header for newfile.c
----------------------------
revision 1.1
date: 1994/08/15 19:18:47;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/polyobj.c,v
Working file: main/polyobj.c
head: 2.0
branch:
description: Hacked-in polygon objects
----------------------------
revision 2.0
date: 1995/02/27 11:32:44;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.64
date: 1995/01/14 19:16:43;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.63
date: 1994/12/14 18:06:54;  author: matt;  state: Exp;
Removed compile warnings
----------------------------
revision 1.62
date: 1994/12/09 17:54:31;  author: john;  state: Exp;
Made the CFILE's close right after reading in data.
----------------------------
revision 1.61
date: 1994/12/09 16:13:28;  author: mike;  state: Exp;
speedup pof file reading, but still horribly slow using hog file...problem somewhere else.
----------------------------
revision 1.60
date: 1994/12/08 17:41:20;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.59
date: 1994/11/21 11:02:19;  author: matt;  state: Exp;
Added error checking
----------------------------
revision 1.58
date: 1994/11/14 11:32:49;  author: matt;  state: Exp;
Allow switching to simpler models even when alt_textures specified
----------------------------
revision 1.57
date: 1994/11/13 21:15:24;  author: matt;  state: Exp;
Added basic support for more than one level of detail simplification
----------------------------
revision 1.56
date: 1994/11/11 19:29:25;  author: matt;  state: Exp;
Added code to show low detail polygon models
----------------------------
revision 1.55
date: 1994/11/10 14:02:57;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.54
date: 1994/11/03 11:01:59;  author: matt;  state: Exp;
Made robot pics lighted
----------------------------
revision 1.53
date: 1994/11/02 16:18:34;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor
----------------------------
revision 1.52
date: 1994/10/18 14:38:11;  author: matt;  state: Exp;
Restored assert now that bug is fixed
----------------------------
revision 1.51
date: 1994/10/17 21:35:03;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.50
date: 1994/10/14 17:46:23;  author: yuan;  state: Exp;
Made the soft Int3 only work in net mode.
----------------------------
revision 1.49
date: 1994/10/14 17:43:47;  author: yuan;  state: Exp;
Added soft int3's instead of Asserts  for some common network bugs.
----------------------------
revision 1.48
date: 1994/10/14 17:09:04;  author: yuan;  state: Exp;
Made Assert on line 610 be if in an attempt
to bypass.
----------------------------
revision 1.47
date: 1994/09/09 14:23:42;  author: matt;  state: Exp;
Added glow code to polygon models for engine glow
----------------------------
revision 1.46
date: 1994/08/26 18:03:30;  author: matt;  state: Exp;
Added code to remap polygon model numbers by matching filenames
----------------------------
revision 1.45
date: 1994/08/26 15:35:58;  author: matt;  state: Exp;
Made eclips usable on more than one object at a time
----------------------------
revision 1.44
date: 1994/08/25 18:11:58;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.43
date: 1994/07/25 00:14:18;  author: matt;  state: Exp;
Made a couple of minor changes for the drivethrough
----------------------------
revision 1.42
date: 1994/07/25 00:02:41;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
=============================================================================
RCS file: f:/miner/source/main/paging.c,v
Working file: main/paging.c
head: 2.5
branch:
description: Routines for paging in/out textures.
----------------------------
revision 2.5
date: 1995/10/07 13:18:21;  author: john;  state: Exp;
Added PSX debugging stuff that builds .PAG files.
----------------------------
revision 2.4
date: 1995/08/24 13:40:03;  author: john;  state: Exp;
Added code to page in vclip for powerup disapperance and to 
fix bug that made robot makers not page in the correct bot
textures.
----------------------------
revision 2.3
date: 1995/07/26 12:09:19;  author: john;  state: Exp;
Made code that pages in weapon_info->robot_hit_vclip not
page in unless it is a badass weapon.  Took out old functionallity
of using this if no robot exp1_vclip, since all robots have these.
----------------------------
revision 2.2
date: 1995/07/24 13:22:11;  author: john;  state: Exp;
Made sure everything gets paged in at the
level start.  Fixed bug with robot effects not
getting paged in correctly.
----------------------------
revision 2.1
date: 1995/05/12 15:50:16;  author: allender;  state: Exp;
fix to check effects dest_bm_num > -1 before paging in
----------------------------
revision 2.0
date: 1995/02/27 11:27:39;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.18
date: 1995/02/22 14:12:28;  author: allender;  state: Exp;
remove anonyous union from object structure
----------------------------
revision 1.17
date: 1995/02/11 22:54:15;  author: john;  state: Exp;
Made loading for pig not show up for demos.
----------------------------
revision 1.16
date: 1995/02/11 22:37:04;  author: john;  state: Exp;
Made cockpit redraw.
----------------------------
revision 1.15
date: 1995/01/28 16:29:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.14
date: 1995/01/27 17:16:18;  author: john;  state: Exp;
Added code to page in all the weapons.
----------------------------
revision 1.13
date: 1995/01/24 21:51:22;  author: matt;  state: Exp;
Clear the boxed message to fix a mem leakage
----------------------------
revision 1.12
date: 1995/01/23 13:00:46;  author: john;  state: Exp;
Added hostage vclip paging.
----------------------------
revision 1.11
date: 1995/01/23 12:29:52;  author: john;  state: Exp;
Added code to page in eclip on robots, dead control center,
gauges bitmaps, and weapon pictures.
----------------------------
revision 1.10
date: 1995/01/21 12:54:15;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1995/01/21 12:41:29;  author: adam;  state: Exp;
changed orb to loading box
----------------------------
revision 1.8
date: 1995/01/18 15:09:02;  author: john;  state: Exp;
Added start/stop time around paging.
Made paging clear screen around globe.
----------------------------
revision 1.7
date: 1995/01/18 10:37:00;  author: john;  state: Exp;
Added code to page in exploding monitors.
----------------------------
revision 1.6
date: 1995/01/17 19:03:35;  author: john;  state: Exp;
Added cool spinning orb during loading.
----------------------------
revision 1.5
date: 1995/01/17 14:49:26;  author: john;  state: Exp;
Paged in weapons.
----------------------------
revision 1.4
date: 1995/01/17 12:14:07;  author: john;  state: Exp;
Made walls, object explosion vclips load at level start.
----------------------------
revision 1.3
date: 1995/01/15 13:23:24;  author: john;  state: Exp;
First working version
----------------------------
revision 1.2
date: 1995/01/15 11:56:45;  author: john;  state: Exp;
Working version of paging.
----------------------------
revision 1.1
date: 1995/01/15 11:33:37;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/paging.h,v
Working file: main/paging.h
head: 2.0
branch:
description: Prototypes for paging.
----------------------------
revision 2.0
date: 1995/02/27 11:30:12;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1995/01/15 11:56:39;  author: john;  state: Exp;
Working version of paging.
----------------------------
revision 1.1
date: 1995/01/15 11:33:52;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/photos.c,v
Working file: main/photos.c
head: 2.1
branch:
description: Take multiple-view "photos" of an object
----------------------------
revision 2.1
date: 1995/03/06 15:23:34;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:29:34;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.8
date: 1993/12/09 15:07:27;  author: john;  state: Exp;
Changed palette stuff majorly... no more grd_curscreen->palette
----------------------------
revision 1.7
date: 1993/12/05 22:47:49;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.6
date: 1993/12/01 00:27:08;  author: yuan;  state: Exp;
Implemented new bitmap structure system...
overall bitmap scheme still needs some work.
----------------------------
revision 1.5
date: 1993/11/29 19:50:11;  author: matt;  state: Exp;
Change vertex allocation
----------------------------
revision 1.4
date: 1993/11/29 18:57:49;  author: matt;  state: Exp;
Changed vertex numbering around a bit
----------------------------
revision 1.3
date: 1993/11/23 14:35:50;  author: matt;  state: Exp;
Don't do perspecive on photos; save up vectors to file
----------------------------
revision 1.2
date: 1993/11/22 10:53:05;  author: matt;  state: Exp;
Now use correct uvl structure (not just array of uvs)
----------------------------
revision 1.1
date: 1993/11/21 22:53:24;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/physics.c,v
Working file: main/physics.c
head: 2.2
branch:
description: Code for flying through the mines
----------------------------
revision 2.2
date: 1995/03/24 14:48:54;  author: john;  state: Exp;
Added cheat for player to go thru walls.
----------------------------
revision 2.1
date: 1995/03/20 18:15:59;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:32:06;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.213
date: 1995/02/22 13:40:48;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.212
date: 1995/02/22 13:24:42;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.211
date: 1995/02/06 19:46:59;  author: matt;  state: Exp;
New function (untested), set_thrust_from_velocity()
----------------------------
revision 1.210
date: 1995/02/02 16:26:12;  author: matt;  state: Exp;
Changed assert that was causing a problem
----------------------------
revision 1.209
date: 1995/02/02 14:07:00;  author: matt;  state: Exp;
Fixed confusion about which segment you are touching when you're 
touching a wall.  This manifested itself in spurious lava burns.
----------------------------
revision 1.208
date: 1995/02/01 21:03:24;  author: john;  state: Exp;
Lintified.
----------------------------
revision 1.207
date: 1995/01/25 13:53:35;  author: rob;  state: Exp;
Removed an Int3 from multiplayer games.
----------------------------
revision 1.206
date: 1995/01/23 17:30:47;  author: rob;  state: Exp;
Removed Int3 on bogus sim time.
----------------------------
revision 1.205
date: 1995/01/17 11:08:56;  author: matt;  state: Exp;
Disable new-ish FVI edge checking for all objects except the player,
since it was causing problems with the fusion cannon.
----------------------------
revision 1.204
date: 1995/01/05 09:43:49;  author: matt;  state: Exp;
Took out int3s from new code
----------------------------
revision 1.203
date: 1995/01/04 22:19:23;  author: matt;  state: Exp;
Added hack to keep player from squeezing through closed walls/doors
----------------------------
revision 1.202
date: 1995/01/02 12:38:48;  author: mike;  state: Exp;
physics hack to crazy josh not get hung up on proximity bombs.  Matt notified via email.
----------------------------
revision 1.201
date: 1994/12/13 15:39:22;  author: mike;  state: Exp;
#ifndef NDEBUG some code.
----------------------------
revision 1.200
date: 1994/12/13 13:28:34;  author: yuan;  state: Exp;
Fixed type.
----------------------------
revision 1.199
date: 1994/12/13 13:25:00;  author: matt;  state: Exp;
Made bump hack compile out if so desired
----------------------------
revision 1.198
date: 1994/12/13 12:02:39;  author: matt;  state: Exp;
Added hack to bump player a little if stuck
----------------------------
revision 1.197
date: 1994/12/12 00:32:23;  author: matt;  state: Exp;
When objects other than player go out of mine, jerk to center of segment
----------------------------
revision 1.196
date: 1994/12/10 22:52:42;  author: mike;  state: Exp;
make physics left-the-mine checking always be in.
----------------------------
revision 1.195
date: 1994/12/08 00:53:01;  author: mike;  state: Exp;
oops...phys rot bug.
----------------------------
revision 1.194
date: 1994/12/07 12:54:54;  author: mike;  state: Exp;
tweak rotvel applied from collisions.
----------------------------
revision 1.193
date: 1994/12/07 00:36:08;  author: mike;  state: Exp;
fix phys_apply_rot for robots -- ai was bashing effect in next frame.
----------------------------
revision 1.192
date: 1994/12/05 17:23:10;  author: matt;  state: Exp;
Made a bunch of debug code compile out
----------------------------
revision 1.191
date: 1994/12/05 16:30:10;  author: matt;  state: Exp;
Was illegally changing an object's segment...shoot me.
----------------------------
revision 1.190
date: 1994/12/05 11:58:51;  author: mike;  state: Exp;
fix stupid apply_force_rot() bug.
----------------------------
revision 1.189
date: 1994/12/05 09:42:17;  author: mike;  state: Exp;
fix 0 mag problem when object applies force to itself.
----------------------------
revision 1.188
date: 1994/12/04 22:48:40;  author: matt;  state: Exp;
Physics & FVI now only build seglist for player objects, and they 
responsilby deal with buffer full conditions
----------------------------
revision 1.187
date: 1994/12/04 22:14:07;  author: mike;  state: Exp;
apply instantaneous rotation to an object due to a force blow.
----------------------------
revision 1.186
date: 1994/12/04 18:51:30;  author: matt;  state: Exp;
When weapons get stuck, delete them!
----------------------------
revision 1.185
date: 1994/12/04 18:38:56;  author: matt;  state: Exp;
Added better handling of point-not-in-seg problem
----------------------------
revision 1.184
date: 1994/11/27 23:13:42;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.183
date: 1994/11/25 23:46:18;  author: matt;  state: Exp;
Fixed drag problems with framerates over 60Hz
----------------------------
revision 1.182
date: 1994/11/25 22:15:52;  author: matt;  state: Exp;
Added asserts to try to trap frametime < 0 bug
----------------------------
revision 1.181
date: 1994/11/21 11:42:44;  author: mike;  state: Exp;
ndebug stuff.
----------------------------
revision 1.180
date: 1994/11/19 15:15:04;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.179
date: 1994/11/16 11:25:22;  author: matt;  state: Exp;
Abort physics if negative frametime
----------------------------
revision 1.178
date: 1994/10/05 19:50:41;  author: rob;  state: Exp;
Removed a non-critical Int3 where an object's segnum is checked.
Left mprintf message.
----------------------------
revision 1.177
date: 1994/10/03 22:57:50;  author: matt;  state: Exp;
Fixed problem with matrix corruption of non-moving (but rotating) objects
----------------------------
revision 1.176
date: 1994/09/28 09:23:28;  author: mike;  state: Exp;
Add useful information to mprintf(1,... error messages.
----------------------------
revision 1.175
date: 1994/09/21 17:16:54;  author: mike;  state: Exp;
Make objects stuck in doors go away when door opens.
----------------------------
revision 1.174
date: 1994/09/12 14:19:06;  author: matt;  state: Exp;
Drag & thrust now handled differently
----------------------------
revision 1.173
date: 1994/09/09 14:21:12;  author: matt;  state: Exp;
Use new thrust flag
----------------------------
revision 1.172
date: 1994/09/08 16:21:57;  author: matt;  state: Exp;
Cleaned up player-hit-wall code, and added object scrape handling
Also added weapon-on-weapon hit sound
----------------------------
revision 1.171
date: 1994/09/02 12:30:37;  author: matt;  state: Exp;
Fixed weapons which go through objects
----------------------------
revision 1.170
date: 1994/09/02 11:55:14;  author: mike;  state: Exp;
Kill redefinition of a constant which is properly defined in object.h
----------------------------
revision 1.169
date: 1994/09/02 11:35:01;  author: matt;  state: Exp;
Fixed typo
----------------------------
revision 1.168
date: 1994/09/02 11:32:48;  author: matt;  state: Exp;
Fixed object/object collisions, so you can't fly through robots anymore.
Cleaned up object damage system.
----------------------------
revision 1.167
date: 1994/08/30 21:58:15;  author: matt;  state: Exp;
Made phys_apply_force() do nothing to an object if it's not a phys object
----------------------------
revision 1.166
date: 1994/08/26 10:47:01;  author: john;  state: Exp;
New version of controls.
----------------------------
revision 1.165
date: 1994/08/25 21:53:57;  author: mike;  state: Exp;
Prevent counts of -1 which eventually add up to a positive number in do_ai_frame, causing
the too-many-retries behavior.
----------------------------
revision 1.164
date: 1994/08/25 18:43:33;  author: john;  state: Exp;
First revision of new control code.
----------------------------
revision 1.163
date: 1994/08/17 22:18:05;  author: mike;  state: Exp;
Make robots which have rotvel or rotthrust, but not movement, move.
----------------------------
revision 1.162
date: 1994/08/13 17:31:18;  author: mike;  state: Exp;
retry count stuff.
----------------------------
revision 1.161
date: 1994/08/11 18:59:16;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.160
date: 1994/08/10 19:53:47;  author: mike;  state: Exp;
Debug code (which is still in...)
and adapt to changed interface to create_path_to_player.
----------------------------
revision 1.159
date: 1994/08/08 21:38:43;  author: matt;  state: Exp;
Cleaned up a code a little and optimized a little
----------------------------
revision 1.158
date: 1994/08/08 15:21:50;  author: mike;  state: Exp;
Trap retry count >= 4, but don't do AI hack unless >= 6.
----------------------------
revision 1.157
date: 1994/08/08 11:47:15;  author: matt;  state: Exp;
Cleaned up fvi and physics a little
----------------------------
revision 1.156
date: 1994/08/05 10:10:10;  author: yuan;  state: Exp;
Commented out debug stuff that was killing framerate.
----------------------------
revision 1.155
date: 1994/08/04 19:12:36;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.154
date: 1994/08/04 16:33:57;  author: mike;  state: Exp;
Kill a pile of RCS stuff.
Call create_path_to_player for a stuck object.
----------------------------
revision 1.153
date: 1994/08/04 00:21:02;  author: matt;  state: Exp;
Cleaned up fvi & physics error handling; put in code to make sure objects
are in correct segment; simplified segment finding for objects and points
----------------------------
revision 1.152
date: 1994/08/01 16:25:34;  author: matt;  state: Exp;
Check for moved_time == 0 when computing hit speed
----------------------------
revision 1.151
date: 1994/08/01 13:30:32;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.150
date: 1994/07/29 23:41:46;  author: matt;  state: Exp;
Fixed turn banking, which changed when I added rotational velocity
----------------------------
revision 1.149
date: 1994/07/27 20:53:23;  author: matt;  state: Exp;
Added rotational drag & thrust, so turning now has momemtum like moving
=============================================================================
RCS file: f:/miner/source/main/physics.h,v
Working file: main/physics.h
head: 2.0
branch:
description: Headers for physics functions and data
----------------------------
revision 2.0
date: 1995/02/27 11:33:06;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.29
date: 1995/02/06 19:47:18;  author: matt;  state: Exp;
New function (untested), set_thrust_from_velocity()
----------------------------
revision 1.28
date: 1994/12/04 22:14:20;  author: mike;  state: Exp;
apply instantaneous rotation to an object due to a force blow.
----------------------------
revision 1.27
date: 1994/08/01 13:29:42;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.26
date: 1994/07/28 12:35:22;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.25
date: 1994/07/13 21:48:05;  author: matt;  state: Exp;
FVI() and physics now keep lists of segments passed through which the
trigger code uses.
----------------------------
revision 1.24
date: 1994/06/30 19:01:55;  author: matt;  state: Exp;
Moved flying controls code from physics.c to controls.c
----------------------------
revision 1.23
date: 1994/06/16 14:14:20;  author: mike;  state: Exp;
Change physics_lookahead to return hit_info.
----------------------------
revision 1.22
date: 1994/06/09 09:58:43;  author: matt;  state: Exp;
Moved find_vector_intersection() from physics.c to new file fvi.c
----------------------------
revision 1.21
date: 1994/05/20 16:11:07;  author: matt;  state: Exp;
Added new parm, ignore_obj, to find_vector_intersection()
----------------------------
revision 1.20
date: 1994/05/20 15:16:58;  author: matt;  state: Exp;
Added new fvi return type; took out some troublesome (and troubling) asserts
=============================================================================
RCS file: f:/miner/source/main/piggy.c,v
Working file: main/piggy.c
head: 2.10
branch:
description: Functions for managing the pig files.
----------------------------
revision 2.10
date: 1995/10/07 13:17:26;  author: john;  state: Exp;
Made all bitmaps paged out by default.
----------------------------
revision 2.9
date: 1995/04/14 14:05:24;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 2.8
date: 1995/04/12 13:39:37;  author: john;  state: Exp;
Fixed bug with -lowmem not working.
----------------------------
revision 2.7
date: 1995/03/29 23:23:17;  author: john;  state: Exp;
Fixed major bug with sounds not building into pig right.
----------------------------
revision 2.6
date: 1995/03/28 18:05:00;  author: john;  state: Exp;
Fixed it so you don't have to delete pig after changing bitmaps.tbl
----------------------------
revision 2.5
date: 1995/03/16 23:13:06;  author: john;  state: Exp;
Fixed bug with piggy paging in bitmap not checking for disk
error, hence bogifying textures if you pull the CD out.
----------------------------
revision 2.4
date: 1995/03/14 16:22:27;  author: john;  state: Exp;
Added cdrom alternate directory stuff.
----------------------------
revision 2.3
date: 1995/03/06 15:23:20;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.2
date: 1995/02/27 13:13:40;  author: john;  state: Exp;
Removed floating point.
----------------------------
revision 2.1
date: 1995/02/27 12:31:25;  author: john;  state: Exp;
Made work without editor.
----------------------------
revision 2.0
date: 1995/02/27 11:28:02;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.85
date: 1995/02/09 12:54:24;  author: john;  state: Exp;
Made paged out bitmaps have bm_data be a valid pointer
instead of NULL, in case anyone accesses it.
----------------------------
revision 1.84
date: 1995/02/09 12:50:59;  author: john;  state: Exp;
Bullet-proofed the piggy loading code.
----------------------------
revision 1.83
date: 1995/02/07 17:08:51;  author: john;  state: Exp;
Added some error handling stuff instead of asserts.
----------------------------
revision 1.82
date: 1995/02/03 17:06:48;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.81
date: 1995/02/02 21:56:39;  author: matt;  state: Exp;
Added data for new gauge bitmaps
----------------------------
revision 1.80
date: 1995/02/01 23:31:57;  author: john;  state: Exp;
Took out loading bar.
----------------------------
revision 1.79
date: 1995/01/28 15:13:18;  author: allender;  state: Exp;
bumped up Piggy_bitmap_cache_size
----------------------------
revision 1.78
date: 1995/01/26 12:30:43;  author: john;  state: Exp;
Took out prev.
----------------------------
revision 1.77
date: 1995/01/26 12:12:17;  author: john;  state: Exp;
Made buffer be big for bitmaps.
----------------------------
revision 1.76
date: 1995/01/25 20:15:38;  author: john;  state: Exp;
Made editor allocate all mem.
----------------------------
revision 1.75
date: 1995/01/25 14:52:56;  author: john;  state: Exp;
Made bitmap buffer be 1.5 MB.
----------------------------
revision 1.74
date: 1995/01/22 16:03:19;  author: mike;  state: Exp;
localization.
----------------------------
revision 1.73
date: 1995/01/22 15:58:36;  author: mike;  state: Exp;
localization
----------------------------
revision 1.72
date: 1995/01/18 20:51:20;  author: john;  state: Exp;
Took out warnings.
----------------------------
revision 1.71
date: 1995/01/18 20:47:21;  author: john;  state: Exp;
Added code to allocate sounds & bitmaps into diff
buffers, also made sounds not be compressed for registered.
----------------------------
revision 1.70
date: 1995/01/18 15:08:41;  author: john;  state: Exp;
Added start/stop time around paging.
Made paging clear screen around globe.
----------------------------
revision 1.69
date: 1995/01/18 10:07:51;  author: john;  state: Exp;
Took out debugging mprintfs.
----------------------------
revision 1.68
date: 1995/01/17 14:27:42;  author: john;  state: Exp;
y
----------------------------
revision 1.67
date: 1995/01/17 12:14:39;  author: john;  state: Exp;
Made walls, object explosion vclips load at level start.
----------------------------
revision 1.66
date: 1995/01/15 13:15:44;  author: john;  state: Exp;
Made so that paging always happens, lowmem just loads less.
Also, make KB load print to hud.
----------------------------
revision 1.65
date: 1995/01/15 11:56:28;  author: john;  state: Exp;
Working version of paging.
----------------------------
revision 1.64
date: 1995/01/14 19:17:07;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.63
date: 1994/12/15 12:26:44;  author: john;  state: Exp;
Added -nolowmem function.
----------------------------
revision 1.62
date: 1994/12/14 21:12:26;  author: john;  state: Exp;
Fixed bug with page fault when exiting and using
-nosound.
----------------------------
revision 1.61
date: 1994/12/14 11:35:31;  author: john;  state: Exp;
Evened out thermometer for pig read.
----------------------------
revision 1.60
date: 1994/12/14 10:51:00;  author: john;  state: Exp;
Sped up sound loading.
----------------------------
revision 1.59
date: 1994/12/14 10:12:08;  author: john;  state: Exp;
Sped up pig loading.
----------------------------
revision 1.58
date: 1994/12/13 09:14:47;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.57
date: 1994/12/13 09:12:57;  author: john;  state: Exp;
Made the bar always fill up.
----------------------------
revision 1.56
date: 1994/12/13 03:49:08;  author: john;  state: Exp;
Made -lowmem not load the unnecessary bitmaps.
----------------------------
revision 1.55
date: 1994/12/06 16:06:35;  author: john;  state: Exp;
Took out piggy sorting.
----------------------------
revision 1.54
date: 1994/12/06 15:11:14;  author: john;  state: Exp;
Fixed bug with reading pigs.
----------------------------
revision 1.53
date: 1994/12/06 14:14:47;  author: john;  state: Exp;
Added code to set low mem based on memory.
----------------------------
revision 1.52
date: 1994/12/06 14:01:10;  author: john;  state: Exp;
Fixed bug that was causing -lowmem all the time..
----------------------------
revision 1.51
date: 1994/12/06 13:33:48;  author: john;  state: Exp;
Added lowmem option.
----------------------------
revision 1.50
date: 1994/12/05 19:40:10;  author: john;  state: Exp;
If -nosound or no sound card selected, don't load sounds from pig.
----------------------------
revision 1.49
date: 1994/12/05 12:17:44;  author: john;  state: Exp;
Added code that locks/unlocks digital sounds on demand.
----------------------------
revision 1.48
date: 1994/12/05 11:39:03;  author: matt;  state: Exp;
Fixed little mistake
----------------------------
revision 1.47
date: 1994/12/05 09:29:22;  author: john;  state: Exp;
Added clength to the sound field.
----------------------------
revision 1.46
date: 1994/12/04 15:27:15;  author: john;  state: Exp;
Fixed my stupid bug that looked at -nosound instead of digi_driver_card
to see whether or not to lock down sound memory.
----------------------------
revision 1.45
date: 1994/12/03 14:17:00;  author: john;  state: Exp;
Took out my debug mprintf.
----------------------------
revision 1.44
date: 1994/12/03 13:32:37;  author: john;  state: Exp;
Fixed bug with offscreen bitmap.
----------------------------
revision 1.43
date: 1994/12/03 13:07:13;  author: john;  state: Exp;
Made the pig read/write compressed sounds.
----------------------------
revision 1.42
date: 1994/12/03 11:48:51;  author: matt;  state: Exp;
Added option to not dump sounds to pigfile
----------------------------
revision 1.41
date: 1994/12/02 20:02:20;  author: matt;  state: Exp;
Made sound files constant match constant for table
----------------------------
revision 1.40
date: 1994/11/29 11:03:09;  author: adam;  state: Exp;
upped # of sounds
----------------------------
revision 1.39
date: 1994/11/27 23:13:51;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.38
date: 1994/11/20 18:40:34;  author: john;  state: Exp;
MAde the piggy.lst and piggy.all not dump for release.
----------------------------
revision 1.37
date: 1994/11/19 23:54:45;  author: mike;  state: Exp;
up number of bitmaps for shareware version.
----------------------------
revision 1.36
date: 1994/11/19 19:53:05;  author: mike;  state: Exp;
change MAX_BITMAP_FILES
----------------------------
revision 1.35
date: 1994/11/19 10:42:56;  author: matt;  state: Exp;
Increased number of bitmaps for non-shareware version
----------------------------
revision 1.34
date: 1994/11/19 09:11:52;  author: john;  state: Exp;
Added avg_color to bitmaps saved in pig.
----------------------------
revision 1.33
date: 1994/11/19 00:07:05;  author: john;  state: Exp;
Fixed bug with 8 char sound filenames not getting read from pig.
----------------------------
revision 1.32
date: 1994/11/18 22:24:54;  author: john;  state: Exp;
Added -bigpig command line that doesn't rle your pig.
----------------------------
revision 1.31
date: 1994/11/18 21:56:53;  author: john;  state: Exp;
Added a better, leaner pig format.
----------------------------
revision 1.30
date: 1994/11/16 12:06:16;  author: john;  state: Exp;
Fixed bug with calling .bbms abms.
----------------------------
revision 1.29
date: 1994/11/16 12:00:56;  author: john;  state: Exp;
Added piggy.all dump.
----------------------------
revision 1.28
date: 1994/11/10 21:16:02;  author: adam;  state: Exp;
nothing important
----------------------------
revision 1.27
date: 1994/11/10 13:42:00;  author: john;  state: Exp;
Made sounds not lock down if using -nosound.
----------------------------
revision 1.26
date: 1994/11/09 19:55:40;  author: john;  state: Exp;
Added full rle support with texture rle caching.
----------------------------
revision 1.25
date: 1994/11/09 16:36:42;  author: john;  state: Exp;
First version with RLE bitmaps in Pig.
----------------------------
revision 1.24
date: 1994/10/27 19:42:59;  author: john;  state: Exp;
Disable the piglet option.
----------------------------
revision 1.23
date: 1994/10/27 18:51:40;  author: john;  state: Exp;
Added -piglet option that only loads needed textures for a 
mine.  Only saved ~1MB, and code still doesn't free textures
before you load a new mine.
----------------------------
revision 1.22
date: 1994/10/25 13:11:42;  author: john;  state: Exp;
Made the sounds sort. Dumped piggy.lst.
----------------------------
revision 1.21
date: 1994/10/06 17:06:23;  author: john;  state: Exp;
Took out rle stuff.
----------------------------
revision 1.20
date: 1994/10/06 15:45:36;  author: adam;  state: Exp;
bumped MAX_BITMAP_FILES again!
----------------------------
revision 1.19
date: 1994/10/06 11:01:17;  author: yuan;  state: Exp;
Upped MAX_BITMAP_FILES
----------------------------
revision 1.18
date: 1994/10/06 10:44:45;  author: john;  state: Exp;
Added diagnostic message and psuedo run-length-encoder
to see how much memory we would save by storing bitmaps
in a RLE method.  Also, I commented out the code that
stores 4K bitmaps on a 4K boundry to reduce pig size 
a bit.
----------------------------
revision 1.17
date: 1994/10/04 20:03:13;  author: matt;  state: Exp;
Upped maximum number of bitmaps
----------------------------
revision 1.16
date: 1994/10/03 18:04:20;  author: john;  state: Exp;
Fixed bug with data_offset not set right for bitmaps
that are 64x64 and not aligned on a 4k boundry.
----------------------------
revision 1.15
date: 1994/09/28 11:30:55;  author: john;  state: Exp;
changed inferno.pig to descent.pig, changed the way it
is read.
----------------------------
revision 1.14
date: 1994/09/22 16:14:17;  author: john;  state: Exp;
Redid intro sequecing.
----------------------------
revision 1.13
date: 1994/09/19 14:42:47;  author: john;  state: Exp;
Locked down sounds with Virtual memory.
----------------------------
revision 1.12
date: 1994/09/10 17:31:52;  author: mike;  state: Exp;
Increase number of loadable bitmaps.
----------------------------
revision 1.11
date: 1994/09/01 19:32:49;  author: mike;  state: Exp;
Boost texture map allocation.
----------------------------
revision 1.10
date: 1994/08/16 11:51:02;  author: john;  state: Exp;
Added grwased pigs.
----------------------------
revision 1.9
date: 1994/07/06 09:18:03;  author: adam;  state: Exp;
upped bitmap #s
----------------------------
revision 1.8
date: 1994/06/20 22:02:15;  author: matt;  state: Exp;
Fixed bug from last change
----------------------------
revision 1.7
date: 1994/06/20 21:33:18;  author: matt;  state: Exp;
Made bm.h not include sounds.h, to reduce dependencies
----------------------------
revision 1.6
date: 1994/06/20 16:52:19;  author: john;  state: Exp;
cleaned up init output a bit.
----------------------------
revision 1.5
date: 1994/06/08 14:20:57;  author: john;  state: Exp;
Made piggy dump before going into game.
----------------------------
revision 1.4
date: 1994/06/02 18:59:22;  author: matt;  state: Exp;
Clear selector field of bitmap loaded from pig file
----------------------------
revision 1.3
date: 1994/05/06 15:31:41;  author: john;  state: Exp;
Made name field a bit longer.
----------------------------
revision 1.2
date: 1994/05/06 13:02:44;  author: john;  state: Exp;
Added piggy stuff; worked on supertransparency
----------------------------
revision 1.1
date: 1994/05/06 11:47:26;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/piggy.h,v
Working file: main/piggy.h
head: 2.0
branch:
description: Interface to piggy functions.
----------------------------
revision 2.0
date: 1995/02/27 11:31:21;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.10
date: 1995/02/03 17:08:29;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.9
date: 1995/01/24 14:33:49;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1995/01/24 14:32:35;  author: john;  state: Exp;
Took out paging in code.
----------------------------
revision 1.7
date: 1995/01/23 12:30:17;  author: john;  state: Exp;
Made debug code that mprintf what bitmap gets paged in.
----------------------------
revision 1.6
date: 1995/01/17 14:11:37;  author: john;  state: Exp;
Added function that is called after level loaded.
----------------------------
revision 1.5
date: 1995/01/14 19:16:58;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.4
date: 1994/10/27 18:51:57;  author: john;  state: Exp;
Added -piglet option that only loads needed textures for a 
mine.  Only saved ~1MB, and code still doesn't free textures
before you load a new mine.
----------------------------
revision 1.3
date: 1994/06/08 14:20:47;  author: john;  state: Exp;
Made piggy dump before going into game.
----------------------------
revision 1.2
date: 1994/05/06 13:02:40;  author: john;  state: Exp;
Added piggy stuff; worked on supertransparency
----------------------------
revision 1.1
date: 1994/05/06 11:47:46;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/player.h,v
Working file: main/player.h
head: 2.0
branch:
description: Structure information for the player
----------------------------
revision 2.0
date: 1995/02/27 11:30:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.41
date: 1994/12/20 17:56:43;  author: yuan;  state: Exp;
Multiplayer object capability.
----------------------------
revision 1.40
date: 1994/12/02 15:04:42;  author: matt;  state: Exp;
Fixed bogus weapon constants and arrays
----------------------------
revision 1.39
date: 1994/11/25 22:47:08;  author: matt;  state: Exp;
Made saved game descriptions longer
----------------------------
revision 1.38
date: 1994/11/21 17:29:38;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.37
date: 1994/11/17 12:57:13;  author: rob;  state: Exp;
Changed net_kills_level to net_killed_total.
----------------------------
revision 1.36
date: 1994/11/14 17:20:33;  author: rob;  state: Exp;
Bumped player file version.
----------------------------
revision 1.35
date: 1994/11/04 19:55:06;  author: rob;  state: Exp;
Changed a previously unused pad character to represent whether or not
the player is connected to a net game (used to be objnum=-1 but we
want to keep the objnum info in case of re-joins)
----------------------------
revision 1.34
date: 1994/10/22 14:13:54;  author: mike;  state: Exp;
Add homing_object_dist field to player struct.
----------------------------
revision 1.33
date: 1994/10/22 00:08:45;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.32
date: 1994/10/21 20:43:03;  author: mike;  state: Exp;
Add hostages_on_board to player struct.
----------------------------
revision 1.31
date: 1994/10/19 20:00:00;  author: john;  state: Exp;
Added bonus points at the end of level based on skill level.
----------------------------
revision 1.30
date: 1994/10/19 15:14:24;  author: john;  state: Exp;
Took % hits out of player structure, made %kills work properly.
----------------------------
revision 1.29
date: 1994/10/19 12:12:27;  author: john;  state: Exp;
Added hour variable.
----------------------------
revision 1.28
date: 1994/10/17 17:24:48;  author: john;  state: Exp;
Added starting_level to player struct.
----------------------------
revision 1.27
date: 1994/10/13 15:42:02;  author: mike;  state: Exp;
Remove afterburner.
----------------------------
revision 1.26
date: 1994/10/10 17:00:23;  author: mike;  state: Exp;
Lower number of players from 10 to 8.
----------------------------
revision 1.25
date: 1994/10/09 14:53:26;  author: matt;  state: Exp;
Made player cockpit state & window size save/restore with saved games & automap
----------------------------
revision 1.24
date: 1994/10/08 20:24:10;  author: matt;  state: Exp;
Added difficulty level to player structure for game load/save
----------------------------
revision 1.23
date: 1994/10/05 17:39:53;  author: rob;  state: Exp;
Changed killer_objnum to a short (was char)
----------------------------
revision 1.22
date: 1994/10/03 22:59:07;  author: matt;  state: Exp;
Limit callsign to 8 chars long, so we can use it as filename
----------------------------
revision 1.21
date: 1994/09/23 10:14:30;  author: mike;  state: Exp;
Rename PLAYER_FLAGS_INVINCIBLE to PLAYER_FLAGS_INVULNERABLE.
Add INVULNERABLE_TIME_MAX = 30 seconds.
----------------------------
revision 1.20
date: 1994/09/21 20:44:22;  author: matt;  state: Exp;
Player explosion fireball now specified in bitmaps.tbl
----------------------------
revision 1.19
date: 1994/09/21 12:27:37;  author: mike;  state: Exp;
Move CLOAK_TIME_MAX here from game.c
----------------------------
revision 1.18
date: 1994/09/16 13:10:16;  author: mike;  state: Exp;
Add afterburner and cloak stuff.
----------------------------
revision 1.17
date: 1994/09/11 20:30:26;  author: matt;  state: Exp;
Cleaned up thrust vars, changing a few names
----------------------------
revision 1.16
date: 1994/09/09 14:22:45;  author: matt;  state: Exp;
Added extra gun for player
----------------------------
revision 1.15
date: 1994/09/07 13:30:11;  author: john;  state: Exp;
Added code to tell how many packets were lost.
----------------------------
revision 1.14
date: 1994/09/02 11:56:33;  author: mike;  state: Exp;
Alignment on the player struct.
----------------------------
revision 1.13
date: 1994/08/25 18:12:05;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.12
date: 1994/08/22 15:49:40;  author: mike;  state: Exp;
change spelling on num_missles -> num_missiles.
----------------------------
revision 1.11
date: 1994/08/18 10:47:32;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.10
date: 1994/08/17 16:50:05;  author: john;  state: Exp;
Added damaging fireballs, missiles.
----------------------------
revision 1.9
date: 1994/08/15 00:24:10;  author: john;  state: Exp;
First version of netgame with players killing
each other. still buggy...
----------------------------
revision 1.8
date: 1994/08/12 22:41:26;  author: john;  state: Exp;
Took away Player_stats; add Players array.
----------------------------
revision 1.7
date: 1994/08/09 17:53:25;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1994/07/13 00:15:05;  author: matt;  state: Exp;
Moved all (or nearly all) of the values that affect player movement to 
bitmaps.tbl
----------------------------
revision 1.5
date: 1994/07/08 21:44:17;  author: matt;  state: Exp;
Made laser powerups saturate correctly
----------------------------
revision 1.4
date: 1994/07/07 14:59:02;  author: john;  state: Exp;
Made radar powerups.
----------------------------
revision 1.3
date: 1994/07/02 13:49:39;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.2
date: 1994/07/02 13:10:03;  author: matt;  state: Exp;
Moved player stats struct from gameseq.h to player.h
----------------------------
revision 1.1
date: 1994/07/02 11:00:43;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/playsave.c,v
Working file: main/playsave.c
head: 2.3
branch:
description: Functions to load & save player games
----------------------------
revision 2.3
date: 1995/05/26 16:16:23;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.2
date: 1995/03/24 17:48:21;  author: john;  state: Exp;
Made player files from saturn excrement the highest level for
normal descent levels.
----------------------------
revision 2.1
date: 1995/03/21 14:38:49;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:27:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.57
date: 1995/02/13 20:34:55;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.56
date: 1995/02/13 13:23:24;  author: john;  state: Exp;
Fixed bug with new player joystick selection.
----------------------------
revision 1.55
date: 1995/02/13 12:01:19;  author: john;  state: Exp;
Fixed bug with joystick throttle still asking for 
calibration with new pilots.
----------------------------
revision 1.54
date: 1995/02/13 10:29:12;  author: john;  state: Exp;
Fixed bug with creating new player not resetting everything to default.
----------------------------
revision 1.53
date: 1995/02/03 10:58:46;  author: john;  state: Exp;
Added code to save shareware style saved games into new format...
Also, made new player file format not have the saved game array in it.
----------------------------
revision 1.52
date: 1995/02/02 21:09:28;  author: matt;  state: Exp;
Let player start of level 8 if he made it to level 7 in the shareware
----------------------------
revision 1.51
date: 1995/02/02 18:50:14;  author: john;  state: Exp;
Added warning for FCS when new pilot chooses.
----------------------------
revision 1.50
date: 1995/02/02 11:21:34;  author: john;  state: Exp;
Made joystick calibrate when new user selects.
----------------------------
revision 1.49
date: 1995/02/01 18:06:38;  author: rob;  state: Exp;
Put defaults macros into descent.tex
----------------------------
revision 1.48
date: 1995/01/25 14:37:53;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.47
date: 1995/01/24 19:37:12;  author: matt;  state: Exp;
Took out incorrect mprintf
----------------------------
revision 1.46
date: 1995/01/22 18:57:22;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.45
date: 1995/01/21 16:36:05;  author: matt;  state: Exp;
Made starting level system work for now, pending integration with
mission code.
----------------------------
revision 1.44
date: 1995/01/20 22:47:32;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.43
date: 1995/01/04 14:58:39;  author: rob;  state: Exp;
Fixed for shareware build.
----------------------------
revision 1.42
date: 1995/01/04 11:36:43;  author: rob;  state: Exp;
Added compatibility with older shareware pilot files.
----------------------------
revision 1.41
date: 1995/01/03 11:01:58;  author: rob;  state: Exp;
fixed a default macro.
----------------------------
revision 1.40
date: 1995/01/03 10:44:06;  author: rob;  state: Exp;
Added default taunt macros.
----------------------------
revision 1.39
date: 1994/12/13 10:01:16;  author: allender;  state: Exp;
pop up message box when unable to correctly save player file
----------------------------
revision 1.38
date: 1994/12/12 11:37:14;  author: matt;  state: Exp;
Fixed auto leveling defaults & saving
----------------------------
revision 1.37
date: 1994/12/12 00:26:59;  author: matt;  state: Exp;
Added support for no-levelling option
----------------------------
revision 1.36
date: 1994/12/10 19:09:54;  author: matt;  state: Exp;
Added assert for valid player number when loading game
----------------------------
revision 1.35
date: 1994/12/08 10:53:07;  author: rob;  state: Exp;
Fixed a bug in highest_level tracking.
----------------------------
revision 1.34
date: 1994/12/08 10:01:36;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.33
date: 1994/12/07 18:30:38;  author: rob;  state: Exp;
Load highest level along with player (used to be only if higher)
Capped at LAST_LEVEL in case a person loads a registered player in shareware.
----------------------------
revision 1.32
date: 1994/12/03 16:01:12;  author: matt;  state: Exp;
When player file has bad version, force player to choose another
----------------------------
revision 1.31
date: 1994/12/02 19:54:00;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.30
date: 1994/12/02 11:01:36;  author: yuan;  state: Exp;
Localization.
----------------------------
revision 1.29
date: 1994/11/29 03:46:28;  author: john;  state: Exp;
Added joystick sensitivity; Added sound channels to detail menu.  Removed -maxchannels
command line arg.
----------------------------
revision 1.28
date: 1994/11/29 01:10:23;  author: john;  state: Exp;
Took out code that allowed new players to
configure keyboard.
----------------------------
revision 1.27
date: 1994/11/25 22:47:10;  author: matt;  state: Exp;
Made saved game descriptions longer
----------------------------
revision 1.26
date: 1994/11/22 12:10:42;  author: rob;  state: Exp;
Fixed file handle left open if player file versions don't
match.
----------------------------
revision 1.25
date: 1994/11/21 19:35:30;  author: john;  state: Exp;
Replaced calls to joy_init with if (joy_present)
----------------------------
revision 1.24
date: 1994/11/21 17:29:34;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.23
date: 1994/11/21 11:10:01;  author: john;  state: Exp;
Fixed bug with read-only .plr file making the config file 
not update.
----------------------------
revision 1.22
date: 1994/11/20 19:03:08;  author: john;  state: Exp;
Fixed bug with if not having a joystick, default 
player input device is cyberman.
----------------------------
revision 1.21
date: 1994/11/17 12:24:07;  author: matt;  state: Exp;
Made an array the right size, to fix error loading games
----------------------------
revision 1.20
date: 1994/11/14 17:52:54;  author: allender;  state: Exp;
add call to WriteConfigFile when player files gets written
----------------------------
revision 1.19
date: 1994/11/14 17:19:23;  author: rob;  state: Exp;
Removed gamma, joystick calibration, and sound settings from player file.
Added default difficulty and multi macros.
----------------------------
revision 1.18
date: 1994/11/07 14:01:23;  author: john;  state: Exp;
Changed the gamma correction sequencing.
----------------------------
revision 1.17
date: 1994/11/05 17:22:49;  author: john;  state: Exp;
Fixed lots of sequencing problems with newdemo stuff.
----------------------------
revision 1.16
date: 1994/11/01 16:40:11;  author: john;  state: Exp;
Added Gamma correction.
----------------------------
revision 1.15
date: 1994/10/24 19:56:50;  author: john;  state: Exp;
Made the new user setup prompt for config options.
----------------------------
revision 1.14
date: 1994/10/24 17:44:21;  author: john;  state: Exp;
Added stereo channel reversing.
----------------------------
revision 1.13
date: 1994/10/24 16:05:12;  author: matt;  state: Exp;
Improved handling of player names that are the names of DOS devices
----------------------------
revision 1.12
date: 1994/10/22 00:08:51;  author: matt;  state: Exp;
Fixed up problems with bonus & game sequencing
Player doesn't get credit for hostages unless he gets them out alive
----------------------------
revision 1.11
date: 1994/10/19 19:59:57;  author: john;  state: Exp;
Added bonus points at the end of level based on skill level.
----------------------------
revision 1.10
date: 1994/10/19 15:14:34;  author: john;  state: Exp;
Took % hits out of player structure, made %kills work properly.
----------------------------
revision 1.9
date: 1994/10/19 12:44:26;  author: john;  state: Exp;
Added hours field to player structure.
----------------------------
revision 1.8
date: 1994/10/17 17:24:34;  author: john;  state: Exp;
Added starting_level to player struct.
----------------------------
revision 1.7
date: 1994/10/17 13:07:15;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.6
date: 1994/10/09 14:54:31;  author: matt;  state: Exp;
Made player cockpit state & window size save/restore with saved games & automap
----------------------------
revision 1.5
date: 1994/10/08 23:08:09;  author: matt;  state: Exp;
Added error check & handling for game load/save disk io
----------------------------
revision 1.4
date: 1994/10/05 17:40:54;  author: rob;  state: Exp;
Bumped save_file_version to 5 due to change in player.h
----------------------------
revision 1.3
date: 1994/10/03 23:00:54;  author: matt;  state: Exp;
New file version for shorter callsigns
----------------------------
revision 1.2
date: 1994/09/28 17:25:05;  author: matt;  state: Exp;
Added first draft of game save/load system
----------------------------
revision 1.1
date: 1994/09/27 14:39:12;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/playsave.h,v
Working file: main/playsave.h
head: 2.0
branch:
description: Header for playsave.c
----------------------------
revision 2.0
date: 1995/02/27 11:31:24;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.10
date: 1995/01/22 18:57:04;  author: matt;  state: Exp;
Made player highest level work with missions
----------------------------
revision 1.9
date: 1994/12/12 11:37:15;  author: matt;  state: Exp;
Fixed auto leveling defaults & saving
----------------------------
revision 1.8
date: 1994/12/08 10:01:37;  author: john;  state: Exp;
Changed the way the player callsign stuff works.
----------------------------
revision 1.7
date: 1994/11/25 22:46:56;  author: matt;  state: Exp;
Made saved game descriptions longer
----------------------------
revision 1.6
date: 1994/10/24 20:00:02;  author: john;  state: Exp;
Added prototype for read_player_file.
----------------------------
revision 1.5
date: 1994/10/17 13:07:12;  author: john;  state: Exp;
Moved the descent.cfg info into the player config file.
----------------------------
revision 1.4
date: 1994/10/09 14:54:32;  author: matt;  state: Exp;
Made player cockpit state & window size save/restore with saved games & automap
----------------------------
revision 1.3
date: 1994/10/08 23:08:09;  author: matt;  state: Exp;
Added error check & handling for game load/save disk io
----------------------------
revision 1.2
date: 1994/09/28 17:25:06;  author: matt;  state: Exp;
Added first draft of game save/load system
----------------------------
revision 1.1
date: 1994/09/27 15:47:23;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/polyobj.c,v
Working file: main/polyobj.c
head: 2.1
branch:
description: Hacked-in polygon objects
----------------------------
revision 2.1
date: 1995/05/26 16:10:37;  author: john;  state: Exp;
Support for new 4-byte align v8 pof files.
----------------------------
revision 2.0
date: 1995/02/27 11:32:44;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.64
date: 1995/01/14 19:16:43;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.63
date: 1994/12/14 18:06:54;  author: matt;  state: Exp;
Removed compile warnings
----------------------------
revision 1.62
date: 1994/12/09 17:54:31;  author: john;  state: Exp;
Made the CFILE's close right after reading in data.
----------------------------
revision 1.61
date: 1994/12/09 16:13:28;  author: mike;  state: Exp;
speedup pof file reading, but still horribly slow using hog file...problem somewhere else.
----------------------------
revision 1.60
date: 1994/12/08 17:41:20;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.59
date: 1994/11/21 11:02:19;  author: matt;  state: Exp;
Added error checking
----------------------------
revision 1.58
date: 1994/11/14 11:32:49;  author: matt;  state: Exp;
Allow switching to simpler models even when alt_textures specified
----------------------------
revision 1.57
date: 1994/11/13 21:15:24;  author: matt;  state: Exp;
Added basic support for more than one level of detail simplification
----------------------------
revision 1.56
date: 1994/11/11 19:29:25;  author: matt;  state: Exp;
Added code to show low detail polygon models
----------------------------
revision 1.55
date: 1994/11/10 14:02:57;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.54
date: 1994/11/03 11:01:59;  author: matt;  state: Exp;
Made robot pics lighted
----------------------------
revision 1.53
date: 1994/11/02 16:18:34;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor
----------------------------
revision 1.52
date: 1994/10/18 14:38:11;  author: matt;  state: Exp;
Restored assert now that bug is fixed
----------------------------
revision 1.51
date: 1994/10/17 21:35:03;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.50
date: 1994/10/14 17:46:23;  author: yuan;  state: Exp;
Made the soft Int3 only work in net mode.
----------------------------
revision 1.49
date: 1994/10/14 17:43:47;  author: yuan;  state: Exp;
Added soft int3's instead of Asserts  for some common network bugs.
----------------------------
revision 1.48
date: 1994/10/14 17:09:04;  author: yuan;  state: Exp;
Made Assert on line 610 be if in an attempt
to bypass.
----------------------------
revision 1.47
date: 1994/09/09 14:23:42;  author: matt;  state: Exp;
Added glow code to polygon models for engine glow
----------------------------
revision 1.46
date: 1994/08/26 18:03:30;  author: matt;  state: Exp;
Added code to remap polygon model numbers by matching filenames
----------------------------
revision 1.45
date: 1994/08/26 15:35:58;  author: matt;  state: Exp;
Made eclips usable on more than one object at a time
----------------------------
revision 1.44
date: 1994/08/25 18:11:58;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.43
date: 1994/07/25 00:14:18;  author: matt;  state: Exp;
Made a couple of minor changes for the drivethrough
----------------------------
revision 1.42
date: 1994/07/25 00:02:41;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
=============================================================================
RCS file: f:/miner/source/main/polyobj.h,v
Working file: main/polyobj.h
head: 2.1
branch:
description: Header for polyobj.c, the polygon object code
----------------------------
revision 2.1
date: 1995/02/27 18:21:54;  author: john;  state: Exp;
Added extern for robot_points.
----------------------------
revision 2.0
date: 1995/02/27 11:29:58;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.28
date: 1995/01/12 12:10:16;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.27
date: 1994/11/11 19:28:58;  author: matt;  state: Exp;
Added code to show low detail polygon models
----------------------------
revision 1.26
date: 1994/11/10 14:03:05;  author: matt;  state: Exp;
Hacked in support for player ships with different textures
----------------------------
revision 1.25
date: 1994/11/02 16:18:24;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor
----------------------------
revision 1.24
date: 1994/10/18 10:55:57;  author: adam;  state: Exp;
bumped MAX_POLYGON_OBJECTS up
----------------------------
revision 1.23
date: 1994/10/17 21:35:01;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.22
date: 1994/09/09 14:23:42;  author: matt;  state: Exp;
Added glow code to polygon models for engine glow
----------------------------
revision 1.21
date: 1994/08/26 18:03:43;  author: matt;  state: Exp;
Added code to remap polygon model numbers by matching filenames
----------------------------
revision 1.20
date: 1994/08/26 15:36:00;  author: matt;  state: Exp;
Made eclips usable on more than one object at a time
----------------------------
revision 1.19
date: 1994/07/22 20:44:23;  author: matt;  state: Exp;
Killed unused fields in polygon model structure
----------------------------
revision 1.18
date: 1994/06/16 17:52:11;  author: matt;  state: Exp;
Made submodels rotate around their centers, not their pivot points
----------------------------
revision 1.17
date: 1994/06/14 12:22:05;  author: matt;  state: Exp;
Integrated with drive code, using #defines to switch versions
----------------------------
revision 1.16
date: 1994/06/09 16:25:01;  author: matt;  state: Exp;
Fixed confusion with two constants, MAX_SUBOBJS & MAX_SUBMODELS, which
were used for the same things, but had different values.
----------------------------
revision 1.15
date: 1994/06/08 10:56:38;  author: matt;  state: Exp;
Improved debris: now get submodel size from new POF files; debris now has
limited life; debris can now be blown up.
----------------------------
revision 1.14
date: 1994/06/07 16:51:57;  author: matt;  state: Exp;
Made object lighting work correctly; changed name of Ambient_light to
Dynamic_light; cleaned up polygobj object rendering a little.
----------------------------
revision 1.13
date: 1994/05/26 21:08:59;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.12
date: 1994/05/18 19:35:05;  author: matt;  state: Exp;
Added fields for the rest of the subobj data
----------------------------
revision 1.11
date: 1994/05/16 16:17:13;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.10
date: 1994/05/13 11:08:31;  author: matt;  state: Exp;
Added support for multiple gun positions on polygon models
----------------------------
revision 1.9
date: 1994/04/29 09:18:04;  author: matt;  state: Exp;
Added support for multiple-piece explosions
----------------------------
revision 1.8
date: 1994/04/28 18:44:18;  author: matt;  state: Exp;
Took out code for old-style (non-interpreted) objects.
----------------------------
revision 1.7
date: 1994/03/25 16:54:38;  author: matt;  state: Exp;
draw_polygon_object() now takes pointer to animation data
----------------------------
revision 1.6
date: 1994/03/15 17:44:33;  author: matt;  state: Exp;
Changed a bunch of names
----------------------------
revision 1.5
date: 1994/03/07 20:02:29;  author: matt;  state: Exp;
Added pointer to normals in polyobj struct
Added prototype for draw_polygon_object()
----------------------------
revision 1.4
date: 1994/03/01 17:16:19;  author: matt;  state: Exp;
Lots of changes to support loadable binary ".pof" robot files
----------------------------
revision 1.3
date: 1994/01/31 15:51:20;  author: matt;  state: Exp;
Added ptr for rgb table for robot colors
----------------------------
revision 1.2
date: 1994/01/28 13:52:01;  author: matt;  state: Exp;
Added flesh to this previously skeletal file.
----------------------------
revision 1.1
date: 1994/01/28 13:47:42;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/powerup.c,v
Working file: main/powerup.c
head: 2.2
branch:
description: Code for powerup objects.
----------------------------
revision 2.2
date: 1995/03/24 13:50:36;  author: john;  state: Exp;
Added mega-wowie zowie to release.
----------------------------
revision 2.1
date: 1995/03/21 14:38:39;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:27:15;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.94
date: 1995/02/22 13:46:03;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.93
date: 1995/02/06 15:52:51;  author: mike;  state: Exp;
add mini megawow powerup for giving reasonable weapons.
----------------------------
revision 1.92
date: 1995/01/23 22:49:59;  author: mike;  state: Exp;
drop energy instead of primary weapon if you have primary weapon
(drop nothing if want to drop vulcan ammo and you are maxed out)
if you have primary weapon and primary weapon there, get energy instead.
----------------------------
revision 1.91
date: 1995/01/19 09:42:22;  author: allender;  state: Exp;
record laser levels for demos
----------------------------
revision 1.90
date: 1994/12/31 12:28:01;  author: rob;  state: Exp;
Added sound for coop key grabs.
----------------------------
revision 1.89
date: 1994/12/19 19:55:17;  author: rob;  state: Exp;
Fixing key semantics for coop game.
----------------------------
revision 1.88
date: 1994/12/07 12:55:21;  author: mike;  state: Exp;
tweak vulcan amounts.
----------------------------
revision 1.87
date: 1994/12/06 13:55:36;  author: matt;  state: Exp;
Made shield & energy powerup messages round to match HUD message
----------------------------
revision 1.86
date: 1994/12/03 19:03:57;  author: matt;  state: Exp;
Fixed vulcan ammo HUD message
----------------------------
revision 1.85
date: 1994/11/29 11:35:41;  author: rob;  state: Exp;
Added sound casting for grabbing powerups.
----------------------------
revision 1.84
date: 1994/11/28 11:26:38;  author: matt;  state: Exp;
Cleaned up hud message printing for picking up weapons
----------------------------
revision 1.83
date: 1994/11/27 23:14:01;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.82
date: 1994/11/21 16:02:51;  author: mike;  state: Exp;
comment out unused powerups.
----------------------------
revision 1.81
date: 1994/11/20 18:25:47;  author: john;  state: Exp;
Fixed some #ifndef RELEASE inconsistancies.
----------------------------
revision 1.80
date: 1994/11/19 23:54:13;  author: mike;  state: Exp;
limit megawowiezowie to shareware powerups if in shareware version.
----------------------------
revision 1.79
date: 1994/11/14 16:06:16;  author: yuan;  state: Exp;
Made cloak and invulnerability only picked up once.
----------------------------
revision 1.78
date: 1994/11/07 17:41:06;  author: mike;  state: Exp;
messages for when you're fully stocked with missiles.
----------------------------
revision 1.77
date: 1994/10/28 14:42:50;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.76
date: 1994/10/26 15:55:23;  author: yuan;  state: Exp;
Made vulcan cannon give 100 ammo if it has less than that.
----------------------------
revision 1.75
date: 1994/10/26 15:54:57;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.74
date: 1994/10/25 14:31:25;  author: allender;  state: Exp;
Fixed bug where getting cloak powerup while cloaked resulted in
player being cloaked forever.
----------------------------
revision 1.73
date: 1994/10/25 10:51:21;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.72
date: 1994/10/21 20:41:32;  author: mike;  state: Exp;
Fix silly backwards (- instead of +) bug in invulnerability powerup.
----------------------------
revision 1.71
date: 1994/10/20 09:49:23;  author: mike;  state: Exp;
Fix up powerups in some way.
----------------------------
revision 1.70
date: 1994/10/19 11:16:25;  author: mike;  state: Exp;
Limit amount of each type of ammo player can hold.
----------------------------
revision 1.69
date: 1994/10/17 14:12:11;  author: matt;  state: Exp;
Added sound for powerup disappearance effect
----------------------------
revision 1.68
date: 1994/10/17 14:07:04;  author: mike;  state: Exp;
Make shields and energy max out at 200.
----------------------------
revision 1.67
date: 1994/10/16 12:43:37;  author: mike;  state: Exp;
Don't allow you to pick up a primary weapon, or invulnerability, you already have.
Make cloak time additive.
----------------------------
revision 1.66
date: 1994/10/15 19:05:30;  author: mike;  state: Exp;
Define constants for vulcan ammo amounts.
----------------------------
revision 1.65
date: 1994/10/14 15:57:28;  author: mike;  state: Exp;
When you pick up a laser boost or quad_laser powerup, update weapon display.
----------------------------
revision 1.64
date: 1994/10/13 10:57:51;  author: adam;  state: Exp;
fiddled with powerup disappearance
----------------------------
revision 1.63
date: 1994/10/12 13:07:33;  author: mike;  state: Exp;
Make powerup play vclip when it goes away.
----------------------------
revision 1.62
date: 1994/10/12 08:04:42;  author: mike;  state: Exp;
Make proximity powerup worth 4 bombs.
----------------------------
revision 1.61
date: 1994/10/08 23:37:33;  author: matt;  state: Exp;
Don't pick up weapons you already have; also fixed auto_select bug
for seconary weapons
----------------------------
revision 1.60
date: 1994/10/08 15:41:00;  author: mike;  state: Exp;
Diminish palette effect due to powerups.
----------------------------
revision 1.59
date: 1994/10/07 23:37:45;  author: matt;  state: Exp;
Made weapons select when pick up better one
----------------------------
revision 1.58
date: 1994/10/07 22:09:20;  author: rob;  state: Exp;
Added network hook for grabbing the cloaking device.
=============================================================================
RCS file: f:/miner/source/main/powerup.h,v
Working file: main/powerup.h
head: 2.0
branch:
description: Powerup header file.
----------------------------
revision 2.0
date: 1995/02/27 11:27:35;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.34
date: 1995/02/06 15:52:37;  author: mike;  state: Exp;
add mini megawow powerup for giving reasonable weapons.
----------------------------
revision 1.33
date: 1995/01/30 17:14:11;  author: mike;  state: Exp;
halve rate of vulcan ammo consumption.
----------------------------
revision 1.32
date: 1995/01/15 20:47:56;  author: mike;  state: Exp;
add lighting field to powerups.
----------------------------
revision 1.31
date: 1994/12/12 21:39:58;  author: matt;  state: Exp;
Changed vulcan ammo: 10K max, 5K w/weapon, 1250 per powerup
----------------------------
revision 1.30
date: 1994/12/07 12:55:26;  author: mike;  state: Exp;
tweak vulcan amounts.
----------------------------
revision 1.29
date: 1994/12/02 20:06:46;  author: matt;  state: Exp;
Made vulcan ammo print at approx 25 times actual
----------------------------
revision 1.28
date: 1994/10/26 15:56:27;  author: yuan;  state: Exp;
Made vulcan cannon give 100 ammo if it has less than that.
----------------------------
revision 1.27
date: 1994/10/15 19:07:10;  author: mike;  state: Exp;
Define constants for amount of vulcan ammo per powerup.
----------------------------
revision 1.26
date: 1994/09/26 13:29:38;  author: matt;  state: Exp;
Added extra life each 100,000 points, and show icons on HUD for num lives
----------------------------
revision 1.25
date: 1994/09/22 19:00:25;  author: mike;  state: Exp;
Kill constants ENERGY_BOOST and SHIELD_BOOST: it's now difficulty level dependent.
----------------------------
revision 1.24
date: 1994/09/20 19:46:11;  author: mike;  state: Exp;
Fix powerup number assignments.
----------------------------
revision 1.23
date: 1994/09/02 11:53:34;  author: mike;  state: Exp;
Add the megawow powerup.  If you don't know about it, that's because it's a secret.
----------------------------
revision 1.22
date: 1994/09/01 10:41:35;  author: matt;  state: Exp;
Sizes for powerups now specified in bitmaps.tbl; blob bitmaps now plot
correctly if width & height of bitmap are different.
----------------------------
revision 1.21
date: 1994/08/31 19:26:14;  author: mike;  state: Exp;
Start adding new pile of powerups.
----------------------------
revision 1.20
date: 1994/08/25 17:56:08;  author: matt;  state: Exp;
Added quad laser powerup
----------------------------
revision 1.19
date: 1994/08/18 15:11:50;  author: mike;  state: Exp;
missile powerups.
----------------------------
revision 1.18
date: 1994/08/09 17:54:33;  author: adam;  state: Exp;
upped no. of powerup types
----------------------------
revision 1.17
date: 1994/08/09 17:53:39;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1994/07/27 19:44:16;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.15
date: 1994/07/26 18:31:32;  author: mike;  state: Exp;
Move some constants here from eobject.c.
----------------------------
revision 1.14
date: 1994/07/20 17:35:03;  author: yuan;  state: Exp;
Some minor bug fixes and new key gauges...
----------------------------
revision 1.13
date: 1994/07/12 15:53:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1994/07/12 15:30:47;  author: mike;  state: Exp;
Prototype diminish_towards_max.
----------------------------
revision 1.11
date: 1994/07/07 14:59:04;  author: john;  state: Exp;
Made radar powerups.
----------------------------
revision 1.10
date: 1994/07/01 16:35:40;  author: yuan;  state: Exp;
Added key system
----------------------------
revision 1.9
date: 1994/06/29 19:43:33;  author: matt;  state: Exp;
Made powerup animation not happen in render routine
----------------------------
revision 1.8
date: 1994/06/21 18:54:03;  author: matt;  state: Exp;
Added support for powerups that don't get picked up if not needed, but this
feature is commented out at the end of do_powerup(), since the physics gave 
me all sorts of problems, with the player getting stuck on a powerup.
----------------------------
revision 1.7
date: 1994/06/08 18:16:32;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.6
date: 1994/05/18 13:26:30;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/05/17 17:01:48;  author: yuan;  state: Exp;
Added constant for boosts.
----------------------------
revision 1.4
date: 1994/04/06 14:42:50;  author: yuan;  state: Exp;
Adding new powerups.
----------------------------
revision 1.3
date: 1994/04/01 14:36:59;  author: yuan;  state: Exp;
John's head is an extra life...
----------------------------
revision 1.2
date: 1994/04/01 11:15:22;  author: yuan;  state: Exp;
Added multiple bitmap functionality to all objects...
(hostages, powerups, lasers, etc.)  
Hostages and powerups are implemented in the object system,
just need to finish function call to "affect" player.
----------------------------
revision 1.1
date: 1994/03/31 17:01:43;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/radar.c,v
Working file: main/radar.c
head: 1.10
branch:
description: Routines for drawing the radar.
. 
----------------------------
revision 1.10
date: 1995/02/27 12:31:15;  author: john;  state: Exp;
Version 2.0.
----------------------------
revision 1.9
date: 1995/02/01 21:03:36;  author: john;  state: Exp;
Lintified.
----------------------------
revision 1.8
date: 1994/08/12 22:41:28;  author: john;  state: Exp;
Took away Player_stats; add Players array.
----------------------------
revision 1.7
date: 1994/07/15 09:38:00;  author: john;  state: Exp;
Moved in radar_farthest_dist.
----------------------------
revision 1.6
date: 1994/07/14 22:05:57;  author: john;  state: Exp;
Made radar display not conflict with hostage
vclip talking.
----------------------------
revision 1.5
date: 1994/07/12 18:41:51;  author: yuan;  state: Exp;
Tweaked location of radar and hostage screen... 
Still needs work.
----------------------------
revision 1.4
date: 1994/07/07 14:59:00;  author: john;  state: Exp;
Made radar powerups.
----------------------------
revision 1.3
date: 1994/07/07 10:05:36;  author: john;  state: Exp;
Pegged objects in radar to edges.
----------------------------
revision 1.2
date: 1994/07/06 19:36:33;  author: john;  state: Exp;
Initial version of radar.
----------------------------
revision 1.1
date: 1994/07/06 17:22:07;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/radar.h,v
Working file: main/radar.h
head: 2.0
branch:
description: Prototypes for radar.
----------------------------
revision 2.0
date: 1995/02/27 11:33:07;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/07/07 14:59:03;  author: john;  state: Exp;
Made radar powerups.
----------------------------
revision 1.2
date: 1994/07/06 19:36:36;  author: john;  state: Exp;
Initial version of radar.
----------------------------
revision 1.1
date: 1994/07/06 17:22:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/render.c,v
Working file: main/render.c
head: 2.5
branch:
description: Sample setup for RCS header
----------------------------
revision 2.5
date: 1995/12/19 15:31:36;  author: john;  state: Exp;
Made stereo mode only record 1 eye in demo.
----------------------------
revision 2.4
date: 1995/03/20 18:15:53;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.3
date: 1995/03/13 16:11:05;  author: john;  state: Exp;
Maybe fixed bug that lighting didn't work with vr helmets.
----------------------------
revision 2.2
date: 1995/03/09 15:33:49;  author: john;  state: Exp;
Fixed bug with iglasses timeout too long, and objects
disappearing from left eye.
----------------------------
revision 2.1
date: 1995/03/06 15:23:59;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:31:01;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.252
date: 1995/02/22 13:49:38;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.251
date: 1995/02/11 15:07:26;  author: matt;  state: Exp;
Took out code which was mostly intended as part of a larger renderer
change which never happened.  This new code was causing problems with
the level 4 control center.
----------------------------
revision 1.250
date: 1995/02/07 16:28:53;  author: matt;  state: Exp;
Fixed problem with new code
----------------------------
revision 1.249
date: 1995/02/06 14:38:58;  author: matt;  state: Exp;
Took out some code that didn't compile when editor in
----------------------------
revision 1.248
date: 1995/02/06 13:45:25;  author: matt;  state: Exp;
Structural changes, plus small sorting improvements
----------------------------
revision 1.247
date: 1995/02/02 15:59:26;  author: matt;  state: Exp;
Changed assert to int3.
----------------------------
revision 1.246
date: 1995/02/01 21:02:27;  author: matt;  state: Exp;
Added partial fix for rendering bugs
Ripped out laser hack system
----------------------------
revision 1.245
date: 1995/01/20 15:14:30;  author: matt;  state: Exp;
Added parens to fix precedence bug
----------------------------
revision 1.244
date: 1995/01/14 19:16:59;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.243
date: 1995/01/03 20:19:25;  author: john;  state: Exp;
Pretty good working version of game save.
----------------------------
revision 1.242
date: 1994/12/29 13:51:05;  author: john;  state: Exp;
Made the floating reticle draw in the spot
regardless of the eye offset.
----------------------------
revision 1.241
date: 1994/12/23 15:02:55;  author: john;  state: Exp;
Tweaked floating reticle.
----------------------------
revision 1.240
date: 1994/12/23 14:27:45;  author: john;  state: Exp;
Changed offset of floating reticle to line up with
lasers a bit better.
----------------------------
revision 1.239
date: 1994/12/23 14:22:50;  author: john;  state: Exp;
Added floating reticle for VR helments.  
----------------------------
revision 1.238
date: 1994/12/13 14:07:50;  author: matt;  state: Exp;
Fixed tmap_num2 bug in search mode
----------------------------
revision 1.237
date: 1994/12/11 00:45:53;  author: matt;  state: Exp;
Fixed problem when object sort buffer got full
----------------------------
revision 1.236
date: 1994/12/09 18:46:06;  author: matt;  state: Exp;
Added a little debugging
----------------------------
revision 1.235
date: 1994/12/09 14:59:16;  author: matt;  state: Exp;
Added system to attach a fireball to another object for rendering purposes,
so the fireball always renders on top of (after) the object.
----------------------------
revision 1.234
date: 1994/12/08 15:46:54;  author: matt;  state: Exp;
Fixed buffer overflow that caused seg depth screwup
----------------------------
revision 1.233
date: 1994/12/08 11:51:53;  author: matt;  state: Exp;
Took out some unused stuff
----------------------------
revision 1.232
date: 1994/12/06 16:31:48;  author: mike;  state: Exp;
fix detriangulation problems.
----------------------------
revision 1.231
date: 1994/12/05 15:32:51;  author: matt;  state: Exp;
Changed an assert to an int3 & return
----------------------------
revision 1.230
date: 1994/12/04 17:28:04;  author: matt;  state: Exp;
Got rid of unused no_render_flag array, and took out box clear when searching
----------------------------
revision 1.229
date: 1994/12/04 15:51:14;  author: matt;  state: Exp;
Fixed linear tmap transition for objects
----------------------------
revision 1.228
date: 1994/12/03 20:16:50;  author: matt;  state: Exp;
Turn off window clip for objects
----------------------------
revision 1.227
date: 1994/12/03 14:48:00;  author: matt;  state: Exp;
Restored some default settings
----------------------------
revision 1.226
date: 1994/12/03 14:44:32;  author: matt;  state: Exp;
Fixed another difficult bug in the window clip system
----------------------------
revision 1.225
date: 1994/12/02 13:19:56;  author: matt;  state: Exp;
Fixed rect clears at terminus of rendering
Made a bunch of debug code compile out
----------------------------
revision 1.224
date: 1994/12/02 11:58:21;  author: matt;  state: Exp;
Fixed window clip bug
----------------------------
revision 1.223
date: 1994/11/28 21:50:42;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.222
date: 1994/11/28 01:32:15;  author: mike;  state: Exp;
turn off window clearing.
----------------------------
revision 1.221
date: 1994/11/27 23:11:52;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.220
date: 1994/11/20 15:58:55;  author: matt;  state: Exp;
Don't migrate the control center, since it doesn't move out of its segment
----------------------------
revision 1.219
date: 1994/11/19 23:54:36;  author: mike;  state: Exp;
change window colors.
----------------------------
revision 1.218
date: 1994/11/19 15:20:25;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.217
date: 1994/11/18 13:21:24;  author: mike;  state: Exp;
Clear only view portals into rest of world based on value of Clear_window.
----------------------------
revision 1.216
date: 1994/11/15 17:02:10;  author: matt;  state: Exp;
Re-added accidentally deleted variable
----------------------------
revision 1.215
date: 1994/11/15 16:51:50;  author: matt;  state: Exp;
Made rear view only switch to rear cockpit if cockpit on in front view
----------------------------
revision 1.214
date: 1994/11/14 20:47:57;  author: john;  state: Exp;
Attempted to strip out all the code in the game 
directory that uses any ui code.
----------------------------
revision 1.213
date: 1994/11/11 15:37:07;  author: mike;  state: Exp;
write orange for background to show render bugs.
----------------------------
revision 1.212
date: 1994/11/09 22:57:18;  author: matt;  state: Exp;
Keep tract of depth of segments rendered, for detail level optimization
----------------------------
revision 1.211
date: 1994/11/01 23:40:14;  author: matt;  state: Exp;
Elegantly handler buffer getting full
----------------------------
revision 1.210
date: 1994/10/31 22:28:13;  author: mike;  state: Exp;
Fix detriangulation bug.
----------------------------
revision 1.209
date: 1994/10/31 11:48:56;  author: mike;  state: Exp;
Optimize detriangulation, speedup of about 4% in many cases, 0% in many.
----------------------------
revision 1.208
date: 1994/10/30 20:08:34;  author: matt;  state: Exp;
For endlevel: added big explosion at tunnel exit; made lights in tunnel 
go out; made more explosions on walls.
----------------------------
revision 1.207
date: 1994/10/27 14:14:35;  author: matt;  state: Exp;
Don't do light flash during endlevel sequence
----------------------------
revision 1.206
date: 1994/10/11 12:05:42;  author: mike;  state: Exp;
Improve detriangulation.
----------------------------
revision 1.205
date: 1994/10/07 15:27:00;  author: john;  state: Exp;
Commented out the code that moves your eye
forward.
----------------------------
revision 1.204
date: 1994/10/05 16:07:38;  author: mike;  state: Exp;
Don't detriangulate sides if in player's segment.  Prevents player going behind a wall,
though there are cases in which it would be ok to detriangulate these.
----------------------------
revision 1.203
date: 1994/10/03 12:44:05;  author: matt;  state: Exp;
Took out unreferenced code
----------------------------
revision 1.202
date: 1994/09/28 14:08:45;  author: john;  state: Exp;
Added Zoom stuff back in, but ifdef'd it out.
----------------------------
revision 1.201
date: 1994/09/25 23:41:49;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.200
date: 1994/09/25 15:50:10;  author: mike;  state: Exp;
Integrate my debug changes which shows how many textures were rendered
this frame.
----------------------------
revision 1.199
date: 1994/09/25 15:45:22;  author: matt;  state: Exp;
Added OBJ_LIGHT, a type of object that casts light
Added generalized lifeleft, and moved it to local_object
----------------------------
revision 1.198
date: 1994/09/15 21:23:32;  author: matt;  state: Exp;
Changed system to keep track of whether & what cockpit is up
----------------------------
revision 1.197
date: 1994/09/15 16:30:12;  author: mike;  state: Exp;
Comment out call to object_render_targets, which did nothing.
----------------------------
revision 1.196
date: 1994/09/07 22:25:51;  author: matt;  state: Exp;
Don't migrate through semi-transparent walls
----------------------------
revision 1.195
date: 1994/09/07 19:16:21;  author: mike;  state: Exp;
Homing missile.
----------------------------
revision 1.194
date: 1994/08/31 20:54:17;  author: matt;  state: Exp;
Don't do flash effect while whiting out
----------------------------
revision 1.193
date: 1994/08/23 17:20:12;  author: john;  state: Exp;
Added rear-view cockpit.
----------------------------
revision 1.192
date: 1994/08/22 14:36:35;  author: john;  state: Exp;
Made R key make a "reverse" view render.
----------------------------
revision 1.191
date: 1994/08/19 20:09:26;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.190
date: 1994/08/10 19:56:17;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.189
date: 1994/08/10 14:45:05;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.188
date: 1994/08/09 16:04:06;  author: john;  state: Exp;
Added network players to editor.
----------------------------
revision 1.187
date: 1994/08/05 17:07:05;  author: john;  state: Exp;
Made lasers be two objects, one drawing after the other
all the time.
----------------------------
revision 1.186
date: 1994/08/05 10:07:57;  author: matt;  state: Exp;
Disable window check checking (i.e., always use window check)
----------------------------
revision 1.185
date: 1994/08/04 19:11:30;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.184
date: 1994/08/04 00:21:14;  author: matt;  state: Exp;
Cleaned up fvi & physics error handling; put in code to make sure objects
are in correct segment; simplified segment finding for objects and points
----------------------------
revision 1.183
date: 1994/08/02 19:04:28;  author: matt;  state: Exp;
Cleaned up vertex list functions
----------------------------
revision 1.182
date: 1994/07/29 15:13:33;  author: matt;  state: Exp;
When window check turned off, cut render depth in half
----------------------------
revision 1.181
date: 1994/07/29 11:03:50;  author: matt;  state: Exp;
Use highest_segment_index instead of num_segments so render works from
the editor
----------------------------
revision 1.180
date: 1994/07/29 10:04:34;  author: mike;  state: Exp;
Update Cursegp when an object is selected.
----------------------------
revision 1.179
date: 1994/07/25 00:02:50;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.178
date: 1994/07/24 14:37:49;  author: matt;  state: Exp;
Added angles for player head
----------------------------
revision 1.177
date: 1994/07/20 19:08:07;  author: matt;  state: Exp;
If in editor, don't move eye from center of viewer object
=============================================================================
RCS file: f:/miner/source/main/render.h,v
Working file: main/render.h
head: 2.0
branch:
description: Header for rendering-based functions
----------------------------
revision 2.0
date: 1995/02/27 11:33:00;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.17
date: 1994/11/30 12:33:33;  author: mike;  state: Exp;
prototype Clear_window.
----------------------------
revision 1.16
date: 1994/11/02 16:19:52;  author: matt;  state: Exp;
Increased size of extra object buffer
----------------------------
revision 1.15
date: 1994/07/25 00:02:49;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.14
date: 1994/07/24 14:37:42;  author: matt;  state: Exp;
Added angles for player head
----------------------------
revision 1.13
date: 1994/06/24 17:01:34;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.12
date: 1994/06/16 10:55:57;  author: matt;  state: Exp;
Made a bunch of test code dependent on #defines
----------------------------
revision 1.11
date: 1994/06/01 00:01:36;  author: matt;  state: Exp;
Added mine destruction flashing effect
----------------------------
revision 1.10
date: 1994/05/22 18:47:36;  author: mike;  state: Exp;
make Render_list a globally accessible variable.
----------------------------
revision 1.9
date: 1994/05/22 15:29:32;  author: mike;  state: Exp;
Separation of lighting from render.c to lighting.c.
----------------------------
revision 1.8
date: 1994/05/14 17:59:39;  author: matt;  state: Exp;
Added extern.
----------------------------
revision 1.7
date: 1994/05/14 17:15:17;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.6
date: 1994/02/17 11:32:41;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.5
date: 1994/01/21 17:31:48;  author: matt;  state: Exp;
Moved code from render_frame() to caller, making code cleaner
----------------------------
revision 1.4
date: 1994/01/06 09:46:12;  author: john;  state: Exp;
Added removable walls... all code that checked for
children to see if a wall was a doorway, i changed
to yuan's wall_is_doorway function that is in wall.c...
doesn't work yet.
----------------------------
revision 1.3
date: 1994/01/05 11:25:47;  author: john;  state: Exp;
Changed Player_zoom to Render_zoom
----------------------------
revision 1.2
date: 1994/01/05 10:53:43;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.1
date: 1993/11/04 14:01:43;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/robot.c,v
Working file: main/robot.c
head: 2.1
branch:
description: Code for handling robots
----------------------------
revision 2.1
date: 1995/03/07 16:52:02;  author: john;  state: Exp;
Fixed robots not moving without edtiro bug.
----------------------------
revision 2.0
date: 1995/02/27 11:31:11;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.19
date: 1995/02/22 13:58:09;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.18
date: 1995/01/27 11:17:06;  author: rob;  state: Exp;
Avoid problems with illegal gun num.
----------------------------
revision 1.17
date: 1994/11/19 15:15:02;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.16
date: 1994/11/05 16:41:31;  author: adam;  state: Exp;
upped MAX_ROBOT_JOINTS
----------------------------
revision 1.15
date: 1994/09/26 15:29:29;  author: matt;  state: Exp;
Allow morphing objects to fire
----------------------------
revision 1.14
date: 1994/06/20 14:31:02;  author: matt;  state: Exp;
Don't include joint zero in animation data
----------------------------
revision 1.13
date: 1994/06/10 14:39:58;  author: matt;  state: Exp;
Increased limit of robot joints
----------------------------
revision 1.12
date: 1994/06/10 10:59:18;  author: matt;  state: Exp;
Do error checking on list of angles
----------------------------
revision 1.11
date: 1994/06/09 16:21:32;  author: matt;  state: Exp;
Took out special-case and test code.
----------------------------
revision 1.10
date: 1994/06/07 13:21:14;  author: matt;  state: Exp;
Added support for new chunk-based POF files, with robot animation data.
----------------------------
revision 1.9
date: 1994/06/01 17:58:24;  author: mike;  state: Exp;
Greater flinch effect.
----------------------------
revision 1.8
date: 1994/06/01 14:59:25;  author: matt;  state: Exp;
Fixed calc_gun_position(), which was rotating the wrong way for the
object orientation.
----------------------------
revision 1.7
date: 1994/06/01 12:44:04;  author: matt;  state: Exp;
Added flinch state for test robot
----------------------------
revision 1.6
date: 1994/05/31 19:17:24;  author: matt;  state: Exp;
Fixed test robot angles
----------------------------
revision 1.5
date: 1994/05/30 19:43:50;  author: mike;  state: Exp;
Call set_test_robot.
----------------------------
revision 1.4
date: 1994/05/30 00:02:44;  author: matt;  state: Exp;
Got rid of robot render type, and generally cleaned up polygon model
render objects.
----------------------------
revision 1.3
date: 1994/05/29 18:46:15;  author: matt;  state: Exp;
Added stuff for getting robot animation info for different states
----------------------------
revision 1.2
date: 1994/05/26 21:09:15;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.1
date: 1994/05/26 18:02:04;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/robot.h,v
Working file: main/robot.h
head: 2.1
branch:
description: Header for robot.c
----------------------------
revision 2.1
date: 1995/03/07 16:52:00;  author: john;  state: Exp;
Fixed robots not moving without edtiro bug.
----------------------------
revision 2.0
date: 1995/02/27 11:30:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.25
date: 1994/11/30 14:02:44;  author: mike;  state: Exp;
fields for see/attack/claw sounds.
----------------------------
revision 1.24
date: 1994/10/27 15:55:41;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/10/20 15:17:03;  author: mike;  state: Exp;
Add boss flag.
----------------------------
revision 1.22
date: 1994/10/20 09:51:00;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.21
date: 1994/10/18 10:52:54;  author: mike;  state: Exp;
Support robots lunging as an attack_type.
----------------------------
revision 1.20
date: 1994/10/17 21:19:02;  author: mike;  state: Exp;
robot cloaking.
----------------------------
revision 1.19
date: 1994/09/27 00:03:39;  author: mike;  state: Exp;
Add score_value to robot_info struct.
----------------------------
revision 1.18
date: 1994/09/22 19:01:12;  author: mike;  state: Exp;
Move NDL from here to game.h
----------------------------
revision 1.17
date: 1994/09/22 15:46:55;  author: mike;  state: Exp;
Add default contained objects for robots.
----------------------------
revision 1.16
date: 1994/09/22 10:46:57;  author: mike;  state: Exp;
Add difficulty levels.
----------------------------
revision 1.15
date: 1994/09/15 16:34:16;  author: mike;  state: Exp;
Change rapidfire_count to a byte, add evade_speed, dum1, dum2.
----------------------------
revision 1.14
date: 1994/09/09 14:21:58;  author: matt;  state: Exp;
Increased maximum number of games
----------------------------
revision 1.13
date: 1994/08/25 18:12:13;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.12
date: 1994/08/23 16:37:24;  author: mike;  state: Exp;
Add rapidfire_count to robot_info.
----------------------------
revision 1.11
date: 1994/07/27 19:45:01;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.10
date: 1994/07/12 12:40:01;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.9
date: 1994/06/21 12:17:12;  author: mike;  state: Exp;
Add circle_distance to robot_info.
----------------------------
revision 1.8
date: 1994/06/09 16:22:28;  author: matt;  state: Exp;
Moved header for calc_gun_point() here, where it belongs
----------------------------
revision 1.7
date: 1994/06/08 18:16:23;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.6
date: 1994/06/03 11:38:09;  author: john;  state: Exp;
Made robots get their strength for RobotInfo->strength, which
is read in from bitmaps.tbl
----------------------------
revision 1.5
date: 1994/05/30 19:43:31;  author: mike;  state: Exp;
Add voluminous comment for robot_get_anim_state.
----------------------------
revision 1.4
date: 1994/05/30 00:03:18;  author: matt;  state: Exp;
Got rid of robot render type, and generally cleaned up polygon model
render objects.
----------------------------
revision 1.3
date: 1994/05/29 18:46:37;  author: matt;  state: Exp;
Added stuff for getting robot animation info for different states
----------------------------
revision 1.2
date: 1994/05/26 21:09:18;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.1
date: 1994/05/26 18:02:12;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/scores.c,v
Working file: main/scores.c
head: 2.2
branch:
description: Inferno High Scores and Statistics System
----------------------------
revision 2.2
date: 1995/06/15 12:13:54;  author: john;  state: Exp;
Made end game, win game and title sequences all go
on after 5 minutes automatically.
----------------------------
revision 2.1
date: 1995/03/06 15:23:57;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:30:53;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.109
date: 1995/02/09 12:23:19;  author: rob;  state: Exp;
Added assert for length of filename.
----------------------------
revision 1.108
date: 1995/01/03 17:33:24;  author: john;  state: Exp;
Made scrolling textbox. Used it for scores cool saying.
----------------------------
revision 1.107
date: 1994/12/28 10:42:51;  author: john;  state: Exp;
More VFX tweaking.
----------------------------
revision 1.106
date: 1994/12/28 10:26:19;  author: john;  state: Exp;
Fixed some VFX problems.
----------------------------
revision 1.105
date: 1994/12/15 16:42:12;  author: adam;  state: Exp;
some fix
----------------------------
revision 1.104
date: 1994/12/14 11:59:19;  author: john;  state: Exp;
Changed the default high scores.
----------------------------
revision 1.103
date: 1994/12/09 00:41:12;  author: mike;  state: Exp;
fix hang in automap print screen
----------------------------
revision 1.102
date: 1994/12/07 00:36:26;  author: mike;  state: Exp;
scores sequencing stuff.
----------------------------
revision 1.101
date: 1994/12/06 15:14:21;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.100
date: 1994/12/03 17:07:52;  author: yuan;  state: Exp;
Localization 368
----------------------------
revision 1.99
date: 1994/12/03 14:49:27;  author: mark;  state: Exp;
Fixed john's bug with previous.
----------------------------
revision 1.98
date: 1994/12/03 14:43:54;  author: john;  state: Exp;
Added enter, space  to exit scores.
----------------------------
revision 1.97
date: 1994/12/03 14:32:34;  author: john;  state: Exp;
Added integrated-super-deluxe-ctrl-r to reset high scores.
----------------------------
revision 1.96
date: 1994/12/01 20:15:20;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.95
date: 1994/11/30 19:36:36;  author: john;  state: Exp;
Made Gravis Ultrasound work again.  Made the scores blink
at a constant rate.  Revamped the newmenu background storage,
which hopefully fixed some bugs.  Made menus in ame not pause
sound, except for the pause key.               ^== Game!
----------------------------
revision 1.94
date: 1994/11/30 12:32:08;  author: john;  state: Exp;
Made secret levels print correctly.
----------------------------
revision 1.93
date: 1994/11/30 12:06:47;  author: mike;  state: Exp;
fix bug: looper not initialized.
----------------------------
revision 1.92
date: 1994/11/29 13:20:04;  author: john;  state: Exp;
changed the "Wow! You placed .." to something better.
----------------------------
revision 1.91
date: 1994/11/29 01:35:38;  author: john;  state: Exp;
Made it so that even if you don't get a high score, you still show
up on the chart..
----------------------------
revision 1.90
date: 1994/11/23 17:29:29;  author: mike;  state: Exp;
fix xx-xx level bug in high scores.
----------------------------
revision 1.89
date: 1994/11/22 16:55:27;  author: mike;  state: Exp;
allow high scores even in pudly trainee level.
----------------------------
revision 1.88
date: 1994/11/21 17:28:33;  author: john;  state: Exp;
Changed default score values.
----------------------------
revision 1.87
date: 1994/11/18 23:37:53;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.86
date: 1994/11/13 15:39:24;  author: john;  state: Exp;
Added critical error handler to game.  Took out -editor command line
option because it didn't work anymore and wasn't worth fixing.  Made scores
not use MINER enviroment variable on release version, and made scores
not print an error if there is no descent.hi.
----------------------------
revision 1.85
date: 1994/11/06 10:15:58;  author: john;  state: Exp;
Took out kill % and hostage %
----------------------------
revision 1.84
date: 1994/11/05 15:03:39;  author: john;  state: Exp;
Added non-popup menu for the main menu, so that scores and credits don't have to save
the background.
----------------------------
revision 1.83
date: 1994/11/05 14:05:57;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.82
date: 1994/11/04 20:11:41;  author: john;  state: Exp;
Neatening up palette stuff with demos.
----------------------------
revision 1.81
date: 1994/11/04 12:02:34;  author: john;  state: Exp;
Fixed fading transitions a bit more.
----------------------------
revision 1.80
date: 1994/10/27 12:10:39;  author: john;  state: Exp;
Moved kill % a little to the right.
----------------------------
revision 1.79
date: 1994/10/24 20:25:03;  author: john;  state: Exp;
Fixed bug with space at end of 1 line message.
Made Enter go between the two input lines.
----------------------------
revision 1.78
date: 1994/10/24 18:20:18;  author: john;  state: Exp;
Made the current high score flash.
----------------------------
revision 1.77
date: 1994/10/24 13:37:22;  author: mike;  state: Exp;
Fix grammar error.  --anal Mike.
----------------------------
revision 1.76
date: 1994/10/22 13:19:19;  author: john;  state: Exp;
Made joy/mouse buttons leave score screen.
----------------------------
revision 1.75
date: 1994/10/21 15:26:57;  author: john;  state: Exp;
Used PrtScr instead of F2.
----------------------------
revision 1.74
date: 1994/10/21 13:54:21;  author: matt;  state: Exp;
Replace '1' with special wide '1' to make numbers line up
----------------------------
revision 1.73
date: 1994/10/19 20:48:01;  author: john;  state: Exp;
Made so that people playing on wimp level
can't get high scores.
----------------------------
revision 1.72
date: 1994/10/19 15:14:05;  author: john;  state: Exp;
Took % hits out of player structure, made %kills work properly.
----------------------------
revision 1.71
date: 1994/10/19 14:39:27;  author: john;  state: Exp;
Finished up; added keys to prtscr, int3.
----------------------------
revision 1.70
date: 1994/10/19 12:44:09;  author: john;  state: Exp;
Added hours field to player structure.
----------------------------
revision 1.69
date: 1994/10/19 11:25:21;  author: john;  state: Exp;
Looking good.
----------------------------
revision 1.68
date: 1994/10/19 10:54:12;  author: john;  state: Exp;
Test version.
----------------------------
revision 1.67
date: 1994/10/19 10:00:27;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.66
date: 1994/10/19 09:59:03;  author: john;  state: Exp;
Made cool saying have the potential to be up to 50 chars
----------------------------
revision 1.65
date: 1994/10/19 09:53:30;  author: john;  state: Exp;
Working version of scores.
----------------------------
revision 1.64
date: 1994/10/18 21:07:46;  author: john;  state: Exp;
Fixed bug that didn't print name correctly.
----------------------------
revision 1.63
date: 1994/10/18 18:21:46;  author: john;  state: Exp;
NEw score system.
----------------------------
revision 1.62
date: 1994/10/17 20:31:42;  author: john;  state: Exp;
Made the text for the difficulty labels global so that
the high score screen can print "rookie" or whatever.
----------------------------
revision 1.61
date: 1994/10/17 17:27:44;  author: john;  state: Exp;
Added starting_level to high score system.
----------------------------
revision 1.60
date: 1994/10/17 16:56:35;  author: john;  state: Exp;
Added starting level to stats menu.
----------------------------
revision 1.59
date: 1994/10/17 16:55:25;  author: john;  state: Exp;
Added starting level, but didn't hook it to anything.
----------------------------
revision 1.58
date: 1994/10/17 16:47:17;  author: john;  state: Exp;
Added diff. level.
----------------------------
revision 1.57
date: 1994/10/17 15:49:53;  author: john;  state: Exp;
Added stats screen.
----------------------------
revision 1.56
date: 1994/10/03 23:02:29;  author: matt;  state: Exp;
After player added or not to scores, scores are now displayed
----------------------------
revision 1.55
date: 1994/09/01 18:09:38;  author: john;  state: Exp;
Made commas in scores work correctly .
----------------------------
revision 1.54
date: 1994/09/01 18:03:57;  author: john;  state: Exp;
Neatened up scores a bit.
----------------------------
revision 1.53
date: 1994/08/26 14:27:37;  author: john;  state: Exp;
Made it prompt for name
----------------------------
revision 1.52
date: 1994/08/26 13:03:17;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.51
date: 1994/08/26 13:01:52;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.50
date: 1994/08/10 19:57:01;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.49
date: 1994/07/25 15:40:27;  author: matt;  state: Exp;
Took out debugging code accidentally left in.
=============================================================================
RCS file: f:/miner/source/main/scores.h,v
Working file: main/scores.h
head: 2.0
branch:
description: Scores header.
----------------------------
revision 2.0
date: 1995/02/27 11:31:53;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.13
date: 1994/12/07 00:36:36;  author: mike;  state: Exp;
scores sequencing stuff.
----------------------------
revision 1.12
date: 1994/11/28 11:26:09;  author: matt;  state: Exp;
Took out scores for weapons, which are no longer used
----------------------------
revision 1.11
date: 1994/10/24 18:20:03;  author: john;  state: Exp;
Made the current high score flash.
----------------------------
revision 1.10
date: 1994/10/18 18:21:36;  author: john;  state: Exp;
NEw score system.
----------------------------
revision 1.9
date: 1994/10/03 23:01:58;  author: matt;  state: Exp;
New parms for scores_view()
----------------------------
revision 1.8
date: 1994/09/27 16:10:37;  author: adam;  state: Exp;
changed scores of course
----------------------------
revision 1.7
date: 1994/08/31 19:25:46;  author: mike;  state: Exp;
Add score values for new powerups.
----------------------------
revision 1.6
date: 1994/08/26 16:00:18;  author: mike;  state: Exp;
enhanced (?) scoring.
----------------------------
revision 1.5
date: 1994/08/26 13:01:45;  author: john;  state: Exp;
Put high score system in.
----------------------------
revision 1.4
date: 1994/05/30 16:33:21;  author: yuan;  state: Exp;
Revamping high scores.
----------------------------
revision 1.3
date: 1994/05/14 17:15:07;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.2
date: 1994/05/13 13:13:57;  author: yuan;  state: Exp;
Added player death...
When you die, if just pops up a a message.
When game is over, a message is popped up, and if you have a high score,
you get to enter it.
----------------------------
revision 1.1
date: 1994/05/13 10:22:16;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/screens.h,v
Working file: main/screens.h
head: 2.2
branch:
description: Info on canvases, screens, etc.
----------------------------
revision 2.2
date: 1995/03/14 12:14:00;  author: john;  state: Exp;
Made VR helmets have 4 resolutions to choose from.
----------------------------
revision 2.1
date: 1995/03/06 15:24:09;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:31:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.15
date: 1994/08/10 19:56:45;  author: john;  state: Exp;
Changed font stuff; Took out old menu; messed up lots of
other stuff like game sequencing messages, etc.
----------------------------
revision 1.14
date: 1994/07/20 21:04:26;  author: john;  state: Exp;
Add VictorMax VR helment support.
----------------------------
revision 1.13
date: 1994/06/24 17:01:28;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.12
date: 1994/04/20 20:30:03;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1994/03/30 21:12:05;  author: yuan;  state: Exp;
Use only 119 lines (saves 3 scanlines)
----------------------------
revision 1.10
date: 1994/03/17 16:49:37;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1994/02/11 15:07:44;  author: matt;  state: Exp;
Added extern of Canv_game_offscrn
----------------------------
revision 1.8
date: 1994/01/31 16:52:43;  author: john;  state: Exp;
redid cockpit bounds.
----------------------------
revision 1.7
date: 1994/01/26 18:13:53;  author: john;  state: Exp;
Changed 3d constants..
----------------------------
revision 1.6
date: 1994/01/25 17:11:46;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/01/25 11:43:25;  author: john;  state: Exp;
Changed game window size.
----------------------------
revision 1.4
date: 1993/12/13 16:32:39;  author: yuan;  state: Exp;
Fixed menu system memory errors, and other bugs.
----------------------------
revision 1.3
date: 1993/12/10 16:07:23;  author: yuan;  state: Exp;
Working on menu system.  Updated the title screen.
----------------------------
revision 1.2
date: 1993/12/09 21:27:46;  author: matt;  state: Exp;
Added 3d window sizing constants
----------------------------
revision 1.1
date: 1993/12/06 09:50:33;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/segment.c,v
Working file: main/editor/segment.c
head: 2.0
branch:
description: Interrogation functions for segment data structure.
----------------------------
revision 2.0
date: 1995/02/27 11:35:21;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.191
date: 1995/02/22 15:28:30;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.190
date: 1995/02/02 02:59:40;  author: yuan;  state: Exp;
Working on exterminating bogus matcen_nums... (harmless though)
----------------------------
revision 1.189
date: 1995/02/01 16:29:51;  author: yuan;  state: Exp;
Stabilizing triggers and matcens.
----------------------------
revision 1.188
date: 1995/02/01 11:31:47;  author: yuan;  state: Exp;
Trigger bug fixed.
----------------------------
revision 1.187
date: 1994/11/27 23:17:24;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.186
date: 1994/11/17 14:48:12;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.185
date: 1994/10/30 14:13:17;  author: mike;  state: Exp;
rip out local segment stuff.
----------------------------
revision 1.184
date: 1994/10/27 10:04:24;  author: matt;  state: Exp;
When triangulating, don't use WID() to see if connected, look at children
----------------------------
revision 1.183
date: 1994/10/26 13:40:23;  author: mike;  state: Exp;
debug code for matt.
----------------------------
revision 1.182
date: 1994/10/24 16:34:00;  author: mike;  state: Exp;
Force render after mine compress to prevent bugs in segment selection via clicking in 3d window.
----------------------------
revision 1.181
date: 1994/10/20 18:16:15;  author: mike;  state: Exp;
Initialize ControlCenterTriggers.num_links in create_new_mine.
----------------------------
revision 1.180
date: 1994/10/18 16:29:14;  author: mike;  state: Exp;
Write function to automatically fix bogus segnums in segment array.
----------------------------
revision 1.179
date: 1994/10/08 17:10:41;  author: matt;  state: Exp;
Correctly set current_level_num when loading/creating mine in editor
----------------------------
revision 1.178
date: 1994/09/25 14:17:51;  author: mike;  state: Exp;
Initialize (to 0) Num_robot_centers and Num_open_doors at mine creation.
----------------------------
revision 1.177
date: 1994/09/20 14:36:06;  author: mike;  state: Exp;
Write function to find overlapping segments.
----------------------------
revision 1.176
date: 1994/08/25 21:55:57;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.175
date: 1994/08/23 15:28:03;  author: mike;  state: Exp;
Fix peculiarity in med_combine_duplicate_vertices.
----------------------------
revision 1.174
date: 1994/08/09 16:06:17;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.173
date: 1994/08/05 21:18:10;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.172
date: 1994/08/04 19:13:16;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.171
date: 1994/07/22 12:37:00;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.170
date: 1994/07/22 11:20:08;  author: mike;  state: Exp;
Set Lsegments validity.
----------------------------
revision 1.169
date: 1994/07/21 19:02:49;  author: mike;  state: Exp;
lsegment stuff.
----------------------------
revision 1.168
date: 1994/07/21 13:27:17;  author: matt;  state: Exp;
Ripped out remants of old demo system, and added demo
disables object movement and game options from menu.
----------------------------
revision 1.167
date: 1994/07/19 20:15:48;  author: matt;  state: Exp;
Name for each level now saved in the .SAV file & stored in Current_level_name
----------------------------
revision 1.166
date: 1994/07/06 12:42:45;  author: john;  state: Exp;
Made generic messages for hostages.
----------------------------
revision 1.165
date: 1994/06/24 17:04:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.164
date: 1994/06/15 15:42:40;  author: mike;  state: Exp;
Initialize static_light field in new segments.
----------------------------
revision 1.163
date: 1994/06/13 17:49:19;  author: mike;  state: Exp;
Fix bug in med_validate_side which was toasting lighting for removable walls.
----------------------------
revision 1.162
date: 1994/06/13 10:52:20;  author: mike;  state: Exp;
Fix bug in triangulation of sides between connected segments.
Was assigning SIDE_IS_02 regardless of how triangulated, was
causing physics bugs.
----------------------------
revision 1.161
date: 1994/06/08 18:14:16;  author: mike;  state: Exp;
Fix triangulation of sides in hallways (ie, where there is no wall),
so they get triangulated the same way, so find_new_seg doesn't get
stuck in an infinite recursion.
----------------------------
revision 1.160
date: 1994/06/08 11:44:31;  author: mike;  state: Exp;
Fix bug in normals not being opposite on opposite sides of a segment.
Problem occurred due to difference in handling of remainder in signed divide.
----------------------------
revision 1.159
date: 1994/05/31 19:00:15;  author: yuan;  state: Exp;
Fixed gamestate restore.
----------------------------
revision 1.158
date: 1994/05/30 20:22:36;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.157
date: 1994/05/26 19:32:51;  author: mike;  state: Exp;
Add bfs_parse.
----------------------------
revision 1.156
date: 1994/05/23 14:56:46;  author: mike;  state: Exp;
make current segment be add segment.,
=============================================================================
RCS file: f:/miner/source/main/segment.h,v
Working file: main/segment.h
head: 2.1
branch:
description: Include file for functions which need to access segment data structure.
----------------------------
revision 2.1
date: 1995/03/20 18:15:22;  author: john;  state: Exp;
Added code to not store the normals in the segment structure.
----------------------------
revision 2.0
date: 1995/02/27 11:26:49;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.89
date: 1995/01/24 15:07:55;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.88
date: 1994/12/12 01:04:06;  author: yuan;  state: Exp;
Boosted MAX_GAME_VERTS.
----------------------------
revision 1.87
date: 1994/12/11 16:18:14;  author: mike;  state: Exp;
add constants so we can detect too-large mines for game while in editor.
----------------------------
revision 1.86
date: 1994/12/08 15:07:29;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.85
date: 1994/12/01 21:06:39;  author: matt;  state: Exp;
Moved plane tolerance constant to gameseg.c, the only file that used it.
----------------------------
revision 1.84
date: 1994/11/27 14:01:41;  author: matt;  state: Exp;
Fixed segment structure so LVLs work
----------------------------
revision 1.83
date: 1994/11/26 22:50:20;  author: matt;  state: Exp;
Removed editor-only fields from segment structure when editor is compiled
out, and padded segment structure to even multiple of 4 bytes.
----------------------------
revision 1.82
date: 1994/11/21 11:43:36;  author: mike;  state: Exp;
smaller segment and vertex buffers.
----------------------------
revision 1.81
date: 1994/11/17 11:39:35;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.80
date: 1994/10/30 14:12:05;  author: mike;  state: Exp;
rip out local segments stuff.
----------------------------
revision 1.79
date: 1994/10/27 11:33:58;  author: mike;  state: Exp;
lower number of segments by 100, saving 116K.
----------------------------
revision 1.78
date: 1994/08/25 21:54:50;  author: mike;  state: Exp;
Add macro IS_CHILD to make checking for the presence of a child centralized.
----------------------------
revision 1.77
date: 1994/08/11 18:58:16;  author: mike;  state: Exp;
Add prototype for Side_to_verts_int.
----------------------------
revision 1.76
date: 1994/08/01 11:04:13;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.75
date: 1994/07/25 00:04:19;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.74
date: 1994/07/21 19:01:30;  author: mike;  state: Exp;
new lsegment structure.
----------------------------
revision 1.73
date: 1994/06/08 14:30:48;  author: matt;  state: Exp;
Added static_light field to segment structure, and padded side struct
to be longword aligned.
----------------------------
revision 1.72
date: 1994/05/19 23:25:17;  author: mike;  state: Exp;
Change MINE_VERSION to 15, DEFAULT_LIGHTING to 0
----------------------------
revision 1.71
date: 1994/05/12 14:45:54;  author: mike;  state: Exp;
New segment data structure (!!), group, special, object, value = short.
----------------------------
revision 1.70
date: 1994/05/03 11:06:46;  author: mike;  state: Exp;
Remove constants VMAG and UMAG which are editor specific..
----------------------------
revision 1.69
date: 1994/04/18 10:40:28;  author: yuan;  state: Exp;
Increased segment limit to 1000
(From 500)
=============================================================================
RCS file: f:/miner/source/main/segment2.h,v
Working file: main/segment2.h
head: 1.2
branch:
description: Include file for makeseg program, not necessary for game or editor.
----------------------------
revision 1.2
date: 1993/09/20 15:17:49;  author: mike;  state: Exp;
Define constants: NUM_FACES, NUM_VERTICES, NUM_UVS, NUM_RGBS, NUM_FACE_VERTS
----------------------------
revision 1.1
date: 1993/09/15 19:12:32;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/segpoint.h,v
Working file: main/segpoint.h
head: 2.0
branch:
description: Hopefully temporary file to hold external definition of Segment_points[]
----------------------------
revision 2.0
date: 1995/02/27 11:26:54;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/02/16 17:14:40;  author: matt;  state: Exp;
Added include of 3d.h
----------------------------
revision 1.1
date: 1993/12/06 09:51:37;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/seguvs.c,v
Working file: main/editor/seguvs.c
head: 2.1
branch:
description: u,v coordinate computation for segment faces
----------------------------
revision 2.1
date: 1995/05/08 10:49:34;  author: mike;  state: Exp;
fix lighting bug: oblong segments could be very dark.
----------------------------
revision 2.0
date: 1995/02/27 11:36:37;  author: john;  state: Exp;
Version 2.0. Ansi-fied.
----------------------------
revision 1.84
date: 1994/11/27 23:17:18;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.83
date: 1994/11/17 14:48:02;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.82
date: 1994/10/15 19:08:26;  author: mike;  state: Exp;
Disable exhaustive search mprintfs in find_point_seg during lighting.
----------------------------
revision 1.81
date: 1994/08/25 21:55:50;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.80
date: 1994/08/04 19:13:22;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.79
date: 1994/08/03 10:31:33;  author: mike;  state: Exp;
Texture map propagation without uv assignment.
----------------------------
revision 1.78
date: 1994/08/01 13:31:12;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.77
date: 1994/07/08 14:31:24;  author: matt;  state: Exp;
New parms for FVI
----------------------------
revision 1.76
date: 1994/06/23 14:01:04;  author: mike;  state: Exp;
Fix cache bug which caused some vertices to not get light, mainly
noticeable at joints which had doors.
----------------------------
revision 1.75
date: 1994/06/22 17:33:11;  author: mike;  state: Exp;
Make position of light (which is always towards center of segment from
actual light panel) constant, not dependent on segment size, which fixes
bug of dark light panels in very large segments.
----------------------------
revision 1.74
date: 1994/06/21 18:58:18;  author: mike;  state: Exp;
Fix stupid bug in light propagation, was using wrong vector in fvi caching.
----------------------------
revision 1.73
date: 1994/06/20 11:20:24;  author: mike;  state: Exp;
Fix stupid lighting bug introduced when I went to cached fvi results.
----------------------------
revision 1.72
date: 1994/06/19 16:26:37;  author: mike;  state: Exp;
Speed up lighting by storing and hashing fvi results.
----------------------------
revision 1.71
date: 1994/06/17 16:05:56;  author: mike;  state: Exp;
Support optional quick lighting propagation: no find_vector_intersection.
----------------------------
revision 1.70
date: 1994/06/15 15:42:30;  author: mike;  state: Exp;
Propagate static_light.
----------------------------
revision 1.69
date: 1994/06/14 16:59:37;  author: mike;  state: Exp;
Fix references to tmap_num2, must strip off orientation bits.
----------------------------
revision 1.68
date: 1994/06/09 09:58:58;  author: matt;  state: Exp;
Moved find_vector_intersection() from physics.c to new file fvi.c
----------------------------
revision 1.67
date: 1994/06/08 18:14:02;  author: mike;  state: Exp;
mprintf a dot in light casting.
----------------------------
revision 1.66
date: 1994/06/08 14:37:45;  author: mike;  state: Exp;
double static light value in going from value (a short) to static_light (a fix).
----------------------------
revision 1.65
date: 1994/06/08 14:29:44;  author: matt;  state: Exp;
Added static_light field to segment structure, and padded side struct
to be longword aligned.
----------------------------
revision 1.64
date: 1994/06/08 11:45:24;  author: mike;  state: Exp;
New, supercool, superslow lighting function.
----------------------------
revision 1.63
date: 1994/06/07 09:38:11;  author: mike;  state: Exp;
Make lighting function yet better by calling find_vector_intersection.
----------------------------
revision 1.62
date: 1994/06/06 13:14:33;  author: mike;  state: Exp;
Make illusory walls cast light.
----------------------------
revision 1.61
date: 1994/06/05 20:39:47;  author: mike;  state: Exp;
Add new distance and dot product based lighting function.
----------------------------
revision 1.60
date: 1994/05/31 12:31:18;  author: mike;  state: Exp;
fix bugs in lighting, though it's not perfect, will be changing all
lighting to be distance based.  Bug had to do with not handling one
of the return values from WALL_IS_DOORWAY, so assuming light couldn't
be recursively propagated almost all the time.
----------------------------
revision 1.59
date: 1994/05/19 23:35:26;  author: mike;  state: Exp;
Support uv coordinates in range 0..1.0.
----------------------------
revision 1.58
date: 1994/05/19 12:10:21;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.57
date: 1994/05/04 19:15:53;  author: mike;  state: Exp;
Error checking for degenerate segments.
----------------------------
revision 1.56
date: 1994/05/03 11:02:34;  author: mike;  state: Exp;
Change how default texture map assignment works; now pixels are constant size.
----------------------------
revision 1.55
date: 1994/04/28 23:25:26;  author: yuan;  state: Exp;
Obliterated warnings.
=============================================================================
RCS file: f:/miner/source/main/editor/seguvs.h,v
Working file: main/editor/seguvs.h
head: 2.0
branch:
description: Header for seguvs.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:58;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/08/03 10:32:28;  author: mike;  state: Exp;
Add stretch_uvs_from_curedge.
----------------------------
revision 1.2
date: 1994/05/14 18:00:58;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 17:27:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/serial.c,v
Working file: main/serial.c
head: 2.1
branch:
description: .
----------------------------
revision 2.1
date: 1995/03/30 16:36:21;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.0
date: 1995/02/27 11:27:38;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.7
date: 1994/11/19 15:15:11;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.6
date: 1994/11/12 19:58:17;  author: john;  state: Exp;
Turned off stack checking around interrupt.
----------------------------
revision 1.5
date: 1994/11/12 19:47:20;  author: matt;  state: Exp;
Added paren
----------------------------
revision 1.4
date: 1994/11/12 19:46:16;  author: john;  state: Exp;
Fixed buug that didn't lock down isr data.
----------------------------
revision 1.3
date: 1994/11/12 17:59:54;  author: john;  state: Exp;
Added code to lock down interrupt code and data for serial isr.
----------------------------
revision 1.2
date: 1994/07/21 21:31:32;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.1
date: 1994/07/21 18:40:38;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/serial.h,v
Working file: main/serial.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:32:33;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/07/21 21:31:33;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.1
date: 1994/07/21 18:40:47;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/ship.c,v
Working file: main/ship.c
head: 1.2
branch:
description: Functions to affect the ship.
----------------------------
revision 1.2
date: 1994/03/01 18:12:37;  author: yuan;  state: Exp;
Wallswitches, triggers, and more!
----------------------------
revision 1.1
date: 1994/02/25 15:51:53;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/ship.h,v
Working file: main/ship.h
head: 1.2
branch:
description: Functions that affect the ship (Player_stats)
----------------------------
revision 1.2
date: 1994/03/01 18:12:56;  author: yuan;  state: Exp;
Walls, switches, and triggers...
----------------------------
revision 1.1
date: 1994/02/25 15:52:13;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/slew.c,v
Working file: main/slew.c
head: 2.0
branch:
description: Basic slew system for moving around the mine
----------------------------
revision 2.0
date: 1995/02/27 11:29:32;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.34
date: 1995/02/22 14:23:28;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.33
date: 1995/02/22 13:24:26;  author: john;  state: Exp;
Removed the vecmat anonymous unions.
----------------------------
revision 1.32
date: 1994/09/10 15:46:42;  author: john;  state: Exp;
First version of new keyboard configuration.
----------------------------
revision 1.31
date: 1994/08/31 18:29:58;  author: matt;  state: Exp;
Made slew work with new key system
----------------------------
revision 1.30
date: 1994/08/31 14:10:48;  author: john;  state: Exp;
Made slew go faster.
----------------------------
revision 1.29
date: 1994/08/29 19:16:38;  author: matt;  state: Exp;
Made slew object not have physics movement type, so slew objects don't
get bumped.
----------------------------
revision 1.28
date: 1994/08/24 18:59:59;  author: john;  state: Exp;
Changed key_down_time to return fixed seconds instead of
milliseconds.
----------------------------
revision 1.27
date: 1994/07/01 11:33:05;  author: john;  state: Exp;
Fixed bug with looking for stick even if one not present.
----------------------------
revision 1.26
date: 1994/05/20 11:56:33;  author: matt;  state: Exp;
Cleaned up find_vector_intersection() interface
Killed check_point_in_seg(), check_player_seg(), check_object_seg()
----------------------------
revision 1.25
date: 1994/05/19 12:08:41;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.24
date: 1994/05/14 17:16:18;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.23
date: 1994/05/03 12:26:38;  author: matt;  state: Exp;
Removed use of physics_info var rotvel, which wasn't used for rotational
velocity at all.
----------------------------
revision 1.22
date: 1994/02/17 11:32:34;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.21
date: 1994/01/18 14:03:53;  author: john;  state: Exp;
made joy_get_pos use the new ints instead of
shorts.
----------------------------
revision 1.20
date: 1994/01/10 17:11:35;  author: mike;  state: Exp;
Add prototype for check_object_seg
----------------------------
revision 1.19
date: 1994/01/05 10:53:38;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.18
date: 1993/12/22 15:32:50;  author: john;  state: Exp;
took out previos code that attempted to make
modifiers cancel keydowntime.
----------------------------
revision 1.17
date: 1993/12/22 11:41:56;  author: john;  state: Exp;
Made so that keydowntime recognizes editor special case!
----------------------------
revision 1.16
date: 1993/12/14 18:13:52;  author: matt;  state: Exp;
Made slew work in editor even when game isn't in slew mode
----------------------------
revision 1.15
date: 1993/12/07 23:53:39;  author: matt;  state: Exp;
Made slew work in editor even when game isn't in slew mode
----------------------------
revision 1.14
date: 1993/12/05 22:47:49;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.13
date: 1993/12/01 11:44:14;  author: matt;  state: Exp;
Chagned Frfract to FrameTime
----------------------------
revision 1.12
date: 1993/11/08 16:21:42;  author: john;  state: Exp;
made stop_slew or whatever return an int
----------------------------
revision 1.11
date: 1993/11/01 13:59:49;  author: john;  state: Exp;
more slew experiments.
=============================================================================
RCS file: f:/miner/source/main/slew.h,v
Working file: main/slew.h
head: 2.0
branch:
description: Prototypes, etc., for slew system
----------------------------
revision 2.0
date: 1995/02/27 11:33:05;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/15 16:43:58;  author: matt;  state: Exp;
Made slew functions compile out for release versions
----------------------------
revision 1.4
date: 1994/02/17 11:32:41;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.3
date: 1994/01/05 10:53:42;  author: john;  state: Exp;
New object code by John.  
----------------------------
revision 1.2
date: 1993/12/05 22:48:57;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.1
date: 1993/12/05 20:20:16;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/songs.c,v
Working file: main/songs.c
head: 2.1
branch:
description: Routines to manage the songs in Descent.
----------------------------
revision 2.1
date: 1995/05/02 16:15:21;  author: john;  state: Exp;
Took out printf.
----------------------------
revision 2.0
date: 1995/02/27 11:27:13;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1995/02/11 12:42:12;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.1
date: 1995/02/11 10:20:33;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/songs.h,v
Working file: main/songs.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:30:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1995/02/11 22:21:44;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1995/02/11 19:10:49;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1995/02/11 18:34:40;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1995/02/11 18:04:51;  author: adam;  state: Exp;
upped songs
----------------------------
revision 1.2
date: 1995/02/11 12:42:12;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.1
date: 1995/02/11 10:20:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/sounds.h,v
Working file: main/sounds.h
head: 2.0
branch:
description: Numbering system for the sounds.
----------------------------
revision 2.0
date: 1995/02/27 11:27:32;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.41
date: 1995/02/03 17:08:28;  author: john;  state: Exp;
Changed sound stuff to allow low memory usage.
Also, changed so that Sounds isn't an array of digi_sounds, it
is a ubyte pointing into GameSounds, this way the digi.c code that
locks sounds won't accidentally unlock a sound that is already playing, but
since it's Sounds[soundno] is different, it would erroneously be unlocked.
----------------------------
revision 1.40
date: 1995/01/30 21:45:17;  author: adam;  state: Exp;
added weapon change sounds
----------------------------
revision 1.39
date: 1995/01/30 21:11:57;  author: mike;  state: Exp;
Use new weapon selection sounds, different for primary and secondary.
----------------------------
revision 1.38
date: 1995/01/26 17:02:58;  author: mike;  state: Exp;
make fusion cannon have more chrome, make fusion, mega rock you!
----------------------------
revision 1.37
date: 1995/01/18 19:46:15;  author: matt;  state: Exp;
Added sound for invulnerability wearing off, and voice message for cheating
----------------------------
revision 1.36
date: 1995/01/18 19:05:04;  author: john;  state: Exp;
Increased MAX_SOUNDS.
----------------------------
revision 1.35
date: 1994/12/14 16:57:08;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/12/08 21:31:40;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.33
date: 1994/12/08 12:33:01;  author: mike;  state: Exp;
make boss dying more interesting.
----------------------------
revision 1.32
date: 1994/12/04 21:39:40;  author: matt;  state: Exp;
Added sound constants for endlevel explosions
----------------------------
revision 1.31
date: 1994/11/30 14:02:58;  author: mike;  state: Exp;
see/claw/attack sounds.
----------------------------
revision 1.30
date: 1994/11/29 20:43:54;  author: matt;  state: Exp;
Deleted a bunch of unused constants
----------------------------
revision 1.29
date: 1994/11/29 15:48:11;  author: matt;  state: Exp;
Cleaned up, & added new sounds
----------------------------
revision 1.28
date: 1994/11/29 14:35:36;  author: adam;  state: Exp;
moved lava noise index
----------------------------
revision 1.27
date: 1994/11/29 13:23:30;  author: matt;  state: Exp;
Cleaned up sound constants
----------------------------
revision 1.26
date: 1994/11/29 13:01:04;  author: rob;  state: Exp;
ADded badass explosion define.
----------------------------
revision 1.25
date: 1994/11/29 11:34:23;  author: rob;  state: Exp;
Added new HUD sounds.
----------------------------
revision 1.24
date: 1994/11/15 16:52:01;  author: mike;  state: Exp;
hiss sound placeholder.
----------------------------
revision 1.23
date: 1994/10/25 16:21:45;  author: adam;  state: Exp;
changed homing sound
----------------------------
revision 1.22
date: 1994/10/23 00:27:34;  author: matt;  state: Exp;
Made exploding wall do one long sound, instead of lots of small ones
----------------------------
revision 1.21
date: 1994/10/22 14:12:35;  author: mike;  state: Exp;
Add sound for missile tracking player.
----------------------------
revision 1.20
date: 1994/10/11 12:25:21;  author: matt;  state: Exp;
Added "hot rocks" that create badass explosion when hit by weapons
----------------------------
revision 1.19
date: 1994/10/10 20:57:50;  author: matt;  state: Exp;
Added sound for exploding wall (hostage door)
----------------------------
revision 1.18
date: 1994/10/04 15:33:31;  author: john;  state: Exp;
Took out the old PLAY_SOUND??? code and replaced it
with direct calls into digi_link_??? so that all sounds
can be made 3d.
----------------------------
revision 1.17
date: 1994/09/29 21:13:41;  author: john;  state: Exp;
Added Master volumes for digi and midi. Also took out panning,
because it doesn't work with MasterVolume stuff. 
----------------------------
revision 1.16
date: 1994/09/29 00:42:29;  author: matt;  state: Exp;
Made hitting a locked door play a sound
----------------------------
revision 1.15
date: 1994/09/20 19:14:34;  author: john;  state: Exp;
Massaged the sound system; used a better formula for determining
which l/r balance, also, put in Mike's stuff that searches for a connection
between the 2 sounds' segments, stopping for closed doors, etc.
----------------------------
revision 1.14
date: 1994/07/06 15:23:59;  author: john;  state: Exp;
Revamped hostage sound.
----------------------------
revision 1.13
date: 1994/06/21 19:13:27;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1994/06/21 12:09:54;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1994/06/21 12:03:15;  author: john;  state: Exp;
Added more sounds.
----------------------------
revision 1.10
date: 1994/06/20 22:01:54;  author: matt;  state: Exp;
Added prototype for Play3D()
----------------------------
revision 1.9
date: 1994/06/20 21:06:06;  author: yuan;  state: Exp;
Fixed up menus.
----------------------------
revision 1.8
date: 1994/06/17 12:21:54;  author: mike;  state: Exp;
Hook for robot hits player.
----------------------------
revision 1.7
date: 1994/06/15 19:01:35;  author: john;  state: Exp;
Added the capability to make 3d sounds play just once for the
laser hit wall effects.
----------------------------
revision 1.6
date: 1994/06/08 11:43:03;  author: john;  state: Exp;
Enable 3D sound.
----------------------------
revision 1.5
date: 1994/06/07 18:21:20;  author: john;  state: Exp;
Start changing sound to the new 3D system.
----------------------------
revision 1.4
date: 1994/05/16 16:17:41;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.3
date: 1994/05/09 21:11:38;  author: john;  state: Exp;
Sound changes; pass index instead of pointer to digi routines.
Made laser sound cut off the last laser sound.
----------------------------
revision 1.2
date: 1994/04/27 11:47:46;  author: john;  state: Exp;
First version.
----------------------------
revision 1.1
date: 1994/04/26 10:44:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/ipx.h,v
Working file: main/ipx.h
head: 1.3
branch:
description: Prototype for IPX communications.
----------------------------
revision 1.3
date: 1994/07/25 12:33:22;  author: john;  state: Exp;
Network "pinging" in.
----------------------------
revision 1.2
date: 1994/07/20 15:58:29;  author: john;  state: Exp;
First installment of ipx stuff.
----------------------------
revision 1.1
date: 1994/07/19 15:43:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/state.c,v
Working file: main/state.c
head: 2.14
branch:
description: Functions to save/restore game state.
----------------------------
revision 2.14
date: 1995/05/26 16:16:10;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.13
date: 1995/04/06 15:12:20;  author: john;  state: Exp;
Fixed bug with lunacy not working.
----------------------------
revision 2.12
date: 1995/04/04 13:33:05;  author: john;  state: Exp;
Removed multiplayer save.
----------------------------
revision 2.11
date: 1995/03/31 13:42:10;  author: john;  state: Exp;
Made saved games from the bogus saturn version read in
correctly.
----------------------------
revision 2.10
date: 1995/03/31 12:45:28;  author: john;  state: Exp;
Fixed bug with previous.
----------------------------
revision 2.9
date: 1995/03/31 12:24:40;  author: john;  state: Exp;
I had changed alt_textures from a pointer to a byte. This hosed old
saved games, so I restored it to an int.
----------------------------
revision 2.8
date: 1995/03/28 11:22:47;  author: john;  state: Exp;
Added cheats to save file. Changed lunacy text.
----------------------------
revision 2.7
date: 1995/03/27 21:41:03;  author: john;  state: Exp;
Added code to verify that the proper multi save file
is used when restoring a network game.
----------------------------
revision 2.6
date: 1995/03/27 18:04:18;  author: john;  state: Exp;
Made multi save/restore require the -multisave command line arg.
----------------------------
revision 2.5
date: 1995/03/27 17:01:52;  author: john;  state: Exp;
Made deafult choice work better.
----------------------------
revision 2.4
date: 1995/03/27 15:49:44;  author: john;  state: Exp;
Added slots to save games.
----------------------------
revision 2.3
date: 1995/03/27 12:59:19;  author: john;  state: Exp;
Initial version of multiplayer save games.
----------------------------
revision 2.2
date: 1995/03/24 13:11:35;  author: john;  state: Exp;
Added save game during briefing screens.
----------------------------
revision 2.1
date: 1995/03/21 14:38:36;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:27:00;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.43
date: 1995/02/22 14:32:41;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.42
date: 1995/02/13 20:34:33;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.41
date: 1995/02/13 10:37:30;  author: john;  state: Exp;
Saved Buggin' cheat mode to save file.
----------------------------
revision 1.40
date: 1995/02/09 10:24:25;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.39
date: 1995/02/09 10:22:20;  author: john;  state: Exp;
Fixed bug with callsign getting trashed if you copy somebody else
's save game file into your directory.
----------------------------
revision 1.38
date: 1995/02/08 21:01:27;  author: john;  state: Exp;
Closed state file around the code that shows briefing screens so that the
code works on machines with clean boot with only 5 file handles.
----------------------------
revision 1.37
date: 1995/02/07 14:02:33;  author: john;  state: Exp;
Added code to verify game restore.
----------------------------
revision 1.36
date: 1995/02/07 11:07:43;  author: john;  state: Exp;
Added hooks for confirm on game state restore.
----------------------------
revision 1.35
date: 1995/02/03 11:27:36;  author: john;  state: Exp;
Made inbetween level save's thumbnail's have correct aspect.
----------------------------
revision 1.34
date: 1995/02/03 10:58:43;  author: john;  state: Exp;
Added code to save shareware style saved games into new format...
Also, made new player file format not have the saved game array in it.
----------------------------
revision 1.33
date: 1995/02/02 19:40:52;  author: john;  state: Exp;
Added 10 save game slots.
----------------------------
revision 1.32
date: 1995/02/02 12:23:20;  author: john;  state: Exp;
Made between level saves have picture.
----------------------------
revision 1.31
date: 1995/01/31 11:21:43;  author: john;  state: Exp;
Added code for fixed with menus.
----------------------------
revision 1.30
date: 1995/01/29 21:37:29;  author: mike;  state: Exp;
initialize variables on game load so you don't drain your energy when you fire.
----------------------------
revision 1.29
date: 1995/01/29 13:47:58;  author: mike;  state: Exp;
Restore some variables on game load (in game).
----------------------------
revision 1.28
date: 1995/01/26 10:46:57;  author: john;  state: Exp;
Fixed bug with state names getting hosed.
----------------------------
revision 1.27
date: 1995/01/26 09:51:23;  author: john;  state: Exp;
Fixed bug with game descriptions getting hosed.
----------------------------
revision 1.26
date: 1995/01/25 16:35:49;  author: john;  state: Exp;
Made so that when you hit enter during
game save, -empty- goes away.
----------------------------
revision 1.25
date: 1995/01/25 15:01:39;  author: john;  state: Exp;
Upped the save file version.
----------------------------
revision 1.24
date: 1995/01/24 20:35:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1995/01/24 20:34:24;  author: john;  state: Exp;
Fixed bug with player stats not being set right for in
between level saves.
----------------------------
revision 1.22
date: 1995/01/23 10:39:03;  author: john;  state: Exp;
Added mission stuff to game saves.
----------------------------
revision 1.21
date: 1995/01/22 16:07:12;  author: mike;  state: Exp;
localization.
----------------------------
revision 1.20
date: 1995/01/22 15:58:32;  author: mike;  state: Exp;
localization
----------------------------
revision 1.19
date: 1995/01/20 11:04:40;  author: john;  state: Exp;
Upped state save version.
----------------------------
revision 1.18
date: 1995/01/19 17:00:44;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.17
date: 1995/01/17 14:27:33;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1995/01/17 13:36:37;  author: john;  state: Exp;
Moved pig loading into StartNewLevelSub.
----------------------------
revision 1.15
date: 1995/01/16 16:53:38;  author: john;  state: Exp;
Added code to save cheat state during save game.
----------------------------
revision 1.14
date: 1995/01/15 16:55:22;  author: john;  state: Exp;
Improved mine texture parsing.
----------------------------
revision 1.13
date: 1995/01/12 10:45:15;  author: john;  state: Exp;
Added difficulty level to save/restore game.
----------------------------
revision 1.12
date: 1995/01/05 15:46:55;  author: john;  state: Exp;
Made weapons not rearm when starting a saved game.
----------------------------
revision 1.11
date: 1995/01/05 11:51:45;  author: john;  state: Exp;
Added better Abort game menu.
Made save state return success or nopt.
----------------------------
revision 1.10
date: 1995/01/05 11:34:51;  author: john;  state: Exp;
Took out endlevel save stuff for registered.
----------------------------
revision 1.9
date: 1995/01/04 18:19:52;  author: john;  state: Exp;
Added automap visited list saving.
----------------------------
revision 1.8
date: 1995/01/04 17:29:56;  author: john;  state: Exp;
Made save/restore ALT+F?. Also made them not work
in network mode, and if recording a demo, will 
quit recording.
----------------------------
revision 1.7
date: 1995/01/04 13:18:31;  author: john;  state: Exp;
Added cool 6 game save.
----------------------------
revision 1.6
date: 1995/01/03 20:38:46;  author: john;  state: Exp;
Saved morph objects.
----------------------------
revision 1.5
date: 1995/01/03 20:19:29;  author: john;  state: Exp;
Pretty good working version of game save.
----------------------------
revision 1.4
date: 1995/01/03 14:18:18;  author: matt;  state: Exp;
ifdefs added to compile code add.  Added by Mike, I think.
----------------------------
revision 1.3
date: 1994/12/29 18:40:19;  author: john;  state: Exp;
Initial version.
----------------------------
revision 1.2
date: 1994/12/29 15:26:40;  author: john;  state: Exp;
Put in hooks for saving/restoring game state.
----------------------------
revision 1.1
date: 1994/12/29 15:16:02;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/state.h,v
Working file: main/state.h
head: 2.1
branch:
description: Prototypes for state saving functions.
----------------------------
revision 2.1
date: 1995/03/27 21:40:35;  author: john;  state: Exp;
Added code to verify that the proper multi save file
is used when restoring a network game.
----------------------------
revision 2.0
date: 1995/02/27 11:28:44;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.6
date: 1995/02/07 10:54:05;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1995/02/03 10:58:12;  author: john;  state: Exp;
Added code to save shareware style saved games into new format...
Also, made new player file format not have the saved game array in it.
----------------------------
revision 1.4
date: 1995/01/19 17:00:51;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.3
date: 1995/01/05 11:51:44;  author: john;  state: Exp;
Added better Abort game menu.
Made save state return success or nopt.
----------------------------
revision 1.2
date: 1994/12/29 15:26:39;  author: john;  state: Exp;
Put in hooks for saving/restoring game state.
----------------------------
revision 1.1
date: 1994/12/29 15:15:47;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/switch.c,v
Working file: main/switch.c
head: 2.1
branch:
description: New Triggers and Switches.
----------------------------
revision 2.1
date: 1995/03/21 14:39:08;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:28:41;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.51
date: 1995/01/31 15:26:23;  author: rob;  state: Exp;
Don't trigger matcens in anarchy games.
----------------------------
revision 1.50
date: 1995/01/26 12:18:26;  author: rob;  state: Exp;
Changed network_do_frame call.
----------------------------
revision 1.49
date: 1995/01/18 18:50:35;  author: allender;  state: Exp;
don't process triggers if in demo playback mode.  Fix for Rob to only do
multi_send_endlevel_start if in multi player game
----------------------------
revision 1.48
date: 1995/01/13 11:59:40;  author: rob;  state: Exp;
Added palette fade after secret level exit.
----------------------------
revision 1.47
date: 1995/01/12 17:00:41;  author: rob;  state: Exp;
Fixed a problem with switches and secret levels.
----------------------------
revision 1.46
date: 1995/01/12 13:35:11;  author: rob;  state: Exp;
Added data flush after secret level exit.
----------------------------
revision 1.45
date: 1995/01/03 15:25:11;  author: rob;  state: Exp;
Fixed a compile error.
----------------------------
revision 1.44
date: 1995/01/03 15:12:02;  author: rob;  state: Exp;
Adding multiplayer switching.
----------------------------
revision 1.43
date: 1994/11/29 16:52:12;  author: yuan;  state: Exp;
Removed some obsolete commented out code.
----------------------------
revision 1.42
date: 1994/11/27 23:15:07;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.41
date: 1994/11/22 18:36:45;  author: rob;  state: Exp;
Added new hook for endlevel for secret doors.
----------------------------
revision 1.40
date: 1994/11/21 17:29:43;  author: matt;  state: Exp;
Cleaned up sequencing & game saving for secret levels
----------------------------
revision 1.39
date: 1994/11/19 15:20:32;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.38
date: 1994/10/25 16:09:52;  author: yuan;  state: Exp;
Fixed byte bug.
----------------------------
revision 1.37
date: 1994/10/24 16:05:28;  author: matt;  state: Exp;
Removed clear of fuelcen_control_center_destroyed
----------------------------
revision 1.36
date: 1994/10/08 14:21:13;  author: matt;  state: Exp;
Added include
----------------------------
revision 1.35
date: 1994/10/07 12:34:09;  author: matt;  state: Exp;
Added code fot going to/from secret levels
----------------------------
revision 1.34
date: 1994/10/05 15:16:10;  author: rob;  state: Exp;
Used to be that only player #0 could trigger switches, now only the
LOCAL player can do it (and he's expected to tell the other guy with
a com message if its important!)
----------------------------
revision 1.33
date: 1994/09/24 17:42:03;  author: mike;  state: Exp;
Kill temporary version of function written by Yuan, replaced by MK.
----------------------------
revision 1.32
date: 1994/09/24 17:10:00;  author: yuan;  state: Exp;
Added Matcen triggers.
----------------------------
revision 1.31
date: 1994/09/23 18:02:21;  author: yuan;  state: Exp;
Completed wall checking.
----------------------------
revision 1.30
date: 1994/08/19 20:09:41;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.29
date: 1994/08/18 10:47:36;  author: john;  state: Exp;
Cleaned up game sequencing and player death stuff
in preparation for making the player explode into
pieces when dead.
----------------------------
revision 1.28
date: 1994/08/12 22:42:11;  author: john;  state: Exp;
Took away Player_stats; added Players array.
----------------------------
revision 1.27
date: 1994/07/02 13:50:44;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.26
date: 1994/06/27 16:32:25;  author: yuan;  state: Exp;
Commented out incomplete code...
----------------------------
revision 1.25
date: 1994/06/27 15:53:27;  author: john;  state: Exp;
#define'd out the newdemo stuff
----------------------------
revision 1.24
date: 1994/06/27 15:10:04;  author: yuan;  state: Exp;
Might mess up triggers.
----------------------------
revision 1.23
date: 1994/06/24 17:01:43;  author: john;  state: Exp;
Add VFX support; Took Game Sequencing, like EndGame and stuff and
took it out of game.c and into gameseq.c
----------------------------
revision 1.22
date: 1994/06/16 16:20:15;  author: john;  state: Exp;
Made player start out in physics mode; Neatend up game loop a bit.
----------------------------
revision 1.21
date: 1994/06/15 14:57:22;  author: john;  state: Exp;
Added triggers to demo recording.
----------------------------
revision 1.20
date: 1994/06/10 17:44:25;  author: mike;  state: Exp;
Assert on result of find_connect_side == -1
----------------------------
revision 1.19
date: 1994/06/08 10:20:15;  author: yuan;  state: Exp;
Removed unused testing.
----------------------------
revision 1.18
date: 1994/06/07 13:10:48;  author: yuan;  state: Exp;
Fixed bug in check trigger... Still working on other bugs.
----------------------------
revision 1.17
date: 1994/05/30 20:22:04;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.16
date: 1994/05/27 10:32:46;  author: yuan;  state: Exp;
New dialog boxes (Walls and Triggers) added.
----------------------------
revision 1.15
date: 1994/05/25 18:06:46;  author: yuan;  state: Exp;
Making new dialog box controls for walls and triggers.
----------------------------
revision 1.14
date: 1994/05/10 19:05:32;  author: yuan;  state: Exp;
Made end of level flag rather than menu popping up
----------------------------
revision 1.13
date: 1994/04/29 15:05:25;  author: yuan;  state: Exp;
Added menu pop-up at exit trigger.
=============================================================================
RCS file: f:/miner/source/main/switch.h,v
Working file: main/switch.h
head: 2.0
branch:
description: Triggers and Switches.
----------------------------
revision 2.0
date: 1995/02/27 11:26:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.19
date: 1995/01/12 17:00:36;  author: rob;  state: Exp;
Fixed a problem with switches and secret levels.
----------------------------
revision 1.18
date: 1994/10/06 21:24:40;  author: matt;  state: Exp;
Added switch for exit to secret level
----------------------------
revision 1.17
date: 1994/09/29 17:05:52;  author: matt;  state: Exp;
Removed unused constant
----------------------------
revision 1.16
date: 1994/09/24 17:10:07;  author: yuan;  state: Exp;
Added Matcen triggers.
----------------------------
revision 1.15
date: 1994/08/15 18:06:39;  author: yuan;  state: Exp;
Added external trigger.
----------------------------
revision 1.14
date: 1994/06/16 16:20:52;  author: john;  state: Exp;
Made player start out in physics mode; Neatend up game loop a bit.
----------------------------
revision 1.13
date: 1994/05/30 20:22:08;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.12
date: 1994/05/27 10:32:44;  author: yuan;  state: Exp;
New dialog boxes (Walls and Triggers) added.
----------------------------
revision 1.11
date: 1994/05/25 18:06:32;  author: yuan;  state: Exp;
Making new dialog box controls for walls and triggers.
----------------------------
revision 1.10
date: 1994/04/28 18:04:40;  author: yuan;  state: Exp;
Gamesave added.
Trigger problem fixed (seg pointer is replaced by index now.)
----------------------------
revision 1.9
date: 1994/04/26 11:19:01;  author: yuan;  state: Exp;
Make it so a trigger can only be triggered every 5 seconds.
=============================================================================
RCS file: f:/miner/source/main/tempgame.c,v
Working file: main/tempgame.c
head: 2.0
branch:
description: Game loop for Inferno
----------------------------
revision 2.0
date: 1995/02/27 11:28:06;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.747
date: 1995/02/06 12:24:45;  author: allender;  state: Exp;
force Endlevel_sequence in game() to fix rare bug
----------------------------
revision 1.745
date: 1995/02/02 15:57:52;  author: john;  state: Exp;
Added turbo mode cheat.
----------------------------
revision 1.744
date: 1995/02/02 14:43:39;  author: john;  state: Exp;
Uppped frametime limit to 150 Hz.
----------------------------
revision 1.743
date: 1995/02/02 13:37:16;  author: mike;  state: Exp;
move T-?? message down in certain modes.
----------------------------
revision 1.742
date: 1995/02/02 01:26:59;  author: john;  state: Exp;
Took out no key repeating.
----------------------------
revision 1.741
date: 1995/01/29 21:36:44;  author: mike;  state: Exp;
make fusion cannon not make pitching slow.
----------------------------
revision 1.740
date: 1995/01/28 15:57:57;  author: john;  state: Exp;
Made joystick calibration be only when wrong detected in
menu or joystick axis changed.
----------------------------
revision 1.739
date: 1995/01/28 15:21:03;  author: yuan;  state: Exp;
Added X-tra life cheat.
----------------------------
revision 1.738
date: 1995/01/27 14:08:31;  author: rob;  state: Exp;
Fixed a bug.
----------------------------
revision 1.737
date: 1995/01/27 14:04:59;  author: rob;  state: Exp;
Its not my fault, Mark told me to do it!
----------------------------
revision 1.736
date: 1995/01/27 13:12:18;  author: rob;  state: Exp;
Added charging noises to play across net.
----------------------------
revision 1.735
date: 1995/01/27 11:48:28;  author: allender;  state: Exp;
check for newdemo_state to be paused and stop recording.  We might be
in between levels
----------------------------
revision 1.734
date: 1995/01/26 22:11:41;  author: mike;  state: Exp;
Purple chromo-blaster (ie, fusion cannon) spruce up (chromification)
----------------------------
revision 1.733
date: 1995/01/26 17:03:04;  author: mike;  state: Exp;
make fusion cannon have more chrome, make fusion, mega rock you!
----------------------------
revision 1.732
date: 1995/01/25 14:37:25;  author: john;  state: Exp;
Made joystick only prompt for calibration once...
----------------------------
revision 1.731
date: 1995/01/24 15:49:14;  author: john;  state: Exp;
Made typeing in long net messages wrap on 
small screen sizes.
----------------------------
revision 1.730
date: 1995/01/24 15:23:42;  author: mike;  state: Exp;
network message tweaking.
----------------------------
revision 1.729
date: 1995/01/24 12:00:47;  author: john;  state: Exp;
Fixed bug with defing macro passing keys to controls.
----------------------------
revision 1.728
date: 1995/01/24 11:53:35;  author: john;  state: Exp;
Added better macro defining code.
----------------------------
revision 1.727
date: 1995/01/23 22:17:15;  author: john;  state: Exp;
Fixed bug with not clearing key buffer when leaving f8.
----------------------------
revision 1.726
date: 1995/01/23 22:07:09;  author: john;  state: Exp;
Added flush to game inputs during F8.
=============================================================================
RCS file: f:/miner/source/main/terrain.c,v
Working file: main/terrain.c
head: 2.0
branch:
description: Code to render cool external-scene terrain
----------------------------
revision 2.0
date: 1995/02/27 11:31:27;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.12
date: 1994/12/03 00:18:00;  author: matt;  state: Exp;
Made endlevel sequence cut off early
Made exit model and bit explosion always plot last (after all terrain)
----------------------------
revision 1.11
date: 1994/11/27 23:13:46;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.10
date: 1994/11/21 18:04:36;  author: matt;  state: Exp;
Fixed alloc/free problem with height array
----------------------------
revision 1.9
date: 1994/11/21 17:30:42;  author: matt;  state: Exp;
Properly free light array
----------------------------
revision 1.8
date: 1994/11/19 12:40:55;  author: matt;  state: Exp;
Added system to read endlevel data from file, and to make it work
with any exit tunnel.
----------------------------
revision 1.7
date: 1994/11/16 11:49:44;  author: matt;  state: Exp;
Added code to rotate terrain to match mine
----------------------------
revision 1.6
date: 1994/11/02 16:22:59;  author: matt;  state: Exp;
Killed mprintf
----------------------------
revision 1.5
date: 1994/10/30 20:09:19;  author: matt;  state: Exp;
For endlevel: added big explosion at tunnel exit; made lights in tunnel 
go out; made more explosions on walls.
----------------------------
revision 1.4
date: 1994/10/27 21:15:07;  author: matt;  state: Exp;
Added better error handling
----------------------------
revision 1.3
date: 1994/10/27 01:03:17;  author: matt;  state: Exp;
Made terrain renderer use aribtary point in height array as origin
----------------------------
revision 1.2
date: 1994/08/19 20:09:44;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.1
date: 1994/08/17 20:20:49;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/terrain.h,v
Working file: main/terrain.h
head: 2.0
branch:
description: Header for terrain.c
----------------------------
revision 2.0
date: 1995/02/27 11:32:53;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/10/27 01:03:51;  author: matt;  state: Exp;
Made terrain renderer use aribtary point in height array as origin
----------------------------
revision 1.2
date: 1994/08/19 20:09:45;  author: matt;  state: Exp;
Added end-of-level cut scene with external scene
----------------------------
revision 1.1
date: 1994/08/17 20:33:36;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/texmerge.c,v
Working file: main/texmerge.c
head: 2.0
branch:
description: Routines to cache merged textures.
----------------------------
revision 2.0
date: 1995/02/27 11:31:08;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.28
date: 1995/01/14 19:16:56;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.27
date: 1994/12/14 18:21:58;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.26
date: 1994/12/13 09:50:08;  author: john;  state: Exp;
Added Asserts to stop if wall looks like door.
----------------------------
revision 1.25
date: 1994/12/07 00:35:24;  author: mike;  state: Exp;
change how flat shading average color is computed for paste-ons.
----------------------------
revision 1.24
date: 1994/11/19 15:20:29;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.23
date: 1994/11/12 16:38:51;  author: mike;  state: Exp;
deal with avg_color in texture merging.
----------------------------
revision 1.22
date: 1994/11/09 19:55:39;  author: john;  state: Exp;
Added full rle support with texture rle caching.
----------------------------
revision 1.21
date: 1994/10/20 15:21:16;  author: john;  state: Exp;
Took out the texmerge caching.
----------------------------
revision 1.20
date: 1994/10/10 19:00:57;  author: john;  state: Exp;
Made caching info print every 1000 frames.
----------------------------
revision 1.19
date: 1994/10/10 18:41:21;  author: john;  state: Exp;
Printed out texture caching info.
----------------------------
revision 1.18
date: 1994/08/11 18:59:02;  author: mike;  state: Exp;
Use new assembler version of merge functions.
----------------------------
revision 1.17
date: 1994/06/09 12:13:14;  author: john;  state: Exp;
Changed selectors so that all bitmaps have a selector of
0, but inside the texture mapper they get a selector set.
----------------------------
revision 1.16
date: 1994/05/14 17:15:15;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.15
date: 1994/05/09 17:21:09;  author: john;  state: Exp;
Took out mprintf with cache hits/misses.
----------------------------
revision 1.14
date: 1994/05/05 12:55:07;  author: john;  state: Exp;
Made SuperTransparency work.
----------------------------
revision 1.13
date: 1994/05/04 11:15:37;  author: john;  state: Exp;
Added Super Transparency
----------------------------
revision 1.12
date: 1994/04/28 23:36:04;  author: john;  state: Exp;
Took out a debugging mprintf.
----------------------------
revision 1.11
date: 1994/04/22 17:44:48;  author: john;  state: Exp;
Made top 2 bits of paste-ons pick the
orientation of the bitmap.
----------------------------
revision 1.10
date: 1994/03/31 12:05:51;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.9
date: 1994/03/15 16:31:52;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(And structures)
----------------------------
revision 1.8
date: 1994/01/24 13:15:19;  author: john;  state: Exp;
Made caching work with pointers, not texture numbers,
that way, the animated textures cache.
----------------------------
revision 1.7
date: 1994/01/21 16:38:10;  author: john;  state: Exp;
Took out debug info.
----------------------------
revision 1.6
date: 1994/01/21 16:28:43;  author: john;  state: Exp;
added warning to print cache hit/miss.
----------------------------
revision 1.5
date: 1994/01/21 16:22:30;  author: john;  state: Exp;
Put in caching/
----------------------------
revision 1.4
date: 1994/01/21 15:34:49;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/01/21 15:33:08;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/01/21 15:15:35;  author: john;  state: Exp;
Created new module texmerge, that merges textures together and 
caches the results.
----------------------------
revision 1.1
date: 1994/01/21 14:55:29;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/texmerge.h,v
Working file: main/texmerge.h
head: 2.0
branch:
description: Definitions for texture merging caching stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:28:05;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1995/01/14 19:16:26;  author: john;  state: Exp;
First version of new bitmap paging code.
----------------------------
revision 1.3
date: 1994/01/21 15:23:26;  author: john;  state: Exp;
made texmerge_close return void.
----------------------------
revision 1.2
date: 1994/01/21 15:16:01;  author: john;  state: Exp;
Created new module texmerge, that merges textures together and 
caches the results.
----------------------------
revision 1.1
date: 1994/01/21 15:03:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/texpage.c,v
Working file: main/editor/texpage.c
head: 2.0
branch:
description: Routines for displaying texture pages
----------------------------
revision 2.0
date: 1995/02/27 11:34:51;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.14
date: 1995/01/14 19:18:02;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.13
date: 1994/11/27 23:17:15;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.12
date: 1994/11/23 15:49:00;  author: mike;  state: Exp;
fix bug in tmapnum == 0 always getting reassigned.
----------------------------
revision 1.11
date: 1994/11/23 12:17:34;  author: mike;  state: Exp;
changing texture maps in all mines.
----------------------------
revision 1.10
date: 1994/11/19 00:04:42;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.9
date: 1994/11/16 17:59:36;  author: john;  state: Exp;
Fixed bug with writing to canvas before initing it.
----------------------------
revision 1.8
date: 1994/11/16 13:15:21;  author: matt;  state: Exp;
Fixed grab bug, and cleaned up code
----------------------------
revision 1.7
date: 1994/08/05 12:26:37;  author: matt;  state: Exp;
Fixed overplot problem with texture names
----------------------------
revision 1.6
date: 1994/04/11 12:01:58;  author: yuan;  state: Exp;
Fixed resetting to first texture on page annoyance.
----------------------------
revision 1.5
date: 1994/04/01 11:15:53;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.4
date: 1994/03/15 16:33:37;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.3
date: 1993/12/16 17:25:46;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.2
date: 1993/12/16 15:57:39;  author: john;  state: Exp;
moved texture selection stuff to texpage.c
----------------------------
revision 1.1
date: 1993/12/16 15:06:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/texpage.h,v
Working file: main/editor/texpage.h
head: 2.0
branch:
description: Definitions for texpage.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:31;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/05/14 17:17:53;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.2
date: 1993/12/16 15:57:54;  author: john;  state: Exp;
moved texture selection stuff to texpage.c
----------------------------
revision 1.1
date: 1993/12/16 15:22:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/text.c,v
Working file: main/text.c
head: 2.0
branch:
description: Code for localizable text
----------------------------
revision 2.0
date: 1995/02/27 11:33:09;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.11
date: 1994/12/14 12:53:23;  author: matt;  state: Exp;
Improved error handling
----------------------------
revision 1.10
date: 1994/12/09 18:36:44;  author: john;  state: Exp;
Added code to make text read from hogfile.
----------------------------
revision 1.9
date: 1994/12/08 20:56:34;  author: john;  state: Exp;
More cfile stuff.
----------------------------
revision 1.8
date: 1994/12/08 17:20:06;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.7
date: 1994/12/05 15:10:36;  author: allender;  state: Exp;
support encoded descent.tex file (descent.txb)
----------------------------
revision 1.6
date: 1994/12/01 14:18:34;  author: matt;  state: Exp;
Now support backslash chars in descent.tex file
----------------------------
revision 1.5
date: 1994/10/27 00:13:10;  author: john;  state: Exp;
Took out cfile.
----------------------------
revision 1.4
date: 1994/07/11 15:33:49;  author: matt;  state: Exp;
Put in command-line switch to load different text files
----------------------------
revision 1.3
date: 1994/07/10 09:56:25;  author: yuan;  state: Exp;
#include <stdio.h> added for FILE type.
----------------------------
revision 1.2
date: 1994/07/09 22:48:14;  author: matt;  state: Exp;
Added localizable text
----------------------------
revision 1.1
date: 1994/07/09 21:30:46;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/text.h,v
Working file: main/text.h
head: 2.2
branch:
description: Header for text.c, including symbolics for text messages
----------------------------
revision 2.2
date: 1995/03/30 16:36:22;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.1
date: 1995/03/08 15:33:24;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 2.0
date: 1995/02/27 11:30:21;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.63
date: 1995/02/11 14:59:42;  author: rob;  state: Exp;
Added string for controlcen invul.
----------------------------
revision 1.62
date: 1995/02/10 15:19:38;  author: allender;  state: Exp;
added text for bad write on demo write
----------------------------
revision 1.61
date: 1995/02/08 10:59:11;  author: rob;  state: Exp;
Added string used in kill list view.
----------------------------
revision 1.60
date: 1995/02/07 20:38:40;  author: rob;  state: Exp;
Added new localized strings for new multi options.
----------------------------
revision 1.59
date: 1995/02/02 15:29:17;  author: matt;  state: Exp;
Changed & localized secret level text
----------------------------
revision 1.58
date: 1995/02/02 12:24:14;  author: adam;  state: Exp;
added automap string
----------------------------
revision 1.57
date: 1995/02/01 18:06:50;  author: rob;  state: Exp;
Localize default macros, other stuff frm network.c
----------------------------
revision 1.56
date: 1995/01/30 15:29:53;  author: rob;  state: Exp;
Localizing.
----------------------------
revision 1.55
date: 1995/01/30 13:54:25;  author: allender;  state: Exp;
added mission/demo text
----------------------------
revision 1.54
date: 1995/01/24 22:03:22;  author: mike;  state: Exp;
text localization.
----------------------------
revision 1.53
date: 1995/01/23 13:05:59;  author: adam;  state: Exp;
added save/load game text
----------------------------
revision 1.52
date: 1995/01/22 15:58:42;  author: mike;  state: Exp;
localization
----------------------------
revision 1.51
date: 1994/12/29 12:08:47;  author: rob;  state: Exp;
removed new text strings.
----------------------------
revision 1.50
date: 1994/12/28 16:47:14;  author: rob;  state: Exp;
Added new com setup strings.
----------------------------
revision 1.49
date: 1994/12/15 23:24:22;  author: rob;  state: Exp;
Added string for rejoin failure.
----------------------------
revision 1.48
date: 1994/12/15 10:16:06;  author: adam;  state: Exp;
added lame trademark notice
----------------------------
revision 1.47
date: 1994/12/14 18:21:23;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.46
date: 1994/12/14 16:57:01;  author: matt;  state: Exp;
Added text for hat2
----------------------------
revision 1.45
date: 1994/12/14 08:50:12;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.44
date: 1994/12/13 19:43:29;  author: rob;  state: Exp;
Added string.
----------------------------
revision 1.43
date: 1994/12/13 12:54:45;  author: mike;  state: Exp;
add strings for hostages on board when you die.
----------------------------
revision 1.42
date: 1994/12/13 10:04:09;  author: allender;  state: Exp;
*** empty log message ***
----------------------------
revision 1.41
date: 1994/12/12 22:20:23;  author: rob;  state: Exp;
Added two new localized strings for modem.c
----------------------------
revision 1.40
date: 1994/12/09 19:46:26;  author: yuan;  state: Exp;
Localized the sucker.
----------------------------
revision 1.39
date: 1994/12/09 14:35:30;  author: yuan;  state: Exp;
Added localization string for Rob.
----------------------------
revision 1.38
date: 1994/12/09 14:08:16;  author: mike;  state: Exp;
text message for remaining ships at end bonus.
----------------------------
revision 1.37
date: 1994/12/09 00:28:26;  author: rob;  state: Exp;
Added "died in mine" string.
----------------------------
revision 1.36
date: 1994/12/08 14:30:31;  author: yuan;  state: Exp;
Fixed off by one problem.
----------------------------
revision 1.35
date: 1994/12/08 11:18:56;  author: allender;  state: Exp;
demo text string
----------------------------
revision 1.33
date: 1994/12/07 19:14:33;  author: matt;  state: Exp;
Cleaned up command-line options and command-line help message
----------------------------
revision 1.32
date: 1994/12/07 17:20:34;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.31
date: 1994/12/07 16:49:15;  author: yuan;  state: Exp;
More localization
----------------------------
revision 1.30
date: 1994/12/07 14:52:11;  author: yuan;  state: Exp;
Localization 492
----------------------------
revision 1.29
date: 1994/12/07 11:28:12;  author: matt;  state: Exp;
Did a little localization support
----------------------------
revision 1.28
date: 1994/12/06 18:29:31;  author: mike;  state: Exp;
Add text for cheat: Start at any level.
----------------------------
revision 1.27
date: 1994/12/06 16:30:39;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.26
date: 1994/12/06 15:14:55;  author: yuan;  state: Exp;
Fixed number of textstrings.
----------------------------
revision 1.25
date: 1994/12/06 15:13:52;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.24
date: 1994/12/06 13:46:24;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/12/05 23:17:28;  author: yuan;  state: Exp;
Localization bugs fixed.
----------------------------
revision 1.22
date: 1994/12/05 23:05:41;  author: yuan;  state: Exp;
Localization 425
----------------------------
revision 1.21
date: 1994/12/05 22:42:27;  author: rob;  state: Exp;
Added new connect status strings
----------------------------
revision 1.20
date: 1994/12/05 16:47:30;  author: rob;  state: Exp;
Added a new string.
----------------------------
revision 1.19
date: 1994/12/03 22:35:17;  author: yuan;  state: Exp;
Localization 412
----------------------------
revision 1.18
date: 1994/12/03 17:53:42;  author: yuan;  state: Exp;
382.
=============================================================================
RCS file: f:/miner/source/main/editor/texture.c,v
Working file: main/editor/texture.c
head: 2.0
branch:
description: Texture map assignment.
----------------------------
revision 2.0
date: 1995/02/27 11:34:50;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.13
date: 1994/08/04 19:13:15;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.12
date: 1994/08/03 10:31:56;  author: mike;  state: Exp;
Texture map propagation without uv assignment.
----------------------------
revision 1.11
date: 1994/07/14 19:36:34;  author: yuan;  state: Exp;
Tuning texture slides.
----------------------------
revision 1.10
date: 1994/07/14 19:29:08;  author: yuan;  state: Exp;
Fixed sliding.
----------------------------
revision 1.9
date: 1994/07/14 14:43:06;  author: yuan;  state: Exp;
Added 3x rotation.
----------------------------
revision 1.8
date: 1994/07/14 11:12:42;  author: yuan;  state: Exp;
Made sliding 3x more sensitive
----------------------------
revision 1.7
date: 1994/07/14 10:49:56;  author: yuan;  state: Exp;
Made texture rotation 3x finer
----------------------------
revision 1.6
date: 1994/02/14 12:06:00;  author: mike;  state: Exp;
change segment data structure.
----------------------------
revision 1.5
date: 1993/12/06 13:26:52;  author: mike;  state: Exp;
Make rotation and sliding work for triangulated sides.
----------------------------
revision 1.4
date: 1993/12/04 17:18:46;  author: mike;  state: Exp;
Add tiling functions, set_default.
----------------------------
revision 1.3
date: 1993/12/03 18:39:12;  author: unknown;  state: Exp;
Add texture map sliding, allow to work on triangulated sides.
----------------------------
revision 1.2
date: 1993/11/30 17:06:09;  author: mike;  state: Exp;
Texture map functions.
----------------------------
revision 1.1
date: 1993/11/29 16:00:57;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/textures.h,v
Working file: main/textures.h
head: 2.0
branch:
description: Array of textures, and other stuff
----------------------------
revision 2.0
date: 1995/02/27 11:31:54;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/03/15 16:32:56;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(Fixed structures too)
----------------------------
revision 1.2
date: 1993/12/05 22:49:53;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.1
date: 1993/12/05 20:16:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/titles.c,v
Working file: main/titles.c
head: 2.10
branch:
description: Routines to display title screens...
----------------------------
revision 2.10
date: 1995/06/15 12:14:16;  author: john;  state: Exp;
Made end game, win game and title sequences all go
on after 5 minutes automatically.
----------------------------
revision 2.9
date: 1995/06/14 17:25:48;  author: john;  state: Exp;
Fixed bug with VFX palette not getting loaded for credits, titles.
----------------------------
revision 2.8
date: 1995/05/26 16:16:30;  author: john;  state: Exp;
Split SATURN into define's for requiring cd, using cd, etc.
Also started adding all the Rockwell stuff.
----------------------------
revision 2.7
date: 1995/03/24 13:11:36;  author: john;  state: Exp;
Added save game during briefing screens.
----------------------------
revision 2.6
date: 1995/03/21 14:41:17;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.5
date: 1995/03/15 14:33:45;  author: john;  state: Exp;
Added code to force the Descent CD-rom in the drive.
----------------------------
revision 2.4
date: 1995/03/14 18:24:50;  author: john;  state: Exp;
Force Destination Saturn to use CD-ROM drive.
----------------------------
revision 2.3
date: 1995/03/10 13:05:52;  author: john;  state: Exp;
Added code so that palette is correct for VFX1 helmets.
----------------------------
revision 2.2
date: 1995/03/07 14:19:28;  author: mike;  state: Exp;
More destination saturn stuff.
----------------------------
revision 2.1
date: 1995/03/06 15:24:16;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:32:50;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.95
date: 1995/02/12 04:07:19;  author: matt;  state: Exp;
After freeing Robot_canv, set ptr to NULL
----------------------------
revision 1.94
date: 1995/02/11 12:41:57;  author: john;  state: Exp;
Added new song method, with FM bank switching..
----------------------------
revision 1.93
date: 1995/02/11 09:51:59;  author: john;  state: Exp;
Stripped out all SVGA references.
----------------------------
revision 1.92
date: 1995/02/07 09:56:10;  author: john;  state: Exp;
Fixed bug with wrong title screen drawing during save btwn lvls.
----------------------------
revision 1.91
date: 1995/02/04 13:53:16;  author: john;  state: Exp;
Added code to display the correct titles between levels
that have robot maps..
----------------------------
revision 1.90
date: 1995/02/02 16:36:33;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.89
date: 1995/02/02 12:23:30;  author: john;  state: Exp;
Made between level saves have picture.
----------------------------
revision 1.88
date: 1995/02/02 01:50:16;  author: adam;  state: Exp;
rearranged robot briefings.
----------------------------
revision 1.87
date: 1995/02/01 22:28:54;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.86
date: 1995/02/01 17:12:21;  author: mike;  state: Exp;
Make score come after endgame screens.
----------------------------
revision 1.85
date: 1995/02/01 14:04:17;  author: adam;  state: Exp;
mucked with screens
----------------------------
revision 1.84
date: 1995/01/28 16:59:30;  author: adam;  state: Exp;
added hook for special first briefing music
----------------------------
revision 1.83
date: 1995/01/21 17:04:35;  author: mike;  state: Exp;
fix endgame text bogosity.
----------------------------
revision 1.82
date: 1995/01/21 16:26:29;  author: matt;  state: Exp;
Made endlevel briefing work with missions
----------------------------
revision 1.81
date: 1995/01/21 13:15:20;  author: adam;  state: Exp;
added new robot briefings.
----------------------------
revision 1.80
date: 1995/01/20 22:47:33;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.79
date: 1995/01/20 14:57:52;  author: mike;  state: Exp;
support arbitrary number of screens/level.
----------------------------
revision 1.78
date: 1995/01/15 14:29:12;  author: john;  state: Exp;
Made the exit door page in.
----------------------------
revision 1.77
date: 1995/01/15 14:27:09;  author: adam;  state: Exp;
messed with endgame stuff
----------------------------
revision 1.76
date: 1995/01/14 15:42:49;  author: mike;  state: Exp;
Make endgame for registered support 3 screens.
----------------------------
revision 1.75
date: 1995/01/14 14:00:59;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.74
date: 1995/01/09 11:28:53;  author: mike;  state: Exp;
Support new $O thingy for bitmaps which cycle and are not the exit door.
----------------------------
revision 1.73
date: 1995/01/02 12:39:13;  author: mike;  state: Exp;
fix secret level sequencing.
----------------------------
revision 1.72
date: 1994/12/12 19:44:14;  author: rob;  state: Exp;
Added kill matrix to end of game sequence.
----------------------------
revision 1.71
date: 1994/12/09 22:32:57;  author: adam;  state: Exp;
messed with text positioning
----------------------------
revision 1.70
date: 1994/12/09 14:08:37;  author: mike;  state: Exp;
make briefing text work with hog files.
----------------------------
revision 1.69
date: 1994/12/09 00:41:47;  author: mike;  state: Exp;
fix hang in automap print screen.
----------------------------
revision 1.68
date: 1994/12/08 20:56:36;  author: john;  state: Exp;
More cfile stuff.
----------------------------
revision 1.67
date: 1994/12/08 17:19:11;  author: yuan;  state: Exp;
Cfiling stuff.
----------------------------
revision 1.66
date: 1994/12/07 11:28:00;  author: matt;  state: Exp;
Did a localization suppport
----------------------------
revision 1.65
date: 1994/12/06 17:10:23;  author: yuan;  state: Exp;
Fixed missing )
----------------------------
revision 1.64
date: 1994/12/06 17:00:45;  author: rob;  state: Exp;
Fixed problem with finishing the game in modem/serial mode.
----------------------------
revision 1.63
date: 1994/12/06 16:58:37;  author: matt;  state: Exp;
Killed warnings
----------------------------
revision 1.62
date: 1994/12/06 15:54:28;  author: mike;  state: Exp;
fix guy at end...
=============================================================================
RCS file: f:/miner/source/main/titles.h,v
Working file: main/titles.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:27:40;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.12
date: 1995/02/02 12:23:29;  author: john;  state: Exp;
Made between level saves have picture.
----------------------------
revision 1.11
date: 1995/01/21 16:27:11;  author: matt;  state: Exp;
Made endlevel briefing work with missions
----------------------------
revision 1.10
date: 1995/01/20 22:48:02;  author: matt;  state: Exp;
Mission system implemented, though imcompletely
----------------------------
revision 1.9
date: 1994/12/07 19:14:07;  author: matt;  state: Exp;
Kill briefing screen disable switch for release version
----------------------------
revision 1.8
date: 1994/11/21 16:40:24;  author: matt;  state: Exp;
Added prototype
----------------------------
revision 1.7
date: 1994/11/05 14:05:54;  author: john;  state: Exp;
Fixed fade transitions between all screens by making gr_palette_fade_in and out keep
track of whether the palette is faded in or not.  Then, wherever the code needs to fade out,
it just calls gr_palette_fade_out and it will fade out if it isn't already.  The same with fade_in.
This eliminates the need for all the flags like Menu_fade_out, game_fade_in palette, etc.
----------------------------
revision 1.6
date: 1994/11/01 17:57:48;  author: mike;  state: Exp;
Briefing screens.
----------------------------
revision 1.5
date: 1994/10/31 22:28:04;  author: mike;  state: Exp;
briefing screens
----------------------------
revision 1.4
date: 1994/09/16 16:14:31;  author: john;  state: Exp;
Added acrade sequencing.
----------------------------
revision 1.3
date: 1994/06/22 00:26:53;  author: matt;  state: Exp;
Added support for Interplay's animating title sequence
----------------------------
revision 1.2
date: 1994/06/17 12:13:36;  author: john;  state: Exp;
More newdemo stuff; made editor->game transition start in slew mode.
----------------------------
revision 1.1
date: 1994/06/17 10:50:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/vclip.c,v
Working file: main/vclip.c
head: 2.0
branch:
description: Routines for vclips.
----------------------------
revision 2.0
date: 1995/02/27 11:32:41;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.8
date: 1994/09/25 23:40:52;  author: matt;  state: Exp;
Changed the object load & save code to read/write the structure fields one
at a time (rather than the whole structure at once).  This mean that the
object structure can be changed without breaking the load/save functions.
As a result of this change, the local_object data can be and has been 
incorporated into the object array.  Also, timeleft is now a property 
of all objects, and the object structure has been otherwise cleaned up.
----------------------------
revision 1.7
date: 1994/09/25 15:45:26;  author: matt;  state: Exp;
Added OBJ_LIGHT, a type of object that casts light
Added generalized lifeleft, and moved it to local_object
----------------------------
revision 1.6
date: 1994/09/09 20:05:57;  author: mike;  state: Exp;
Add vclips for weapons.
----------------------------
revision 1.5
date: 1994/06/14 21:14:35;  author: matt;  state: Exp;
Made rod objects draw lighted or not depending on a parameter, so the
materialization effect no longer darkens.
----------------------------
revision 1.4
date: 1994/06/08 18:16:24;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/06/03 10:47:17;  author: matt;  state: Exp;
Made vclips (used by explosions) which can be either rods or blobs, as
specified in BITMAPS.TBL.  (This is for the materialization center effect).
----------------------------
revision 1.2
date: 1994/05/11 09:25:25;  author: john;  state: Exp;
Abandoned new vclip system for now because each wallclip, vclip,
etc, is different and it would be a huge pain to change all of them.
----------------------------
revision 1.1
date: 1994/05/10 15:21:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/vclip.h,v
Working file: main/vclip.h
head: 2.0
branch:
description: Stuff for video clips.
----------------------------
revision 2.0
date: 1995/02/27 11:32:42;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.33
date: 1994/11/21 11:17:57;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.32
date: 1994/10/12 13:07:07;  author: mike;  state: Exp;
Add VCLIP_POWERUP_DISAPPEARANCE.
----------------------------
revision 1.31
date: 1994/10/12 10:23:54;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.30
date: 1994/10/11 12:25:21;  author: matt;  state: Exp;
Added "hot rocks" that create badass explosion when hit by weapons
----------------------------
revision 1.29
date: 1994/10/06 14:10:07;  author: matt;  state: Exp;
Added constant for player appearence effect
----------------------------
revision 1.28
date: 1994/09/26 08:40:30;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.27
date: 1994/09/10 17:30:57;  author: mike;  state: Exp;
move a prototype here, had been defined in object.c
----------------------------
revision 1.26
date: 1994/09/09 20:04:25;  author: mike;  state: Exp;
Add weapon_vclip.
----------------------------
revision 1.25
date: 1994/08/31 19:27:09;  author: mike;  state: Exp;
Increase max number of Vclips for new pile of weapon powerups.
----------------------------
revision 1.24
date: 1994/08/14 23:14:43;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.23
date: 1994/07/23 19:56:39;  author: matt;  state: Exp;
Took out unused constant
----------------------------
revision 1.22
date: 1994/07/22 10:42:10;  author: adam;  state: Exp;
upped max no. of vclips
----------------------------
revision 1.21
date: 1994/06/14 21:15:14;  author: matt;  state: Exp;
Made rod objects draw lighted or not depending on a parameter, so the
materialization effect no longer darkens.
----------------------------
revision 1.20
date: 1994/06/09 19:38:16;  author: john;  state: Exp;
Made each Vclip have its own sound... but only used in the
materialization center.
----------------------------
revision 1.19
date: 1994/06/09 11:46:26;  author: john;  state: Exp;
Took out unused vclip defines.
----------------------------
revision 1.18
date: 1994/06/08 18:16:33;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.17
date: 1994/06/08 12:49:01;  author: mike;  state: Exp;
Add light_value to vclip.
----------------------------
revision 1.16
date: 1994/06/08 11:43:28;  author: mike;  state: Exp;
Allow 20 vclips, I think (anyway, more than it used to be, probably 12).
----------------------------
revision 1.15
date: 1994/06/03 10:48:22;  author: matt;  state: Exp;
Made vclips (used by explosions) which can be either rods or blobs, as
specified in BITMAPS.TBL.  (This is for the materialization center effect).
----------------------------
revision 1.14
date: 1994/06/01 17:21:08;  author: john;  state: Exp;
Added muzzle flash
----------------------------
revision 1.13
date: 1994/06/01 10:34:02;  author: john;  state: Exp;
Added robot morphing effect.
----------------------------
revision 1.12
date: 1994/05/16 16:17:38;  author: john;  state: Exp;
Bunch of stuff on my Inferno Task list May16-23
----------------------------
revision 1.11
date: 1994/05/10 18:32:50;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/04/29 14:35:52;  author: matt;  state: Exp;
Added second kind of fireball
----------------------------
revision 1.9
date: 1994/04/11 10:36:31;  author: yuan;  state: Exp;
Started adding types for exploding hostages.
----------------------------
revision 1.8
date: 1994/04/07 16:27:43;  author: yuan;  state: Exp;
Added SUPERPIG the robot with 200 hit points.
Now robots can take multiple hits before blowing up.
----------------------------
revision 1.7
date: 1994/04/07 13:45:58;  author: yuan;  state: Exp;
Defined Pclips... maybe shouldn't be in this file.
----------------------------
revision 1.6
date: 1994/03/28 20:58:22;  author: yuan;  state: Exp;
Added blood vclip constant
----------------------------
revision 1.5
date: 1994/03/15 16:31:56;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(And structures)
----------------------------
revision 1.4
date: 1994/03/04 17:09:43;  author: yuan;  state: Exp;
New wall stuff
----------------------------
revision 1.3
date: 1994/01/11 10:59:01;  author: yuan;  state: Exp;
Added effects
----------------------------
revision 1.2
date: 1994/01/06 17:13:15;  author: john;  state: Exp;
Added Video clip functionality
----------------------------
revision 1.1
date: 1994/01/06 15:10:15;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/vfx.c,v
Working file: main/vfx.c
head: 2.4
branch:
description: Routines to access VR helmet.
----------------------------
revision 2.4
date: 1995/05/11 13:28:59;  author: john;  state: Exp;
Made so no -vfx doesnt' check for VIPPORT.
----------------------------
revision 2.3
date: 1995/05/11 13:08:28;  author: john;  state: Exp;
Made code print bomb out with error if it can't find VIPPORT.
----------------------------
revision 2.2
date: 1995/05/08 13:53:32;  author: john;  state: Exp;
Added code to read the vipport environment variable.
----------------------------
revision 2.1
date: 1995/03/10 13:05:50;  author: john;  state: Exp;
Added code so that palette is correct for VFX1 helmets.
----------------------------
revision 2.0
date: 1995/02/27 11:30:29;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/28 10:26:42;  author: john;  state: Exp;
Fixed some VFX problems.
----------------------------
revision 1.4
date: 1994/11/19 15:20:34;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.3
date: 1994/09/20 19:36:11;  author: matt;  state: Exp;
Added seperate function to set palette
----------------------------
revision 1.2
date: 1994/06/24 17:03:50;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.1
date: 1994/06/23 09:14:06;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/vfx.h,v
Working file: main/vfx.h
head: 2.1
branch:
description: Prototypes for vfx.c
----------------------------
revision 2.1
date: 1995/03/10 12:58:04;  author: john;  state: Exp;
Added vfx_set_palette_sub function.
----------------------------
revision 2.0
date: 1995/02/27 11:31:19;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.5
date: 1994/12/28 10:43:02;  author: john;  state: Exp;
More VFX tweaking.
----------------------------
revision 1.4
date: 1994/12/28 10:26:49;  author: john;  state: Exp;
Fixed some VFX problems.
----------------------------
revision 1.3
date: 1994/09/20 19:36:01;  author: matt;  state: Exp;
Added seperate function to set palette
----------------------------
revision 1.2
date: 1994/06/24 17:03:51;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.1
date: 1994/06/23 09:14:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/vfx1.h,v
Working file: main/vfx1.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:28:52;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.3
date: 1994/09/15 16:11:26;  author: john;  state: Exp;
Added support for VFX1 head tracking. Fixed bug with memory over-
write when using stereo mode.
----------------------------
revision 1.2
date: 1994/06/24 17:03:54;  author: john;  state: Exp;
Added VFX support. Also took all game sequencing stuff like
EndGame out and put it into gameseq.c
----------------------------
revision 1.1
date: 1994/06/23 17:59:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/victor.c,v
Working file: main/victor.c
head: 2.5
branch:
description: Routines to access the VictorMaxx helmet.
----------------------------
revision 2.5
date: 1995/03/30 16:35:59;  author: mike;  state: Exp;
text localization.
----------------------------
revision 2.4
date: 1995/03/09 15:34:33;  author: john;  state: Exp;
Fixed bug with timeout being too long.
----------------------------
revision 2.3
date: 1995/03/08 15:42:00;  author: john;  state: Exp;
Took out debug code.
----------------------------
revision 2.2
date: 1995/03/08 15:32:54;  author: john;  state: Exp;
Made VictorMaxx head tracking use Greenleaf code.
----------------------------
revision 2.1
date: 1995/03/06 15:24:03;  author: john;  state: Exp;
New screen techniques.
----------------------------
revision 2.0
date: 1995/02/27 11:31:23;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.13
date: 1994/12/06 16:30:40;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.12
date: 1994/11/27 23:15:06;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.11
date: 1994/11/19 15:14:56;  author: mike;  state: Exp;
remove unused code and data
----------------------------
revision 1.10
date: 1994/11/13 16:32:58;  author: matt;  state: Exp;
Made angle averaging work right when yaw is near 0/360 degrees
Made angle read code empty buffer and use last values
----------------------------
revision 1.9
date: 1994/11/12 13:47:37;  author: john;  state: Exp;
Reenabled the victor screen mode setting code.
----------------------------
revision 1.8
date: 1994/11/11 18:33:26;  author: john;  state: Exp;
Made victor not set screen mode.
----------------------------
revision 1.7
date: 1994/08/25 18:43:44;  author: john;  state: Exp;
First revision of new control code.
----------------------------
revision 1.6
date: 1994/07/25 10:24:04;  author: john;  state: Exp;
Victor stuff.
----------------------------
revision 1.5
date: 1994/07/22 17:53:32;  author: john;  state: Exp;
Added better victormax support.
----------------------------
revision 1.4
date: 1994/07/21 21:31:31;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.3
date: 1994/07/20 21:30:34;  author: john;  state: Exp;
Got screen mode change to work.
----------------------------
revision 1.2
date: 1994/07/20 21:04:31;  author: john;  state: Exp;
Add VictorMax VR helment support.
----------------------------
revision 1.1
date: 1994/07/20 20:49:01;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/victor.h,v
Working file: main/victor.h
head: 2.0
branch:
description: Prototypes for the VictorMaxx VR helment.
----------------------------
revision 2.0
date: 1995/02/27 11:27:31;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.4
date: 1994/11/12 14:46:55;  author: john;  state: Exp;
Added support for victor head tracking.
----------------------------
revision 1.3
date: 1994/07/21 21:31:12;  author: john;  state: Exp;
First cheapo version of VictorMaxx tracking.
----------------------------
revision 1.2
date: 1994/07/20 21:04:32;  author: john;  state: Exp;
Add VictorMax VR helment support.
----------------------------
revision 1.1
date: 1994/07/20 20:49:19;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/wall.c,v
Working file: main/wall.c
head: 2.1
branch:
description: Destroyable wall stuff
----------------------------
revision 2.1
date: 1995/03/21 14:39:04;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:28:32;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.112
date: 1995/02/22 13:53:07;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.111
date: 1995/02/01 17:32:17;  author: adam;  state: Exp;
Took out a bogus int3.
----------------------------
revision 1.110
date: 1995/02/01 17:20:24;  author: john;  state: Exp;
Lintized.
----------------------------
revision 1.109
date: 1995/01/21 17:39:50;  author: matt;  state: Exp;
Cleaned up laser/player hit wall confusions
----------------------------
revision 1.108
date: 1995/01/21 17:14:17;  author: rob;  state: Exp;
Fixed bug in multiplayer door-butting.
----------------------------
revision 1.107
date: 1995/01/18 18:57:11;  author: rob;  state: Exp;
Added new hostage door hooks.
----------------------------
revision 1.106
date: 1995/01/18 18:48:18;  author: allender;  state: Exp;
removed #ifdef newdemo's.  Added function call to record a door that
starts to open. This fixes the rewind problem
----------------------------
revision 1.105
date: 1995/01/16 11:55:39;  author: mike;  state: Exp;
make control center (and robots whose id == your playernum) not able to open doors.
----------------------------
revision 1.104
date: 1994/12/11 23:07:21;  author: matt;  state: Exp;
Fixed stuck objects & blastable walls
----------------------------
revision 1.103
date: 1994/12/10 16:44:34;  author: matt;  state: Exp;
Added debugging code to track down door that turns into rock
----------------------------
revision 1.102
date: 1994/12/06 16:27:05;  author: matt;  state: Exp;
Added debugging
----------------------------
revision 1.101
date: 1994/12/02 10:50:27;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.100
date: 1994/11/30 19:41:22;  author: rob;  state: Exp;
Put in a fix so that door opening sounds travel through the door.
----------------------------
revision 1.99
date: 1994/11/28 11:59:50;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.98
date: 1994/11/28 11:25:45;  author: matt;  state: Exp;
Cleaned up key hud messages
----------------------------
revision 1.97
date: 1994/11/27 23:15:11;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.96
date: 1994/11/19 15:18:29;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.95
date: 1994/11/17 14:57:12;  author: mike;  state: Exp;
moved segment validation functions from editor to main.
----------------------------
revision 1.94
date: 1994/11/07 08:47:30;  author: john;  state: Exp;
Made wall state record.
----------------------------
revision 1.93
date: 1994/11/04 16:06:37;  author: rob;  state: Exp;
Fixed network damage of blastable walls.
----------------------------
revision 1.92
date: 1994/11/02 21:54:01;  author: matt;  state: Exp;
Don't let objects with zero size keep door from shutting
----------------------------
revision 1.91
date: 1994/10/31 13:48:42;  author: rob;  state: Exp;
Fixed bug in opening doors over network/modem.  Added a new message
type to multi.c that communicates door openings across the net. 
Changed includes in multi.c and wall.c to accomplish this.
----------------------------
revision 1.90
date: 1994/10/28 14:42:41;  author: john;  state: Exp;
Added sound volumes to all sound calls.
----------------------------
revision 1.89
date: 1994/10/23 19:16:55;  author: matt;  state: Exp;
Fixed bug with "no key" messages
=============================================================================
RCS file: f:/miner/source/main/wall.h,v
Working file: main/wall.h
head: 2.0
branch:
description: ----------------------------
revision 2.0
date: 1995/02/27 11:31:36;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.47
date: 1994/11/19 15:20:35;  author: mike;  state: Exp;
rip out unused code and data
----------------------------
revision 1.46
date: 1994/10/25 15:40:12;  author: yuan;  state: Exp;
MAX_WALLS pumped up
----------------------------
revision 1.45
date: 1994/10/23 19:17:07;  author: matt;  state: Exp;
Fixed bug with "no key" messages
----------------------------
revision 1.44
date: 1994/10/18 15:38:03;  author: mike;  state: Exp;
Define hidden walls.
----------------------------
revision 1.43
date: 1994/10/04 13:32:26;  author: adam;  state: Exp;
commented out MAX_DOOR_ANIMS
----------------------------
revision 1.42
date: 1994/10/04 13:31:21;  author: adam;  state: Exp;
upped MAX_WALL_ANIMS to 30
----------------------------
revision 1.41
date: 1994/09/29 00:42:30;  author: matt;  state: Exp;
Made hitting a locked door play a sound
----------------------------
revision 1.40
date: 1994/09/27 15:42:41;  author: mike;  state: Exp;
Prototype Wall_names.
----------------------------
revision 1.39
date: 1994/09/23 22:15:32;  author: matt;  state: Exp;
Made doors not close on objects, made doors open again if shot while
closing, and cleaned up walls/doors a bit.
----------------------------
revision 1.38
date: 1994/09/22 15:31:33;  author: matt;  state: Exp;
Mucked with, and hopefully improved, exploding walls
----------------------------
revision 1.37
date: 1994/09/21 17:17:05;  author: mike;  state: Exp;
Make objects stuck in doors go away when door opens.
----------------------------
revision 1.36
date: 1994/09/13 21:10:46;  author: matt;  state: Exp;
Added wclips that use tmap1 instead of tmap2, saving lots of merging
----------------------------
revision 1.35
date: 1994/09/13 20:11:08;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/09/10 13:31:53;  author: matt;  state: Exp;
Made exploding walls a type of blastable walls.
Cleaned up blastable walls, making them tmap2 bitmaps.
----------------------------
revision 1.33
date: 1994/08/17 12:55:34;  author: matt;  state: Exp;
Added external walls to wall_is_doorway
----------------------------
revision 1.32
date: 1994/08/15 17:54:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.31
date: 1994/08/15 17:46:56;  author: yuan;  state: Exp;
Added external walls, fixed blastable walls.
----------------------------
revision 1.30
date: 1994/08/05 21:17:21;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.29
date: 1994/08/01 10:39:10;  author: matt;  state: Exp;
Parenthesized parms to WID() macro
----------------------------
revision 1.28
date: 1994/07/20 17:35:03;  author: yuan;  state: Exp;
Some minor bug fixes and new key gauges...
----------------------------
revision 1.27
date: 1994/07/19 14:32:03;  author: yuan;  state: Exp;
Fixed keys bug... renumbered some constants.
----------------------------
revision 1.26
date: 1994/07/14 22:38:29;  author: matt;  state: Exp;
Added exploding doors
----------------------------
revision 1.25
date: 1994/07/11 15:08:43;  author: yuan;  state: Exp;
Wall anim file names stored in structure.
 
=============================================================================
RCS file: f:/miner/source/main/weapon.c,v
Working file: main/weapon.c
head: 2.1
branch:
description: Functions for weapons...
----------------------------
revision 2.1
date: 1995/03/21 14:38:43;  author: john;  state: Exp;
Ifdef'd out the NETWORK code.
----------------------------
revision 2.0
date: 1995/02/27 11:27:25;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.54
date: 1995/02/15 15:21:48;  author: mike;  state: Exp;
make smart missile select if mega missiles used up.
----------------------------
revision 1.53
date: 1995/02/12 02:12:30;  author: john;  state: Exp;
Fixed bug with state restore making weapon beeps.
----------------------------
revision 1.52
date: 1995/02/09 20:42:15;  author: mike;  state: Exp;
change weapon autoselect, always autoselect smart, mega.
----------------------------
revision 1.51
date: 1995/02/07 20:44:26;  author: mike;  state: Exp;
autoselect mega, smart when you pick them up.
----------------------------
revision 1.50
date: 1995/02/07 13:32:25;  author: rob;  state: Exp;
Added include of multi.h
----------------------------
revision 1.49
date: 1995/02/07 13:21:33;  author: yuan;  state: Exp;
Fixed 2nd typo
----------------------------
revision 1.48
date: 1995/02/07 13:16:39;  author: yuan;  state: Exp;
Fixed typo.
----------------------------
revision 1.47
date: 1995/02/07 12:53:12;  author: rob;  state: Exp;
Added network sound prop. to weapon switch.
----------------------------
revision 1.46
date: 1995/02/06 15:53:17;  author: mike;  state: Exp;
don't autoselect smart or mega missile when you pick it up.
----------------------------
revision 1.45
date: 1995/02/02 21:43:34;  author: mike;  state: Exp;
make autoselection better.
----------------------------
revision 1.44
date: 1995/02/02 16:27:21;  author: mike;  state: Exp;
make concussion missiles trade up.
----------------------------
revision 1.43
date: 1995/02/01 23:34:57;  author: adam;  state: Exp;
messed with weapon change sounds
----------------------------
revision 1.42
date: 1995/02/01 17:12:47;  author: mike;  state: Exp;
Make smart missile, mega missile not auto-select.
----------------------------
revision 1.41
date: 1995/02/01 15:50:54;  author: mike;  state: Exp;
fix bogus weapon selection sound code.
----------------------------
revision 1.40
date: 1995/01/31 16:16:31;  author: mike;  state: Exp;
Separate smart blobs for robot and player.
----------------------------
revision 1.39
date: 1995/01/30 21:12:11;  author: mike;  state: Exp;
Use new weapon selection sounds, different for primary and secondary.
----------------------------
revision 1.38
date: 1995/01/29 13:46:52;  author: mike;  state: Exp;
Don't auto-select fusion cannon when you run out of energy.
----------------------------
revision 1.37
date: 1995/01/20 11:11:13;  author: allender;  state: Exp;
record weapon changes again.  (John somehow lost my 1.35 changes).
----------------------------
revision 1.36
date: 1995/01/19 17:00:46;  author: john;  state: Exp;
Made save game work between levels.
----------------------------
revision 1.34
date: 1995/01/09 17:03:48;  author: mike;  state: Exp;
fix autoselection of weapons.
----------------------------
revision 1.33
date: 1995/01/05 15:46:31;  author: john;  state: Exp;
Made weapons not rearm when starting a saved game.
----------------------------
revision 1.32
date: 1995/01/03 12:34:23;  author: mike;  state: Exp;
autoselect next lower weapon if run out of smart or mega missile.
----------------------------
revision 1.31
date: 1994/12/12 21:39:37;  author: matt;  state: Exp;
Changed vulcan ammo: 10K max, 5K w/weapon, 1250 per powerup
----------------------------
revision 1.30
date: 1994/12/09 19:55:04;  author: matt;  state: Exp;
Added weapon name in "not available in shareware" message
----------------------------
revision 1.29
date: 1994/12/06 13:50:24;  author: adam;  state: Exp;
added shareware msg. when choosing 4 top weapons
----------------------------
revision 1.28
date: 1994/12/02 22:07:13;  author: mike;  state: Exp;
if you gots 19 concussion missiles and you runs over 4, say you picks up 1, not 4, we do the math, see?
----------------------------
revision 1.27
date: 1994/12/02 20:06:24;  author: matt;  state: Exp;
Made vulcan ammo print at approx 25 times actual
----------------------------
revision 1.26
date: 1994/12/02 15:05:03;  author: matt;  state: Exp;
Fixed bogus weapon constants and arrays
----------------------------
revision 1.25
date: 1994/12/02 10:50:34;  author: yuan;  state: Exp;
Localization
----------------------------
revision 1.24
date: 1994/11/29 15:48:28;  author: matt;  state: Exp;
selecting weapon now makes sound
----------------------------
revision 1.23
date: 1994/11/28 11:26:58;  author: matt;  state: Exp;
Cleaned up hud message printing for picking up weapons
----------------------------
revision 1.22
date: 1994/11/27 23:13:39;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.21
date: 1994/11/12 16:38:34;  author: mike;  state: Exp;
clean up default ammo stuff.
----------------------------
revision 1.20
date: 1994/11/07 17:41:18;  author: mike;  state: Exp;
messages for when you try to fire a weapon you don't have or don't have ammo for.
----------------------------
revision 1.19
date: 1994/10/21 20:40:05;  author: mike;  state: Exp;
fix double vulcan ammo.
----------------------------
revision 1.18
date: 1994/10/20 09:49:05;  author: mike;  state: Exp;
kill messages no one liked...*sniff* *sniff*
----------------------------
revision 1.17
date: 1994/10/19 11:17:07;  author: mike;  state: Exp;
Limit amount of player ammo.
----------------------------
revision 1.16
date: 1994/10/12 08:04:18;  author: mike;  state: Exp;
Fix proximity/homing confusion.
----------------------------
revision 1.15
date: 1994/10/11 18:27:58;  author: matt;  state: Exp;
Changed auto selection of secondary weapons
----------------------------
revision 1.14
date: 1994/10/08 23:37:54;  author: matt;  state: Exp;
Don't pick up weapons you already have; also fixed auto_select bug
for seconary weapons
----------------------------
revision 1.13
date: 1994/10/08 14:55:47;  author: matt;  state: Exp;
Fixed bug that selected vulcan cannon when picked up ammo, even though
you didn't have the weapon.
----------------------------
revision 1.12
date: 1994/10/08 12:50:32;  author: matt;  state: Exp;
Fixed bug that let you select weapons you don't have
----------------------------
revision 1.11
date: 1994/10/07 23:37:56;  author: matt;  state: Exp;
Made weapons select when pick up better one
----------------------------
revision 1.10
date: 1994/10/07 16:02:08;  author: matt;  state: Exp;
Fixed problem with weapon auto-select
----------------------------
revision 1.9
date: 1994/10/05 17:00:20;  author: matt;  state: Exp;
Made player_has_weapon() public and moved constants to header file
----------------------------
revision 1.8
date: 1994/09/26 11:27:13;  author: mike;  state: Exp;
Fix auto selection of weapon when you run out of ammo.
----------------------------
revision 1.7
date: 1994/09/13 16:40:45;  author: mike;  state: Exp;
Add rearm delay and missile firing delay.
----------------------------
revision 1.6
date: 1994/09/13 14:43:12;  author: matt;  state: Exp;
Added cockpit weapon displays
----------------------------
revision 1.5
date: 1994/09/03 15:23:06;  author: mike;  state: Exp;
Auto select next weaker weapon when one runs out, clean up code.
----------------------------
revision 1.4
date: 1994/09/02 16:38:19;  author: mike;  state: Exp;
Eliminate a pile of arrays, associate weapon data with Weapon_info.
----------------------------
revision 1.3
date: 1994/09/02 11:57:10;  author: mike;  state: Exp;
Add a bunch of stuff, I forget what.
----------------------------
revision 1.2
date: 1994/06/03 16:26:32;  author: john;  state: Exp;
Initial version.
----------------------------
revision 1.1
date: 1994/06/03 14:40:43;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/weapon.h,v
Working file: main/weapon.h
head: 2.0
branch:
description: Protypes for weapon stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:31:10;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.44
date: 1995/01/30 17:14:18;  author: mike;  state: Exp;
halve rate of vulcan ammo consumption.
----------------------------
revision 1.43
date: 1995/01/19 17:45:04;  author: mike;  state: Exp;
damage_force removed, that information coming from strength field.
----------------------------
revision 1.42
date: 1995/01/05 15:46:11;  author: john;  state: Exp;
Made weapons not rearm when starting a saved game.
----------------------------
revision 1.41
date: 1995/01/04 12:20:27;  author: john;  state: Exp;
Declearations to work better with game state save.
----------------------------
revision 1.40
date: 1994/12/13 12:54:16;  author: mike;  state: Exp;
fix proximity, homing flags, backwards!
----------------------------
revision 1.39
date: 1994/12/11 16:17:57;  author: mike;  state: Exp;
change default weapon life so shots from ctrlcen on level 6 won't evaporate before they hit you.
----------------------------
revision 1.38
date: 1994/12/09 19:55:26;  author: matt;  state: Exp;
Added weapon name in "not available in shareware" message
----------------------------
revision 1.37
date: 1994/12/07 12:55:27;  author: mike;  state: Exp;
tweak vulcan amounts.
----------------------------
revision 1.36
date: 1994/12/03 19:03:56;  author: matt;  state: Exp;
Fixed vulcan ammo HUD message
----------------------------
revision 1.35
date: 1994/12/02 15:05:02;  author: matt;  state: Exp;
Fixed bogus weapon constants and arrays
----------------------------
revision 1.34
date: 1994/11/29 14:26:05;  author: john;  state: Exp;
Again.
----------------------------
revision 1.33
date: 1994/11/29 14:13:47;  author: adam;  state: Exp;
Changed the byte flash sound to short.
----------------------------
revision 1.32
date: 1994/11/12 16:36:55;  author: mike;  state: Exp;
default ammo stuff.
----------------------------
revision 1.31
date: 1994/10/21 10:55:24;  author: adam;  state: Exp;
upped MAX_WEAPON_TYPES to 30
----------------------------
revision 1.30
date: 1994/10/19 11:16:37;  author: mike;  state: Exp;
Limit ammo amounts.
----------------------------
revision 1.29
date: 1994/10/12 08:05:04;  author: mike;  state: Exp;
Clean up homing/proximity mess.
----------------------------
revision 1.28
date: 1994/10/08 23:37:53;  author: matt;  state: Exp;
Don't pick up weapons you already have; also fixed auto_select bug
for seconary weapons
----------------------------
revision 1.27
date: 1994/10/07 23:37:56;  author: matt;  state: Exp;
Made weapons select when pick up better one
----------------------------
revision 1.26
date: 1994/10/07 16:02:17;  author: matt;  state: Exp;
Fixed problem with weapon auto-select
----------------------------
revision 1.25
date: 1994/10/05 17:07:44;  author: matt;  state: Exp;
Made player_has_weapon() public and moved constants to header file
----------------------------
revision 1.24
date: 1994/09/30 21:50:49;  author: mike;  state: Exp;
Add homing_flag and 3 dummy bytes to weapon_info.
----------------------------
revision 1.23
date: 1994/09/30 13:47:41;  author: mike;  state: Exp;
Make speed and strength be difficulty level based.
----------------------------
revision 1.22
date: 1994/09/20 16:10:13;  author: mike;  state: Exp;
Prototype Primary_weapon_names and Secondary_weapon_names.
----------------------------
revision 1.21
date: 1994/09/20 12:17:21;  author: adam;  state: Exp;
upped weapon types
----------------------------
revision 1.20
date: 1994/09/13 16:40:29;  author: mike;  state: Exp;
Define REARM_TIME -- time it takes until you can fire a newly armed weapon.
----------------------------
revision 1.19
date: 1994/09/13 14:43:03;  author: matt;  state: Exp;
Added cockpit weapon displays
----------------------------
revision 1.18
date: 1994/09/11 15:50:34;  author: mike;  state: Exp;
Add matter and bounce to weapon_info.
----------------------------
revision 1.17
date: 1994/09/10 17:32:17;  author: mike;  state: Exp;
Add thrust to weapon_info.
----------------------------
revision 1.16
date: 1994/09/09 20:04:54;  author: mike;  state: Exp;
Add vclips for weapons.
----------------------------
revision 1.15
date: 1994/09/07 15:59:14;  author: mike;  state: Exp;
Add default lifetimes to weapons, destroyable, lifetime, damage_radius, damage_force fields to weapons.
----------------------------
revision 1.14
date: 1994/09/03 15:18:06;  author: mike;  state: Exp;
Add prototype for auto_select_weapon.
----------------------------
revision 1.13
date: 1994/09/02 16:38:33;  author: mike;  state: Exp;
Move data from global arrays to Weapon_info.
----------------------------
revision 1.12
date: 1994/09/02 11:54:59;  author: mike;  state: Exp;
Add a whole slew of constants for the whole slew of new weapons.
----------------------------
revision 1.11
date: 1994/08/23 16:39:15;  author: mike;  state: Exp;
Add light to weapon struct
=============================================================================
RCS file: f:/miner/source/main/editor/centers.c,v
Working file: main/editor/centers.c
head: 2.0
branch:
description: Dialog box stuff for control centers, material centers, etc.
----------------------------
revision 2.0
date: 1995/02/27 11:35:30;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.9
date: 1994/11/27 23:17:28;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.8
date: 1994/10/05 22:13:46;  author: mike;  state: Exp;
Clean up Centers dialog.
----------------------------
revision 1.7
date: 1994/10/03 23:39:55;  author: mike;  state: Exp;
Call fuelcen_activate instead of fuelcen_create.
----------------------------
revision 1.6
date: 1994/08/02 12:16:35;  author: mike;  state: Exp;
Change materialization center functionality.
----------------------------
revision 1.5
date: 1994/08/01 11:04:42;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.4
date: 1994/07/22 17:19:10;  author: yuan;  state: Exp;
Working on dialog box for refuel/repair/material/control centers.
----------------------------
revision 1.3
date: 1994/07/21 19:35:09;  author: yuan;  state: Exp;
Fixed #include problem
----------------------------
revision 1.2
date: 1994/07/21 19:02:41;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/07/18 16:00:54;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/centers.h,v
Working file: main/editor/centers.h
head: 2.0
branch:
description: Center header
----------------------------
revision 2.0
date: 1995/02/27 11:35:02;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/08/02 12:16:27;  author: mike;  state: Exp;
Prototype Center_names.
----------------------------
revision 1.2
date: 1994/07/21 19:35:20;  author: yuan;  state: Exp;
Fixed #include problem
----------------------------
revision 1.1
date: 1994/07/21 19:11:36;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/curves.c,v
Working file: main/editor/curves.c
head: 2.0
branch:
description: curve generation stuff
=============================================================================
RCS file: f:/miner/source/main/editor/dcflib.h,v
Working file: main/editor/dcflib.h
head: 2.0
branch:
description: temporary demo version for mine.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:25;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/02/14 20:14:27;  author: john;  state: Exp;
First version working with new cfile stuff.
----------------------------
revision 1.2
date: 1994/02/08 13:38:21;  author: yuan;  state: Exp;
mine loading functions converted.
----------------------------
revision 1.1
date: 1994/02/08 13:23:14;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/editor.h,v
Working file: main/editor/editor.h
head: 2.0
branch:
description: Header for editor functions, data strcutures, etc.
----------------------------
revision 2.0
date: 1995/02/27 11:34:47;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.113
date: 1994/11/17 14:47:55;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.112
date: 1994/08/03 10:30:51;  author: mike;  state: Exp;
Prototype Stretch_scale_x and Stretch_scale_y.
----------------------------
revision 1.111
date: 1994/08/02 14:18:23;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.110
date: 1994/07/28 16:59:45;  author: mike;  state: Exp;
objects containing objects.
----------------------------
revision 1.109
date: 1994/07/21 12:45:18;  author: mike;  state: Exp;
Add Editor_time_of_day, prototype render_3d_in_big_window, move_object_to_mouse_click.
----------------------------
revision 1.108
date: 1994/07/20 16:43:33;  author: mike;  state: Exp;
Move a bunch of things here so eobject can access variables in med
----------------------------
revision 1.107
date: 1994/07/06 16:36:43;  author: mike;  state: Exp;
Prototype draw_world_from_game.
----------------------------
revision 1.106
date: 1994/06/24 17:04:26;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.105
date: 1994/06/08 18:13:53;  author: mike;  state: Exp;
Add prototype for med_validate_segment_all
----------------------------
revision 1.104
date: 1994/05/23 14:47:59;  author: mike;  state: Exp;
Make current segment be add segment.
----------------------------
revision 1.103
date: 1994/05/19 23:34:46;  author: mike;  state: Exp;
Change VMAG to be compatible with new uv coordinates in range 0..1.0.
----------------------------
revision 1.102
date: 1994/05/19 12:10:12;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.101
date: 1994/05/14 18:00:34;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.100
date: 1994/05/14 17:18:12;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.99
date: 1994/05/09 23:33:20;  author: mike;  state: Exp;
Current_group, make med_combine_duplicate_vertices take vlp parameter.
Change med_find_closest_threshold_segment_side take threshold as a parameter.
----------------------------
revision 1.98
date: 1994/05/06 14:39:46;  author: mike;  state: Exp;
Prototype place_object.
----------------------------
revision 1.97
date: 1994/05/04 19:16:12;  author: mike;  state: Exp;
Add prototype for Degenerate_segment_found.
----------------------------
revision 1.96
date: 1994/05/04 13:07:34;  author: matt;  state: Exp;
Moved a bunch of color constants to meddraw.c, which was the only file
that used them.
----------------------------
revision 1.95
date: 1994/05/03 11:06:08;  author: mike;  state: Exp;
Change VMAG, add constants for SEGSIZEMODE_FREE, etc.
----------------------------
revision 1.94
date: 1994/05/02 17:56:29;  author: yuan;  state: Exp;
Changed undo_status into array rather than malloced pointers.
----------------------------
revision 1.93
date: 1994/04/19 18:29:37;  author: matt;  state: Exp;
In wire-frame editor window, draw objects as "spheres"
----------------------------
revision 1.92
date: 1994/04/13 13:25:12;  author: mike;  state: Exp;
Add constant definitions for each keypad.
----------------------------
revision 1.91
date: 1994/04/01 11:17:08;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.90
date: 1994/03/21 16:54:16;  author: yuan;  state: Exp;
Fixed bogus group generated by segment rotation.
----------------------------
revision 1.89
date: 1994/02/16 13:49:07;  author: mike;  state: Exp;
enable editor to compile out.
----------------------------
revision 1.88
date: 1994/02/10 16:04:57;  author: mike;  state: Exp;
separate editor based on EDITOR flag.
----------------------------
revision 1.87
date: 1994/02/08 12:41:29;  author: yuan;  state: Exp;
Added med_load_game function prototype
----------------------------
revision 1.86
date: 1994/01/14 12:16:04;  author: yuan;  state: Exp;
Fixed function prototype for med_find_closest_threshold_segment_side.
----------------------------
revision 1.85
date: 1994/01/14 11:58:55;  author: yuan;  state: Exp;
New function in build menu. 
"Punch" through walls to force a joint formation with
closest segment:side, if the closest segment:side allows
a connection.
----------------------------
revision 1.84
date: 1994/01/06 12:57:47;  author: mike;  state: Exp;
Fix bug in assigning texture maps and uv coordinates to removable wall.
----------------------------
revision 1.83
date: 1994/01/05 17:51:04;  author: mike;  state: Exp;
Add prototypes for create_removable_wall and remove_removable_wall
----------------------------
revision 1.82
date: 1994/01/05 09:59:09;  author: yuan;  state: Exp;
Added med_load_pmine function prototype
----------------------------
revision 1.81
date: 1993/12/16 14:00:46;  author: mike;  state: Exp;
Add Curvert and Curedge.
----------------------------
revision 1.80
date: 1993/12/14 18:33:07;  author: yuan;  state: Exp;
Added prototype for timed autosave.
----------------------------
revision 1.79
date: 1993/12/10 14:48:48;  author: mike;  state: Exp;
Kill orthogonal views.
----------------------------
revision 1.78
date: 1993/12/09 16:27:16;  author: yuan;  state: Exp;
Added toggle for autosave
----------------------------
revision 1.77
date: 1993/12/09 14:02:52;  author: mike;  state: Exp;
Add prototype for med_combine_duplicate_vertices.
----------------------------
revision 1.76
date: 1993/12/08 10:59:52;  author: mike;  state: Exp;
Add DisplayCurrentRobotType and Cur_object_index.
----------------------------
revision 1.75
date: 1993/12/06 18:43:49;  author: matt;  state: Exp;
Changed object loading & handling
----------------------------
revision 1.74
date: 1993/12/05 22:50:49;  author: matt;  state: Exp;
Reworked include files in an attempt to cut down on build times
----------------------------
revision 1.73
date: 1993/12/02 17:51:31;  author: john;  state: Exp;
Changed my variable to match Mike's
----------------------------
revision 1.72
date: 1993/12/02 17:36:26;  author: john;  state: Exp;
added cur_obj_type
----------------------------
revision 1.71
date: 1993/11/30 17:06:33;  author: mike;  state: Exp;
Add prototype for med_set_vertex.
----------------------------
revision 1.70
date: 1993/11/29 19:47:11;  author: matt;  state: Exp;
Changed how coordinate axes draw routine gets vertices
Added functions alloc_vert() & free_vert()
=============================================================================
RCS file: f:/miner/source/main/editor/eglobal.c,v
Working file: main/editor/eglobal.c
head: 2.0
branch:
description: Globals for editor.
----------------------------
revision 2.0
date: 1995/02/27 11:35:52;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.35
date: 1994/05/23 14:48:15;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.34
date: 1994/05/19 12:10:30;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.33
date: 1994/05/04 19:16:27;  author: mike;  state: Exp;
Add Degenerate_segment_found.
----------------------------
revision 1.32
date: 1994/05/03 11:02:57;  author: mike;  state: Exp;
Add SegSizeMode.
----------------------------
revision 1.31
date: 1994/02/16 13:49:12;  author: mike;  state: Exp;
enable editor to compile out.
----------------------------
revision 1.30
date: 1994/02/10 15:36:35;  author: matt;  state: Exp;
Various changes to make editor compile out.
----------------------------
revision 1.29
date: 1993/12/16 14:00:33;  author: mike;  state: Exp;
Add Curvert and Curedge.
----------------------------
revision 1.28
date: 1993/12/10 14:48:28;  author: mike;  state: Exp;
Kill orthogonal views.
----------------------------
revision 1.27
date: 1993/12/08 10:58:49;  author: mike;  state: Exp;
Add Cur_object_index.
----------------------------
revision 1.26
date: 1993/12/06 18:45:45;  author: matt;  state: Exp;
Changed object loading & handling
----------------------------
revision 1.25
date: 1993/12/02 17:51:49;  author: john;  state: Exp;
Changed my variable to match Mike's.
----------------------------
revision 1.24
date: 1993/12/02 17:36:13;  author: john;  state: Exp;
Added cur_obj_type
----------------------------
revision 1.23
date: 1993/11/24 14:41:16;  author: mike;  state: Exp;
Add variable Num_tilings.
----------------------------
revision 1.22
date: 1993/11/12 16:40:55;  author: mike;  state: Exp;
Add Identity_matrix, which is an identity matrix.
----------------------------
revision 1.21
date: 1993/11/02 13:08:17;  author: mike;  state: Exp;
Add N_warning_segs and Warning_segs
----------------------------
revision 1.20
date: 1993/11/02 10:31:53;  author: mike;  state: Exp;
Document some variables,
Add Been_visited, removing it from editor.c
Add Selected_segs[] and N_selected_segs.
----------------------------
revision 1.19
date: 1993/10/31 18:07:48;  author: mike;  state: Exp;
Add variable Lock_view_to_cursegp.
----------------------------
revision 1.18
date: 1993/10/19 20:54:51;  author: matt;  state: Exp;
Changed/cleaned up window updates
----------------------------
revision 1.17
date: 1993/10/18 18:35:43;  author: mike;  state: Exp;
Move Highest_vertex_index and Highest_segment_index here because they need
to be globals.
----------------------------
revision 1.16
date: 1993/10/15 13:10:00;  author: mike;  state: Exp;
Move globals from editor.c to eglobal.c
----------------------------
revision 1.15
date: 1993/10/14 18:08:55;  author: mike;  state: Exp;
Change use of CONNECTIVITY to MAX_SIDES_PER_SEGMENT
----------------------------
revision 1.14
date: 1993/10/13 11:11:38;  author: matt;  state: Exp;
Made coordinate axes off by default
----------------------------
revision 1.13
date: 1993/10/12 09:59:27;  author: mike;  state: Exp;
Remove definition of Side_to_verts, which belongs in the game, not in the editor.
----------------------------
revision 1.12
date: 1993/10/09 15:48:07;  author: mike;  state: Exp;
Change type of Vertex_active and Side_to_verts from char to byte
Move N_found_segs and Found_segs here from render.c
Add Show_axes_flag.
----------------------------
revision 1.11
date: 1993/10/06 11:29:58;  author: mike;  state: Exp;
Add prototype for Side_opposite
----------------------------
revision 1.10
date: 1993/10/05 17:00:17;  author: mike;  state: Exp;
Add Vertex_active.
----------------------------
revision 1.9
date: 1993/10/04 17:18:16;  author: mike;  state: Exp;
Add variables Markedsegp, Markedside
----------------------------
revision 1.8
date: 1993/10/02 18:18:02;  author: mike;  state: Exp;
Added Draw_all_segments.  If !0, then all segments are drawn in draw_world.  If not set, then only those segments which
are connected to the first segment are drawn.
----------------------------
revision 1.7
date: 1993/10/01 10:03:15;  author: mike;  state: Exp;
Fix ordering of vertices on front face: Used to be 0,1,2,3 made it 3,2,1,0
----------------------------
revision 1.6
date: 1993/09/27 16:04:28;  author: mike;  state: Exp;
Add Side_to_verts to replace _verts, which was local to segment.c
----------------------------
revision 1.5
date: 1993/09/27 15:20:52;  author: mike;  state: Exp;
Add Curside, which is current side, so we can make a certain side active.
----------------------------
revision 1.4
date: 1993/09/23 15:01:13;  author: mike;  state: Exp;
Remove game specific variables, put in mglobal.c
----------------------------
revision 1.3
date: 1993/09/22 10:52:17;  author: mike;  state: Exp;
Add global New_segment
----------------------------
revision 1.2
date: 1993/09/22 09:41:21;  author: mike;  state: Exp;
Change constand and variable names to conform to coding standards.
----------------------------
revision 1.1
date: 1993/09/20 17:06:09;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/ehostage.c,v
Working file: main/editor/ehostage.c
head: 2.0
branch:
description: Routines for placing hostages, etc...
----------------------------
revision 2.0
date: 1995/02/27 11:35:45;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.17
date: 1995/01/14 19:18:05;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.16
date: 1994/11/20 14:11:41;  author: matt;  state: Exp;
Show object number in hostage window
----------------------------
revision 1.15
date: 1994/11/19 19:55:46;  author: matt;  state: Exp;
Added code to full support different hostage head clip & message for
each hostage.
----------------------------
revision 1.14
date: 1994/10/28 15:03:27;  author: john;  state: Exp;
Made digi_play_sample use volume.
----------------------------
revision 1.13
date: 1994/10/23 02:11:39;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.12
date: 1994/10/04 13:15:44;  author: john;  state: Exp;
Changed PLAY_SOUND to digi_play_sample.
----------------------------
revision 1.11
date: 1994/08/02 14:17:28;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.10
date: 1994/07/22 17:19:17;  author: yuan;  state: Exp;
Working on dialog box for refuel/repair/material/control centers.
----------------------------
revision 1.9
date: 1994/07/06 15:22:34;  author: john;  state: Exp;
Added new sound.
----------------------------
revision 1.8
date: 1994/07/06 14:26:07;  author: john;  state: Exp;
Added vclip.
----------------------------
revision 1.7
date: 1994/07/06 13:25:52;  author: john;  state: Exp;
Added compress hostages functions.
----------------------------
revision 1.6
date: 1994/07/06 12:52:27;  author: john;  state: Exp;
Fixed warnings.
----------------------------
revision 1.5
date: 1994/07/06 12:43:04;  author: john;  state: Exp;
Made generic messages for hostages.
----------------------------
revision 1.4
date: 1994/07/06 11:49:01;  author: john;  state: Exp;
Made adding hostage update current object.
----------------------------
revision 1.3
date: 1994/07/06 10:56:00;  author: john;  state: Exp;
New structures for hostages.
----------------------------
revision 1.2
date: 1994/07/01 17:57:13;  author: john;  state: Exp;
First version of not-working hostage system
----------------------------
revision 1.1
date: 1994/07/01 14:21:44;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/ehostage.h,v
Working file: main/editor/ehostage.h
head: 2.0
branch:
description: .
----------------------------
revision 2.0
date: 1995/02/27 11:35:13;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/07/01 17:57:14;  author: john;  state: Exp;
First version of not-working hostage system
----------------------------
revision 1.1
date: 1994/07/01 14:24:41;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/einit.c,v
Working file: main/editor/einit.c
head: 2.0
branch:
description: Initialization routines for editor.
----------------------------
revision 2.0
date: 1995/02/27 11:34:24;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.9
date: 1993/09/23 15:01:38;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1993/09/22 10:52:36;  author: mike;  state: Exp;
Move create_new_mine to segment.c, thereby making this a rather unimportant file.
----------------------------
revision 1.7
date: 1993/09/22 09:41:33;  author: mike;  state: Exp;
Change constant and variable names to conform to coding standards.
----------------------------
revision 1.6
date: 1993/09/21 15:09:25;  author: mike;  state: Exp;
Make create_new_mine create a multi-segment mine.
----------------------------
revision 1.5
date: 1993/09/17 16:44:31;  author: mike;  state: Exp;
new create_new_mine
----------------------------
revision 1.4
date: 1993/09/16 12:50:00;  author: mike;  state: Exp;
Create file.
----------------------------
revision 1.3
date: 1993/09/15 19:11:20;  author: matt;  state: Exp;
Hacked this to make it work
----------------------------
revision 1.2
date: 1993/09/15 18:10:54;  author: mike;  state: Exp;
no changes
----------------------------
revision 1.1
date: 1993/09/15 18:01:39;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/elight.c,v
Working file: main/editor/elight.c
head: 2.0
branch:
description: Editor lighting functions.
----------------------------
revision 2.0
date: 1995/02/27 11:35:16;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.21
date: 1994/06/14 16:59:23;  author: mike;  state: Exp;
Fix references to tmap_num2, must strip off orientation bits.
----------------------------
revision 1.20
date: 1994/05/31 12:31:57;  author: mike;  state: Exp;
fix bug in lighting -- WALL_IS_DOORWAY return value getting ignored,
almost never recursively propagated light.
----------------------------
revision 1.19
date: 1994/05/19 23:35:12;  author: mike;  state: Exp;
Support uv coordinates in range 0..1.0.
----------------------------
revision 1.18
date: 1994/05/16 12:05:29;  author: john;  state: Exp;
Made texturemap light be a fix from 0 to 1.
----------------------------
revision 1.17
date: 1994/05/14 18:00:38;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.16
date: 1994/05/03 11:04:27;  author: mike;  state: Exp;
Add function to select edge.
----------------------------
revision 1.15
date: 1994/04/20 17:29:11;  author: yuan;  state: Exp;
Fixed bug where tmaps above 256 don't light properly.
(duh!)
----------------------------
revision 1.14
date: 1994/03/22 14:20:46;  author: yuan;  state: Exp;
Made texture map 1 also cast light.  (Cumulative with tmap_num2)
----------------------------
revision 1.13
date: 1994/03/15 16:34:14;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.12
date: 1994/02/22 18:55:10;  author: yuan;  state: Exp;
Ambient lighting "shines" on doors too!
----------------------------
revision 1.11
date: 1994/02/17 12:05:55;  author: matt;  state: Exp;
Got rid of warnings
----------------------------
revision 1.10
date: 1994/02/16 22:28:03;  author: mike;  state: Exp;
fix ambient lighting and smoothing.
----------------------------
revision 1.9
date: 1994/02/14 12:05:42;  author: mike;  state: Exp;
change segment data structure.
----------------------------
revision 1.8
date: 1994/01/26 17:27:45;  author: yuan;  state: Exp;
Still not perfected ambient lighting
----------------------------
revision 1.7
date: 1994/01/25 17:58:08;  author: yuan;  state: Exp;
Added ambient lighting, and also added fixing bogus segments
functions to the editor... (they don't work fully... need to
check out seguvs.c
----------------------------
revision 1.6
date: 1994/01/24 11:46:10;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/01/24 11:03:05;  author: yuan;  state: Exp;
Set lgiht maximum added... Changes are still in progress
----------------------------
revision 1.4
date: 1994/01/18 19:16:07;  author: yuan;  state: Exp;
Added assign default to lighting pad.
----------------------------
revision 1.3
date: 1993/12/17 12:26:00;  author: mike;  state: Exp;
Add functions for setting light values on whole segment at once.
----------------------------
revision 1.2
date: 1993/12/16 16:56:12;  author: mike;  state: Exp;
Add new texture map lighting control functions.
----------------------------
revision 1.1
date: 1993/12/16 13:21:50;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/eobject.c,v
Working file: main/editor/eobject.c
head: 2.0
branch:
description: Editor object functions.
----------------------------
revision 2.0
date: 1995/02/27 11:35:14;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.93
date: 1995/02/22 15:09:04;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.92
date: 1995/01/12 12:10:32;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.91
date: 1994/12/20 17:57:02;  author: yuan;  state: Exp;
Multiplayer object stuff.
----------------------------
revision 1.90
date: 1994/11/27 23:17:49;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.89
date: 1994/11/17 14:48:06;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.88
date: 1994/11/14 11:40:03;  author: mike;  state: Exp;
fix default robot behavior.
----------------------------
revision 1.87
date: 1994/10/25 10:51:31;  author: matt;  state: Exp;
Vulcan cannon powerups now contain ammo count
----------------------------
revision 1.86
date: 1994/10/23 02:11:40;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.85
date: 1994/10/17 21:35:32;  author: matt;  state: Exp;
Added support for new Control Center/Main Reactor
----------------------------
revision 1.84
date: 1994/10/10 17:23:13;  author: mike;  state: Exp;
Verify that not placing too many player objects.
----------------------------
revision 1.83
date: 1994/09/24 14:15:35;  author: mike;  state: Exp;
Custom colored object support.
----------------------------
revision 1.82
date: 1994/09/15 22:58:12;  author: matt;  state: Exp;
Made new objects be oriented to their segment
Added keypad function to flip an object upside-down
----------------------------
revision 1.81
date: 1994/09/01 10:58:41;  author: matt;  state: Exp;
Sizes for powerups now specified in bitmaps.tbl; blob bitmaps now plot
correctly if width & height of bitmap are different.
----------------------------
revision 1.80
date: 1994/08/25 21:58:14;  author: mike;  state: Exp;
Write ObjectSelectPrevInMine and something else, I think...
----------------------------
revision 1.79
date: 1994/08/16 20:19:54;  author: mike;  state: Exp;
Make STILL default (from CHASE_OBJECT).
----------------------------
revision 1.78
date: 1994/08/14 23:15:45;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.77
date: 1994/08/13 14:58:43;  author: matt;  state: Exp;
Finished adding support for miscellaneous objects
----------------------------
revision 1.76
date: 1994/08/12 22:24:58;  author: matt;  state: Exp;
Generalized polygon objects (such as control center)
----------------------------
revision 1.75
date: 1994/08/09 16:06:11;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.74
date: 1994/08/05 18:18:55;  author: matt;  state: Exp;
Made object rotation have 4x resolution, and SHIFT+rotate do old resolution.
----------------------------
revision 1.73
date: 1994/08/01 13:30:56;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
=============================================================================
RCS file: f:/miner/source/main/editor/eobject.h,v
Working file: main/editor/eobject.h
head: 2.0
branch:
description: Header for eobject.c
----------------------------
revision 2.0
date: 1995/02/27 11:35:30;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.5
date: 1994/09/15 22:57:46;  author: matt;  state: Exp;
Made new objects be oriented to their segment
Added keypad function to flip an object upside-down
----------------------------
revision 1.4
date: 1994/08/25 21:57:23;  author: mike;  state: Exp;
Prototype ObjectSelectPrevInMine, and probably wrote it too, though not in this file.
----------------------------
revision 1.3
date: 1994/08/05 18:17:48;  author: matt;  state: Exp;
Made object rotation have 4x resolution, and SHIFT+rotate do old resolution.
----------------------------
revision 1.2
date: 1994/05/14 18:00:59;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 17:36:30;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/eswitch.c,v
Working file: main/editor/eswitch.c
head: 2.0
branch:
description: Editor switch functions. 
----------------------------
revision 2.0
date: 1995/02/27 11:35:18;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.33
date: 1995/01/14 19:18:04;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.32
date: 1994/11/27 23:18:01;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.31
date: 1994/11/07 10:55:42;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.30
date: 1994/10/13 13:15:06;  author: yuan;  state: Exp;
Fixed trigger removal bug.
----------------------------
revision 1.29
date: 1994/10/06 21:24:16;  author: matt;  state: Exp;
Added switch for exit to secret level
----------------------------
revision 1.28
date: 1994/09/29 17:06:10;  author: matt;  state: Exp;
Took out references to obsolete external triggers
----------------------------
revision 1.27
date: 1994/09/28 13:40:34;  author: yuan;  state: Exp;
Fixed control center trigger bug.
----------------------------
revision 1.26
date: 1994/09/26 16:25:04;  author: yuan;  state: Exp;
Only allow one binding of each matcen .
----------------------------
revision 1.25
date: 1994/09/24 17:10:19;  author: yuan;  state: Exp;
Added Matcen triggers.
----------------------------
revision 1.24
date: 1994/09/20 18:23:58;  author: yuan;  state: Exp;
Killed the BOGIFYING WALL DRAGON...
There was a problem with triggers being created that had bogus
pointers back to their segments.
----------------------------
revision 1.23
date: 1994/08/25 21:56:33;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.22
date: 1994/08/15 18:06:54;  author: yuan;  state: Exp;
Added external trigger.
----------------------------
revision 1.21
date: 1994/07/22 17:18:47;  author: yuan;  state: Exp;
Working on dialog box for refuel/repair/material/control centers.
----------------------------
revision 1.20
date: 1994/07/06 10:55:55;  author: john;  state: Exp;
New structures for hostages.
----------------------------
revision 1.19
date: 1994/07/01 16:36:20;  author: yuan;  state: Exp;
Working on triggers that aren't always on.
----------------------------
revision 1.18
date: 1994/06/21 18:50:14;  author: john;  state: Exp;
Made ESC key exit dialog.
----------------------------
revision 1.17
date: 1994/06/20 22:30:36;  author: yuan;  state: Exp;
Fixed crazy runaway trigger bug that Adam found
----------------------------
revision 1.16
date: 1994/05/31 10:03:48;  author: yuan;  state: Exp;
Fixed compiler warnings...
----------------------------
revision 1.15
date: 1994/05/30 20:22:30;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.14
date: 1994/05/27 12:33:50;  author: yuan;  state: Exp;
Fixed some bugs when adding trigger.
----------------------------
revision 1.13
date: 1994/05/27 10:34:29;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.12
date: 1994/05/25 18:15:02;  author: yuan;  state: Exp;
Fixed make warnings to save 10 cents!
----------------------------
revision 1.11
date: 1994/05/25 18:08:03;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.10
date: 1994/04/29 15:05:50;  author: yuan;  state: Exp;
Trigger/Link removing stuff still needs to be fixed.
----------------------------
revision 1.9
date: 1994/04/28 23:25:34;  author: yuan;  state: Exp;
Obliterated warnings.
----------------------------
revision 1.8
date: 1994/04/28 18:08:06;  author: yuan;  state: Exp;
Fixed trigger bug.
=============================================================================
RCS file: f:/miner/source/main/editor/eswitch.h,v
Working file: main/editor/eswitch.h
head: 2.0
branch:
description: Headers for switch adding functions
----------------------------
revision 2.0
date: 1995/02/27 11:35:40;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.6
date: 1994/05/30 20:22:35;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.5
date: 1994/05/27 10:34:35;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.4
date: 1994/05/25 18:08:39;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.3
date: 1994/04/28 23:46:56;  author: yuan;  state: Exp;
Added prototype for remove_trigger.
----------------------------
revision 1.2
date: 1994/03/15 16:34:20;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.1
date: 1994/03/10 14:49:03;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/fixseg.c,v
Working file: main/editor/fixseg.c
head: 2.0
branch:
description: Functions to make faces planar and probably other things.
----------------------------
revision 2.0
date: 1995/02/27 11:36:25;  author: john;  state: Exp;
Version 2.0. Ansi-fied.
----------------------------
revision 1.7
date: 1994/11/27 23:18:01;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.6
date: 1994/11/17 14:48:00;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.5
date: 1994/08/04 19:13:26;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.4
date: 1994/02/10 15:36:31;  author: matt;  state: Exp;
Various changes to make editor compile out.
----------------------------
revision 1.3
date: 1993/12/03 18:45:09;  author: mike;  state: Exp;
initial stuff.
----------------------------
revision 1.2
date: 1993/11/30 17:05:09;  author: mike;  state: Exp;
Added part of code to make a side planar.
----------------------------
revision 1.1
date: 1993/11/30 10:05:36;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/func.c,v
Working file: main/editor/func.c
head: 1.1
branch:
description: .
----------------------------
revision 1.1
date: 1994/11/21 14:13:17;  author: matt;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1993/11/15 12:28:17;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/group.c,v
Working file: main/editor/group.c
head: 2.0
branch:
description: group functions
----------------------------
revision 2.0
date: 1995/02/27 11:35:05;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.65
date: 1994/11/27 23:17:21;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.64
date: 1994/11/17 14:48:08;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.63
date: 1994/11/17 11:38:56;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.62
date: 1994/10/27 10:06:20;  author: mike;  state: Exp;
adapt to no inverse table.
----------------------------
revision 1.61
date: 1994/10/03 23:40:08;  author: mike;  state: Exp;
New fuelcen_activate parameters.
----------------------------
revision 1.60
date: 1994/09/28 17:32:01;  author: mike;  state: Exp;
Make group copying work for copying a group's walls.
----------------------------
revision 1.59
date: 1994/09/20 14:35:28;  author: mike;  state: Exp;
Fix bugs in group subtraction code.  Don't allow to attach a group if the attach side is unfree.
----------------------------
revision 1.58
date: 1994/08/25 21:58:07;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.57
date: 1994/08/04 19:12:58;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.56
date: 1994/08/03 15:40:01;  author: mike;  state: Exp;
Enable calls to compress_mine to get rid of bugs in group
copying -- was creating invalid segments.
----------------------------
revision 1.55
date: 1994/06/30 10:59:13;  author: yuan;  state: Exp;
Fixed texture translations.
----------------------------
revision 1.54
date: 1994/06/22 17:36:00;  author: mike;  state: Exp;
Fix bug in group creation, was stuffing first two group segs over number
of segments in group (then number would overwrite them), so there would
be two bogus segments in group, one of which was always 0, the other
would be a small number.
----------------------------
revision 1.53
date: 1994/06/14 17:07:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.52
date: 1994/06/14 16:59:09;  author: mike;  state: Exp;
Fix references to tmap_num2, must strip off orientation bits.
----------------------------
revision 1.51
date: 1994/05/23 14:56:37;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.50
date: 1994/05/19 12:10:01;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.49
date: 1994/05/17 10:33:59;  author: matt;  state: Exp;
Deleted unused get_free_object_num() func.
----------------------------
revision 1.48
date: 1994/05/09 23:34:17;  author: mike;  state: Exp;
Punch all sloppy sides in a group, speed up segment rotation.
----------------------------
revision 1.47
date: 1994/05/06 14:39:56;  author: mike;  state: Exp;
Make objects move and copy with groups.
----------------------------
revision 1.46
date: 1994/05/05 16:05:54;  author: yuan;  state: Exp;
Added fuelcen/repaircens to groups...
Eventually, walls will be added too...
----------------------------
revision 1.45
date: 1994/05/05 12:56:25;  author: yuan;  state: Exp;
Fixed a bunch of group bugs.
----------------------------
revision 1.44
date: 1994/05/04 14:10:04;  author: mike;  state: Exp;
Assert added to prevent bombing out when current_group = -1
----------------------------
revision 1.43
date: 1994/05/02 17:59:18;  author: yuan;  state: Exp;
Changed undo_status into an array rather than malloced pointers.
----------------------------
revision 1.42
date: 1994/05/02 15:23:19;  author: mike;  state: Exp;
Call med_combine_duplicate_vertices in med_copy_group and med_move_group.
----------------------------
revision 1.41
date: 1994/04/27 12:11:23;  author: mike;  state: Exp;
Fix bug in group rotation.
----------------------------
revision 1.40
date: 1994/04/22 10:07:37;  author: yuan;  state: Exp;
Make sure we don't get obj->next equal itself error.
----------------------------
revision 1.39
date: 1994/04/18 17:15:13;  author: yuan;  state: Exp;
Added error checking for select prev, and next group.
=============================================================================
RCS file: f:/miner/source/main/editor/info.c,v
Working file: main/editor/info.c
head: 2.0
branch:
description: Print debugging info in ui.
----------------------------
revision 2.0
date: 1995/02/27 11:35:34;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.42
date: 1995/02/22 15:12:50;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.41
date: 1994/12/08 13:59:39;  author: matt;  state: Exp;
*** empty log message ***
----------------------------
revision 1.40
date: 1994/09/30 00:38:30;  author: mike;  state: Exp;
Fix some diagnostic messages
----------------------------
revision 1.39
date: 1994/09/29 20:13:12;  author: mike;  state: Exp;
Clean up some text, prevent it from writing outside canvas.
----------------------------
revision 1.38
date: 1994/09/29 09:32:17;  author: mike;  state: Exp;
Fix text clipping problem in UI keypad info text.
----------------------------
revision 1.37
date: 1994/09/25 23:42:20;  author: matt;  state: Exp;
Took out references to obsolete constants
----------------------------
revision 1.36
date: 1994/08/25 21:57:05;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.35
date: 1994/08/23 16:39:50;  author: mike;  state: Exp;
mode replaced by behavior in ai_info.
----------------------------
revision 1.34
date: 1994/07/18 10:45:23;  author: mike;  state: Exp;
Fix erase window in texture pads after adding more click-boxes.
----------------------------
revision 1.33
date: 1994/07/15 12:34:10;  author: mike;  state: Exp;
Remove use of AIM_FOLLOW_PATH_CIRCULAR.
----------------------------
revision 1.32
date: 1994/06/17 17:13:46;  author: yuan;  state: Exp;
Fixed text so it doesn't overflow screen
----------------------------
revision 1.31
date: 1994/06/01 17:22:31;  author: matt;  state: Exp;
Set font color before drawing info; got rid of superfluous %d
----------------------------
revision 1.30
date: 1994/05/29 23:40:29;  author: matt;  state: Exp;
Killed reference to now-unused movement type
----------------------------
revision 1.29
date: 1994/05/29 22:52:32;  author: matt;  state: Exp;
Deleted unused stuff
----------------------------
revision 1.28
date: 1994/05/27 10:34:16;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.27
date: 1994/05/17 10:34:35;  author: matt;  state: Exp;
Changed Num_objects to num_objects, since it's not really global anymore
----------------------------
revision 1.26
date: 1994/05/14 17:17:59;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.25
date: 1994/05/12 14:47:07;  author: mike;  state: Exp;
Adjust for Ai_states killed, replaced by field in object structure.
----------------------------
revision 1.24
date: 1994/05/06 12:52:11;  author: yuan;  state: Exp;
Adding some gamesave checks...
----------------------------
revision 1.23
date: 1994/05/03 19:21:28;  author: matt;  state: Exp;
Removed reference to robot flythrough mode, which doesn't exist anymore
----------------------------
revision 1.22
date: 1994/05/03 11:03:06;  author: mike;  state: Exp;
Customize text for segment sizing keypad.
----------------------------
revision 1.21
date: 1994/04/29 15:05:40;  author: yuan;  state: Exp;
More info added...
----------------------------
revision 1.20
date: 1994/04/22 17:45:58;  author: john;  state: Exp;
MAde top 2 bits of paste-ons pick the 
orientation of the bitmap.
----------------------------
revision 1.19
date: 1994/04/20 17:29:30;  author: yuan;  state: Exp;
Added tmap_num info.
----------------------------
revision 1.18
date: 1994/04/13 19:12:55;  author: mike;  state: Exp;
Fix font color problems in keypads.
----------------------------
revision 1.17
date: 1994/04/13 13:26:37;  author: mike;  state: Exp;
Kill a mprintf.
----------------------------
revision 1.16
date: 1994/04/13 13:24:44;  author: mike;  state: Exp;
Separate info display, customize for each keypad.
----------------------------
revision 1.15
date: 1994/03/19 17:21:31;  author: yuan;  state: Exp;
Wall system implemented until specific features need to be added...
(Needs to be hammered on though.)
----------------------------
revision 1.14
date: 1994/02/22 18:13:13;  author: yuan;  state: Exp;
Added tmap number field.
----------------------------
revision 1.13
date: 1994/02/17 09:46:27;  author: matt;  state: Exp;
Removed include of slew.h
----------------------------
revision 1.12
date: 1994/02/16 19:58:56;  author: yuan;  state: Exp;
Added type to info
----------------------------
revision 1.11
date: 1994/02/16 16:48:08;  author: yuan;  state: Exp;
Added Curside.
----------------------------
revision 1.10
date: 1994/02/03 17:26:43;  author: yuan;  state: Exp;
Fixed formatting of vertex numbering.
----------------------------
revision 1.9
date: 1994/01/31 12:17:06;  author: yuan;  state: Exp;
Make sure Num_segments, etc. are drawn.
----------------------------
revision 1.8
date: 1994/01/22 13:43:12;  author: yuan;  state: Exp;
Cosmetic fixes.
----------------------------
revision 1.7
date: 1994/01/21 12:14:59;  author: yuan;  state: Exp;
Fixed cosmetic problem
----------------------------
revision 1.6
date: 1994/01/21 12:01:03;  author: yuan;  state: Exp;
Added segment and vertex info
----------------------------
revision 1.5
date: 1994/01/20 11:28:11;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1994/01/19 10:44:42;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/01/19 10:32:36;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/01/19 09:34:31;  author: john;  state: Exp;
First version.
----------------------------
revision 1.1
date: 1994/01/19 09:30:43;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/info.h,v
Working file: main/editor/info.h
head: 2.0
branch:
description: Header for info.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:32;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/05/14 17:18:17;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:30:39;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kbuild.c,v
Working file: main/editor/kbuild.c
head: 2.0
branch:
description: Functions for building parts of mines.
----------------------------
revision 2.0
date: 1995/02/27 11:35:43;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.20
date: 1995/02/22 11:00:47;  author: yuan;  state: Exp;
prototype include.
----------------------------
revision 1.19
date: 1995/02/22 10:59:01;  author: yuan;  state: Exp;
Save sloppy mine before punching.
----------------------------
revision 1.18
date: 1994/08/25 21:57:56;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.17
date: 1994/05/16 12:00:52;  author: mike;  state: Exp;
Call med_combine_duplicate_vertices before various build functions.
----------------------------
revision 1.16
date: 1994/05/09 23:34:31;  author: mike;  state: Exp;
Punch all sloppy sides in a group.
----------------------------
revision 1.15
date: 1994/02/16 15:23:06;  author: yuan;  state: Exp;
Checking in for editor make.
----------------------------
revision 1.14
date: 1994/01/21 12:01:31;  author: yuan;  state: Exp;
Added clearer editor_status messages (sloppy joint vs. joint)
----------------------------
revision 1.13
date: 1994/01/14 11:59:52;  author: yuan;  state: Exp;
New function in build menu. 
"Punch" through walls to force a joint formation with
closest segment:side, if the closest segment:side allows
a connection.
----------------------------
revision 1.12
date: 1994/01/07 17:45:05;  author: yuan;  state: Exp;
Just changed some tabs and formatting I believe.
----------------------------
revision 1.11
date: 1993/12/06 19:33:36;  author: yuan;  state: Exp;
Fixed autosave stuff so that undo restores Cursegp and
Markedsegp
----------------------------
revision 1.10
date: 1993/12/02 12:39:15;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.9
date: 1993/11/12 14:31:31;  author: yuan;  state: Exp;
Added warn_if_concave_segments.
----------------------------
revision 1.8
date: 1993/11/11 17:12:45;  author: yuan;  state: Exp;
Fixed display of messages, so that concave segment
warning doesn't wipe them out immediately.
----------------------------
revision 1.7
date: 1993/11/09 12:09:28;  author: mike;  state: Exp;
Remove extern for mine_filename, put it in editor.h
----------------------------
revision 1.6
date: 1993/11/08 19:14:06;  author: yuan;  state: Exp;
Added Undo command (not working yet)
----------------------------
revision 1.5
date: 1993/11/05 17:32:36;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.4
date: 1993/11/01 16:53:51;  author: mike;  state: Exp;
Add CreateAdjacentJointsSegment and CreateAdjacentJointsAll
----------------------------
revision 1.3
date: 1993/11/01 11:24:59;  author: mike;  state: Exp;
Add CreateJointAdjacent
----------------------------
revision 1.2
date: 1993/10/29 19:13:11;  author: yuan;  state: Exp;
Added diagnostic messages
----------------------------
revision 1.1
date: 1993/10/13 18:53:27;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kcurve.c,v
Working file: main/editor/kcurve.c
head: 2.0
branch:
description: Functions for curve stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:35:29;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.17
date: 1994/08/25 21:56:43;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.16
date: 1994/05/14 17:17:54;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.15
date: 1994/01/28 10:52:24;  author: mike;  state: Exp;
Bind set_average_light_on_curside to DeleteCurve
----------------------------
revision 1.14
date: 1994/01/25 17:34:47;  author: mike;  state: Exp;
Stupidly bound fix_bogus_uvs_all to delete curve.
----------------------------
revision 1.13
date: 1993/12/06 19:34:15;  author: yuan;  state: Exp;
Fixed autosave so that undo restores Cursegp
and Markedsegp
----------------------------
revision 1.12
date: 1993/12/02 12:39:28;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.11
date: 1993/11/12 13:08:38;  author: yuan;  state: Exp;
Fixed warning for concave segment so it appears after any
"less important" diagnostic messages.
----------------------------
revision 1.10
date: 1993/11/11 17:03:25;  author: yuan;  state: Exp;
Fixed undo-status display
----------------------------
revision 1.9
date: 1993/11/11 15:55:11;  author: yuan;  state: Exp;
Added undo messages.
----------------------------
revision 1.8
date: 1993/11/08 19:13:30;  author: yuan;  state: Exp;
Added Undo command (not working yet)
----------------------------
revision 1.7
date: 1993/11/05 17:32:51;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.6
date: 1993/10/29 19:12:41;  author: yuan;  state: Exp;
Added diagnostic messages
----------------------------
revision 1.5
date: 1993/10/29 16:26:30;  author: yuan;  state: Exp;
Added diagnostic messages for curve generation
----------------------------
revision 1.4
date: 1993/10/22 19:47:30;  author: yuan;  state: Exp;
Can't build curve if Marked Seg has a segment attached.
----------------------------
revision 1.3
date: 1993/10/19 20:54:50;  author: matt;  state: Exp;
Changed/cleaned up window updates
----------------------------
revision 1.2
date: 1993/10/14 13:52:17;  author: mike;  state: Exp;
Add return value to AssignTexture
----------------------------
revision 1.1
date: 1993/10/13 18:53:11;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kdefs.h,v
Working file: main/editor/kdefs.h
head: 2.1
branch:
description: Prototypes for functions called from keypresses or buttons.
----------------------------
revision 2.1
date: 1995/03/08 16:07:10;  author: yuan;  state: Exp;
Added segment sizing default functions.
----------------------------
revision 2.0
date: 1995/02/27 11:34:34;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.97
date: 1995/01/12 12:10:22;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.96
date: 1994/10/27 10:06:33;  author: mike;  state: Exp;
kill macro stuff.
----------------------------
revision 1.95
date: 1994/09/26 23:22:59;  author: matt;  state: Exp;
Added functions to keep player's starting position from getting messed up
----------------------------
revision 1.94
date: 1994/09/24 14:15:24;  author: mike;  state: Exp;
Custom colored object support.
----------------------------
revision 1.93
date: 1994/09/23 18:03:52;  author: yuan;  state: Exp;
Finished wall checking code.
----------------------------
revision 1.92
date: 1994/09/14 16:50:49;  author: yuan;  state: Exp;
Added load mine only function
----------------------------
revision 1.91
date: 1994/08/16 18:11:03;  author: yuan;  state: Exp;
Maded C place you in the center of a segment.
----------------------------
revision 1.90
date: 1994/08/15 17:47:55;  author: yuan;  state: Exp;
Added external walls.
----------------------------
revision 1.89
date: 1994/08/03 10:32:10;  author: mike;  state: Exp;
Texture map propagation without uv assignment.
----------------------------
revision 1.88
date: 1994/08/02 14:18:01;  author: mike;  state: Exp;
Add Object dialog.
----------------------------
revision 1.87
date: 1994/07/22 17:19:15;  author: yuan;  state: Exp;
Working on dialog box for refuel/repair/material/control centers.
----------------------------
revision 1.86
date: 1994/07/21 17:26:49;  author: matt;  state: Exp;
When new mine created, the default save filename is now reset
----------------------------
revision 1.85
date: 1994/07/21 12:47:26;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.84
date: 1994/07/14 14:49:19;  author: yuan;  state: Exp;
Added prototype
----------------------------
revision 1.83
date: 1994/07/14 14:43:09;  author: yuan;  state: Exp;
Added new rotation functions
----------------------------
revision 1.82
date: 1994/07/01 17:57:04;  author: john;  state: Exp;
First version of not-working hostage system
----------------------------
revision 1.81
date: 1994/06/21 12:57:27;  author: yuan;  state: Exp;
Remove center from segment function added to menu.
----------------------------
revision 1.80
date: 1994/06/17 16:05:20;  author: mike;  state: Exp;
Prototype set_average_light_on_all_quick.
----------------------------
revision 1.79
date: 1994/05/31 16:43:24;  author: john;  state: Exp;
Added hooks to create materialization centers.
----------------------------
revision 1.78
date: 1994/05/27 10:34:40;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.77
date: 1994/05/25 18:08:44;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.76
date: 1994/05/09 23:34:04;  author: mike;  state: Exp;
SubtractFromGroup, CreateSloppyAdjacentJointsGroup, ClearFoundList
----------------------------
revision 1.75
date: 1994/05/03 18:31:17;  author: mike;  state: Exp;
Add PerturbCurside.
----------------------------
revision 1.74
date: 1994/05/03 11:04:39;  author: mike;  state: Exp;
Add prototypes for new segment sizing functions.
----------------------------
revision 1.73
date: 1994/04/29 10:32:04;  author: yuan;  state: Exp;
Added door 8... Door typing system should be replaced soon.
=============================================================================
RCS file: f:/miner/source/main/editor/kfuncs.c,v
Working file: main/editor/kfuncs.c
head: 2.1
branch:
description: .
----------------------------
revision 2.1
date: 1995/03/08 16:07:23;  author: yuan;  state: Exp;
Added segment sizing default functions.
----------------------------
revision 2.0
date: 1995/02/27 11:34:45;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.112
date: 1995/01/12 12:10:31;  author: yuan;  state: Exp;
Added coop object capability.
----------------------------
revision 1.111
date: 1994/11/27 23:17:16;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.110
date: 1994/11/23 12:17:22;  author: mike;  state: Exp;
bind retmap functions.
----------------------------
revision 1.109
date: 1994/11/19 15:20:54;  author: mike;  state: Exp;
rip out unused code and data.
----------------------------
revision 1.108
date: 1994/11/17 11:39:02;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.107
date: 1994/10/27 10:06:12;  author: mike;  state: Exp;
kill macro stuff.
----------------------------
revision 1.106
date: 1994/10/18 15:31:43;  author: mike;  state: Exp;
Bind mine correction function to test keypad, key=1.
----------------------------
revision 1.105
date: 1994/09/26 23:22:06;  author: matt;  state: Exp;
Added functions to keep player's starting position from getting messed up
----------------------------
revision 1.104
date: 1994/09/24 14:15:41;  author: mike;  state: Exp;
Custom colored object support.
----------------------------
revision 1.103
date: 1994/09/23 18:03:54;  author: yuan;  state: Exp;
Finished wall checking code.
----------------------------
revision 1.102
date: 1994/09/22 19:03:52;  author: mike;  state: Exp;
Test function test_shortpos on ctrl-keypad3
----------------------------
revision 1.101
date: 1994/09/20 14:35:56;  author: mike;  state: Exp;
Bind functions to keypad 2, 3.
----------------------------
revision 1.100
date: 1994/09/15 22:58:10;  author: matt;  state: Exp;
Made new objects be oriented to their segment
Added keypad function to flip an object upside-down
----------------------------
revision 1.99
date: 1994/09/14 16:50:50;  author: yuan;  state: Exp;
Added load mine only function
----------------------------
revision 1.98
date: 1994/08/25 21:57:52;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.97
date: 1994/08/16 18:10:52;  author: yuan;  state: Exp;
Maded C place you in the center of a segment.
----------------------------
revision 1.96
date: 1994/08/15 17:48:01;  author: yuan;  state: Exp;
Added external walls.
----------------------------
revision 1.95
date: 1994/08/13 17:32:38;  author: mike;  state: Exp;
test function.
----------------------------
revision 1.94
date: 1994/08/05 21:17:57;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.93
date: 1994/08/05 18:18:52;  author: matt;  state: Exp;
Made object rotation have 4x resolution, and SHIFT+rotate do old resolution.
----------------------------
revision 1.92
date: 1994/08/03 10:31:06;  author: mike;  state: Exp;
Add texture map propagation without uv assignment.
----------------------------
revision 1.91
date: 1994/08/02 14:17:00;  author: mike;  state: Exp;
Clean up dialog boxes, add one for Matt.
----------------------------
revision 1.90
date: 1994/07/30 17:04:47;  author: mike;  state: Exp;
Bind key for max_depth on path testing.
=============================================================================
RCS file: f:/miner/source/main/editor/kfuncs.h,v
Working file: main/editor/kfuncs.h
head: 2.0
branch:
description: Header for kfuncs.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:33;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/05/14 17:18:18;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:37:14;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kgame.c,v
Working file: main/editor/kgame.c
head: 2.0
branch:
description: Game Loading editor functions
----------------------------
revision 2.0
date: 1995/02/27 11:34:55;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.25
date: 1995/02/23 10:18:05;  author: allender;  state: Exp;
fixed parameter mismatch with compute_segment_center
----------------------------
revision 1.24
date: 1994/11/17 11:38:59;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.23
date: 1994/11/09 11:58:56;  author: matt;  state: Exp;
Fixed small bug
----------------------------
revision 1.22
date: 1994/10/20 12:48:02;  author: matt;  state: Exp;
Replaced old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.21
date: 1994/10/15 19:08:47;  author: mike;  state: Exp;
Fix bug if player object out of mine at save.
----------------------------
revision 1.20
date: 1994/10/13 13:15:43;  author: matt;  state: Exp;
Properly relink player object when bashed for "permanant" position save
----------------------------
revision 1.19
date: 1994/10/11 17:07:23;  author: matt;  state: Exp;
Fixed problem that sometimes caused bad player segnum after compress
----------------------------
revision 1.18
date: 1994/10/08 17:10:40;  author: matt;  state: Exp;
Correctly set current_level_num when loading/creating mine in editor
----------------------------
revision 1.17
date: 1994/09/26 23:46:13;  author: matt;  state: Exp;
Improved player position save code
----------------------------
revision 1.16
date: 1994/09/26 23:22:50;  author: matt;  state: Exp;
Added functions to keep player's starting position from getting messed up
----------------------------
revision 1.15
date: 1994/09/14 16:50:51;  author: yuan;  state: Exp;
Added load mine only function
----------------------------
revision 1.14
date: 1994/07/22 12:36:50;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.13
date: 1994/07/21 17:26:26;  author: matt;  state: Exp;
When new mine created, the default save filename is now reset
----------------------------
revision 1.12
date: 1994/06/03 12:27:05;  author: yuan;  state: Exp;
Fixed restore game state.
----------------------------
revision 1.11
date: 1994/05/30 11:36:09;  author: yuan;  state: Exp;
Do gamesave if new mine is loaded and game is entered...
----------------------------
revision 1.10
date: 1994/05/14 18:00:33;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.9
date: 1994/05/10 12:15:44;  author: yuan;  state: Exp;
Fixed load_game functions to match prototype.
----------------------------
revision 1.8
date: 1994/05/06 12:52:15;  author: yuan;  state: Exp;
Adding some gamesave checks...
----------------------------
revision 1.7
date: 1994/05/04 17:32:05;  author: yuan;  state: Exp;
med_load_game changed to load_game
med_save_game changed to save_game
=============================================================================
RCS file: f:/miner/source/main/editor/khelp.c,v
Working file: main/editor/khelp.c
head: 2.0
branch:
description: Functions for showing help.
----------------------------
revision 2.0
date: 1995/02/27 11:34:27;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.5
date: 1993/12/02 12:39:30;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.4
date: 1993/11/05 17:32:57;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.3
date: 1993/11/03 13:42:41;  author: yuan;  state: Exp;
Updated help commands
----------------------------
revision 1.2
date: 1993/10/22 19:48:07;  author: yuan;  state: Exp;
added ctrl-shift-keypad comment in help.
----------------------------
revision 1.1
date: 1993/10/13 18:53:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kmine.c,v
Working file: main/editor/kmine.c
head: 2.0
branch:
description: Functions to change entire mines.
----------------------------
revision 2.0
date: 1995/02/27 11:34:22;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.53
date: 1995/02/22 15:04:52;  author: allender;  state: Exp;
remove anonymous unions from vecmat stuff
----------------------------
revision 1.52
date: 1994/11/27 23:17:13;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.51
date: 1994/11/17 14:48:05;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.50
date: 1994/11/17 11:38:49;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.49
date: 1994/10/08 17:10:22;  author: matt;  state: Exp;
Correctly set current_level_num when loading/creating mine in editor
----------------------------
revision 1.48
date: 1994/10/03 11:30:45;  author: matt;  state: Exp;
Fixed problem with permanant player position when creating a new mine
----------------------------
revision 1.47
date: 1994/09/29 17:42:19;  author: matt;  state: Exp;
Cleaned up game_mode a little
----------------------------
revision 1.46
date: 1994/08/18 10:48:21;  author: john;  state: Exp;
Cleaned up game sequencing.
----------------------------
revision 1.45
date: 1994/08/09 16:05:36;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.44
date: 1994/07/22 12:37:06;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.43
date: 1994/07/21 17:26:50;  author: matt;  state: Exp;
When new mine created, the default save filename is now reset
----------------------------
revision 1.42
date: 1994/06/08 14:29:25;  author: matt;  state: Exp;
Took out support for old mine versions
----------------------------
revision 1.41
date: 1994/06/03 12:28:04;  author: yuan;  state: Exp;
Fixed game restore state.
----------------------------
revision 1.40
date: 1994/05/19 12:10:29;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.39
date: 1994/05/14 17:17:56;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.38
date: 1994/05/12 14:47:47;  author: mike;  state: Exp;
New previous mine structure and object structure.
----------------------------
revision 1.37
date: 1994/05/06 12:52:12;  author: yuan;  state: Exp;
Adding some gamesave checks...
----------------------------
revision 1.36
date: 1994/05/05 20:37:02;  author: yuan;  state: Exp;
Added gamesave checks when entering and leaving the game.
Removed Load Game Save Game functions...
Now there is only Load/Save Mine... (equivalent to old Load/Save Game)
----------------------------
revision 1.35
date: 1994/04/27 22:57:54;  author: matt;  state: Exp;
Made sit mine load from path of sit file
----------------------------
revision 1.34
date: 1994/04/21 18:29:55;  author: matt;  state: Exp;
Don't use same variable for mine filename & sit filename
----------------------------
revision 1.33
date: 1994/04/21 18:21:43;  author: matt;  state: Exp;
Strip path from mine filename in sit file
----------------------------
revision 1.32
date: 1994/04/18 10:54:35;  author: mike;  state: Exp;
Add situation save/load
----------------------------
revision 1.31
date: 1994/02/16 16:47:54;  author: yuan;  state: Exp;
Removed temp.min.
----------------------------
revision 1.30
date: 1994/02/16 15:22:51;  author: yuan;  state: Exp;
Checking in for editor make.
----------------------------
revision 1.29
date: 1994/02/09 15:04:23;  author: yuan;  state: Exp;
brought back save ability
----------------------------
revision 1.28
date: 1994/02/08 12:42:45;  author: yuan;  state: Exp;
fixed log.
----------------------------
revision 1.27
date: 1994/02/08 12:41:47;  author: yuan;  state: Exp;
----------------------------
revision 1.26
date: 1994/01/13 13:26:05;  author: yuan;  state: Exp;
Added med_compress_mine when creating new mine or
when loading mine
----------------------------
revision 1.25
date: 1994/01/11 12:03:23;  author: yuan;  state: Exp;
Fixed so that when old mine implementation not in,
message is displayed when you try to load an old mine
----------------------------
revision 1.24
date: 1994/01/11 11:47:57;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/01/05 09:59:56;  author: yuan;  state: Exp;
Added load old mine funciton
----------------------------
revision 1.22
date: 1993/12/16 15:58:08;  author: john;  state: Exp;
moved texture selection page to texpage.c
,
----------------------------
revision 1.21
date: 1993/12/10 14:48:55;  author: mike;  state: Exp;
Kill orthogonal views.
----------------------------
revision 1.20
date: 1993/12/03 16:44:06;  author: yuan;  state: Exp;
Changed some 0.0 return values to 0
----------------------------
revision 1.19
date: 1993/12/02 12:39:34;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.18
date: 1993/11/17 13:14:48;  author: yuan;  state: Exp;
Moved Save Group to group.c
----------------------------
revision 1.17
date: 1993/11/16 17:25:48;  author: yuan;  state: Exp;
Unworking group function added... 
----------------------------
revision 1.16
date: 1993/11/15 14:46:25;  author: john;  state: Exp;
Changed Menu to MenuX
----------------------------
revision 1.15
date: 1993/11/08 19:13:45;  author: yuan;  state: Exp;
Added Undo command (not working yet)
=============================================================================
RCS file: f:/miner/source/main/editor/ksegmove.c,v
Working file: main/editor/ksegmove.c
head: 2.0
branch:
description: Functions for moving segments.
----------------------------
revision 2.0
date: 1995/02/27 11:33:37;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.5
date: 1993/12/02 12:39:36;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.4
date: 1993/11/12 16:40:23;  author: mike;  state: Exp;
Use rotate_segment_new in place of med_rotate_segment_ang.
----------------------------
revision 1.3
date: 1993/11/05 17:32:54;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.2
date: 1993/10/26 11:28:41;  author: mike;  state: Exp;
Write common routine SegOrientCommon so all movement can pass
through the same routine to check for concavity, among other things.
----------------------------
revision 1.1
date: 1993/10/13 18:53:21;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/ksegsel.c,v
Working file: main/editor/ksegsel.c
head: 2.0
branch:
description: Functions for selecting segments
----------------------------
revision 2.0
date: 1995/02/27 11:35:33;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.12
date: 1994/08/25 21:57:02;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.11
date: 1994/05/23 14:48:35;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.10
date: 1993/12/06 19:33:43;  author: yuan;  state: Exp;
Fixed autosave stuff so that undo restores Cursegp and
Markedsegp
----------------------------
revision 1.9
date: 1993/12/02 12:39:37;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.8
date: 1993/11/12 13:08:17;  author: yuan;  state: Exp;
Fixed warning for concave segment so it appears after any
"less important" diagnostic messages.
----------------------------
revision 1.7
date: 1993/11/05 17:32:49;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.6
date: 1993/11/01 09:53:18;  author: mike;  state: Exp;
Write functions get_next_segment and get_previous_segment.
----------------------------
revision 1.5
date: 1993/10/31 18:06:56;  author: mike;  state: Exp;
Only set_view_target_from_segment if in that mode.
----------------------------
revision 1.4
date: 1993/10/28 15:01:09;  author: matt;  state: Exp;
Mucked with update flags
----------------------------
revision 1.3
date: 1993/10/14 18:07:47;  author: mike;  state: Exp;
Change use of CONNECTIVITY to MAX_SIDES_PER_SEGMENT
----------------------------
revision 1.2
date: 1993/10/14 11:47:34;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/10/13 18:53:39;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/ksegsize.c,v
Working file: main/editor/ksegsize.c
head: 2.1
branch:
description: Functions for sizing segments
----------------------------
revision 2.1
date: 1995/03/08 16:07:21;  author: yuan;  state: Exp;
Added segment sizing default functions.
----------------------------
revision 2.0
date: 1995/02/27 11:35:46;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.15
date: 1994/11/17 14:47:42;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.14
date: 1994/08/25 21:57:45;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.13
date: 1994/07/18 10:44:43;  author: mike;  state: Exp;
Fix uv propagation after segment sizing.
----------------------------
revision 1.12
date: 1994/05/04 19:16:34;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1994/05/03 18:31:00;  author: mike;  state: Exp;
Add PerturbCurside.
----------------------------
revision 1.10
date: 1994/05/03 11:05:14;  author: mike;  state: Exp;
Overhaul segment sizing system to allow sizing of non-free vertices,
and also sizing of vertices on a side, edge or a single vertex.
----------------------------
revision 1.9
date: 1993/12/12 17:16:00;  author: mike;  state: Exp;
Kill some mprintf code.
----------------------------
revision 1.8
date: 1993/12/10 11:10:53;  author: mike;  state: Exp;
Fix bugs in tmap propagation in segment sizing.
----------------------------
revision 1.7
date: 1993/12/06 13:25:30;  author: mike;  state: Exp;
Fix bug in setting size of New_segment after segment scale.
----------------------------
revision 1.6
date: 1993/11/17 18:57:52;  author: mike;  state: Exp;
Change scaling to be additive.
----------------------------
revision 1.5
date: 1993/11/12 16:52:57;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/11/05 17:32:47;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.3
date: 1993/10/19 11:22:11;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.2
date: 1993/10/17 14:17:52;  author: mike;  state: Exp;
Add big scale changes for segment.
----------------------------
revision 1.1
date: 1993/10/13 18:53:01;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/ktmap.c,v
Working file: main/editor/ktmap.c
head: 2.0
branch:
description: Texture map key bindings.
----------------------------
revision 2.0
date: 1995/02/27 11:35:37;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.26
date: 1994/08/25 21:57:12;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.25
date: 1994/08/03 10:32:41;  author: mike;  state: Exp;
Texture map stretching.
----------------------------
revision 1.24
date: 1994/05/14 17:17:35;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.23
date: 1994/04/28 10:48:38;  author: yuan;  state: Exp;
Fixed undo message for Clear Texture.
----------------------------
revision 1.22
date: 1994/04/22 17:45:42;  author: john;  state: Exp;
MAde top 2 bits of paste-ons pick the 
orientation of the bitmap.
----------------------------
revision 1.21
date: 1994/04/01 14:36:08;  author: yuan;  state: Exp;
Fixed propogate function so you can propogate and move.
----------------------------
revision 1.20
date: 1994/03/19 17:22:08;  author: yuan;  state: Exp;
Wall system implemented until specific features need to be added...
(Needs to be hammered on though.)
----------------------------
revision 1.19
date: 1994/02/14 12:06:12;  author: mike;  state: Exp;
change segment data structure.
----------------------------
revision 1.18
date: 1994/01/25 17:58:47;  author: yuan;  state: Exp;
Added ambient lighting, and also added fixing bogus segments
functions to the editor... (they don't work fully... need to
check out seguvs.c
----------------------------
revision 1.17
date: 1994/01/24 11:54:52;  author: yuan;  state: Exp;
Checking everything in
----------------------------
revision 1.16
date: 1994/01/18 16:05:57;  author: yuan;  state: Exp;
Added clear texture 2 function (shift 0)
----------------------------
revision 1.15
date: 1994/01/18 10:15:01;  author: yuan;  state: Exp;
added texture stuff
----------------------------
revision 1.14
date: 1993/12/06 19:33:57;  author: yuan;  state: Exp;
Fixed autosave stuff so that undo restores Cursegp and
Markedsegp
----------------------------
revision 1.13
date: 1993/12/02 12:39:39;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.12
date: 1993/11/28 17:31:34;  author: mike;  state: Exp;
Use new segment data structure.
----------------------------
revision 1.11
date: 1993/11/12 16:38:37;  author: mike;  state: Exp;
Change call to med_propagate_tmaps_to_segments to include new uv_only_flag parameter.
----------------------------
revision 1.10
date: 1993/11/11 15:53:30;  author: yuan;  state: Exp;
Fixed undo display message
----------------------------
revision 1.9
date: 1993/11/08 19:13:46;  author: yuan;  state: Exp;
Added Undo command (not working yet)
----------------------------
revision 1.8
date: 1993/11/05 17:32:48;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.7
date: 1993/11/02 10:31:08;  author: mike;  state: Exp;
Add PropagateTexturesSelected.
----------------------------
revision 1.6
date: 1993/10/29 11:43:15;  author: mike;  state: Exp;
Write PropagateTextures
----------------------------
revision 1.5
date: 1993/10/25 13:26:39;  author: mike;  state: Exp;
Force redraw whenever a texture map is assigned.
----------------------------
revision 1.4
date: 1993/10/15 17:42:53;  author: mike;  state: Exp;
Make AssignTexture also assign texture maps to New_segment.
----------------------------
revision 1.3
date: 1993/10/15 13:10:24;  author: mike;  state: Exp;
Adapt AssignTexture to new segment structure.
----------------------------
revision 1.2
date: 1993/10/14 18:09:17;  author: mike;  state: Exp;
Debug code for AssignTexture and comment out code.
----------------------------
revision 1.1
date: 1993/10/14 14:01:49;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/kview.c,v
Working file: main/editor/kview.c
head: 2.0
branch:
description: Functions for changing viewer's position
----------------------------
revision 2.0
date: 1995/02/27 11:34:21;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.11
date: 1993/12/02 12:39:41;  author: matt;  state: Exp;
Removed extra includes
----------------------------
revision 1.10
date: 1993/11/16 13:47:54;  author: john;  state: Exp;
Xchanged move away/closer
----------------------------
revision 1.9
date: 1993/11/16 13:45:32;  author: john;  state: Exp;
Exchanged zoom in/out.
----------------------------
revision 1.8
date: 1993/11/05 17:32:56;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.7
date: 1993/11/03 12:10:21;  author: yuan;  state: Exp;
No keypress associated with chase mode
----------------------------
revision 1.6
date: 1993/11/02 17:06:55;  author: yuan;  state: Exp;
Icon stuff added.
----------------------------
revision 1.5
date: 1993/11/01 12:48:59;  author: yuan;  state: Exp;
Added Chase mode icon to status bar.
----------------------------
revision 1.4
date: 1993/10/29 19:12:55;  author: yuan;  state: Exp;
Added diagnostic messages
----------------------------
revision 1.3
date: 1993/10/27 18:26:16;  author: matt;  state: Exp;
Made zoom & related keys not do anything if no current view
----------------------------
revision 1.2
date: 1993/10/19 20:54:33;  author: matt;  state: Exp;
Changed/cleaned up window updates
----------------------------
revision 1.1
date: 1993/10/13 18:53:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/texpage.c,v
Working file: main/editor/texpage.c
head: 1.13
branch:
description: Routines for displaying texture pages
----------------------------
revision 1.13
date: 1994/11/27 23:17:15;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.12
date: 1994/11/23 15:49:00;  author: mike;  state: Exp;
fix bug in tmapnum == 0 always getting reassigned.
----------------------------
revision 1.11
date: 1994/11/23 12:17:34;  author: mike;  state: Exp;
changing texture maps in all mines.
----------------------------
revision 1.10
date: 1994/11/19 00:04:42;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.9
date: 1994/11/16 17:59:36;  author: john;  state: Exp;
Fixed bug with writing to canvas before initing it.
----------------------------
revision 1.8
date: 1994/11/16 13:15:21;  author: matt;  state: Exp;
Fixed grab bug, and cleaned up code
----------------------------
revision 1.7
date: 1994/08/05 12:26:37;  author: matt;  state: Exp;
Fixed overplot problem with texture names
----------------------------
revision 1.6
date: 1994/04/11 12:01:58;  author: yuan;  state: Exp;
Fixed resetting to first texture on page annoyance.
----------------------------
revision 1.5
date: 1994/04/01 11:15:53;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.4
date: 1994/03/15 16:33:37;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.3
date: 1993/12/16 17:25:46;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.2
date: 1993/12/16 15:57:39;  author: john;  state: Exp;
moved texture selection stuff to texpage.c
----------------------------
revision 1.1
date: 1993/12/16 15:06:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/texpage.c,v
Working file: main/editor/texpage.c
head: 1.13
branch:
description: Routines for displaying texture pages
----------------------------
revision 1.13
date: 1994/11/27 23:17:15;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.12
date: 1994/11/23 15:49:00;  author: mike;  state: Exp;
fix bug in tmapnum == 0 always getting reassigned.
----------------------------
revision 1.11
date: 1994/11/23 12:17:34;  author: mike;  state: Exp;
changing texture maps in all mines.
----------------------------
revision 1.10
date: 1994/11/19 00:04:42;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.9
date: 1994/11/16 17:59:36;  author: john;  state: Exp;
Fixed bug with writing to canvas before initing it.
----------------------------
revision 1.8
date: 1994/11/16 13:15:21;  author: matt;  state: Exp;
Fixed grab bug, and cleaned up code
----------------------------
revision 1.7
date: 1994/08/05 12:26:37;  author: matt;  state: Exp;
Fixed overplot problem with texture names
----------------------------
revision 1.6
date: 1994/04/11 12:01:58;  author: yuan;  state: Exp;
Fixed resetting to first texture on page annoyance.
----------------------------
revision 1.5
date: 1994/04/01 11:15:53;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.4
date: 1994/03/15 16:33:37;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.3
date: 1993/12/16 17:25:46;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.2
date: 1993/12/16 15:57:39;  author: john;  state: Exp;
moved texture selection stuff to texpage.c
----------------------------
revision 1.1
date: 1993/12/16 15:06:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/texpage.c,v
Working file: main/editor/texpage.c
head: 1.14
branch:
description: Routines for displaying texture pages
----------------------------
revision 1.14
date: 1995/01/14 19:18:02;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.13
date: 1994/11/27 23:17:15;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.12
date: 1994/11/23 15:49:00;  author: mike;  state: Exp;
fix bug in tmapnum == 0 always getting reassigned.
----------------------------
revision 1.11
date: 1994/11/23 12:17:34;  author: mike;  state: Exp;
changing texture maps in all mines.
----------------------------
revision 1.10
date: 1994/11/19 00:04:42;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.9
date: 1994/11/16 17:59:36;  author: john;  state: Exp;
Fixed bug with writing to canvas before initing it.
----------------------------
revision 1.8
date: 1994/11/16 13:15:21;  author: matt;  state: Exp;
Fixed grab bug, and cleaned up code
----------------------------
revision 1.7
date: 1994/08/05 12:26:37;  author: matt;  state: Exp;
Fixed overplot problem with texture names
----------------------------
revision 1.6
date: 1994/04/11 12:01:58;  author: yuan;  state: Exp;
Fixed resetting to first texture on page annoyance.
----------------------------
revision 1.5
date: 1994/04/01 11:15:53;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.4
date: 1994/03/15 16:33:37;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.3
date: 1993/12/16 17:25:46;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.2
date: 1993/12/16 15:57:39;  author: john;  state: Exp;
moved texture selection stuff to texpage.c
----------------------------
revision 1.1
date: 1993/12/16 15:06:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/macro.c,v
Working file: main/editor/macro.c
head: 2.0
branch:
description: Routines for recording/playing/saving macros
----------------------------
revision 2.0
date: 1995/02/27 11:35:09;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.12
date: 1993/11/15 14:46:37;  author: john;  state: Exp;
Changed Menu to MenuX
----------------------------
revision 1.11
date: 1993/11/05 17:32:44;  author: john;  state: Exp;
added funcs
.,
----------------------------
revision 1.10
date: 1993/10/28 16:23:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1993/10/28 13:03:12;  author: john;  state: Exp;
..
----------------------------
revision 1.8
date: 1993/10/25 16:02:35;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1993/10/22 13:35:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1993/10/21 17:10:09;  author: john;  state: Exp;
Fixed bug w/ load macro.
----------------------------
revision 1.5
date: 1993/10/19 12:58:47;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/10/19 12:55:02;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/10/19 12:49:49;  author: john;  state: Exp;
made EventBuffer dynamic, use ReadFile, WriteFile
----------------------------
revision 1.2
date: 1993/10/15 17:42:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/10/15 17:28:06;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/macro.h,v
Working file: main/editor/macro.h
head: 2.0
branch:
description: Header for macro.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:32;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1994/05/14 17:18:19;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 16:38:50;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/med.c,v
Working file: main/editor/med.c
head: 2.3
branch:
description: Editor loop for Inferno
----------------------------
revision 2.3
date: 1995/03/06 18:23:52;  author: john;  state: Exp;
Fixed bug with font screwing up.
----------------------------
revision 2.2
date: 1995/03/06 16:34:55;  author: john;  state: Exp;
Fixed bug with previous.
----------------------------
revision 2.1
date: 1995/03/06 15:20:57;  author: john;  state: Exp;
New screen mode method.
----------------------------
revision 2.0
date: 1995/02/27 11:35:54;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.192
date: 1994/11/30 12:33:55;  author: mike;  state: Exp;
set window clearing mode for editor.
----------------------------
revision 1.191
date: 1994/11/27 23:17:02;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.190
date: 1994/11/19 00:04:33;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.189
date: 1994/11/17 14:47:57;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.188
date: 1994/11/14 11:41:38;  author: john;  state: Exp;
Fixed bug with editor/game sequencing.
----------------------------
revision 1.187
date: 1994/11/13 15:36:44;  author: john;  state: Exp;
Changed game sequencing with editor.
----------------------------
revision 1.186
date: 1994/11/10 16:49:12;  author: matt;  state: Exp;
Don't sort seg list if no segs in list
----------------------------
revision 1.185
date: 1994/11/08 09:28:39;  author: mike;  state: Exp;
reset ai paths on going to game.
----------------------------
revision 1.184
date: 1994/10/30 14:13:05;  author: mike;  state: Exp;
rip out repair center stuff.
----------------------------
revision 1.183
date: 1994/10/27 10:07:06;  author: mike;  state: Exp;
adapt to no inverse table.
----------------------------
revision 1.182
date: 1994/10/20 12:48:03;  author: matt;  state: Exp;
Replaced old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.181
date: 1994/10/13 11:39:22;  author: john;  state: Exp;
Took out network stuff/.
----------------------------
revision 1.180
date: 1994/10/07 22:21:38;  author: mike;  state: Exp;
Stop Delete-{whatever} from hanging you!
----------------------------
revision 1.179
date: 1994/10/03 23:39:37;  author: mike;  state: Exp;
Adapt to newer, better, fuelcen_activate function.
----------------------------
revision 1.178
date: 1994/09/30 00:38:05;  author: mike;  state: Exp;
Shorten diagnostic message erase -- was erasing outside canvas.
----------------------------
revision 1.177
date: 1994/09/28 17:31:37;  author: mike;  state: Exp;
Add call to check_wall_validity();
----------------------------
revision 1.176
date: 1994/08/19 10:57:42;  author: mike;  state: Exp;
Fix status message erase bug.
----------------------------
revision 1.175
date: 1994/08/18 10:48:12;  author: john;  state: Exp;
Cleaned up game sequencing.
----------------------------
revision 1.174
date: 1994/08/16 18:11:04;  author: yuan;  state: Exp;
Maded C place you in the center of a segment.
----------------------------
revision 1.173
date: 1994/08/10 19:55:05;  author: john;  state: Exp;
Changed font stuff.
----------------------------
revision 1.172
date: 1994/08/09 16:06:06;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.171
date: 1994/08/04 09:14:11;  author: matt;  state: Exp;
Fixed problem I said I fixed last time
----------------------------
revision 1.170
date: 1994/08/04 00:27:57;  author: matt;  state: Exp;
When viewing a wall, update the objects segnum if moved out of the segment
----------------------------
revision 1.169
date: 1994/08/02 14:18:12;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.168
date: 1994/07/29 15:34:35;  author: mike;  state: Exp;
Kill some mprintfs.
----------------------------
revision 1.167
date: 1994/07/29 14:56:46;  author: yuan;  state: Exp;
Close centers window, when you go into game.
----------------------------
revision 1.166
date: 1994/07/28 17:16:20;  author: john;  state: Exp;
MAde editor use Network stuff.
----------------------------
revision 1.165
date: 1994/07/28 16:59:10;  author: mike;  state: Exp;
objects containing objects.
----------------------------
revision 1.164
date: 1994/07/22 12:37:07;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.163
date: 1994/07/21 19:35:11;  author: yuan;  state: Exp;
Fixed #include problem
----------------------------
revision 1.162
date: 1994/07/21 18:02:09;  author: matt;  state: Exp;
Don't re-init player stats when going from editor -> game
----------------------------
revision 1.161
date: 1994/07/21 12:47:53;  author: mike;  state: Exp;
Add tilde key functionality for object movement.
----------------------------
revision 1.160
date: 1994/07/18 10:44:55;  author: mike;  state: Exp;
One-click access to keypads.
----------------------------
revision 1.159
date: 1994/07/01 18:05:54;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.158
date: 1994/07/01 17:57:06;  author: john;  state: Exp;
First version of not-working hostage system
----------------------------
revision 1.157
date: 1994/07/01 11:32:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.156
date: 1994/06/24 17:04:36;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.155
date: 1994/06/23 15:53:47;  author: matt;  state: Exp;
Finished hacking in 3d rendering in big window
----------------------------
revision 1.154
date: 1994/06/21 16:17:54;  author: yuan;  state: Exp;
Init stats when you go to game from editor
----------------------------
revision 1.153
date: 1994/06/21 12:57:14;  author: yuan;  state: Exp;
Remove center from segment function added to menu.
=============================================================================
RCS file: f:/miner/source/main/editor/meddraw.c,v
Working file: main/editor/meddraw.c
head: 2.0
branch:
description: Med drawing functions.
----------------------------
revision 2.0
date: 1995/02/27 11:34:42;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.34
date: 1994/11/09 11:46:30;  author: matt;  state: Exp;
Don't draw non-existant special segments
----------------------------
revision 1.33
date: 1994/10/27 10:06:38;  author: mike;  state: Exp;
adapt to no inverse table.
----------------------------
revision 1.32
date: 1994/10/17 18:06:23;  author: john;  state: Exp;
Made net player objects draw in dark green.
----------------------------
revision 1.31
date: 1994/09/26 16:44:33;  author: yuan;  state: Exp;
Colored special segments.
----------------------------
revision 1.30
date: 1994/09/01 17:02:41;  author: matt;  state: Exp;
Redraw pointer after world draw
----------------------------
revision 1.29
date: 1994/08/25 21:56:21;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.28
date: 1994/08/11 18:59:46;  author: mike;  state: Exp;
Adapt to new int (vs short) version of gameseg functions.
----------------------------
revision 1.27
date: 1994/08/09 16:06:03;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.26
date: 1994/07/25 00:03:05;  author: matt;  state: Exp;
Various changes to accomodate new 3d, which no longer takes point numbers
as parms, and now only takes pointers to points.
----------------------------
revision 1.25
date: 1994/07/09 17:38:13;  author: mike;  state: Exp;
comment out mprintf(0, "\n");
----------------------------
revision 1.24
date: 1994/07/07 19:34:47;  author: matt;  state: Exp;
These changes are mostly Mike's, but I fixed a little bug that caused
some edges to think they were never used.
----------------------------
revision 1.23
date: 1994/07/06 16:36:18;  author: mike;  state: Exp;
Optionally only draw segment lines which are in only one segment.
----------------------------
revision 1.22
date: 1994/05/27 10:34:28;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.21
date: 1994/05/14 18:00:56;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.20
date: 1994/05/09 23:35:21;  author: mike;  state: Exp;
Change order of drawing found and selected segments.
----------------------------
revision 1.19
date: 1994/05/05 12:55:38;  author: yuan;  state: Exp;
Fixed a bunch of group bugs.
----------------------------
revision 1.18
date: 1994/05/04 13:07:52;  author: matt;  state: Exp;
Made current edge draw in green in wire-frame window
Also, moved a bunch of color constants here from editor.h
=============================================================================
RCS file: f:/miner/source/main/editor/meddraw.h,v
Working file: main/editor/meddraw.h
head: 2.0
branch:
description: Defnts for med drawing stuff
----------------------------
revision 2.0
date: 1995/02/27 11:35:12;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/07/06 16:36:54;  author: mike;  state: Exp;
Prototype for draw_mine_all.
----------------------------
revision 1.2
date: 1993/12/17 12:05:09;  author: john;  state: Exp;
Took stuff out of med.c; moved into medsel.c, meddraw.c, medmisc.c
----------------------------
revision 1.1
date: 1993/12/17 08:55:14;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medmisc.c,v
Working file: main/editor/medmisc.c
head: 2.1
branch:
description: Miscellaneous functions stripped out of med.c
----------------------------
revision 2.1
date: 1995/03/06 15:20:50;  author: john;  state: Exp;
New screen mode method.
----------------------------
revision 2.0
date: 1995/02/27 11:36:40;  author: john;  state: Exp;
Version 2.0. Ansi-fied.
----------------------------
revision 1.31
date: 1994/11/27 23:17:20;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.30
date: 1994/11/17 14:48:11;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.29
date: 1994/08/25 21:56:15;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.28
date: 1994/08/09 16:06:00;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.27
date: 1994/07/21 17:25:43;  author: matt;  state: Exp;
Took out unused func medlisp_create_new_mine() and its prototype
----------------------------
revision 1.26
date: 1994/07/21 13:27:01;  author: matt;  state: Exp;
Cleaned up render code and added error checking
----------------------------
revision 1.25
date: 1994/07/20 15:32:52;  author: matt;  state: Exp;
Added func to call g3_point_2_vec() for texture-mapped window
----------------------------
revision 1.24
date: 1994/07/15 15:26:53;  author: yuan;  state: Exp;
Fixed warning
----------------------------
revision 1.23
date: 1994/07/14 14:45:16;  author: yuan;  state: Exp;
Added function to set default segment and attach.
----------------------------
revision 1.22
date: 1994/07/14 09:46:34;  author: yuan;  state: Exp;
Make E attach segment as well as make default.
----------------------------
revision 1.21
date: 1994/07/11 18:39:17;  author: john;  state: Exp;
Reversed y axis roll.
----------------------------
revision 1.20
date: 1994/07/06 16:36:32;  author: mike;  state: Exp;
Add hook for game to render wireframe view: draw_world_from_game.
----------------------------
revision 1.19
date: 1994/06/24 14:08:31;  author: john;  state: Exp;
Changed calling params for render_frame.
----------------------------
revision 1.18
date: 1994/06/23 15:54:02;  author: matt;  state: Exp;
Finished hacking in 3d rendering in big window
----------------------------
revision 1.17
date: 1994/06/22 00:32:56;  author: matt;  state: Exp;
New version, without all the errors of the last version. Sorry.
----------------------------
revision 1.15
date: 1994/05/23 14:48:54;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.14
date: 1994/05/19 12:09:35;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.13
date: 1994/05/14 17:17:55;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.12
date: 1994/05/09 23:35:06;  author: mike;  state: Exp;
Add ClearFoundList, which is probably no longer being called.
----------------------------
revision 1.11
date: 1994/05/04 14:11:40;  author: mike;  state: Exp;
Increase render depth from 4 to 6 by default.
----------------------------
revision 1.10
date: 1994/04/27 21:00:25;  author: matt;  state: Exp;
Made texture-mapped window redraw when editor state variables (such as
current object) have changed.
----------------------------
revision 1.9
date: 1994/03/31 12:03:38;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.8
date: 1994/02/17 11:31:21;  author: matt;  state: Exp;
Changes in object system
----------------------------
revision 1.7
date: 1994/02/11 11:05:14;  author: yuan;  state: Exp;
Make chase mode unsettable... Gives a warning on the mono.
----------------------------
revision 1.6
date: 1994/01/21 17:37:24;  author: matt;  state: Exp;
Moved code from render_frame() to caller, making code cleaner
----------------------------
revision 1.5
date: 1994/01/11 18:12:43;  author: yuan;  state: Exp;
compress_mines removed.  Now it is called within
the gamesave.min save whenever we go into the game.
----------------------------
revision 1.4
date: 1994/01/05 10:54:15;  author: john;  state: Exp;
New object code by John
----------------------------
revision 1.3
date: 1993/12/29 16:15:27;  author: mike;  state: Exp;
Kill scale field from segment struct.
----------------------------
revision 1.2
date: 1993/12/17 12:05:00;  author: john;  state: Exp;
Took stuff out of med.c; moved into medsel.c, meddraw.c, medmisc.c
----------------------------
revision 1.1
date: 1993/12/17 08:35:47;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medmisc.h,v
Working file: main/editor/medmisc.h
head: 2.0
branch:
description: Defn'tns for medmisc.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:40;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/07/21 17:25:28;  author: matt;  state: Exp;
Took out unused func medlisp_create_new_mine() and its prototype
----------------------------
revision 1.2
date: 1993/12/17 12:05:04;  author: john;  state: Exp;
Took stuff out of med.c; moved into medsel.c, meddraw.c, medmisc.c
----------------------------
revision 1.1
date: 1993/12/17 08:45:23;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medrobot.c,v
Working file: main/editor/medrobot.c
head: 2.0
branch:
description: Dialog box to edit robot properties.
----------------------------
revision 2.0
date: 1995/02/27 11:35:59;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.46
date: 1995/02/22 15:22:03;  author: allender;  state: Exp;
remove anonyous unions from object structure
----------------------------
revision 1.45
date: 1994/11/27 23:17:32;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.44
date: 1994/11/14 11:39:57;  author: mike;  state: Exp;
fix default robot behavior
----------------------------
revision 1.43
date: 1994/11/02 16:18:47;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor, and cleaned up code
----------------------------
revision 1.42
date: 1994/10/10 17:23:23;  author: mike;  state: Exp;
Verify that not placing too many player objects.
----------------------------
revision 1.41
date: 1994/10/09 22:04:38;  author: mike;  state: Exp;
Maybe improve, maybe not, robot selection in shift-R menu.
----------------------------
revision 1.40
date: 1994/09/30 21:49:01;  author: mike;  state: Exp;
Fix stupid shift-R dialog bug which caused lots of mprintf and selecting of object and frustration.
----------------------------
revision 1.39
date: 1994/09/30 11:51:33;  author: mike;  state: Exp;
Fix boolean logic on an error trap.
----------------------------
revision 1.38
date: 1994/09/20 14:36:32;  author: mike;  state: Exp;
Clean up Robot dialog.
----------------------------
revision 1.37
date: 1994/09/12 19:11:56;  author: mike;  state: Exp;
Fix stupid bugs in selecting objects.
----------------------------
revision 1.36
date: 1994/09/01 17:05:51;  author: matt;  state: Exp;
Don't force redraw if object select fails
----------------------------
revision 1.35
date: 1994/08/31 19:24:40;  author: mike;  state: Exp;
Fix hang bug when only objects in mine are not robots.
----------------------------
revision 1.34
date: 1994/08/25 21:56:38;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.33
date: 1994/08/23 16:39:29;  author: mike;  state: Exp;
mode replaced by behavior in ai_info.
----------------------------
revision 1.32
date: 1994/08/15 23:47:16;  author: mike;  state: Exp;
fix bugs.
----------------------------
revision 1.31
date: 1994/08/13 17:32:45;  author: mike;  state: Exp;
set to still function.
----------------------------
revision 1.30
date: 1994/08/09 16:06:02;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.29
date: 1994/08/02 16:22:48;  author: matt;  state: Exp;
Finished object editor dialog
=============================================================================
RCS file: f:/miner/source/main/editor/medrobot.h,v
Working file: main/editor/medrobot.h
head: 2.0
branch:
description: Header for robot.c
----------------------------
revision 2.0
date: 1995/02/27 11:35:04;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.4
date: 1994/08/02 14:17:56;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.3
date: 1994/07/21 19:34:58;  author: yuan;  state: Exp;
Fixed #include problem
----------------------------
revision 1.2
date: 1994/04/27 21:01:16;  author: matt;  state: Exp;
Added prototypes for robot functions
----------------------------
revision 1.1
date: 1994/04/27 20:28:59;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medsel.c,v
Working file: main/editor/medsel.c
head: 2.0
branch:
description: Routines stripped from med.c for segment selection
----------------------------
revision 2.0
date: 1995/02/27 11:35:20;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.10
date: 1994/08/09 16:05:59;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.9
date: 1994/05/23 14:56:27;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.8
date: 1994/05/14 18:00:50;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.7
date: 1994/03/31 12:03:33;  author: matt;  state: Exp;
Cleaned up includes
----------------------------
revision 1.6
date: 1994/02/17 12:52:13;  author: yuan;  state: Exp;
Unbackdated
y
----------------------------
revision 1.4
date: 1994/02/17 09:46:53;  author: matt;  state: Exp;
Removed include of slew.h
----------------------------
revision 1.3
date: 1994/01/05 10:54:23;  author: john;  state: Exp;
New object code by John
----------------------------
revision 1.2
date: 1993/12/17 12:18:22;  author: john;  state: Exp;
Moved selection stuff out of med.c
----------------------------
revision 1.1
date: 1993/12/17 09:29:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medsel.h,v
Working file: main/editor/medsel.h
head: 2.0
branch:
description: rountines stipped from med.c for segment selection
----------------------------
revision 2.0
date: 1995/02/27 11:34:28;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.2
date: 1993/12/17 12:18:35;  author: john;  state: Exp;
Moved selection stuff out of med.c
----------------------------
revision 1.1
date: 1993/12/17 09:29:51;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/medwall.c,v
Working file: main/editor/medwall.c
head: 2.0
branch:
description: Created from version 1.11 of main\wall.c
----------------------------
revision 2.0
date: 1995/02/27 11:35:47;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.71
date: 1995/02/01 16:30:03;  author: yuan;  state: Exp;
Stabilizing triggers and matcens.
----------------------------
revision 1.70
date: 1995/01/28 15:28:08;  author: yuan;  state: Exp;
Return proper bug description.
----------------------------
revision 1.69
date: 1995/01/14 19:18:07;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.68
date: 1995/01/12 12:10:44;  author: yuan;  state: Exp;
Added delete trigger function
----------------------------
revision 1.67
date: 1994/11/29 16:51:53;  author: yuan;  state: Exp;
Fixed false bogus trigger info.
----------------------------
revision 1.66
date: 1994/11/27 23:17:29;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.65
date: 1994/11/15 11:59:42;  author: john;  state: Exp;
Changed timing for door to use fixed seconds instead of milliseconds.
----------------------------
revision 1.64
date: 1994/11/03 10:41:17;  author: yuan;  state: Exp;
Made walls add whichever the previous type was.
----------------------------
revision 1.63
date: 1994/10/13 13:14:59;  author: yuan;  state: Exp;
Fixed trigger removal bug.
----------------------------
revision 1.62
date: 1994/10/07 17:43:39;  author: yuan;  state: Exp;
Make validate walls default to 1.
----------------------------
revision 1.61
date: 1994/10/03 23:40:20;  author: mike;  state: Exp;
Fix hosedness in walls in group copying.
----------------------------
revision 1.60
date: 1994/09/29 00:20:36;  author: matt;  state: Exp;
Took out reference to unused external wall type
----------------------------
revision 1.59
date: 1994/09/28 17:32:24;  author: mike;  state: Exp;
Functions to copy walls withing groups.
----------------------------
revision 1.58
date: 1994/09/28 13:40:46;  author: yuan;  state: Exp;
Fixed control center trigger bug.
----------------------------
revision 1.57
date: 1994/09/24 12:41:52;  author: matt;  state: Exp;
Took out references to obsolete constants
----------------------------
revision 1.56
date: 1994/09/23 18:03:55;  author: yuan;  state: Exp;
Finished wall checking code.
----------------------------
revision 1.55
date: 1994/09/22 14:35:25;  author: matt;  state: Exp;
Made blastable walls work again
----------------------------
revision 1.54
date: 1994/09/21 16:46:07;  author: yuan;  state: Exp;
Fixed bug that reset wall slot which was just deleted.
----------------------------
revision 1.53
date: 1994/09/20 18:31:21;  author: yuan;  state: Exp;
Output right Wallnum
----------------------------
revision 1.52
date: 1994/09/20 18:23:24;  author: yuan;  state: Exp;
Killed the BOGIFYING WALL DRAGON...
There was a problem with triggers being created that had bogus
pointers back to their segments.
----------------------------
revision 1.51
date: 1994/09/20 11:13:11;  author: yuan;  state: Exp;
Delete all bogus walls when checking walls.
----------------------------
revision 1.50
date: 1994/09/19 23:31:14;  author: yuan;  state: Exp;
Adding wall checking stuff.
----------------------------
revision 1.49
date: 1994/09/13 21:11:20;  author: matt;  state: Exp;
Added wclips that use tmap1 instead of tmap2, saving lots of merging
----------------------------
revision 1.48
date: 1994/09/10 13:32:08;  author: matt;  state: Exp;
Made exploding walls a type of blastable walls.
Cleaned up blastable walls, making them tmap2 bitmaps.
----------------------------
revision 1.47
date: 1994/09/10 09:47:47;  author: yuan;  state: Exp;
Added wall checking function.
----------------------------
revision 1.46
date: 1994/08/26 14:14:56;  author: yuan;  state: Exp;
Fixed wall clip being set to -2 bug.
----------------------------
revision 1.45
date: 1994/08/25 21:56:26;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.44
date: 1994/08/19 19:30:27;  author: matt;  state: Exp;
Added informative message if wall is already external when making it so.
----------------------------
revision 1.43
date: 1994/08/17 11:13:46;  author: matt;  state: Exp;
Changed way external walls work
----------------------------
revision 1.42
date: 1994/08/15 17:47:29;  author: yuan;  state: Exp;
Added external walls
----------------------------
revision 1.41
date: 1994/08/05 21:18:09;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.40
date: 1994/08/02 14:18:06;  author: mike;  state: Exp;
Clean up dialog boxes.
----------------------------
revision 1.39
date: 1994/08/01 11:04:33;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.38
date: 1994/07/22 17:19:11;  author: yuan;  state: Exp;
Working on dialog box for refuel/repair/material/control centers.
----------------------------
revision 1.37
date: 1994/07/20 17:35:33;  author: yuan;  state: Exp;
Added new gold key.
----------------------------
revision 1.36
date: 1994/07/19 14:31:44;  author: yuan;  state: Exp;
Fixed keys bug.
----------------------------
revision 1.35
date: 1994/07/18 15:58:31;  author: yuan;  state: Exp;
Hopefully prevent any "Adam door bombouts"
----------------------------
revision 1.34
date: 1994/07/18 15:48:40;  author: yuan;  state: Exp;
Made minor cosmetic change.
----------------------------
revision 1.33
date: 1994/07/15 16:09:22;  author: yuan;  state: Exp;
Error checking
----------------------------
revision 1.32
date: 1994/07/14 16:47:05;  author: yuan;  state: Exp;
Fixed wall dialog for selected dooranims.
----------------------------
revision 1.31
date: 1994/07/11 15:09:16;  author: yuan;  state: Exp;
Wall anim filenames stored in wclip structure.
----------------------------
revision 1.30
date: 1994/07/06 10:56:01;  author: john;  state: Exp;
New structures for hostages.
----------------------------
revision 1.29
date: 1994/07/01 16:35:54;  author: yuan;  state: Exp;
Added key system
----------------------------
revision 1.28
date: 1994/06/21 18:50:12;  author: john;  state: Exp;
Made ESC key exit dialog.
----------------------------
revision 1.27
date: 1994/06/20 22:29:59;  author: yuan;  state: Exp;
Fixed crazy runaway trigger bug that Adam found
----------------------------
revision 1.26
date: 1994/06/01 15:50:25;  author: yuan;  state: Exp;
Added one more door... Needs to be set by bm.c in the future.
----------------------------
revision 1.25
date: 1994/05/30 20:22:34;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.24
date: 1994/05/27 10:34:31;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.23
date: 1994/05/25 18:08:45;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.22
date: 1994/05/18 18:21:56;  author: yuan;  state: Exp;
Fixed delete segment and walls bug.
----------------------------
revision 1.21
date: 1994/05/11 18:24:29;  author: yuan;  state: Exp;
Oops.. trigger not triggers..
----------------------------
revision 1.20
date: 1994/05/11 18:23:53;  author: yuan;  state: Exp;
Fixed trigger not set to -1 bug.
=============================================================================
RCS file: f:/miner/source/main/editor/medwall.h,v
Working file: main/editor/medwall.h
head: 2.0
branch:
description: Created from version 1.6 of main\wall.h
----------------------------
revision 2.0
date: 1995/02/27 11:35:10;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.9
date: 1994/09/28 17:31:51;  author: mike;  state: Exp;
Prototype copy_group_walls().
----------------------------
revision 1.8
date: 1994/08/05 21:18:16;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.7
date: 1994/06/20 22:30:10;  author: yuan;  state: Exp;
Fixed crazy runaway trigger bug that Adam found
----------------------------
revision 1.6
date: 1994/05/30 20:22:58;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.5
date: 1994/05/25 18:08:37;  author: yuan;  state: Exp;
Revamping walls and triggers interface.
Wall interface complete, but triggers are still in progress.
----------------------------
revision 1.4
date: 1994/05/18 18:22:04;  author: yuan;  state: Exp;
Fixed delete segment and walls bug.
----------------------------
revision 1.3
date: 1994/03/17 18:08:41;  author: yuan;  state: Exp;
New wall stuff... Cut out switches....
----------------------------
revision 1.2
date: 1994/03/15 16:34:10;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.1
date: 1994/02/10 17:52:01;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/mine.c,v
Working file: main/editor/mine.c
head: 2.0
branch:
description: Mine specific editing functions, such as load_mine, save_mine
----------------------------
revision 2.0
date: 1995/02/27 11:34:38;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.82
date: 1995/01/19 15:19:42;  author: mike;  state: Exp;
New super-compressed registered file format.
----------------------------
revision 1.81
date: 1994/12/15 16:51:39;  author: mike;  state: Exp;
fix error message.
----------------------------
revision 1.80
date: 1994/12/09 22:52:27;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.79
date: 1994/11/27 23:17:14;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.78
date: 1994/11/26 21:48:24;  author: matt;  state: Exp;
Fixed saturation in short light value
----------------------------
revision 1.77
date: 1994/11/18 09:43:22;  author: mike;  state: Exp;
mprintf and clean up instead of Assert on values which don't fit in a short.
----------------------------
revision 1.76
date: 1994/11/17 20:37:37;  author: john;  state: Exp;
Added comment to get mike or john.
----------------------------
revision 1.75
date: 1994/11/17 20:08:51;  author: john;  state: Exp;
Added new compiled level format.
----------------------------
revision 1.74
date: 1994/11/17 11:39:00;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.73
date: 1994/10/20 12:47:47;  author: matt;  state: Exp;
Replaced old save files (MIN/SAV/HOT) with new LVL files
----------------------------
revision 1.72
date: 1994/09/23 22:13:58;  author: matt;  state: Exp;
Tooks out references to obsolete structure fields
----------------------------
revision 1.71
date: 1994/09/22 18:39:40;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.70
date: 1994/09/22 18:38:09;  author: john;  state: Exp;
Added better help for locked files.
----------------------------
revision 1.69
date: 1994/08/01 11:04:44;  author: yuan;  state: Exp;
New materialization centers.
----------------------------
revision 1.68
date: 1994/06/08 14:29:35;  author: matt;  state: Exp;
Took out support for old mine versions
----------------------------
revision 1.67
date: 1994/05/27 10:34:37;  author: yuan;  state: Exp;
Added new Dialog boxes for Walls and Triggers.
----------------------------
revision 1.66
date: 1994/05/23 14:48:08;  author: mike;  state: Exp;
make current segment be add segment.
----------------------------
revision 1.65
date: 1994/05/17 10:34:52;  author: matt;  state: Exp;
New parm to reset_objects; Num_objects no longer global
----------------------------
revision 1.64
date: 1994/05/12 14:46:46;  author: mike;  state: Exp;
Load previous mine type.
----------------------------
revision 1.63
date: 1994/05/06 12:52:13;  author: yuan;  state: Exp;
Adding some gamesave checks...
----------------------------
revision 1.62
date: 1994/05/05 12:56:32;  author: yuan;  state: Exp;
Fixed a bunch of group bugs.
----------------------------
revision 1.61
date: 1994/05/03 11:36:55;  author: yuan;  state: Exp;
Fixing mine save.
----------------------------
revision 1.60
date: 1994/03/19 17:22:14;  author: yuan;  state: Exp;
Wall system implemented until specific features need to be added...
(Needs to be hammered on though.)
----------------------------
revision 1.59
date: 1994/03/17 18:08:32;  author: yuan;  state: Exp;
New wall stuff... Cut out switches....
----------------------------
revision 1.58
date: 1994/03/15 16:34:15;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.57
date: 1994/03/01 18:14:09;  author: yuan;  state: Exp;
Added new walls, switches, and triggers.
=============================================================================
RCS file: f:/miner/source/main/editor/objpage.c,v
Working file: main/editor/objpage.c
head: 2.0
branch:
description: object selection stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:34:43;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.37
date: 1995/01/14 19:17:55;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.36
date: 1995/01/05 16:20:13;  author: mike;  state: Exp;
bah, remove the int3.
----------------------------
revision 1.35
date: 1995/01/05 12:47:13;  author: mike;  state: Exp;
Move code about to prevent compiler warning.
----------------------------
revision 1.34
date: 1994/11/18 15:23:55;  author: john;  state: Exp;
Made so the int3 for drawing an invalib object just returns.
----------------------------
revision 1.33
date: 1994/11/02 16:19:18;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor, and cleaned up code
----------------------------
revision 1.32
date: 1994/10/23 02:11:18;  author: matt;  state: Exp;
Got rid of obsolete hostage_info stuff
----------------------------
revision 1.31
date: 1994/09/09 14:41:35;  author: matt;  state: Exp;
New parms for draw_polygon_model()
----------------------------
revision 1.30
date: 1994/08/29 19:26:53;  author: matt;  state: Exp;
Fixed botches change from yesterday
----------------------------
revision 1.29
date: 1994/08/28 23:40:35;  author: matt;  state: Exp;
----------------------------
revision 1.28
date: 1994/08/14 23:15:32;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.27
date: 1994/08/13 14:59:02;  author: matt;  state: Exp;
Finished adding support for miscellaneous objects
----------------------------
revision 1.26
date: 1994/08/09 16:06:15;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.25
date: 1994/07/28 16:59:23;  author: mike;  state: Exp;
objects containing objects.
----------------------------
revision 1.24
date: 1994/06/08 18:17:25;  author: john;  state: Exp;
Changed the way object types and id's work for hostages
and powerups.
----------------------------
revision 1.23
date: 1994/06/07 16:52:30;  author: matt;  state: Exp;
Made object lighting work correctly; changed name of Ambient_light to
Dynamic_light; cleaned up polygobj object rendering a little.
----------------------------
revision 1.22
date: 1994/05/31 18:42:07;  author: matt;  state: Exp;
Made robot photos unlighted
----------------------------
revision 1.21
date: 1994/05/26 21:09:34;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.20
date: 1994/05/19 12:10:11;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.19
date: 1994/05/17 14:45:27;  author: mike;  state: Exp;
Get object type and id from ObjType and ObjId.
----------------------------
revision 1.18
date: 1994/05/17 12:03:36;  author: mike;  state: Exp;
Deal with little known fact that polygon object != robot.
----------------------------
revision 1.17
date: 1994/04/29 09:16:56;  author: matt;  state: Exp;
Added support for multiple-piece explosions
----------------------------
revision 1.16
date: 1994/04/18 14:15:00;  author: john;  state: Exp;
Initial version of robot dialog box.
----------------------------
revision 1.15
date: 1994/04/11 12:01:36;  author: yuan;  state: Exp;
Fixed resetting to first object on page annoyance.
----------------------------
revision 1.14
date: 1994/04/01 14:35:50;  author: yuan;  state: Exp;
Removed debug "id %d\n" for placing objects
----------------------------
revision 1.13
date: 1994/04/01 11:17:04;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.12
date: 1994/03/25 18:42:26;  author: matt;  state: Exp;
Adjusted constant to make robot pictures more correct size
----------------------------
revision 1.11
date: 1994/03/25 16:57:17;  author: matt;  state: Exp;
New parm to draw_polygon_object(), and draw object "snapshots" in
correct size (although this probably doesn't work yet).
----------------------------
revision 1.10
date: 1994/03/25 14:23:01;  author: matt;  state: Exp;
Disabled lighting when taking "snapshots" of robots
----------------------------
revision 1.9
date: 1994/03/17 10:47:24;  author: john;  state: Exp;
Corrected all kinds of problems associated with N_polygon_objects.
----------------------------
revision 1.8
date: 1994/03/16 11:07:31;  author: john;  state: Exp;
Made zoom work a bit better.
----------------------------
revision 1.7
date: 1994/03/16 10:50:32;  author: john;  state: Exp;
fixed warning with constant length.
----------------------------
revision 1.6
date: 1994/03/16 10:43:18;  author: john;  state: Exp;
Added controls to rotate/zoom object.
----------------------------
revision 1.5
date: 1994/03/15 22:23:24;  author: matt;  state: Exp;
Render little bitmap pictures of robots for display on editor page
----------------------------
revision 1.4
date: 1994/02/01 11:27:14;  author: john;  state: Exp;
Hacked in 8 object types for demo.
----------------------------
revision 1.3
date: 1994/01/26 16:42:19;  author: john;  state: Exp;
Display numbers instead of bitmaps... made 
Num_robot_types or whatever be set to 4
in init_object_page... this is a hack!!!
----------------------------
revision 1.2
date: 1993/12/16 17:26:24;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.1
date: 1993/12/16 16:12:57;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/objpage.h,v
Working file: main/editor/objpage.h
head: 2.0
branch:
description: object selection stuff.
----------------------------
revision 2.0
date: 1995/02/27 11:35:32;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.8
date: 1994/11/02 16:19:20;  author: matt;  state: Exp;
Moved draw_model_picture() out of editor, and cleaned up code
----------------------------
revision 1.7
date: 1994/07/28 16:59:36;  author: mike;  state: Exp;
objects containing objects.
----------------------------
revision 1.6
date: 1994/05/17 14:45:48;  author: mike;  state: Exp;
Get object type and id from ObjectType and ObjectId.
----------------------------
revision 1.5
date: 1994/05/17 12:03:55;  author: mike;  state: Exp;
Deal with little known fact that polygon object != robot.
----------------------------
revision 1.4
date: 1994/05/14 18:00:33;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.3
date: 1994/04/01 11:17:06;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.2
date: 1993/12/16 17:26:27;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.1
date: 1993/12/16 16:13:08;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/robot.h,v
Working file: main/robot.h
head: 2.1
branch:
description: Header for robot.c
----------------------------
revision 2.1
date: 1995/03/07 16:52:00;  author: john;  state: Exp;
Fixed robots not moving without edtiro bug.
----------------------------
revision 2.0
date: 1995/02/27 11:30:59;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.25
date: 1994/11/30 14:02:44;  author: mike;  state: Exp;
fields for see/attack/claw sounds.
----------------------------
revision 1.24
date: 1994/10/27 15:55:41;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.23
date: 1994/10/20 15:17:03;  author: mike;  state: Exp;
Add boss flag.
----------------------------
revision 1.22
date: 1994/10/20 09:51:00;  author: adam;  state: Exp;
*** empty log message ***
----------------------------
revision 1.21
date: 1994/10/18 10:52:54;  author: mike;  state: Exp;
Support robots lunging as an attack_type.
----------------------------
revision 1.20
date: 1994/10/17 21:19:02;  author: mike;  state: Exp;
robot cloaking.
----------------------------
revision 1.19
date: 1994/09/27 00:03:39;  author: mike;  state: Exp;
Add score_value to robot_info struct.
----------------------------
revision 1.18
date: 1994/09/22 19:01:12;  author: mike;  state: Exp;
Move NDL from here to game.h
----------------------------
revision 1.17
date: 1994/09/22 15:46:55;  author: mike;  state: Exp;
Add default contained objects for robots.
----------------------------
revision 1.16
date: 1994/09/22 10:46:57;  author: mike;  state: Exp;
Add difficulty levels.
----------------------------
revision 1.15
date: 1994/09/15 16:34:16;  author: mike;  state: Exp;
Change rapidfire_count to a byte, add evade_speed, dum1, dum2.
----------------------------
revision 1.14
date: 1994/09/09 14:21:58;  author: matt;  state: Exp;
Increased maximum number of games
----------------------------
revision 1.13
date: 1994/08/25 18:12:13;  author: matt;  state: Exp;
Made player's weapons and flares fire from the positions on the 3d model.
Also added support for quad lasers.
----------------------------
revision 1.12
date: 1994/08/23 16:37:24;  author: mike;  state: Exp;
Add rapidfire_count to robot_info.
----------------------------
revision 1.11
date: 1994/07/27 19:45:01;  author: mike;  state: Exp;
Objects containing objects.
----------------------------
revision 1.10
date: 1994/07/12 12:40:01;  author: matt;  state: Exp;
Revamped physics system
----------------------------
revision 1.9
date: 1994/06/21 12:17:12;  author: mike;  state: Exp;
Add circle_distance to robot_info.
----------------------------
revision 1.8
date: 1994/06/09 16:22:28;  author: matt;  state: Exp;
Moved header for calc_gun_point() here, where it belongs
----------------------------
revision 1.7
date: 1994/06/08 18:16:23;  author: john;  state: Exp;
Bunch of new stuff that basically takes constants out of the code
and puts them into bitmaps.tbl.
----------------------------
revision 1.6
date: 1994/06/03 11:38:09;  author: john;  state: Exp;
Made robots get their strength for RobotInfo->strength, which
is read in from bitmaps.tbl
----------------------------
revision 1.5
date: 1994/05/30 19:43:31;  author: mike;  state: Exp;
Add voluminous comment for robot_get_anim_state.
----------------------------
revision 1.4
date: 1994/05/30 00:03:18;  author: matt;  state: Exp;
Got rid of robot render type, and generally cleaned up polygon model
render objects.
----------------------------
revision 1.3
date: 1994/05/29 18:46:37;  author: matt;  state: Exp;
Added stuff for getting robot animation info for different states
----------------------------
revision 1.2
date: 1994/05/26 21:09:18;  author: matt;  state: Exp;
Moved robot stuff out of polygon model and into robot_info struct
Made new file, robot.c, to deal with robots
----------------------------
revision 1.1
date: 1994/05/26 18:02:12;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/segment.c,v
Working file: main/editor/segment.c
head: 2.0
branch:
description: Interrogation functions for segment data structure.
----------------------------
revision 2.0
date: 1995/02/27 11:35:21;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.191
date: 1995/02/22 15:28:30;  author: allender;  state: Exp;
remove anonymous unions from object structure
----------------------------
revision 1.190
date: 1995/02/02 02:59:40;  author: yuan;  state: Exp;
Working on exterminating bogus matcen_nums... (harmless though)
----------------------------
revision 1.189
date: 1995/02/01 16:29:51;  author: yuan;  state: Exp;
Stabilizing triggers and matcens.
----------------------------
revision 1.188
date: 1995/02/01 11:31:47;  author: yuan;  state: Exp;
Trigger bug fixed.
----------------------------
revision 1.187
date: 1994/11/27 23:17:24;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.186
date: 1994/11/17 14:48:12;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.185
date: 1994/10/30 14:13:17;  author: mike;  state: Exp;
rip out local segment stuff.
----------------------------
revision 1.184
date: 1994/10/27 10:04:24;  author: matt;  state: Exp;
When triangulating, don't use WID() to see if connected, look at children
----------------------------
revision 1.183
date: 1994/10/26 13:40:23;  author: mike;  state: Exp;
debug code for matt.
----------------------------
revision 1.182
date: 1994/10/24 16:34:00;  author: mike;  state: Exp;
Force render after mine compress to prevent bugs in segment selection via clicking in 3d window.
----------------------------
revision 1.181
date: 1994/10/20 18:16:15;  author: mike;  state: Exp;
Initialize ControlCenterTriggers.num_links in create_new_mine.
----------------------------
revision 1.180
date: 1994/10/18 16:29:14;  author: mike;  state: Exp;
Write function to automatically fix bogus segnums in segment array.
----------------------------
revision 1.179
date: 1994/10/08 17:10:41;  author: matt;  state: Exp;
Correctly set current_level_num when loading/creating mine in editor
----------------------------
revision 1.178
date: 1994/09/25 14:17:51;  author: mike;  state: Exp;
Initialize (to 0) Num_robot_centers and Num_open_doors at mine creation.
----------------------------
revision 1.177
date: 1994/09/20 14:36:06;  author: mike;  state: Exp;
Write function to find overlapping segments.
----------------------------
revision 1.176
date: 1994/08/25 21:55:57;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.175
date: 1994/08/23 15:28:03;  author: mike;  state: Exp;
Fix peculiarity in med_combine_duplicate_vertices.
----------------------------
revision 1.174
date: 1994/08/09 16:06:17;  author: john;  state: Exp;
Added the ability to place players.  Made old
Player variable be ConsoleObject.
----------------------------
revision 1.173
date: 1994/08/05 21:18:10;  author: matt;  state: Exp;
Allow two doors to be linked together
----------------------------
revision 1.172
date: 1994/08/04 19:13:16;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.171
date: 1994/07/22 12:37:00;  author: matt;  state: Exp;
Cleaned up editor/game interactions some more.
----------------------------
revision 1.170
date: 1994/07/22 11:20:08;  author: mike;  state: Exp;
Set Lsegments validity.
----------------------------
revision 1.169
date: 1994/07/21 19:02:49;  author: mike;  state: Exp;
lsegment stuff.
----------------------------
revision 1.168
date: 1994/07/21 13:27:17;  author: matt;  state: Exp;
Ripped out remants of old demo system, and added demo
disables object movement and game options from menu.
----------------------------
revision 1.167
date: 1994/07/19 20:15:48;  author: matt;  state: Exp;
Name for each level now saved in the .SAV file & stored in Current_level_name
----------------------------
revision 1.166
date: 1994/07/06 12:42:45;  author: john;  state: Exp;
Made generic messages for hostages.
----------------------------
revision 1.165
date: 1994/06/24 17:04:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.164
date: 1994/06/15 15:42:40;  author: mike;  state: Exp;
Initialize static_light field in new segments.
----------------------------
revision 1.163
date: 1994/06/13 17:49:19;  author: mike;  state: Exp;
Fix bug in med_validate_side which was toasting lighting for removable walls.
----------------------------
revision 1.162
date: 1994/06/13 10:52:20;  author: mike;  state: Exp;
Fix bug in triangulation of sides between connected segments.
Was assigning SIDE_IS_02 regardless of how triangulated, was
causing physics bugs.
----------------------------
revision 1.161
date: 1994/06/08 18:14:16;  author: mike;  state: Exp;
Fix triangulation of sides in hallways (ie, where there is no wall),
so they get triangulated the same way, so find_new_seg doesn't get
stuck in an infinite recursion.
----------------------------
revision 1.160
date: 1994/06/08 11:44:31;  author: mike;  state: Exp;
Fix bug in normals not being opposite on opposite sides of a segment.
Problem occurred due to difference in handling of remainder in signed divide.
----------------------------
revision 1.159
date: 1994/05/31 19:00:15;  author: yuan;  state: Exp;
Fixed gamestate restore.
----------------------------
revision 1.158
date: 1994/05/30 20:22:36;  author: yuan;  state: Exp;
New triggers.
----------------------------
revision 1.157
date: 1994/05/26 19:32:51;  author: mike;  state: Exp;
Add bfs_parse.
----------------------------
revision 1.156
date: 1994/05/23 14:56:46;  author: mike;  state: Exp;
make current segment be add segment.,
=============================================================================
RCS file: f:/miner/source/main/editor/seguvs.c,v
Working file: main/editor/seguvs.c
head: 2.1
branch:
description: u,v coordinate computation for segment faces
----------------------------
revision 2.1
date: 1995/05/08 10:49:34;  author: mike;  state: Exp;
fix lighting bug: oblong segments could be very dark.
----------------------------
revision 2.0
date: 1995/02/27 11:36:37;  author: john;  state: Exp;
Version 2.0. Ansi-fied.
----------------------------
revision 1.84
date: 1994/11/27 23:17:18;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.83
date: 1994/11/17 14:48:02;  author: mike;  state: Exp;
validation functions moved from editor to game.
----------------------------
revision 1.82
date: 1994/10/15 19:08:26;  author: mike;  state: Exp;
Disable exhaustive search mprintfs in find_point_seg during lighting.
----------------------------
revision 1.81
date: 1994/08/25 21:55:50;  author: mike;  state: Exp;
IS_CHILD stuff.
----------------------------
revision 1.80
date: 1994/08/04 19:13:22;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.79
date: 1994/08/03 10:31:33;  author: mike;  state: Exp;
Texture map propagation without uv assignment.
----------------------------
revision 1.78
date: 1994/08/01 13:31:12;  author: matt;  state: Exp;
Made fvi() check holes in transparent walls, and changed fvi() calling
parms to take all input data in query structure.
----------------------------
revision 1.77
date: 1994/07/08 14:31:24;  author: matt;  state: Exp;
New parms for FVI
----------------------------
revision 1.76
date: 1994/06/23 14:01:04;  author: mike;  state: Exp;
Fix cache bug which caused some vertices to not get light, mainly
noticeable at joints which had doors.
----------------------------
revision 1.75
date: 1994/06/22 17:33:11;  author: mike;  state: Exp;
Make position of light (which is always towards center of segment from
actual light panel) constant, not dependent on segment size, which fixes
bug of dark light panels in very large segments.
----------------------------
revision 1.74
date: 1994/06/21 18:58:18;  author: mike;  state: Exp;
Fix stupid bug in light propagation, was using wrong vector in fvi caching.
----------------------------
revision 1.73
date: 1994/06/20 11:20:24;  author: mike;  state: Exp;
Fix stupid lighting bug introduced when I went to cached fvi results.
----------------------------
revision 1.72
date: 1994/06/19 16:26:37;  author: mike;  state: Exp;
Speed up lighting by storing and hashing fvi results.
----------------------------
revision 1.71
date: 1994/06/17 16:05:56;  author: mike;  state: Exp;
Support optional quick lighting propagation: no find_vector_intersection.
----------------------------
revision 1.70
date: 1994/06/15 15:42:30;  author: mike;  state: Exp;
Propagate static_light.
----------------------------
revision 1.69
date: 1994/06/14 16:59:37;  author: mike;  state: Exp;
Fix references to tmap_num2, must strip off orientation bits.
----------------------------
revision 1.68
date: 1994/06/09 09:58:58;  author: matt;  state: Exp;
Moved find_vector_intersection() from physics.c to new file fvi.c
----------------------------
revision 1.67
date: 1994/06/08 18:14:02;  author: mike;  state: Exp;
mprintf a dot in light casting.
----------------------------
revision 1.66
date: 1994/06/08 14:37:45;  author: mike;  state: Exp;
double static light value in going from value (a short) to static_light (a fix).
----------------------------
revision 1.65
date: 1994/06/08 14:29:44;  author: matt;  state: Exp;
Added static_light field to segment structure, and padded side struct
to be longword aligned.
----------------------------
revision 1.64
date: 1994/06/08 11:45:24;  author: mike;  state: Exp;
New, supercool, superslow lighting function.
----------------------------
revision 1.63
date: 1994/06/07 09:38:11;  author: mike;  state: Exp;
Make lighting function yet better by calling find_vector_intersection.
----------------------------
revision 1.62
date: 1994/06/06 13:14:33;  author: mike;  state: Exp;
Make illusory walls cast light.
----------------------------
revision 1.61
date: 1994/06/05 20:39:47;  author: mike;  state: Exp;
Add new distance and dot product based lighting function.
----------------------------
revision 1.60
date: 1994/05/31 12:31:18;  author: mike;  state: Exp;
fix bugs in lighting, though it's not perfect, will be changing all
lighting to be distance based.  Bug had to do with not handling one
of the return values from WALL_IS_DOORWAY, so assuming light couldn't
be recursively propagated almost all the time.
----------------------------
revision 1.59
date: 1994/05/19 23:35:26;  author: mike;  state: Exp;
Support uv coordinates in range 0..1.0.
----------------------------
revision 1.58
date: 1994/05/19 12:10:21;  author: matt;  state: Exp;
Use new vecmat macros and globals
----------------------------
revision 1.57
date: 1994/05/04 19:15:53;  author: mike;  state: Exp;
Error checking for degenerate segments.
----------------------------
revision 1.56
date: 1994/05/03 11:02:34;  author: mike;  state: Exp;
Change how default texture map assignment works; now pixels are constant size.
----------------------------
revision 1.55
date: 1994/04/28 23:25:26;  author: yuan;  state: Exp;
Obliterated warnings.
=============================================================================
RCS file: f:/miner/source/main/editor/seguvs.h,v
Working file: main/editor/seguvs.h
head: 2.0
branch:
description: Header for seguvs.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:58;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/08/03 10:32:28;  author: mike;  state: Exp;
Add stretch_uvs_from_curedge.
----------------------------
revision 1.2
date: 1994/05/14 18:00:58;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.1
date: 1994/05/14 17:27:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/texpage.c,v
Working file: main/editor/texpage.c
head: 2.0
branch:
description: Routines for displaying texture pages
----------------------------
revision 2.0
date: 1995/02/27 11:34:51;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.14
date: 1995/01/14 19:18:02;  author: john;  state: Exp;
First version of object paging.
----------------------------
revision 1.13
date: 1994/11/27 23:17:15;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.12
date: 1994/11/23 15:49:00;  author: mike;  state: Exp;
fix bug in tmapnum == 0 always getting reassigned.
----------------------------
revision 1.11
date: 1994/11/23 12:17:34;  author: mike;  state: Exp;
changing texture maps in all mines.
----------------------------
revision 1.10
date: 1994/11/19 00:04:42;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.9
date: 1994/11/16 17:59:36;  author: john;  state: Exp;
Fixed bug with writing to canvas before initing it.
----------------------------
revision 1.8
date: 1994/11/16 13:15:21;  author: matt;  state: Exp;
Fixed grab bug, and cleaned up code
----------------------------
revision 1.7
date: 1994/08/05 12:26:37;  author: matt;  state: Exp;
Fixed overplot problem with texture names
----------------------------
revision 1.6
date: 1994/04/11 12:01:58;  author: yuan;  state: Exp;
Fixed resetting to first texture on page annoyance.
----------------------------
revision 1.5
date: 1994/04/01 11:15:53;  author: yuan;  state: Exp;
Added objects to objpage. Added buttons for easier tmap scrolling.
Objects are selected fully from objpage and add object menu or pad.
----------------------------
revision 1.4
date: 1994/03/15 16:33:37;  author: yuan;  state: Exp;
Fixed bm loader (might have some changes in walls and switches)
----------------------------
revision 1.3
date: 1993/12/16 17:25:46;  author: john;  state: Exp;
Moved texture and object selection to texpage and objpage
----------------------------
revision 1.2
date: 1993/12/16 15:57:39;  author: john;  state: Exp;
moved texture selection stuff to texpage.c
----------------------------
revision 1.1
date: 1993/12/16 15:06:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/texpage.h,v
Working file: main/editor/texpage.h
head: 2.0
branch:
description: Definitions for texpage.c
----------------------------
revision 2.0
date: 1995/02/27 11:34:31;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.3
date: 1994/05/14 17:17:53;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.2
date: 1993/12/16 15:57:54;  author: john;  state: Exp;
moved texture selection stuff to texpage.c
----------------------------
revision 1.1
date: 1993/12/16 15:22:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/texture.c,v
Working file: main/editor/texture.c
head: 2.0
branch:
description: Texture map assignment.
----------------------------
revision 2.0
date: 1995/02/27 11:34:50;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.13
date: 1994/08/04 19:13:15;  author: matt;  state: Exp;
Changed a bunch of vecmat calls to use multiple-function routines, and to
allow the use of C macros for some functions
----------------------------
revision 1.12
date: 1994/08/03 10:31:56;  author: mike;  state: Exp;
Texture map propagation without uv assignment.
----------------------------
revision 1.11
date: 1994/07/14 19:36:34;  author: yuan;  state: Exp;
Tuning texture slides.
----------------------------
revision 1.10
date: 1994/07/14 19:29:08;  author: yuan;  state: Exp;
Fixed sliding.
----------------------------
revision 1.9
date: 1994/07/14 14:43:06;  author: yuan;  state: Exp;
Added 3x rotation.
----------------------------
revision 1.8
date: 1994/07/14 11:12:42;  author: yuan;  state: Exp;
Made sliding 3x more sensitive
----------------------------
revision 1.7
date: 1994/07/14 10:49:56;  author: yuan;  state: Exp;
Made texture rotation 3x finer
----------------------------
revision 1.6
date: 1994/02/14 12:06:00;  author: mike;  state: Exp;
change segment data structure.
----------------------------
revision 1.5
date: 1993/12/06 13:26:52;  author: mike;  state: Exp;
Make rotation and sliding work for triangulated sides.
----------------------------
revision 1.4
date: 1993/12/04 17:18:46;  author: mike;  state: Exp;
Add tiling functions, set_default.
----------------------------
revision 1.3
date: 1993/12/03 18:39:12;  author: unknown;  state: Exp;
Add texture map sliding, allow to work on triangulated sides.
----------------------------
revision 1.2
date: 1993/11/30 17:06:09;  author: mike;  state: Exp;
Texture map functions.
----------------------------
revision 1.1
date: 1993/11/29 16:00:57;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/editor/autosave.c,v
Working file: main/editor/autosave.c
head: 2.0
branch:
description: Autosave system: 
Saves current mine to disk to prevent loss of work, and support undo.
----------------------------
revision 2.0
date: 1995/02/27 11:34:53;  author: john;  state: Exp;
Version 2.0! No anonymous unions, Watcom 10.0, with no need
for bitmaps.tbl.
----------------------------
revision 1.25
date: 1994/11/19 00:04:40;  author: john;  state: Exp;
Changed some shorts to ints.
----------------------------
revision 1.24
date: 1994/11/17 11:38:59;  author: matt;  state: Exp;
Ripped out code to load old mines
----------------------------
revision 1.23
date: 1994/07/28 17:00:01;  author: mike;  state: Exp;
fix diagnostic_message erasing.
----------------------------
revision 1.22
date: 1994/07/21 12:48:28;  author: mike;  state: Exp;
Make time of day a global, fix clock so it doesn't show 10:2 instead of 10:02
----------------------------
revision 1.21
date: 1994/05/14 17:17:58;  author: matt;  state: Exp;
Got rid of externs in source (non-header) files
----------------------------
revision 1.20
date: 1994/05/02 18:04:14;  author: yuan;  state: Exp;
Fixed warning.
----------------------------
revision 1.19
date: 1994/05/02 17:59:04;  author: yuan;  state: Exp;
Changed undo_status into an array rather than malloced pointers.
----------------------------
revision 1.18
date: 1994/03/16 09:55:48;  author: mike;  state: Exp;
Flashing : in time.
----------------------------
revision 1.17
date: 1994/02/11 10:27:36;  author: matt;  state: Exp;
Changed 'if !DEMO' to 'ifndef DEMO'
----------------------------
revision 1.16
date: 1994/02/08 12:43:18;  author: yuan;  state: Exp;
Crippled save game function from demo version
----------------------------
revision 1.15
date: 1994/02/01 13:27:26;  author: yuan;  state: Exp;
autosave default off.
----------------------------
revision 1.14
date: 1994/01/05 09:57:37;  author: yuan;  state: Exp;
Fixed calendar/clock problem.
----------------------------
revision 1.13
date: 1993/12/17 16:09:59;  author: yuan;  state: Exp;
Changed clock font from Red to Black.
----------------------------
revision 1.12
date: 1993/12/15 13:08:38;  author: yuan;  state: Exp;
Fixed :0x times, so that the 0 shows up.
----------------------------
revision 1.11
date: 1993/12/15 11:19:52;  author: yuan;  state: Exp;
Added code to display clock in upper right.
----------------------------
revision 1.10
date: 1993/12/14 21:18:51;  author: yuan;  state: Exp;
Added diagnostic message to display
----------------------------
revision 1.9
date: 1993/12/14 18:32:59;  author: yuan;  state: Exp;
Added timed autosave code
----------------------------
revision 1.8
date: 1993/12/13 17:23:25;  author: yuan;  state: Exp;
Fixed bugs with undo.
They were caused by badly changed extensions.
----------------------------
revision 1.7
date: 1993/12/09 16:42:32;  author: yuan;  state: Exp;
Changed extension of temp mines from .mi? -> .mn? 
and now to .m? (So it doesn't interfere with .mnu)
----------------------------
revision 1.6
date: 1993/12/09 16:27:06;  author: yuan;  state: Exp;
Added toggle for autosave
----------------------------
revision 1.5
date: 1993/11/29 19:46:32;  author: matt;  state: Exp;
Changed includes
----------------------------
revision 1.4
date: 1993/11/11 15:54:11;  author: yuan;  state: Exp;
Added display message for Undo...
Eg. Attach Segment UNDONE.
----------------------------
revision 1.3
date: 1993/11/09 18:53:11;  author: yuan;  state: Exp;
Autosave/Undo works up to 10 moves.
----------------------------
revision 1.2
date: 1993/11/08 19:14:03;  author: yuan;  state: Exp;
Added Undo command (not working yet)
----------------------------
revision 1.1
date: 1993/11/08 16:57:59;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/effects.c,v
Working file: main/effects.c
head: 2.0
branch:
description: Special effects, such as rotating fans, electrical walls, and
other cool animations. 
----------------------------
revision 2.0
date: 1995/02/27 11:32:49;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.21
date: 1995/02/13 20:35:06;  author: john;  state: Exp;
Lintized
----------------------------
revision 1.20
date: 1994/12/10 16:44:50;  author: matt;  state: Exp;
Added debugging code to track down door that turns into rock
----------------------------
revision 1.19
date: 1994/12/06 16:27:14;  author: matt;  state: Exp;
Fixed horrible bug that was referencing segment -1
----------------------------
revision 1.18
date: 1994/12/02 23:20:51;  author: matt;  state: Exp;
Reset bitmaps possibly changed by crit clips
----------------------------
revision 1.17
date: 1994/11/14 14:00:19;  author: matt;  state: Exp;
Fixed stupid bug
----------------------------
revision 1.16
date: 1994/11/14 12:42:43;  author: matt;  state: Exp;
Allow holes in effects list
----------------------------
revision 1.15
date: 1994/11/08 21:11:52;  author: matt;  state: Exp;
Added functions to stop & start effects
----------------------------
revision 1.14
date: 1994/10/04 18:59:08;  author: matt;  state: Exp;
Exploding eclips now play eclip while exploding, then switch to static bm
----------------------------
revision 1.13
date: 1994/10/04 15:17:42;  author: matt;  state: Exp;
Took out references to unused constant
----------------------------
revision 1.12
date: 1994/09/29 11:00:01;  author: matt;  state: Exp;
Made eclips (wall animations) not frame-rate dependent (for now)
----------------------------
revision 1.11
date: 1994/09/25 00:40:24;  author: matt;  state: Exp;
Added the ability to make eclips (monitors, fans) which can be blown up
----------------------------
revision 1.10
date: 1994/08/14 23:15:14;  author: matt;  state: Exp;
Added animating bitmap hostages, and cleaned up vclips a bit
----------------------------
revision 1.9
date: 1994/08/05 15:56:04;  author: matt;  state: Exp;
Cleaned up effects system, and added alternate effects for after mine
destruction.
----------------------------
revision 1.8
date: 1994/08/01 23:17:21;  author: matt;  state: Exp;
Add support for animating textures on robots
----------------------------
revision 1.7
date: 1994/05/23 15:10:46;  author: yuan;  state: Exp;
Make Eclips read directly... 
No more need for $EFFECTS list.
----------------------------
revision 1.6
date: 1994/04/06 14:42:44;  author: yuan;  state: Exp;
Adding new powerups.
----------------------------
revision 1.5
date: 1994/03/15 16:31:54;  author: yuan;  state: Exp;
Cleaned up bm-loading code.
(And structures)
----------------------------
revision 1.4
date: 1994/03/04 17:09:09;  author: yuan;  state: Exp;
New door stuff.
----------------------------
revision 1.3
date: 1994/01/11 11:18:50;  author: yuan;  state: Exp;
Fixed frame_count
----------------------------
revision 1.2
date: 1994/01/11 10:38:55;  author: yuan;  state: Exp;
Special effects new implementation
----------------------------
revision 1.1
date: 1994/01/10 09:45:29;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/mem/mem.c,v
Working file: mem/mem.c
head: 1.18
branch:
description: Files for debugging memory allocator
----------------------------
revision 1.18
date: 1995/01/24 20:49:18;  author: matt;  state: Exp;
Made some stuff return when get errors
----------------------------
revision 1.17
date: 1994/11/29 15:40:38;  author: matt;  state: Exp;
Added extra newline after message
----------------------------
revision 1.16
date: 1994/11/15 18:27:56;  author: john;  state: Exp;
Took away show mem info by default.
----------------------------
revision 1.15
date: 1994/11/10 10:00:37;  author: john;  state: Exp;
Made it show_mem_info by default.
----------------------------
revision 1.14
date: 1994/11/10 09:53:06;  author: john;  state: Exp;
Put in more efficient, but less debugging info version.
----------------------------
revision 1.13
date: 1994/10/27 00:56:45;  author: john;  state: Exp;
Reduced number of blocks; made show mem usage by default.
----------------------------
revision 1.12
date: 1994/10/06 19:15:17;  author: john;  state: Exp;
Upped the number of blocks.
----------------------------
revision 1.11
date: 1994/07/27 20:04:22;  author: john;  state: Exp;
Neatend printed output.
----------------------------
revision 1.10
date: 1994/07/20 10:22:17;  author: yuan;  state: Exp;
Added overwrite error
----------------------------
revision 1.9
date: 1994/03/23 12:58:43;  author: john;  state: Exp;
Made message global.
----------------------------
revision 1.8
date: 1994/03/15 11:12:59;  author: john;  state: Exp;
Made calloc fill block with zeros like it's
supposed to.
----------------------------
revision 1.7
date: 1994/02/18 12:43:21;  author: john;  state: Exp;
Only print mem debugging info if show_mem_info
is true. Need to set in debugger, btw.
----------------------------
revision 1.6
date: 1994/02/17 17:01:34;  author: john;  state: Exp;
Took out MEM_LEAKAGE warning!
----------------------------
revision 1.5
date: 1994/01/24 16:04:47;  author: john;  state: Exp;
Added mem_print_all function to dump all
allocated memory to inferno.mem file.
----------------------------
revision 1.4
date: 1994/01/18 11:01:41;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/12/10 12:20:50;  author: john;  state: Exp;
Speed up by replacing mem_find_unused_id with a table lookup.
----------------------------
revision 1.2
date: 1993/12/08 12:38:22;  author: mike;  state: Exp;
Change 10000 to MAX_INDEX
Use LargestIndex in place of MAX_INDEX as appropriate.
----------------------------
revision 1.1
date: 1993/11/02 17:45:28;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/mem/mem.h,v
Working file: mem/mem.h
head: 1.6
branch:
description: Headers for safe malloc stuff.
----------------------------
revision 1.6
date: 1995/02/12 18:40:50;  author: matt;  state: Exp;
Made free() work the way it used to when debugging is on
----------------------------
revision 1.5
date: 1995/02/12 04:07:36;  author: matt;  state: Exp;
Made free() set ptrs to NULL even when no debugging
----------------------------
revision 1.4
date: 1994/11/27 21:10:58;  author: matt;  state: Exp;
Now supports NDEBUG to turn off all special mem checking
----------------------------
revision 1.3
date: 1994/03/15 11:12:40;  author: john;  state: Exp;
Made calloc fill block with zeros like it's
supposed to.
----------------------------
revision 1.2
date: 1993/11/04 14:02:39;  author: matt;  state: Exp;
Added calloc() macro
----------------------------
revision 1.1
date: 1993/11/02 17:45:33;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/misc/error.h,v
Working file: misc/error.h
head: 1.12
branch:
description: Header for error handling/printing/exiting code
----------------------------
revision 1.12
date: 1994/06/17 15:22:46;  author: matt;  state: Exp;
Added pragma for Error() for when NDEBUG
----------------------------
revision 1.11
date: 1994/03/07 13:22:14;  author: matt;  state: Exp;
Since the Error() function has 'aborts' set in pragma, we do a jmp
to the function rather than call.
----------------------------
revision 1.10
date: 1994/02/17 12:37:15;  author: matt;  state: Exp;
Combined two pragma's for Error(), since second superseded the first
----------------------------
revision 1.9
date: 1994/02/10 18:02:53;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.8
date: 1994/02/09 15:18:29;  author: matt;  state: Exp;
Added pragma saying that Error() never returns
----------------------------
revision 1.7
date: 1993/10/19 12:57:53;  author: matt;  state: Exp;
If DEBUG_ON not defined, define it to be 1
----------------------------
revision 1.6
date: 1993/10/15 21:40:39;  author: matt;  state: Exp;
Made error functions generate int3's if debugging on
----------------------------
revision 1.5
date: 1993/10/14 15:29:22;  author: matt;  state: Exp;
Added new function clear_warn_func()
----------------------------
revision 1.4
date: 1993/10/08 16:16:47;  author: matt;  state: Exp;
Made Assert() call function _Assert(), rather to do 'if...' inline.
----------------------------
revision 1.3
date: 1993/09/29 11:39:07;  author: matt;  state: Exp;
Added Assert() macro, like the system one, but calls Error()
----------------------------
revision 1.2
date: 1993/09/27 11:47:03;  author: matt;  state: Exp;
Added function set_warn_func()
----------------------------
revision 1.1
date: 1993/09/23 20:17:46;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/misc/parsarg.h,v
Working file: misc/parsarg.h
head: 1.1
branch:
description: Header for parse_args() function
----------------------------
revision 1.1
date: 1993/09/09 17:32:14;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/misc/error.c,v
Working file: misc/error.c
head: 1.12
branch:
description: Error handling/printing/exiting code
----------------------------
revision 1.12
date: 1994/12/07 18:49:39;  author: matt;  state: Exp;
error_init() can now take NULL as parm
----------------------------
revision 1.11
date: 1994/11/29 15:42:07;  author: matt;  state: Exp;
Added newline before error message
----------------------------
revision 1.10
date: 1994/11/27 23:20:39;  author: matt;  state: Exp;
Made changes for new mprintf calling convention
----------------------------
revision 1.9
date: 1994/06/20 21:20:56;  author: matt;  state: Exp;
Allow NULL for warn func, to kill warnings
----------------------------
revision 1.8
date: 1994/05/20 15:11:35;  author: mike;  state: Exp;
mprintf Warning message so you can actually see it.
----------------------------
revision 1.7
date: 1994/02/10 18:02:38;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.6
date: 1993/10/17 18:19:10;  author: matt;  state: Exp;
If error_init() not called, Error() now prints the error message before
calling exit()
----------------------------
revision 1.5
date: 1993/10/14 15:29:11;  author: matt;  state: Exp;
Added new function clear_warn_func()
----------------------------
revision 1.4
date: 1993/10/08 16:17:19;  author: matt;  state: Exp;
Made Assert() call function _Assert(), rather to do 'if...' inline.
----------------------------
revision 1.3
date: 1993/09/28 12:45:25;  author: matt;  state: Exp;
Fixed wrong print call, and made Warning() not append a CR to string
----------------------------
revision 1.2
date: 1993/09/27 11:46:35;  author: matt;  state: Exp;
Added function set_warn_func()
----------------------------
revision 1.1
date: 1993/09/23 20:17:33;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/misc/parsarg.c,v
Working file: misc/parsarg.c
head: 1.1
branch:
description: Source for parse_args() function.  See header file (parsarg.h) for info
----------------------------
revision 1.1
date: 1993/09/09 17:32:03;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/pslib/cflib.h,v
Working file: pslib/cflib.h
head: 1.13
branch:
description: Sample setup for RCS header
----------------------------
revision 1.13
date: 1994/02/15 12:53:06;  author: john;  state: Exp;
Made numfiles stored in library be a short instead of char.
----------------------------
revision 1.12
date: 1993/12/08 17:06:34;  author: yuan;  state: Exp;
Added CheckFile.
----------------------------
revision 1.11
date: 1993/10/28 15:16:54;  author: yuan;  state: Exp;
Added WriteFile and AppendFile prototypes.
----------------------------
revision 1.10
date: 1993/10/28 14:41:13;  author: yuan;  state: Exp;
New cfread functions added to cflib.
----------------------------
revision 1.9
date: 1993/10/27 12:41:58;  author: yuan;  state: Exp;
Added prototype for ReadFileBuf.
----------------------------
revision 1.8
date: 1993/10/19 12:39:13;  author: matt;  state: Exp;
Added '#ifndef' around body of file
Added new error codes
Included readfile.h
----------------------------
revision 1.7
date: 1993/09/29 17:53:38;  author: yuan;  state: Exp;
lzw_compression and lzw_expand documented more clearly (hopefully)
some error flags added.
----------------------------
revision 1.6
date: 1993/09/27 17:12:21;  author: yuan;  state: Exp;
Documentation for using lib_init(), lib_close(), and LibReadFile() added.
----------------------------
revision 1.5
date: 1993/09/21 17:22:22;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/09/21 17:16:56;  author: yuan;  state: Exp;
cleaning up
----------------------------
revision 1.3
date: 1993/09/21 17:07:01;  author: yuan;  state: Exp;
broken and unbroken
----------------------------
revision 1.2
date: 1993/09/20 12:26:25;  author: yuan;  state: Exp;
ReadFile, WriteFile, AppendFile removed to readfile.h
----------------------------
revision 1.1
date: 1993/09/14 13:15:30;  author: yuan;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1993/09/09 15:41:22;  author: yuan;  state: Exp;
pslib.exe docs removed.
----------------------------
revision 1.2
date: 1993/09/09 12:40:03;  author: yuan;  state: Exp;
compression routine prototypes from library.h added.
----------------------------
revision 1.1
date: 1993/09/08 16:16:57;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/pslib/library.h,v
Working file: pslib/library.h
head: 1.12
branch:
description: PSLIB and library generation tool header file.
----------------------------
revision 1.12
date: 1994/02/15 12:53:23;  author: john;  state: Exp;
Made numfiles stored in library be a short instead of char.
----------------------------
revision 1.11
date: 1993/12/08 16:07:37;  author: yuan;  state: Exp;
Changed MAX_FILES from 100 to 250. 
Incorporated the constant into FileList[MAX_FILES]
----------------------------
revision 1.10
date: 1993/10/27 12:42:50;  author: yuan;  state: Exp;
Added prototype for ReadFileBuf.
----------------------------
revision 1.9
date: 1993/09/29 17:54:09;  author: yuan;  state: Exp;
ReadFileRaw, etc. prototypes imported.
----------------------------
revision 1.8
date: 1993/09/27 17:12:48;  author: yuan;  state: Exp;
Cleaned up... function prototypes internal to pslib.c removed.
----------------------------
revision 1.7
date: 1993/09/21 17:22:14;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1993/09/21 17:16:50;  author: yuan;  state: Exp;
cleaning up
----------------------------
revision 1.5
date: 1993/09/21 17:07:11;  author: yuan;  state: Exp;
broken and unbroken
----------------------------
revision 1.4
date: 1993/09/14 14:19:08;  author: yuan;  state: Exp;
header fixed.
----------------------------
revision 1.3
date: 1993/09/14 13:16:37;  author: yuan;  state: Exp;
Minor function prototype modifications were made.
----------------------------
revision 1.2
date: 1993/09/09 12:39:19;  author: yuan;  state: Exp;
compression routine prototypes moved to pslib.h
----------------------------
revision 1.1
date: 1993/09/08 16:16:07;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/pslib/lzw.c,v
Working file: pslib/lzw.c
head: 1.8
branch:
description: Based on lzw15v.c from Data Compression book.
CompressFile and Expandfile have been replaced by cfread and cfwrite.
----------------------------
revision 1.8
date: 1994/02/01 13:23:51;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1993/10/22 17:50:43;  author: yuan;  state: Exp;
Fixed the hard to track down bug
----------------------------
revision 1.6
date: 1993/10/18 18:00:13;  author: yuan;  state: Exp;
Fixed memory alloc errors.
----------------------------
revision 1.5
date: 1993/09/21 17:22:24;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/09/21 17:16:25;  author: yuan;  state: Exp;
cleaning up
----------------------------
revision 1.3
date: 1993/09/14 13:11:57;  author: yuan;  state: Exp;
cfread and cfwrite have been changed into lzw_expand and lzw_compress.
the new cfread and cfwrite functions are now in library.c
lzw_compress returns the compressed buffer and a parameter *size.
----------------------------
revision 1.2
date: 1993/09/09 17:45:56;  author: yuan;  state: Exp;
tab added to ERROR messages
----------------------------
revision 1.1
date: 1993/09/08 16:15:03;  author: yuan;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1993/07/24 19:05:22;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/07/22 11:27:29;  author: yuan;  state: Exp;
No change
----------------------------
revision 1.1
date: 1993/07/21 15:28:48;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/pslib/pslib.c,v
Working file: pslib/pslib.c
head: 1.18
branch:
description: Main program for pslib.exe
----------------------------
revision 1.18
date: 1994/02/15 12:53:20;  author: john;  state: Exp;
Made numfiles stored in library be a short instead of char.
----------------------------
revision 1.17
date: 1994/02/14 20:11:27;  author: john;  state: Exp;
First version working with new cfile stuff.
----------------------------
revision 1.16
date: 1993/12/17 16:17:49;  author: yuan;  state: Exp;
Fixed file not found message if library file doesn't exist.
----------------------------
revision 1.15
date: 1993/12/08 16:08:17;  author: yuan;  state: Exp;
Fixed MAX_FILES bug.
----------------------------
revision 1.14
date: 1993/10/28 14:39:54;  author: yuan;  state: Exp;
old cfread changed to cfreadfile
----------------------------
revision 1.13
date: 1993/10/27 18:30:27;  author: yuan;  state: Exp;
Added free for lib_name when error occurs.
Added file sizes and overall compression ratios
during listing.
----------------------------
revision 1.12
date: 1993/10/22 18:00:25;  author: yuan;  state: Exp;
fixed 0 file size problem
----------------------------
revision 1.11
date: 1993/10/22 17:51:29;  author: yuan;  state: Exp;
Fixed some network generated flaky problems
----------------------------
revision 1.10
date: 1993/10/19 14:10:53;  author: yuan;  state: Exp;
Fixed a minor free(lib_name) problem.
----------------------------
revision 1.9
date: 1993/10/18 17:59:36;  author: yuan;  state: Exp;
Fixed memory alloc errors
----------------------------
revision 1.8
date: 1993/09/29 17:50:06;  author: yuan;  state: Exp;
No major changes were made to pslib.c
However, all printf error messages and exits
were removed from the library.  Now error
codes are returned back to the caller.  If
a buffer has an error, NULL is returned.
----------------------------
revision 1.7
date: 1993/09/27 17:13:58;  author: yuan;  state: Exp;
lib_read_test function added.  All test functions moved
from library.c over to pslib.c
----------------------------
revision 1.6
date: 1993/09/21 17:31:51;  author: yuan;  state: Exp;
Minor formatting in listing function fixed.
----------------------------
revision 1.5
date: 1993/09/21 17:22:31;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/09/21 17:16:04;  author: yua;  state: Exp;
clganing up
----------------------------
revision 1.3
date: 1993/09/14 13:13:30;  author: yuan;  state: Exp;
additional test functions -cfr & -cfw added to test cfread and cfwrite.
----------------------------
revision 1.2
date: 1993/09/09 17:46:08;  author: yuan;  state: Exp;
malloc problem with long paths removed.
make sure that 'libname' is not a flag.
----------------------------
revision 1.1
date: 1993/09/08 16:15:42;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/pslib/readfile.c,v
Working file: pslib/readfile.c
head: 1.8
branch:
description: ReadFileRaw, WriteFile, AppendFile, ReadFileBuf
File and buffer i/o routines.
=============================================================================
RCS file: f:/miner/source/pslib/readfile.h,v
Working file: pslib/readfile.h
head: 1.5
branch:
description: =============================================================================
RCS file: f:/miner/source/pslib/bitio.c,v
Working file: pslib/bitio.c
head: 1.9
branch:
description: Contains all the necessary bit routines.
The file handling has been optimized and the pacifier has been removed.
----------------------------
revision 1.9
date: 1993/10/22 17:51:09;  author: yuan;  state: Exp;
No major revisions
----------------------------
revision 1.8
date: 1993/10/18 17:59:55;  author: yuan;  state: Exp;
Fixed memory alloc errors
----------------------------
revision 1.7
date: 1993/09/21 17:22:17;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1993/09/21 17:16:19;  author: yuan;  state: Exp;
cleaning up
----------------------------
revision 1.5
date: 1993/09/20 12:25:39;  author: yuan;  state: Exp;
ReadFile, WriteFile, AppendFile removed to readfile.lib
----------------------------
revision 1.4
date: 1993/09/14 13:06:25;  author: yuan;  state: Exp;
CloseOutputBitFile no longer frees the buffer.
----------------------------
revision 1.3
date: 1993/09/09 17:42:02;  author: yuan;  state: Exp;
tab added to ERROR messages
----------------------------
revision 1.2
date: 1993/09/09 12:38:28;  author: yuan;  state: Exp;
WriteFile and AppendFile fixed.
----------------------------
revision 1.1
date: 1993/09/08 16:14:04;  author: yuan;  state: Exp;
Initial revision
----------------------------
revision 1.3
date: 1993/07/24 19:04:52;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/07/22 11:25:35;  author: yuan;  state: Exp;
No change
----------------------------
revision 1.1
date: 1993/07/21 15:28:13;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/pslib/library.c,v
Working file: pslib/library.c
head: 1.30
branch:
description: Sample setup for RCS header
----------------------------
revision 1.30
date: 1994/03/23 13:55:30;  author: matt;  state: Exp;
Set others_use in library get info routine
----------------------------
revision 1.29
date: 1994/02/15 12:53:25;  author: john;  state: Exp;
Made numfiles stored in library be a short instead of char.
----------------------------
revision 1.28
date: 1994/02/14 20:11:38;  author: john;  state: Exp;
First version working with new cfile stuff.
----------------------------
revision 1.27
date: 1994/01/17 11:01:23;  author: john;  state: Exp;
Made cfopen return NULL when file not found instead
of doing an Error inside ReadFile.
----------------------------
revision 1.26
date: 1994/01/07 12:02:41;  author: yuan;  state: Exp;
fixed problem with checkfile.
CheckFile now checks the directory first, rather
than the library
----------------------------
revision 1.25
date: 1994/01/07 11:45:24;  author: yuan;  state: Exp;
cleaned up some code.
----------------------------
revision 1.24
date: 1994/01/07 10:24:29;  author: yuan;  state: Exp;
Makes it so ReadFile reads from directory before
it checks the library file.
----------------------------
revision 1.23
date: 1993/12/15 11:18:45;  author: yuan;  state: Exp;
Fixed calloc in lib_init... Changed it to MALLOC
----------------------------
revision 1.22
date: 1993/12/10 19:26:13;  author: matt;  state: Exp;
Made more functions call Error() instead of returning error codes
----------------------------
revision 1.21
date: 1993/12/08 17:06:47;  author: yuan;  state: Exp;
Added CheckFile();
----------------------------
revision 1.20
date: 1993/12/08 16:07:05;  author: yuan;  state: Exp;
Changed MAX_FILES for FileList[]
----------------------------
revision 1.19
date: 1993/10/28 14:40:55;  author: yuan;  state: Exp;
cfread changed to cfreadfile.
----------------------------
revision 1.18
date: 1993/10/27 12:42:29;  author: yuan;  state: Exp;
Added ReadFileBuf to read into a buffer (compressed)
----------------------------
revision 1.17
date: 1993/10/19 14:11:09;  author: yuan;  state: Exp;
Fixed uncompress reading/writing problem
----------------------------
revision 1.16
date: 1993/10/19 13:55:44;  author: matt;  state: Exp;
Made ReadFile() call Error() on file error
----------------------------
revision 1.15
date: 1993/10/19 12:38:53;  author: matt;  state: Exp;
Cleaned up error handling in lib_init() a little
----------------------------
revision 1.14
date: 1993/10/19 11:33:33;  author: yuan;  state: Exp;
Fixed cfread free problem.
----------------------------
revision 1.13
date: 1993/10/18 18:00:27;  author: yuan;  state: Exp;
Fixed memory alloc errors.
----------------------------
revision 1.12
date: 1993/10/17 18:01:48;  author: yuan;  state: Exp;
Fixed the first file counting problem.
----------------------------
revision 1.11
date: 1993/09/29 17:52:59;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1993/09/29 17:46:54;  author: yuan;  state: Exp;
ReadFile, etc. I/O functions moved back into library.c
ReadFile was renamed to ReadFileRaw which just reads
a file into a buffer... LibReadFile was renamed to
ReadFile, and it reads from either a library or a buffer
depending on lib_init and if the file is found in the
library.
Also, printfs and exits for errors were removed.
In this version, ReadFile should be completely transparent
to the user.
----------------------------
revision 1.9
date: 1993/09/27 17:13:20;  author: yuan;  state: Exp;
LibReadFile, lib_init, and lib_close functions added.
Documented in library.h.  
----------------------------
revision 1.8
date: 1993/09/21 17:22:26;  author: yuan;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1993/09/21 17:16:37;  author: yuan;  state: Exp;
cleaning up
----------------------------
revision 1.6
date: 1993/09/21 17:06:14;  author: yuan;  state: Exp;
broken and then unbroken version.
need to restart the cflib_init stuff from scratch.
----------------------------
revision 1.5
date: 1993/09/14 13:14:23;  author: yuan;  state: Exp;
additional change which was made in 1.4:
If lzw_compress returns a size overflow (*size = -1) then it
means that the compression ratio is negative, thus we will
store the file rather than compress it.
----------------------------
revision 1.4
date: 1993/09/14 13:06:41;  author: yuan;  state: Exp;
Major changes made.
1) cfread and cfwrite have been changed into lzw_expand and lzw_compress.
	these functions now manipulate buffers rather than files.
2) cfread, cfwrite, cfr_test, and cfw_test have been added.
	cfread takes a file and returns a buffer.
	cfwrite takes a buffer and writes to a file.
	cfr_test and cfw_test are test programs for the previous two
	programs and read and write files.
3) extract now returns a buffer rather than passing a buffer as a
	parameter.
4) switches are allowed anywhere on the command line now.
5) -a switch added in order to add files to a library.
6) Help message lists available options.
7) Date & Time added to library file headers.
----------------------------
revision 1.3
date: 1993/09/09 17:42:21;  author: yuan;  state: Exp;
parsarg running off of library
parsarg passes full path, so filename is extracted from path
  for library.
checks to make sure library is not added to itself.
checks to make sure '-l' is not called in the middle of a build.
----------------------------
revision 1.2
date: 1993/09/09 12:38:48;  author: yuan;  state: Exp;
WriteFile and AppendFile fixed.
----------------------------
revision 1.1
date: 1993/09/08 16:14:46;  author: yuan;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/ntmap.c,v
Working file: texmap/ntmap.c
head: 1.52
branch:
description: Start of conversion to new texture mapper.
----------------------------
revision 1.52
date: 1995/03/14 15:13:06;  author: john;  state: Exp;
Increased MAX_Y_Pointers to 480.
----------------------------
revision 1.51
date: 1995/02/23 14:25:09;  author: john;  state: Exp;
Added editor tmap.
----------------------------
revision 1.50
date: 1995/02/20 18:22:58;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.49
date: 1995/02/20 17:09:11;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.48
date: 1995/01/06 11:11:30;  author: mike;  state: Exp;
even when not in editor, have 400 lines in texture map scanline table.
----------------------------
revision 1.47
date: 1994/12/15 16:43:25;  author: matt;  state: Exp;
Took out code only needed by editor
----------------------------
revision 1.46
date: 1994/12/09 22:35:37;  author: mike;  state: Exp;
fix bug in before call to asm_tmap_scanline_per causing write of pixel onto past right border onto left.
----------------------------
revision 1.45
date: 1994/12/06 16:31:06;  author: mike;  state: Exp;
fix bug in asm_tmap_scanline_matt interface.
----------------------------
revision 1.44
date: 1994/12/04 20:37:18;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.43
date: 1994/12/02 23:30:04;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.42
date: 1994/11/30 00:57:43;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.41
date: 1994/11/28 13:34:27;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.40
date: 1994/11/28 01:30:01;  author: mike;  state: Exp;
kill warning.
----------------------------
revision 1.39
date: 1994/11/28 01:28:59;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.38
date: 1994/11/21 14:08:07;  author: john;  state: Exp;
Took out all multiple instead of divide code.
----------------------------
revision 1.37
date: 1994/11/19 15:21:52;  author: mike;  state: Exp;
rip out unused code.
----------------------------
revision 1.36
date: 1994/11/14 11:42:51;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.35
date: 1994/11/12 16:41:36;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/11/10 21:28:41;  author: mike;  state: Exp;
remove call to init_interface_vars_to_assembler.
----------------------------
revision 1.33
date: 1994/11/10 11:08:59;  author: mike;  state: Exp;
detail level stuff.
----------------------------
revision 1.32
date: 1994/11/09 22:55:52;  author: matt;  state: Exp;
Added variable Current_seg_depth for detail level optimization
----------------------------
revision 1.31
date: 1994/11/09 19:57:31;  author: john;  state: Exp;
Added texture rle caching.
----------------------------
revision 1.30
date: 1994/11/09 19:54:48;  author: mike;  state: Exp;
Call flat shader if Tmap_flat_flag set.
----------------------------
revision 1.29
date: 1994/11/02 21:33:31;  author: john;  state: Exp;
Added Burger Bill's optimization, ie.. 2 muls per 8 pixels.
----------------------------
revision 1.28
date: 1994/11/02 11:32:16;  author: john;  state: Exp;
Added code for c callable inner loop and code to 
test dividing out z0.
----------------------------
revision 1.27
date: 1994/10/28 20:54:32;  author: matt;  state: Exp;
Added error checking
----------------------------
revision 1.26
date: 1994/10/25 11:20:20;  author: mike;  state: Exp;
fix bug in lighting overflow checking for one scanline tall linear texture maps.
----------------------------
revision 1.25
date: 1994/08/03 15:40:33;  author: mike;  state: Exp;
Prevent divide overflows, decrease occurrence of precision-caused glitches.
----------------------------
revision 1.24
date: 1994/07/27 09:31:16;  author: mike;  state: Exp;
Fix concave texture map problem, decrease occurrence of unimportant int 3.
----------------------------
revision 1.23
date: 1994/06/17 12:23:31;  author: mike;  state: Exp;
Support non-lighted texture maps.
----------------------------
revision 1.22
date: 1994/06/11 08:10:24;  author: mike;  state: Exp;
Fix mysterious hang bug, lighting value was out of range.
----------------------------
revision 1.21
date: 1994/06/09 16:10:16;  author: mike;  state: Exp;
Change SC2000 from constant to variable.
=============================================================================
RCS file: f:/miner/source/texmap/scanline.c,v
Working file: texmap/scanline.c
head: 1.2
branch:
description: Routines to draw the texture mapped scanlines.
----------------------------
revision 1.2
date: 1995/02/20 18:23:39;  author: john;  state: Exp;
Added new module for C versions of inner loops.
----------------------------
revision 1.1
date: 1995/02/20 17:42:27;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/scanline.h,v
Working file: texmap/scanline.h
head: 1.2
branch:
description: Prototypes for C versions of texture mapped scanlines.
----------------------------
revision 1.2
date: 1995/02/20 18:23:40;  author: john;  state: Exp;
Added new module for C versions of inner loops.
----------------------------
revision 1.1
date: 1995/02/20 17:44:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/texmap.h,v
Working file: texmap/texmap.h
head: 1.17
branch:
description: Include file for entities using texture mapper library.
----------------------------
revision 1.17
date: 1994/11/10 11:09:16;  author: mike;  state: Exp;
detail level stuff.
----------------------------
revision 1.16
date: 1994/11/09 22:55:32;  author: matt;  state: Exp;
Added variable Current_seg_depth for detail level optimization
----------------------------
revision 1.15
date: 1994/06/09 16:10:04;  author: mike;  state: Exp;
Add prototype for SC2000
----------------------------
revision 1.14
date: 1994/05/25 18:46:16;  author: matt;  state: Exp;
Added gr_upoly_tmap_ylr(), which generates ylr's for a polygon
----------------------------
revision 1.13
date: 1994/05/25 09:47:12;  author: mike;  state: Exp;
Added interface support for linear texture mapper (Mike change, Matt commnet)
----------------------------
revision 1.12
date: 1994/05/24 17:30:43;  author: mike;  state: Exp;
Prototype a bunch of linear, vertical scanning functions.
----------------------------
revision 1.11
date: 1994/05/19 23:26:14;  author: mike;  state: Exp;
Add constants NUM_LIGHTING_VALUES, MAX_LIGHTING_VALUE, MIN_LIGHTING_VALUE,
all part of new lighting_values_in_0_to_1 system.
----------------------------
revision 1.10
date: 1994/05/14 17:19:21;  author: matt;  state: Exp;
Added externs
----------------------------
revision 1.9
date: 1994/04/13 23:55:44;  author: matt;  state: Exp;
Increased max_tmap_verts from 16 to 25
----------------------------
revision 1.8
date: 1994/03/31 08:35:43;  author: mike;  state: Exp;
Prototype for gr_upoly_tmap.
----------------------------
revision 1.7
date: 1994/02/08 15:17:54;  author: mike;  state: Exp;
define label for MAX_TMAP_VERTS
----------------------------
revision 1.6
date: 1994/01/31 15:41:51;  author: mike;  state: Exp;
Add texture_map_lin_lin_sky_v
----------------------------
revision 1.5
date: 1994/01/18 10:49:40;  author: mike;  state: Exp;
prototype for texture_map_lin_lin_sky
----------------------------
revision 1.4
date: 1993/11/30 17:09:46;  author: mike;  state: Exp;
prototype for compute_lighting_value.
----------------------------
revision 1.3
date: 1993/11/22 10:50:38;  author: matt;  state: Exp;
Add ifndef around body of file
----------------------------
revision 1.2
date: 1993/10/06 12:41:25;  author: mike;  state: Exp;
Change prototype for draw_tmap.
----------------------------
revision 1.1
date: 1993/09/08 17:29:11;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/texmapl.h,v
Working file: texmap/texmapl.h
head: 1.14
branch:
description: Local include file for texture mapper library -- NOT to be included by users.
----------------------------
revision 1.14
date: 1995/02/20 18:23:02;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.13
date: 1995/02/20 17:09:16;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.12
date: 1994/11/28 13:34:34;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.11
date: 1994/11/12 16:41:27;  author: mike;  state: Exp;
function prototype.
----------------------------
revision 1.10
date: 1994/05/24 17:30:00;  author: mike;  state: Exp;
Prototype fix_recip, asm_tmap_scanline_lin_v.
----------------------------
revision 1.9
date: 1994/04/21 15:04:26;  author: mike;  state: Exp;
Add prototype for texmapl.h
----------------------------
revision 1.8
date: 1994/03/31 08:34:53;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/03/22 20:37:04;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1994/03/14 15:43:03;  author: mike;  state: Exp;
streamline code.
----------------------------
revision 1.5
date: 1994/01/31 15:43:18;  author: mike;  state: Exp;
window_height, asm_tmap_scanline_lin_sky_v
----------------------------
revision 1.4
date: 1994/01/21 21:12:27;  author: mike;  state: Exp;
Prototype asm_tmap_scanline_lin_sky
----------------------------
revision 1.3
date: 1994/01/14 14:01:45;  author: mike;  state: Exp;
Add a bunch of variables.
----------------------------
revision 1.2
date: 1993/11/22 10:25:11;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:13;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap.c,v
Working file: texmap/tmap.c
head: 1.19
branch:
description: Texture mapper
----------------------------
revision 1.19
date: 1994/03/14 15:44:27;  author: mike;  state: Exp;
Streamline code, rendering this file obsolete, replaced by ntmap.c
----------------------------
revision 1.18
date: 1994/02/10 18:35:15;  author: matt;  state: Exp;
Got rid of DEBUG_ON define, now replaced by NDEBUG system
----------------------------
revision 1.17
date: 1994/02/08 15:21:28;  author: mike;  state: Exp;
sc2000 stuff.
----------------------------
revision 1.16
date: 1994/01/31 15:43:01;  author: mike;  state: Exp;
who knows, probably a lot of stuff...
----------------------------
revision 1.15
date: 1994/01/26 11:50:28;  author: mike;  state: Exp;
Don't make dark textures not plot.
----------------------------
revision 1.14
date: 1994/01/21 21:12:53;  author: mike;  state: Exp;
sky stuff.
----------------------------
revision 1.13
date: 1994/01/21 11:58:47;  author: john;  state: Exp;
Changed lighting.
----------------------------
revision 1.12
date: 1994/01/18 10:51:11;  author: mike;  state: Exp;
Interface to sky texture mapper.
----------------------------
revision 1.11
date: 1994/01/14 14:02:43;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1993/12/20 13:56:45;  author: mike;  state: Exp;
Remove "negative lighting value" message.
----------------------------
revision 1.9
date: 1993/12/17 19:59:58;  author: mike;  state: Exp;
Change lighting.
----------------------------
revision 1.8
date: 1993/12/07 12:28:01;  author: john;  state: Exp;
Moved bmd_palette to gr_palette
----------------------------
revision 1.7
date: 1993/12/06 13:28:11;  author: mike;  state: Exp;
Prevent divide overflow.
----------------------------
revision 1.6
date: 1993/11/30 17:17:11;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/11/23 18:08:13;  author: mike;  state: Exp;
Put in check for under/over flowing lighting values.
----------------------------
revision 1.4
date: 1993/11/23 15:09:19;  author: mike;  state: Exp;
Added lighting to perspective tmapper
----------------------------
revision 1.3
date: 1993/11/22 10:24:04;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/06 12:41:45;  author: mike;  state: Exp;
Change draw_tmap to conform to Matt's new interface.
----------------------------
revision 1.1
date: 1993/09/08 17:29:09;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmapflat.c,v
Working file: texmap/tmapflat.c
head: 1.13
branch:
description: Flat shader derived from texture mapper (a little slow)
----------------------------
revision 1.13
date: 1995/02/20 18:23:24;  author: john;  state: Exp;
Added new module for C versions of inner loops.
----------------------------
revision 1.12
date: 1995/02/20 17:09:17;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.11
date: 1994/11/30 00:58:01;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.10
date: 1994/11/28 13:34:32;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.9
date: 1994/11/19 15:21:46;  author: mike;  state: Exp;
rip out unused code.
----------------------------
revision 1.8
date: 1994/11/12 16:41:41;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/11/09 23:05:12;  author: mike;  state: Exp;
do lighting on texture maps which get flat shaded instead.
----------------------------
revision 1.6
date: 1994/10/06 19:53:07;  author: matt;  state: Exp;
Added function that takes same parms as draw_tmap(), but renders flat
----------------------------
revision 1.5
date: 1994/10/06 18:38:12;  author: john;  state: Exp;
Added the ability to fade a scanline by calling gr_upoly_tmap
with Gr_scanline_darkening_level with a value < MAX_FADE_LEVELS.
----------------------------
revision 1.4
date: 1994/05/25 18:46:32;  author: matt;  state: Exp;
Added gr_upoly_tmap_ylr(), which generates ylr's for a polygon
----------------------------
revision 1.3
date: 1994/04/08 16:25:58;  author: mike;  state: Exp;
Comment out some includes (of header files)
call init_interface_vars_to_assembler.
----------------------------
revision 1.2
date: 1994/03/31 08:33:44;  author: mike;  state: Exp;
Fixup flat shading version of texture mapper (get it?)
(Or maybe not, I admit to not testing my code...hahahah!)
----------------------------
revision 1.1
date: 1993/09/08 17:29:10;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmapsky.c,v
Working file: texmap/tmapsky.c
head: 1.4
branch:
description: Sky texture mapper for Sim City 2000 Drive Through
----------------------------
revision 1.4
date: 1994/11/28 13:34:33;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.3
date: 1994/06/09 16:10:10;  author: mike;  state: Exp;
Kill definition of SC2000.
----------------------------
revision 1.2
date: 1994/03/15 14:49:58;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/03/15 10:30:53;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmapv.c,v
Working file: texmap/tmapv.c
head: 1.5
branch:
description: Vertical scanning in inner loop analogue to tmap.c
----------------------------
revision 1.5
date: 1994/11/28 13:34:30;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.4
date: 1994/05/24 17:31:01;  author: mike;  state: Exp;
Vertical scanning texture mapper, hyperbolic in outer loop, linear in inner.
----------------------------
revision 1.3
date: 1994/05/24 11:02:54;  author: mike;  state: Exp;
Fix bugs in vertically scanning texture mapper, hack in Do_vertical_scan.
----------------------------
revision 1.2
date: 1994/01/31 15:42:02;  author: mike;  state: Exp;
Vertical scanning version of texture mapper.
----------------------------
revision 1.1
date: 1994/01/30 13:56:44;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmapz.c,v
Working file: texmap/tmapz.c
head: 1.3
branch:
description: .
----------------------------
revision 1.3
date: 1994/11/28 13:34:26;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.2
date: 1994/07/08 17:43:13;  author: john;  state: Exp;
Added flat-shaded-zbuffered polygon.
----------------------------
revision 1.1
date: 1994/07/08 10:45:13;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/ntmap.c,v
Working file: texmap/ntmap.c
head: 1.52
branch:
description: Start of conversion to new texture mapper.
----------------------------
revision 1.52
date: 1995/03/14 15:13:06;  author: john;  state: Exp;
Increased MAX_Y_Pointers to 480.
----------------------------
revision 1.51
date: 1995/02/23 14:25:09;  author: john;  state: Exp;
Added editor tmap.
----------------------------
revision 1.50
date: 1995/02/20 18:22:58;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.49
date: 1995/02/20 17:09:11;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.48
date: 1995/01/06 11:11:30;  author: mike;  state: Exp;
even when not in editor, have 400 lines in texture map scanline table.
----------------------------
revision 1.47
date: 1994/12/15 16:43:25;  author: matt;  state: Exp;
Took out code only needed by editor
----------------------------
revision 1.46
date: 1994/12/09 22:35:37;  author: mike;  state: Exp;
fix bug in before call to asm_tmap_scanline_per causing write of pixel onto past right border onto left.
----------------------------
revision 1.45
date: 1994/12/06 16:31:06;  author: mike;  state: Exp;
fix bug in asm_tmap_scanline_matt interface.
----------------------------
revision 1.44
date: 1994/12/04 20:37:18;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.43
date: 1994/12/02 23:30:04;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.42
date: 1994/11/30 00:57:43;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.41
date: 1994/11/28 13:34:27;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.40
date: 1994/11/28 01:30:01;  author: mike;  state: Exp;
kill warning.
----------------------------
revision 1.39
date: 1994/11/28 01:28:59;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.38
date: 1994/11/21 14:08:07;  author: john;  state: Exp;
Took out all multiple instead of divide code.
----------------------------
revision 1.37
date: 1994/11/19 15:21:52;  author: mike;  state: Exp;
rip out unused code.
----------------------------
revision 1.36
date: 1994/11/14 11:42:51;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.35
date: 1994/11/12 16:41:36;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/11/10 21:28:41;  author: mike;  state: Exp;
remove call to init_interface_vars_to_assembler.
----------------------------
revision 1.33
date: 1994/11/10 11:08:59;  author: mike;  state: Exp;
detail level stuff.
----------------------------
revision 1.32
date: 1994/11/09 22:55:52;  author: matt;  state: Exp;
Added variable Current_seg_depth for detail level optimization
----------------------------
revision 1.31
date: 1994/11/09 19:57:31;  author: john;  state: Exp;
Added texture rle caching.
----------------------------
revision 1.30
date: 1994/11/09 19:54:48;  author: mike;  state: Exp;
Call flat shader if Tmap_flat_flag set.
----------------------------
revision 1.29
date: 1994/11/02 21:33:31;  author: john;  state: Exp;
Added Burger Bill's optimization, ie.. 2 muls per 8 pixels.
----------------------------
revision 1.28
date: 1994/11/02 11:32:16;  author: john;  state: Exp;
Added code for c callable inner loop and code to 
test dividing out z0.
----------------------------
revision 1.27
date: 1994/10/28 20:54:32;  author: matt;  state: Exp;
Added error checking
----------------------------
revision 1.26
date: 1994/10/25 11:20:20;  author: mike;  state: Exp;
fix bug in lighting overflow checking for one scanline tall linear texture maps.
----------------------------
revision 1.25
date: 1994/08/03 15:40:33;  author: mike;  state: Exp;
Prevent divide overflows, decrease occurrence of precision-caused glitches.
----------------------------
revision 1.24
date: 1994/07/27 09:31:16;  author: mike;  state: Exp;
Fix concave texture map problem, decrease occurrence of unimportant int 3.
----------------------------
revision 1.23
date: 1994/06/17 12:23:31;  author: mike;  state: Exp;
Support non-lighted texture maps.
----------------------------
revision 1.22
date: 1994/06/11 08:10:24;  author: mike;  state: Exp;
Fix mysterious hang bug, lighting value was out of range.
----------------------------
revision 1.21
date: 1994/06/09 16:10:16;  author: mike;  state: Exp;
Change SC2000 from constant to variable.
=============================================================================
RCS file: f:/miner/source/ui/button.c,v
Working file: ui/button.c
head: 1.10
branch:
description: Routines for manipulating the button gadgets.
----------------------------
revision 1.10
date: 1994/11/18 23:07:32;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.9
date: 1994/09/22 18:18:42;  author: john;  state: Exp;
Fixed bug with Enter being pressed when a window opens.
----------------------------
revision 1.8
date: 1994/06/09 12:18:28;  author: john;  state: Exp;
Took out keyboard flushes.
----------------------------
revision 1.7
date: 1994/04/22 11:10:11;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1993/12/10 14:16:29;  author: john;  state: Exp;
made buttons have 2 user-functions.
----------------------------
revision 1.5
date: 1993/12/07 12:31:18;  author: john;  state: Exp;
new version.
----------------------------
revision 1.4
date: 1993/10/26 13:45:56;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/10/05 17:30:21;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/09/20 10:34:49;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:27:15;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/file.c,v
Working file: ui/file.c
head: 1.6
branch:
description: File dialog box stuff.
----------------------------
revision 1.6
date: 1994/06/09 12:18:29;  author: john;  state: Exp;
Took out keyboard flushes.
----------------------------
revision 1.5
date: 1994/04/27 18:30:49;  author: john;  state: Exp;
Fixed bug with enter a directory without a slash on
the end not working.
 .
----------------------------
revision 1.4
date: 1994/04/22 11:09:47;  author: john;  state: Exp;
Speed up directory loading by only searching for *. instead of *.*
----------------------------
revision 1.3
date: 1993/12/07 12:30:18;  author: john;  state: Exp;
new version.
----------------------------
revision 1.2
date: 1993/10/26 13:46:22;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/10/06 11:10:23;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/func.h,v
Working file: ui/func.h
head: 1.1
branch:
description: .
----------------------------
revision 1.1
date: 1994/11/27 14:52:03;  author: matt;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1994/11/21 14:13:31;  author: matt;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1993/11/15 12:28:13;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/gadget.c,v
Working file: ui/gadget.c
head: 1.6
branch:
description: General routines for all the low-level gadgets.
----------------------------
revision 1.6
date: 1994/08/09 09:56:48;  author: matt;  state: Exp;
Save & restore curwindow around button processing
----------------------------
revision 1.5
date: 1994/04/22 11:10:13;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/12/07 12:31:11;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:46:19;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:30:06;  author: john;  state: Exp;
,
----------------------------
revision 1.1
date: 1993/09/20 10:34:54;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/harderr.c,v
Working file: ui/harderr.c
head: 1.3
branch:
description: A graphical dos critical error handler.
----------------------------
revision 1.3
date: 1993/10/26 13:45:57;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:30:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:34:58;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/icon.c,v
Working file: ui/icon.c
head: 1.2
branch:
description: An icon class.
----------------------------
revision 1.2
date: 1994/11/18 23:07:33;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.1
date: 1993/12/07 12:30:23;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/inputbox.c,v
Working file: ui/inputbox.c
head: 1.6
branch:
description: Routines for doing inputbox gadgets.
----------------------------
revision 1.6
date: 1994/11/18 23:07:30;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.5
date: 1994/07/22 17:02:17;  author: john;  state: Exp;
fixed bug with inputbox not sucking up its keypresses.
----------------------------
revision 1.4
date: 1993/12/07 12:30:55;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:45:59;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:30:50;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:35:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/keypress.c,v
Working file: ui/keypress.c
head: 1.2
branch:
description: ----------------------------
revision 1.2
date: 1994/06/09 12:18:27;  author: john;  state: Exp;
Took out keyboard flushes.
----------------------------
revision 1.1
date: 1993/12/07 12:30:14;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/listbox.c,v
Working file: ui/listbox.c
head: 1.5
branch:
description: Routines for doing listbox gadgets.
----------------------------
revision 1.5
date: 1994/11/18 23:07:32;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.4
date: 1993/12/07 12:31:02;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:46:16;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:30:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:34:45;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/medfunc.c,v
Working file: ui/medfunc.c
head: 1.1
branch:
description: A list of MED functions.
----------------------------
revision 1.1
date: 1993/12/07 12:31:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/menu.c,v
Working file: ui/menu.c
head: 1.5
branch:
description: Routines for doing popup menus.
----------------------------
revision 1.5
date: 1994/11/18 23:07:19;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.4
date: 1993/12/07 12:30:24;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:46:18;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:31:25;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:35:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/menubar.c,v
Working file: ui/menubar.c
head: 1.10
branch:
description: .
----------------------------
revision 1.10
date: 1994/11/27 14:53:11;  author: matt;  state: Exp;
Took out include of medlisp.h
----------------------------
revision 1.9
date: 1994/11/18 23:07:28;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.8
date: 1994/05/31 18:18:41;  author: john;  state: Exp;
Fixed bug with F pulling up file menu,
----------------------------
revision 1.7
date: 1994/05/30 12:03:37;  author: john;  state: Exp;
Fixed bug with Alt+F not getting accepted in state 0.
----------------------------
revision 1.6
date: 1994/05/25 10:05:54;  author: yuan;  state: Exp;
Tracking down strange bug with do-wall-dialog.
----------------------------
revision 1.5
date: 1994/05/24 17:52:22;  author: yuan;  state: Exp;
Testing.
----------------------------
revision 1.4
date: 1994/02/01 13:29:53;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/12/22 17:26:49;  author: john;  state: Exp;
made it so that you can hold down Alt key and 
type menu letters to select an item.
----------------------------
revision 1.2
date: 1993/12/15 11:18:15;  author: yuan;  state: Exp;
Changed width of menubar to 700 so that we could squeeze
in the clock
----------------------------
revision 1.1
date: 1993/12/07 12:31:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/message.c,v
Working file: ui/message.c
head: 1.8
branch:
description: Routines for doing a popup messagebox
----------------------------
revision 1.8
date: 1994/11/18 23:07:31;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.7
date: 1994/06/09 12:18:31;  author: john;  state: Exp;
Took out keyboard flushes.
----------------------------
revision 1.6
date: 1994/01/10 16:24:37;  author: john;  state: Exp;
Fixed bug in 800x600 mode with restoring
bogus font.
----------------------------
revision 1.5
date: 1994/01/10 15:10:34;  author: john;  state: Exp;
made messagebox use smallfont in modes with
with < 640.
----------------------------
revision 1.4
date: 1993/12/07 12:30:00;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:46:01;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:31:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:35:22;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/mouse.c,v
Working file: ui/mouse.c
head: 1.8
branch:
description: Mouse interface routines.
----------------------------
revision 1.8
date: 1995/03/06 17:54:17;  author: john;  state: Exp;
fixed bug with mouse color being wrong.
----------------------------
revision 1.7
date: 1994/09/23 14:57:52;  author: john;  state: Exp;
Took out calls to init_mouse and init_keyboard.
----------------------------
revision 1.6
date: 1994/04/22 11:10:06;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/12/07 12:30:44;  author: john;  state: Exp;
new version.
----------------------------
revision 1.4
date: 1993/10/26 13:46:04;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/10/05 17:55:27;  author: matt;  state: Exp;
Changed default pointer
----------------------------
revision 1.2
date: 1993/10/05 17:31:33;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:35:25;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/number.c,v
Working file: ui/number.c
head: 1.2
branch:
description: Routine to input a number
----------------------------
revision 1.2
date: 1994/06/09 12:18:25;  author: john;  state: Exp;
Took out keyboard flushes.
----------------------------
revision 1.1
date: 1993/12/07 12:31:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/popup.c,v
Working file: ui/popup.c
head: 1.5
branch:
description: Routines for a popup menu.
----------------------------
revision 1.5
date: 1994/11/18 23:07:31;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.4
date: 1993/12/07 12:30:03;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:45:58;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:30:36;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:34:41;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/radio.c,v
Working file: ui/radio.c
head: 1.5
branch:
description: Radio box gadget stuff.
----------------------------
revision 1.5
date: 1994/04/22 11:10:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/12/07 12:29:40;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:46:39;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:31:42;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:35:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/scroll.c,v
Working file: ui/scroll.c
head: 1.5
branch:
description: Routines for doing vertical scroll bars.
----------------------------
revision 1.5
date: 1994/11/18 23:07:33;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.4
date: 1993/12/07 12:30:35;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:46:10;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:31:04;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:35:29;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/ui.c,v
Working file: ui/ui.c
head: 1.9
branch:
description: UI init and close functions.
----------------------------
revision 1.9
date: 1994/11/13 15:37:18;  author: john;  state: Exp;
Made ui_close not close key and mouse.
----------------------------
revision 1.8
date: 1994/10/27 09:58:53;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/10/27 09:43:00;  author: john;  state: Exp;
Fixed colors after removing gr_inverse_table.
----------------------------
revision 1.6
date: 1994/09/23 14:57:41;  author: john;  state: Exp;
Took out calls to init_mouse and init_keyboard.
----------------------------
revision 1.5
date: 1993/12/10 14:16:45;  author: john;  state: Exp;
made buttons have 2 user-functions.
----------------------------
revision 1.4
date: 1993/12/07 12:31:32;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:46:12;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:31:55;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:35:49;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/ui.h,v
Working file: ui/ui.h
head: 1.11
branch:
description: Header file for user interface
----------------------------
revision 1.11
date: 1994/11/18 23:07:33;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.10
date: 1994/05/14 17:44:36;  author: matt;  state: Exp;
Added extern.
----------------------------
revision 1.9
date: 1994/05/14 17:20:33;  author: matt;  state: Exp;
Added externs
----------------------------
revision 1.8
date: 1994/02/01 13:29:56;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/01/10 16:25:03;  author: john;  state: Exp;
Fixed bug in 800x600 mode with restoring
bogus font.
----------------------------
revision 1.6
date: 1993/12/10 14:22:30;  author: john;  state: Exp;
Made buttons have up to 2 keys/functions.
----------------------------
revision 1.5
date: 1993/12/07 12:30:11;  author: john;  state: Exp;
new version.
----------------------------
revision 1.4
date: 1993/10/26 13:46:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/10/07 11:23:30;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:31:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:36:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/ui.h,v
Working file: ui/ui.h
head: 1.5
branch:
description: Header file for user interface
----------------------------
revision 1.5
date: 1993/12/07 12:30:11;  author: john;  state: Exp;
new version.
----------------------------
revision 1.4
date: 1993/10/26 13:46:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/10/07 11:23:30;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:31:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:36:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/uidraw.c,v
Working file: ui/uidraw.c
head: 1.5
branch:
description: Graphics primatives for the ui gadgets and windows.
----------------------------
revision 1.5
date: 1994/11/18 23:07:34;  author: john;  state: Exp;
Changed a bunch of shorts to ints.
----------------------------
revision 1.4
date: 1994/09/13 11:20:22;  author: john;  state: Exp;
Made ui_string_centered not clip.
----------------------------
revision 1.3
date: 1993/10/26 13:46:33;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:31:00;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:35:41;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/userbox.c,v
Working file: ui/userbox.c
head: 1.4
branch:
description: Routines for user-boxes.
----------------------------
revision 1.4
date: 1993/12/07 12:30:05;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:46:13;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:32:01;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:35:53;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/window.c,v
Working file: ui/window.c
head: 1.8
branch:
description: Windowing functions and controller.
----------------------------
revision 1.8
date: 1994/11/18 23:21:46;  author: john;  state: Exp;
Fixed big with prev.
----------------------------
revision 1.7
date: 1994/11/18 23:21:06;  author: john;  state: Exp;
Changed some shorts to int.
----------------------------
revision 1.6
date: 1994/06/09 12:18:12;  author: john;  state: Exp;
Took out keyboard flushes.
----------------------------
revision 1.5
date: 1994/01/18 11:00:36;  author: john;  state: Exp;
added ui_get_idle_seconds.
----------------------------
revision 1.4
date: 1993/12/07 12:30:33;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:46:08;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:31:46;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:35:44;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/barbox.c,v
Working file: ui/barbox.c
head: 1.2
branch:
description: File for creating a barbox...
----------------------------
revision 1.2
date: 1994/01/18 11:07:45;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/01/10 15:24:32;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/ui/checkbox.c,v
Working file: ui/checkbox.c
head: 1.4
branch:
description: Routines for doing checkbox gadgets.
----------------------------
revision 1.4
date: 1993/12/07 12:30:47;  author: john;  state: Exp;
new version.
----------------------------
revision 1.3
date: 1993/10/26 13:46:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/05 17:30:42;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/20 10:35:07;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/bitmap.c,v
Working file: 2d/bitmap.c
head: 1.17
branch:
description: Graphical routines for manipulating grs_bitmaps.
----------------------------
revision 1.17
date: 1994/11/18 22:50:25;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.16
date: 1994/11/10 15:59:46;  author: john;  state: Exp;
Fixed bugs with canvas's being created with bogus bm_flags.
----------------------------
revision 1.15
date: 1994/10/26 23:55:53;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.14
date: 1994/09/19 14:40:21;  author: john;  state: Exp;
Changed dpmi stuff.
----------------------------
revision 1.13
date: 1994/09/19 11:44:04;  author: john;  state: Exp;
Changed call to allocate selector to the dpmi module.
----------------------------
revision 1.12
date: 1994/06/09 13:14:57;  author: john;  state: Exp;
Made selectors zero our
out, I meant.
----------------------------
revision 1.11
date: 1994/05/06 12:50:07;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.10
date: 1994/04/08 16:59:39;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.9
date: 1994/03/16 17:21:09;  author: john;  state: Exp;
Added slow palette searching options.
----------------------------
revision 1.8
date: 1994/03/14 17:59:35;  author: john;  state: Exp;
Added function to check bitmap's transparency.
----------------------------
revision 1.7
date: 1994/03/14 17:16:21;  author: john;  state: Exp;
fixed bug with counting freq of pixels.
----------------------------
revision 1.6
date: 1994/03/14 16:55:47;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.5
date: 1994/02/18 15:32:22;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/10/15 16:22:49;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/09/08 17:37:11;  author: john;  state: Exp;
Checking for errors with Yuan...
----------------------------
revision 1.2
date: 1993/09/08 14:46:27;  author: john;  state: Exp;
looking for possible bugs...
----------------------------
revision 1.1
date: 1993/09/08 11:43:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/box.c,v
Working file: 2d/box.c
head: 1.3
branch:
description: Graphical routines for drawing boxes.
----------------------------
revision 1.3
date: 1994/11/18 22:50:19;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.2
date: 1993/10/15 16:23:31;  author: john;  state: Exp;
y
----------------------------
revision 1.1
date: 1993/09/08 11:43:11;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/canvas.c,v
Working file: 2d/canvas.c
head: 1.14
branch:
description: Graphical routines for manipulating grs_canvas's.
----------------------------
revision 1.14
date: 1995/03/06 09:18:45;  author: john;  state: Exp;
Made modex page flipping wait for retrace be default.
----------------------------
revision 1.13
date: 1995/03/01 15:37:40;  author: john;  state: Exp;
Better ModeX support.
----------------------------
revision 1.12
date: 1994/11/28 17:08:29;  author: john;  state: Exp;
Took out some unused functions in linear.asm, moved
gr_linear_movsd from linear.asm to bitblt.c, made sure that
the code in ibiblt.c sets the direction flags before rep movsing.
----------------------------
revision 1.11
date: 1994/11/18 22:50:24;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.10
date: 1994/11/10 15:59:33;  author: john;  state: Exp;
Fixed bugs with canvas's being created with bogus bm_flags.
----------------------------
revision 1.9
date: 1994/06/24 17:26:34;  author: john;  state: Exp;
Made rowsizes bigger than actual screen work with SVGA.
----------------------------
revision 1.8
date: 1994/05/06 12:50:41;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.7
date: 1993/12/08 16:41:26;  author: john;  state: Exp;
fixed color = -1 bug
----------------------------
revision 1.6
date: 1993/10/15 16:22:25;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/09/29 16:14:07;  author: john;  state: Exp;
added globol variables describing current canvas
----------------------------
revision 1.4
date: 1993/09/14 16:03:40;  author: matt;  state: Exp;
Added new function, gr_clear_canvas()
----------------------------
revision 1.3
date: 1993/09/14 13:51:38;  author: matt;  state: Exp;
in gr_init_sub_canvas(), copy bm_rowsize from source canvas
----------------------------
revision 1.2
date: 1993/09/08 17:37:34;  author: john;  state: Exp;
Checking for potential errors
----------------------------
revision 1.1
date: 1993/09/08 11:43:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/circle.c,v
Working file: 2d/circle.c
head: 1.3
branch:
description: .
----------------------------
revision 1.3
date: 1994/11/18 22:51:01;  author: john;  state: Exp;
Changed a bunch of shorts to ints in calls.
----------------------------
revision 1.2
date: 1994/05/12 17:33:18;  author: john;  state: Exp;
Added circle code.
----------------------------
revision 1.1
date: 1994/05/12 17:21:49;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/clip.h,v
Working file: 2d/clip.h
head: 1.3
branch:
description: Macros used for clipping
----------------------------
revision 1.3
date: 1993/10/15 16:22:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/09/29 16:14:31;  author: john;  state: Exp;
made work with fix point
----------------------------
revision 1.1
date: 1993/09/08 11:40:53;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/cursor.c,v
Working file: 2d/cursor.c
head: 1.2
branch:
description: Functions for cursor stuff.
----------------------------
revision 1.2
date: 1994/02/18 15:32:24;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/02/07 12:33:04;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/disc.c,v
Working file: 2d/disc.c
head: 1.5
branch:
description: Graphical routines for drawing a disk.
----------------------------
revision 1.5
date: 1994/11/18 22:50:16;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.4
date: 1994/05/06 12:50:12;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.3
date: 1994/04/22 11:16:04;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/15 16:22:24;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 11:43:24;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/effect2d.h,v
Working file: 2d/effect2d.h
head: 1.2
branch:
description: .
----------------------------
revision 1.2
date: 1994/02/01 13:18:47;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/01/28 11:59:37;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/effects.c,v
Working file: 2d/effects.c
head: 1.5
branch:
description: special effects stuff
----------------------------
revision 1.5
date: 1994/11/18 22:51:04;  author: john;  state: Exp;
Changed a bunch of shorts to ints in calls.
----------------------------
revision 1.4
date: 1994/04/22 11:16:00;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1994/02/01 13:18:45;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/26 13:18:15;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/10/25 14:56:56;  author: john;  state: Exp;
Initial revision
head: 1.30
branch:
description: Graphical routines for drawing fonts.
----------------------------
revision 1.30
date: 1995/01/25 20:02:03;  author: john;  state: Exp;
Fixed bug with mono clipped fonts only drawing 1 row.
----------------------------
revision 1.29
date: 1994/12/08 19:03:54;  author: john;  state: Exp;
Made functions use cfile.
----------------------------
revision 1.28
date: 1994/11/27 23:08:22;  author: matt;  state: Exp;
Changes for new mprintf calling convention
----------------------------
revision 1.27
date: 1994/11/18 23:54:50;  author: john;  state: Exp;
Made centering work on x = 0x8000 not -0x8000.
----------------------------
revision 1.26
date: 1994/11/18 22:50:23;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.25
date: 1994/11/04 11:10:31;  author: john;  state: Exp;
Took the & out of string sizing.
----------------------------
revision 1.24
date: 1994/11/04 10:06:36;  author: john;  state: Exp;
Added fade table for fading fonts. Made font that partially clips
not print a warning message.
----------------------------
revision 1.23
date: 1994/09/29 10:09:06;  author: john;  state: Exp;
Added real clipping to text.
----------------------------
revision 1.22
date: 1994/09/12 19:27:51;  author: john;  state: Exp;
Fixed bug with unclipped fonts clipping.
----------------------------
revision 1.21
date: 1994/09/12 17:16:59;  author: john;  state: Exp;
Added clipping.
----------------------------
revision 1.20
date: 1994/08/28 16:43:01;  author: matt;  state: Exp;
Added centering if x==0x8000
----------------------------
revision 1.19
date: 1994/08/15 15:01:11;  author: matt;  state: Exp;
Close font file after reading
----------------------------
revision 1.18
date: 1994/08/12 18:17:42;  author: matt;  state: Exp;
Fixed stupid bug that cause first char in font not to print
----------------------------
revision 1.17
date: 1994/08/11 18:00:17;  author: matt;  state: Exp;
Cleaned up code, fixed string width bug.
----------------------------
revision 1.16
date: 1994/08/10 18:46:11;  author: matt;  state: Exp;
Fixed a couple of little things
----------------------------
revision 1.15
date: 1994/08/10 18:36:20;  author: matt;  state: Exp;
Changed font file format.  Made chars not in font plot as spaces.  Font file
now stores palette for color font & remaps on load.
----------------------------
revision 1.14
date: 1994/08/10 12:27:27;  author: matt;  state: Exp;
Took out unneeded int3
----------------------------
revision 1.13
date: 1994/08/10 12:25:26;  author: matt;  state: Exp;
Added support for colors fonts & kerned fonts
Made our own font file format
----------------------------
revision 1.12
date: 1994/07/22 17:19:00;  author: john;  state: Exp;
made proportional font width be the max width.
----------------------------
revision 1.11
date: 1994/05/06 12:50:26;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.10
date: 1994/01/31 11:08:12;  author: john;  state: Exp;
fixed bug with order of frees.
----------------------------
revision 1.9
date: 1994/01/31 10:36:40;  author: john;  state: Exp;
Free'd variable size font data.
----------------------------
revision 1.8
date: 1994/01/27 17:17:40;  author: john;  state: Exp;
Made error if font file doesn't exist.
----------------------------
revision 1.7
date: 1993/10/26 13:17:48;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1993/10/15 16:23:25;  author: john;  state: Exp;
y
----------------------------
revision 1.5
date: 1993/09/28 19:05:50;  author: john;  state: Exp;
added support for \n in gr_string and gr_get_string_size
----------------------------
revision 1.4
date: 1993/09/28 12:46:49;  author: matt;  state: Exp;
On error, now call Error() instead of exit().
----------------------------
revision 1.3
date: 1993/09/20 11:35:31;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/09/08 15:54:39;  author: john;  state: Exp;
renamed ReadFile to readfontfile to prevent conflicts with others.
----------------------------
revision 1.1
date: 1993/09/08 11:43:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/gpixel.c,v
Working file: 2d/gpixel.c
head: 1.5
branch:
description: Graphical routines for getting a pixel's value.
----------------------------
revision 1.5
date: 1994/11/18 22:50:20;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.4
date: 1994/05/06 12:50:08;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.3
date: 1993/10/15 16:22:50;  author: john;  state: Exp;
y
----------------------------
revision 1.2
date: 1993/09/29 16:15:00;  author: john;  state: Exp;
optimized
----------------------------
revision 1.1
date: 1993/09/08 11:43:40;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/gr.c,v
Working file: 2d/gr.c
head: 1.56
branch:
description: Graphical routines for setting video modes, etc.
----------------------------
revision 1.56
date: 1995/05/08 11:22:47;  author: john;  state: Exp;
Added 320x400 3dbios mode.
----------------------------
revision 1.55
date: 1995/02/02 16:44:05;  author: john;  state: Exp;
Again with prev.
----------------------------
revision 1.54
date: 1995/02/02 16:42:18;  author: john;  state: Exp;
Fixed palette with text fading out.
----------------------------
revision 1.53
date: 1995/02/02 14:26:20;  author: john;  state: Exp;
Made palette fades work better with gamma thingy..
----------------------------
revision 1.52
date: 1995/02/02 14:08:59;  author: john;  state: Exp;
Made palette gamma reset to 0 before exiting to Dos.
----------------------------
revision 1.51
date: 1995/01/30 18:06:35;  author: john;  state: Exp;
Added text screen fade in/out, and restored video mode properly.
----------------------------
revision 1.50
date: 1995/01/24 17:58:16;  author: john;  state: Exp;
Added code to return to 80x25 when graphics close.
----------------------------
revision 1.49
date: 1994/11/30 20:16:05;  author: john;  state: Exp;
Fixed bug that the grd_curscreen flags were never initialized.
----------------------------
revision 1.48
date: 1994/11/24 13:24:43;  author: john;  state: Exp;
Made sure that some rep movs had the cld set first.
Took some unused functions out.
----------------------------
revision 1.47
date: 1994/11/18 22:50:20;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.46
date: 1994/11/15 18:28:36;  author: john;  state: Exp;
Made text screen fade in.
----------------------------
revision 1.45
date: 1994/11/15 17:55:11;  author: john;  state: Exp;
Made text palette fade in when game over.
----------------------------
revision 1.44
date: 1994/11/07 12:07:30;  author: john;  state: Exp;
Made save/restore cursor work a bit better.
----------------------------
revision 1.43
date: 1994/11/05 12:46:44;  author: john;  state: Exp;
Changed palette stuff a bit.
----------------------------
revision 1.42
date: 1994/10/26 23:55:50;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.41
date: 1994/10/10 13:59:50;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.40
date: 1994/10/10 13:58:50;  author: john;  state: Exp;
Added better VGA detection scheme.
----------------------------
revision 1.39
date: 1994/09/29 10:09:15;  author: john;  state: Exp;
Hacked out VGA card detection for now.
----------------------------
revision 1.38
date: 1994/09/22 17:35:35;  author: john;  state: Exp;
Fixed bug with palette not reloading in
gr_set_mode
----------------------------
revision 1.37
date: 1994/09/22 16:08:42;  author: john;  state: Exp;
Fixed some palette stuff.
----------------------------
revision 1.36
date: 1994/09/19 11:44:23;  author: john;  state: Exp;
Changed call to allocate selector to the dpmi module.
----------------------------
revision 1.35
date: 1994/09/12 19:28:11;  author: john;  state: Exp;
Fixed bug with unclipped fonts clipping.
----------------------------
revision 1.34
date: 1994/09/12 18:20:18;  author: john;  state: Exp;
Made text fade out
----------------------------
revision 1.33
date: 1994/09/12 14:40:15;  author: john;  state: Exp;
Neatend.
----------------------------
revision 1.32
date: 1994/08/15 15:01:01;  author: matt;  state: Exp;
Set ptr to NULL after freeing
----------------------------
revision 1.31
date: 1994/07/27 18:30:28;  author: john;  state: Exp;
Took away the blending table.
----------------------------
revision 1.30
date: 1994/06/24 17:26:59;  author: john;  state: Exp;
Made rowsizes bigger than actual screen work with SVGA.
----------------------------
revision 1.29
date: 1994/05/12 17:33:16;  author: john;  state: Exp;
Added circle code.
----------------------------
revision 1.28
date: 1994/05/10 19:51:49;  author: john;  state: Exp;
Added 320x100 mode.
----------------------------
revision 1.27
date: 1994/05/06 12:50:23;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.26
date: 1994/05/03 19:39:00;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.25
date: 1994/04/08 16:59:34;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.24
date: 1994/03/14 16:56:16;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.23
date: 1994/02/18 15:32:27;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.22
date: 1994/01/25 11:40:44;  author: john;  state: Exp;
Added gr_check_mode function.
----------------------------
revision 1.21
date: 1993/12/21 19:57:48;  author: john;  state: Exp;
added selector stuff.
----------------------------
revision 1.20
date: 1993/12/21 11:40:32;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.19
date: 1993/12/09 15:02:13;  author: john;  state: Exp;
Changed palette stuff majorly
----------------------------
revision 1.18
date: 1993/11/16 11:28:36;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.17
date: 1993/10/26 13:17:53;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.16
date: 1993/10/15 16:23:42;  author: john;  state: Exp;
y
----------------------------
revision 1.15
date: 1993/09/29 16:15:21;  author: john;  state: Exp;
optimized
----------------------------
revision 1.14
date: 1993/09/28 19:06:51;  author: john;  state: Exp;
made gr_set_mode change the grd_cursreen->sc_mode variable.
----------------------------
revision 1.13
date: 1993/09/28 12:52:12;  author: matt;  state: Exp;
Set aspect ratio of current screen in gr_init() and gr_set_mode().
----------------------------
revision 1.12
date: 1993/09/27 13:00:24;  author: john;  state: Exp;
made gr_set_mode not call mode_reset on fail
----------------------------
revision 1.11
date: 1993/09/27 12:51:27;  author: john;  state: Exp;
fixed gr_set_mode to return values
----------------------------
revision 1.10
date: 1993/09/26 18:59:12;  author: john;  state: Exp;
fade in/out stuff
----------------------------
revision 1.9
date: 1993/09/21 14:00:41;  author: john;  state: Exp;
added code to save 43/50 line modes.
----------------------------
revision 1.8
date: 1993/09/20 14:48:48;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1993/09/16 17:27:48;  author: john;  state: Exp;
Added code to save/restore video mode.
----------------------------
revision 1.6
date: 1993/09/16 16:30:15;  author: john;  state: Exp;
Made gr_close retore Mode 3 always.
----------------------------
revision 1.5
date: 1993/09/14 18:40:07;  author: john;  state: Exp;
Made it so that gr_setmode doesn't change curcanv font and colors.
----------------------------
revision 1.4
date: 1993/09/14 16:27:01;  author: matt;  state: Exp;
Changes gr_change_mode() to be gr_set_mode()
After gr_set_mode(), grd_curcanv is the canvas of the new screen
Made gr_set_mode() work with the new grd_curcanv, not the old one
----------------------------
revision 1.3
date: 1993/09/14 13:08:37;  author: john;  state: Exp;
Added gr_changemode
----------------------------
revision 1.2
date: 1993/09/08 17:36:37;  author: john;  state: Exp;
Looking for error for Yuan... Neatened the nested ifs in setmode.
----------------------------
revision 1.1
date: 1993/09/08 11:43:51;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/gr.h,v
Working file: 2d/gr.h
head: 1.45
branch:
description: Definitions for graphics lib.
----------------------------
revision 1.45
date: 1994/11/18 22:50:21;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.44
date: 1994/11/13 13:04:07;  author: john;  state: Exp;
Added paged out bit in bitmap structure.  Commented out the
poly code that is never used.
----------------------------
revision 1.43
date: 1994/11/09 23:04:56;  author: mike;  state: Exp;
Add avg_color field.
----------------------------
revision 1.42
date: 1994/10/27 00:53:35;  author: john;  state: Exp;
Added RLE Flag to bitmap structere.
----------------------------
revision 1.41
date: 1994/10/26 23:55:52;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.40
date: 1994/08/11 17:59:12;  author: mike;  state: Exp;
Assembler merge functions written for 3 rotations of bitmaps.
----------------------------
revision 1.39
date: 1994/08/10 12:24:56;  author: matt;  state: Exp;
Added support for colors fonts & kerned fonts
Made our own font file format
----------------------------
revision 1.38
date: 1994/07/27 18:30:18;  author: john;  state: Exp;
Took away the blending table.
----------------------------
revision 1.37
date: 1994/06/16 15:25:06;  author: mike;  state: Exp;
Add flag BM_FLAG_NO_LIGHTING.
----------------------------
revision 1.36
date: 1994/05/31 10:01:22;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.35
date: 1994/05/31 07:53:34;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/05/14 17:19:41;  author: matt;  state: Exp;
Added externs
----------------------------
revision 1.33
date: 1994/05/12 17:33:09;  author: john;  state: Exp;
Added circle code.
----------------------------
revision 1.32
date: 1994/05/06 12:50:16;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.31
date: 1994/05/04 10:06:06;  author: john;  state: Exp;
Added flag for bitmap super-transparency.
----------------------------
revision 1.30
date: 1994/05/03 19:38:56;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.29
date: 1994/04/22 11:16:05;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.28
date: 1994/04/08 16:59:32;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.27
date: 1994/03/16 17:29:52;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.26
date: 1994/03/16 17:20:51;  author: john;  state: Exp;
Added slow palette searching options.
----------------------------
revision 1.25
date: 1994/03/14 17:59:20;  author: john;  state: Exp;
Added function to check bitmap's transparency.
----------------------------
revision 1.24
date: 1994/03/14 16:56:26;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.23
date: 1994/02/18 15:32:30;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.22
date: 1994/01/25 11:40:48;  author: john;  state: Exp;
Added gr_check_mode function.
----------------------------
revision 1.21
date: 1994/01/12 13:45:24;  author: john;  state: Exp;
Added scaler.
----------------------------
revision 1.20
date: 1993/12/21 19:58:24;  author: john;  state: Exp;
added selector stuff
----------------------------
revision 1.19
date: 1993/12/21 11:40:40;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.18
date: 1993/12/09 15:02:08;  author: john;  state: Exp;
Changed palette stuff majorly
----------------------------
revision 1.17
date: 1993/12/07 12:32:05;  author: john;  state: Exp;
moved bmd_palette to gr_palette
----------------------------
revision 1.16
date: 1993/11/28 12:08:06;  author: mike;  state: Exp;
Change prototype for rotate_bitmap.
----------------------------
revision 1.15
date: 1993/11/18 14:22:51;  author: mike;  state: Exp;
Add prototype for rotate_bitmap.
----------------------------
revision 1.14
date: 1993/11/17 19:00:59;  author: mike;  state: Exp;
Add prototype for test_rotate_bitmap
----------------------------
revision 1.13
date: 1993/11/16 11:28:58;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1993/10/26 13:17:43;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1993/10/15 16:23:37;  author: john;  state: Exp;
y
----------------------------
revision 1.10
date: 1993/09/28 15:32:33;  author: john;  state: Exp;
added def for save/restore vidmode
----------------------------
revision 1.9
date: 1993/09/28 12:51:46;  author: matt;  state: Exp;
Added aspect ratio to grs_screen structure
----------------------------
revision 1.8
date: 1993/09/26 22:45:12;  author: matt;  state: Exp;
Changed prototypes for line functions to take fixes, not ints.
----------------------------
revision 1.7
date: 1993/09/26 18:58:16;  author: john;  state: Exp;
fadein/out stuff
----------------------------
revision 1.6
date: 1993/09/14 16:26:44;  author: matt;  state: Exp;
Changed gr_change_mode() to be gr_set_mode()
----------------------------
revision 1.4
date: 1993/09/14 13:08:45;  author: john;  state: Exp;
added gr_change_mode
----------------------------
revision 1.3
date: 1993/09/08 13:56:03;  author: matt;  state: Exp;
Put 'if' block around body of file; added bitmap type BM_RGB15
----------------------------
revision 1.2
date: 1993/09/08 13:02:14;  author: john;  state: Exp;
Changed structure definitions a bit.
----------------------------
revision 1.1
date: 1993/09/08 11:25:15;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/grdef.h,v
Working file: 2d/grdef.h
head: 1.9
branch:
description: Internal definitions for graphics lib.
----------------------------
revision 1.9
date: 1995/03/01 12:31:13;  author: john;  state: Exp;
Added wait for retrace thingy in modex setstart.
----------------------------
revision 1.8
date: 1994/05/06 12:50:09;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.7
date: 1994/01/25 11:40:29;  author: john;  state: Exp;
Added gr_check_mode function.
----------------------------
revision 1.6
date: 1993/10/15 16:22:53;  author: john;  state: Exp;
y
----------------------------
revision 1.5
date: 1993/09/29 17:31:00;  author: john;  state: Exp;
added gr_vesa_pixel
----------------------------
revision 1.4
date: 1993/09/29 16:14:43;  author: john;  state: Exp;
added global canvas descriptors.
----------------------------
revision 1.3
date: 1993/09/08 17:38:02;  author: john;  state: Exp;
Looking for errors
----------------------------
revision 1.2
date: 1993/09/08 15:54:29;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 11:37:57;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/ibitblt.c,v
Working file: 2d/ibitblt.c
head: 1.6
branch:
description: Rountines to copy a bitmap on top of another bitmap, but
only copying to pixels that are transparent.
----------------------------
revision 1.6
date: 1994/11/28 17:07:29;  author: john;  state: Exp;
Took out some unused functions in linear.asm, moved
gr_linear_movsd from linear.asm to bitblt.c, made sure that
the code in ibiblt.c sets the direction flags before rep movsing.
----------------------------
revision 1.5
date: 1994/11/18 22:50:22;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.4
date: 1994/11/09 16:35:16;  author: john;  state: Exp;
First version with working RLE bitmaps.
----------------------------
revision 1.3
date: 1994/10/03 17:18:05;  author: john;  state: Exp;
Fixed bug with edi not getting intialized to zero
in create_mask.
----------------------------
revision 1.2
date: 1994/05/31 11:10:55;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/05/30 16:08:27;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/ibitblt.h,v
Working file: 2d/ibitblt.h
head: 1.2
branch:
description: Prototypes for the ibitblt functions.
----------------------------
revision 1.2
date: 1994/05/31 11:10:56;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/05/30 16:08:46;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/line.c,v
Working file: 2d/line.c
head: 1.10
branch:
description: Graphical routines for drawing lines.
----------------------------
revision 1.10
date: 1994/11/18 22:50:02;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.9
date: 1994/07/13 12:03:04;  author: john;  state: Exp;
Added assembly modex line-drawer.
----------------------------
revision 1.8
date: 1993/12/06 18:18:03;  author: john;  state: Exp;
took out aaline.
----------------------------
revision 1.7
date: 1993/12/03 12:11:17;  author: john;  state: Exp;
,
----------------------------
revision 1.6
date: 1993/11/18 09:40:22;  author: john;  state: Exp;
Added laser-line
----------------------------
revision 1.5
date: 1993/10/15 16:23:36;  author: john;  state: Exp;
y
----------------------------
revision 1.4
date: 1993/09/29 16:13:58;  author: john;  state: Exp;
optimized
----------------------------
revision 1.3
date: 1993/09/26 18:44:12;  author: matt;  state: Exp;
Added gr_uline(), which just calls gr_line(), and made both take
fixes, and shift down themselves.
----------------------------
revision 1.2
date: 1993/09/11 19:50:15;  author: matt;  state: Exp;
In gr_vline() & gr_hline(), check for start > end, and EXCHG if so
----------------------------
revision 1.1
date: 1993/09/08 11:43:54;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/bitblt.c,v
Working file: 2d/bitblt.c
head: 1.29
branch:
description: Routines for bitblt's.
----------------------------
revision 1.29
date: 1995/03/14 12:14:28;  author: john;  state: Exp;
Added code to double horz/vert bitblts.
----------------------------
revision 1.28
date: 1995/03/13 09:01:48;  author: john;  state: Exp;
Fixed bug with VFX1 screen not tall enough.
----------------------------
revision 1.27
date: 1995/03/01 15:38:10;  author: john;  state: Exp;
Better ModeX support.
----------------------------
revision 1.26
date: 1994/12/15 12:19:00;  author: john;  state: Exp;
Added gr_bm_bitblt (clipped!) function.
----------------------------
revision 1.25
date: 1994/12/09 18:58:42;  author: matt;  state: Exp;
Took out include of 3d.h
----------------------------
revision 1.24
date: 1994/11/28 17:08:32;  author: john;  state: Exp;
Took out some unused functions in linear.asm, moved
gr_linear_movsd from linear.asm to bitblt.c, made sure that
the code in ibiblt.c sets the direction flags before rep movsing.
----------------------------
revision 1.22
date: 1994/11/23 16:04:00;  author: john;  state: Exp;
Fixed generic rle'ing to use new bit method.
----------------------------
revision 1.21
date: 1994/11/18 22:51:03;  author: john;  state: Exp;
Changed a bunch of shorts to ints in calls.
----------------------------
revision 1.20
date: 1994/11/10 15:59:48;  author: john;  state: Exp;
Fixed bugs with canvas's being created with bogus bm_flags.
----------------------------
revision 1.19
date: 1994/11/09 21:03:35;  author: john;  state: Exp;
Added RLE for svga gr_ubitmap.
----------------------------
revision 1.18
date: 1994/11/09 17:41:29;  author: john;  state: Exp;
Made a slow version of rle bitblt to svga, modex.
----------------------------
revision 1.17
date: 1994/11/09 16:35:15;  author: john;  state: Exp;
First version with working RLE bitmaps.
----------------------------
revision 1.16
date: 1994/11/04 10:06:58;  author: john;  state: Exp;
Added fade table for fading fonts. Made font that partially clips
not print a warning message.
----------------------------
revision 1.15
date: 1994/09/22 16:08:38;  author: john;  state: Exp;
Fixed some palette stuff.
----------------------------
revision 1.14
date: 1994/09/19 11:44:27;  author: john;  state: Exp;
Changed call to allocate selector to the dpmi module.
----------------------------
revision 1.13
date: 1994/08/08 13:03:00;  author: john;  state: Exp;
Fixed bug in gr_bitmap in modex 
----------------------------
revision 1.12
date: 1994/07/13 19:47:23;  author: john;  state: Exp;
Fixed bug with modex bitblt to page 2 not working.
----------------------------
revision 1.11
date: 1994/05/31 11:10:52;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/03/18 15:24:34;  author: matt;  state: Exp;
Removed interlace stuff
----------------------------
revision 1.9
date: 1994/02/18 15:32:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1994/02/01 13:22:54;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/01/13 08:28:25;  author: mike;  state: Exp;
Modify rect copy to copy alternate scanlines when in interlaced mode.
----------------------------
revision 1.6
date: 1993/12/28 12:09:46;  author: john;  state: Exp;
added lbitblt.asm
----------------------------
revision 1.5
date: 1993/10/26 13:18:09;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.4
date: 1993/10/15 16:23:30;  author: john;  state: Exp;
y
----------------------------
revision 1.3
date: 1993/09/13 17:52:58;  author: john;  state: Exp;
Fixed bug in BitBlt linear to SVGA
----------------------------
revision 1.2
date: 1993/09/08 14:47:00;  author: john;  state: Exp;
Made bitmap00 add rowsize instead of bitmap width.
Other routines might have this problem too.
----------------------------
revision 1.1
date: 1993/09/08 11:43:01;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/mspeed.c,v
Working file: 2d/mspeed.c
head: 1.2
branch:
description: Program for testing video speed.
----------------------------
revision 1.2
date: 1993/10/15 16:23:32;  author: john;  state: Exp;
y
----------------------------
revision 1.1
date: 1993/09/08 11:43:59;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/palette.c,v
Working file: 2d/palette.c
head: 1.41
branch:
description: Graphical routines for setting the palette
----------------------------
revision 1.41
date: 1995/02/02 14:26:31;  author: john;  state: Exp;
Made palette fades work better with gamma thingy..
----------------------------
revision 1.40
date: 1994/12/08 19:03:46;  author: john;  state: Exp;
Made functions use cfile.
----------------------------
revision 1.39
date: 1994/12/01 11:23:27;  author: john;  state: Exp;
Limited Gamma from 0-8.
----------------------------
revision 1.38
date: 1994/11/28 01:31:08;  author: mike;  state: Exp;
optimize color lookup function, caching recently used colors.
----------------------------
revision 1.37
date: 1994/11/18 22:50:18;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.36
date: 1994/11/15 17:54:59;  author: john;  state: Exp;
Made text palette fade in when game over.
----------------------------
revision 1.35
date: 1994/11/10 19:53:14;  author: matt;  state: Exp;
Fixed error handling is gr_use_palette_table()
----------------------------
revision 1.34
date: 1994/11/07 13:53:48;  author: john;  state: Exp;
Added better gamma stufff.
----------------------------
revision 1.33
date: 1994/11/07 13:37:56;  author: john;  state: Exp;
Added gamma correction stuff.
----------------------------
revision 1.32
date: 1994/11/05 13:20:14;  author: john;  state: Exp;
Fixed bug with find_closest_color_current not working.
----------------------------
revision 1.31
date: 1994/11/05 13:08:09;  author: john;  state: Exp;
MAde it return 0 when palette already faded out.
----------------------------
revision 1.30
date: 1994/11/05 13:05:34;  author: john;  state: Exp;
Added back in code to allow keys during fade.
----------------------------
revision 1.29
date: 1994/11/05 12:49:50;  author: john;  state: Exp;
Fixed bug with previous comment..
----------------------------
revision 1.28
date: 1994/11/05 12:48:46;  author: john;  state: Exp;
Made palette only fade in / out when its supposed to.
----------------------------
revision 1.27
date: 1994/11/05 12:46:43;  author: john;  state: Exp;
Changed palette stuff a bit.
----------------------------
revision 1.26
date: 1994/11/01 12:59:35;  author: john;  state: Exp;
Reduced palette.256 size.
----------------------------
revision 1.25
date: 1994/10/26 23:55:35;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.24
date: 1994/10/04 22:03:05;  author: matt;  state: Exp;
Fixed bug: palette wasn't fading all the way out or in
----------------------------
revision 1.23
date: 1994/09/22 16:08:40;  author: john;  state: Exp;
Fixed some palette stuff.
----------------------------
revision 1.22
date: 1994/09/19 11:44:31;  author: john;  state: Exp;
Changed call to allocate selector to the dpmi module.
----------------------------
revision 1.21
date: 1994/09/12 19:28:09;  author: john;  state: Exp;
Fixed bug with unclipped fonts clipping.
----------------------------
revision 1.20
date: 1994/09/12 18:18:39;  author: john;  state: Exp;
Set 254 and 255 to fade to themselves in fadetable
----------------------------
revision 1.19
date: 1994/09/12 14:40:10;  author: john;  state: Exp;
Neatend.
----------------------------
revision 1.18
date: 1994/09/09 09:31:55;  author: john;  state: Exp;
Made find_closest_color not look at superx spot of 254
----------------------------
revision 1.17
date: 1994/08/09 11:27:08;  author: john;  state: Exp;
Add cthru stuff.
----------------------------
revision 1.16
date: 1994/08/01 11:03:51;  author: john;  state: Exp;
MAde it read in old/new palette.256
----------------------------
revision 1.15
date: 1994/07/27 18:30:27;  author: john;  state: Exp;
Took away the blending table.
----------------------------
revision 1.14
date: 1994/06/09 10:39:52;  author: john;  state: Exp;
In fade out.in functions, returned 1 if key was pressed...
----------------------------
revision 1.13
date: 1994/05/31 19:04:16;  author: john;  state: Exp;
Added key to stop fade if desired.
----------------------------
revision 1.12
date: 1994/05/06 12:50:20;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.11
date: 1994/05/03 19:39:02;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1994/04/22 11:16:07;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.9
date: 1994/04/08 16:59:40;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.8
date: 1994/03/16 17:21:17;  author: john;  state: Exp;
Added slow palette searching options.
----------------------------
revision 1.7
date: 1994/01/07 11:47:33;  author: john;  state: Exp;
made use cflib
----------------------------
revision 1.6
date: 1993/12/21 11:41:04;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/12/09 15:02:47;  author: john;  state: Exp;
Changed palette stuff majorly
----------------------------
revision 1.4
date: 1993/12/07 12:31:41;  author: john;  state: Exp;
moved bmd_palette to gr_palette
----------------------------
revision 1.3
date: 1993/10/15 16:22:23;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/09/26 18:59:46;  author: john;  state: Exp;
fade stuff
----------------------------
revision 1.1
date: 1993/09/08 11:44:03;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/palette.h,v
Working file: 2d/palette.h
head: 1.11
branch:
description: Protoypes for palette functions
----------------------------
revision 1.11
date: 1994/11/15 17:55:10;  author: john;  state: Exp;
Made text palette fade in when game over.
----------------------------
revision 1.10
date: 1994/11/07 13:53:42;  author: john;  state: Exp;
Added better gamma stufff.
----------------------------
revision 1.9
date: 1994/11/07 13:38:03;  author: john;  state: Exp;
Added gamma correction stuff.
----------------------------
revision 1.8
date: 1994/11/05 13:05:59;  author: john;  state: Exp;
Added back in code to allow keys during fade.
----------------------------
revision 1.7
date: 1994/11/05 12:46:37;  author: john;  state: Exp;
Changed palette stuff a bit.
----------------------------
revision 1.6
date: 1994/09/22 16:08:37;  author: john;  state: Exp;
Fixed some palette stuff.
----------------------------
revision 1.5
date: 1994/08/09 11:27:04;  author: john;  state: Exp;
Add cthru stuff.
----------------------------
revision 1.4
date: 1994/06/09 10:39:33;  author: john;  state: Exp;
In fade out.in functions, returned 1 if key was pressed...
----------------------------
revision 1.3
date: 1994/05/31 19:04:24;  author: john;  state: Exp;
Added key to stop fade if desired.
----------------------------
revision 1.2
date: 1994/05/06 12:50:42;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.1
date: 1994/05/04 14:59:57;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/pcx.c,v
Working file: 2d/pcx.c
head: 1.6
branch:
description: Routines to read/write pcx images.
----------------------------
revision 1.6
date: 1995/03/01 15:38:12;  author: john;  state: Exp;
Better ModeX support.
----------------------------
revision 1.5
date: 1995/01/21 17:54:17;  author: john;  state: Exp;
Added pcx reader for modes other than modex.
----------------------------
revision 1.4
date: 1994/12/08 19:03:56;  author: john;  state: Exp;
Made functions use cfile.
----------------------------
revision 1.3
date: 1994/11/29 02:53:24;  author: john;  state: Exp;
Added error messages; made call be more similiar to iff.
----------------------------
revision 1.2
date: 1994/11/28 20:03:50;  author: john;  state: Exp;
Added PCX functions.
----------------------------
revision 1.1
date: 1994/11/28 19:57:56;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/pcx.h,v
Working file: 2d/pcx.h
head: 1.4
branch:
description: Routines to read/write pcx images.
----------------------------
revision 1.4
date: 1995/01/21 17:07:34;  author: john;  state: Exp;
Added out of memory error.
----------------------------
revision 1.3
date: 1994/11/29 02:53:10;  author: john;  state: Exp;
Added error messages; made call be more similiar to iff.
----------------------------
revision 1.2
date: 1994/11/28 20:03:48;  author: john;  state: Exp;
Added PCX functions.
----------------------------
revision 1.1
date: 1994/11/28 19:57:45;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/phhandlr.h,v
Working file: 2d/phhandlr.h
head: 1.1
branch:
description: .
----------------------------
revision 1.1
date: 1994/07/21 13:57:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/pixel.c,v
Working file: 2d/pixel.c
head: 1.5
branch:
description: Graphical routines for setting a pixel.
----------------------------
revision 1.5
date: 1994/11/18 22:50:26;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.4
date: 1993/10/15 16:22:26;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/09/29 17:31:27;  author: john;  state: Exp;
optimized vesa pixel stuff
----------------------------
revision 1.2
date: 1993/09/29 16:15:15;  author: john;  state: Exp;
optimized
----------------------------
revision 1.1
date: 1993/09/08 11:44:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/poly.c,v
Working file: 2d/poly.c
head: 1.5
branch:
description: Graphical routines for drawing polygons.
----------------------------
revision 1.5
date: 1994/11/13 13:03:43;  author: john;  state: Exp;
Added paged out bit in bitmap structure.  Commented out the
poly code that is never used.
----------------------------
revision 1.4
date: 1994/03/14 16:56:13;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.3
date: 1993/10/15 16:23:14;  author: john;  state: Exp;
y
----------------------------
revision 1.2
date: 1993/10/08 14:30:39;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 11:44:13;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/rect.c,v
Working file: 2d/rect.c
head: 1.3
branch:
description: Graphical routines for drawing rectangles.
----------------------------
revision 1.3
date: 1994/11/18 22:50:19;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.2
date: 1993/10/15 16:23:27;  author: john;  state: Exp;
y
----------------------------
revision 1.1
date: 1993/09/08 11:44:22;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/rle.c,v
Working file: 2d/rle.c
head: 1.19
branch:
description: Routines to do run length encoding/decoding
on bitmaps.
----------------------------
revision 1.19
date: 1995/01/14 19:18:31;  author: john;  state: Exp;
Added assert to check for paged out bitmap.
----------------------------
revision 1.18
date: 1995/01/14 11:32:07;  author: john;  state: Exp;
Added rle_cache_flush function.
----------------------------
revision 1.17
date: 1994/12/13 10:58:27;  author: john;  state: Exp;
Fixed bug with 2 consecutive calls to get_expanded_Texture
with 2 different bitmaps, returning the same rle texture, 
causing doors to disapper.
----------------------------
revision 1.16
date: 1994/11/30 00:55:03;  author: mike;  state: Exp;
optimization
----------------------------
revision 1.15
date: 1994/11/24 13:24:44;  author: john;  state: Exp;
Made sure that some rep movs had the cld set first.
Took some unused functions out.
----------------------------
revision 1.14
date: 1994/11/23 16:03:46;  author: john;  state: Exp;
Fixed generic rle'ing to use new bit method.
----------------------------
revision 1.13
date: 1994/11/23 15:45:51;  author: john;  state: Exp;
Changed to a 3 bit rle scheme.
----------------------------
revision 1.12
date: 1994/11/18 22:50:24;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.11
date: 1994/11/14 17:06:13;  author: john;  state: Exp;
Took out Key_f12.
----------------------------
revision 1.10
date: 1994/11/14 15:54:09;  author: john;  state: Exp;
Put code in for maybe checking bogus rle data.
----------------------------
revision 1.9
date: 1994/11/14 15:51:58;  author: john;  state: Exp;
Added rle_disable_caching variable to prove the stability of my rle caching code
to any non-believers.
----------------------------
revision 1.8
date: 1994/11/10 10:31:20;  author: john;  state: Exp;
Reduce cache buffers to 16.
----------------------------
revision 1.7
date: 1994/11/09 19:53:43;  author: john;  state: Exp;
Added texture rle caching.
----------------------------
revision 1.6
date: 1994/11/09 17:41:44;  author: john;  state: Exp;
Made a slow version of rle bitblt to svga, modex.
----------------------------
revision 1.5
date: 1994/11/09 17:07:50;  author: john;  state: Exp;
Fixed bug with bitmap that gets bigger with rle.
----------------------------
revision 1.4
date: 1994/11/09 16:35:17;  author: john;  state: Exp;
First version with working RLE bitmaps.
----------------------------
revision 1.3
date: 1994/10/26 12:54:47;  author: john;  state: Exp;
Fixed bug with decode that used rep movsd instead of 
rep stosd.
----------------------------
revision 1.2
date: 1994/10/06 17:05:25;  author: john;  state: Exp;
First version of rle stuff.
----------------------------
revision 1.1
date: 1994/10/06 16:53:34;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/rle.h,v
Working file: 2d/rle.h
head: 1.5
branch:
description: Protypes for rle functions.
----------------------------
revision 1.5
date: 1995/01/14 11:32:20;  author: john;  state: Exp;
Added rle_cache_flush function.
----------------------------
revision 1.4
date: 1994/11/10 13:16:01;  author: matt;  state: Exp;
Added includes
----------------------------
revision 1.3
date: 1994/11/09 19:53:51;  author: john;  state: Exp;
Added texture rle caching.
----------------------------
revision 1.2
date: 1994/11/09 16:35:18;  author: john;  state: Exp;
First version with working RLE bitmaps.
----------------------------
revision 1.1
date: 1994/11/09 12:40:17;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/roller.c,v
Working file: 2d/roller.c
head: 1.15
branch:
description: bitmap scaler, roller
----------------------------
revision 1.15
date: 1994/10/26 23:55:54;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.14
date: 1994/05/06 12:49:48;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.13
date: 1994/02/04 13:21:38;  author: matt;  state: Exp;
Took out test code
----------------------------
revision 1.12
date: 1994/02/01 17:25:31;  author: john;  state: Exp;
Made transparency color be 255 all the time.
----------------------------
revision 1.11
date: 1993/12/08 16:40:47;  author: mike;  state: Exp;
Prevent blowup bug when xright < xleft.
----------------------------
revision 1.10
date: 1993/12/07 12:32:19;  author: john;  state: Exp;
moved bmd_palette to gr_palette
----------------------------
revision 1.9
date: 1993/12/03 18:41:10;  author: unknown;  state: Exp;
Put in check for trying to render_scanline wider than compiled code.
----------------------------
revision 1.8
date: 1993/12/03 15:13:49;  author: mike;  state: Exp;
Fix transparency problem by moving setting of Transparency_color.
----------------------------
revision 1.7
date: 1993/12/03 12:05:13;  author: mike;  state: Exp;
Make compiled code bitmaps clip.
----------------------------
revision 1.6
date: 1993/12/02 18:40:38;  author: mike;  state: Exp;
Suppress "Too many compiled code pointers" Error.
----------------------------
revision 1.5
date: 1993/11/28 12:07:35;  author: mike;  state: Exp;
Fix bugs in compiled code roller
----------------------------
revision 1.4
date: 1993/11/23 13:03:17;  author: mike;  state: Exp;
Add compiled code roller.
----------------------------
revision 1.3
date: 1993/11/18 14:22:44;  author: mike;  state: Exp;
fix bugs
----------------------------
revision 1.2
date: 1993/11/17 19:01:10;  author: mike;  state: Exp;
Add roller.
----------------------------
revision 1.1
date: 1993/11/16 09:36:51;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/scale.c,v
Working file: 2d/scale.c
head: 1.12
branch:
description: Routines for scaling a bitmap.
----------------------------
revision 1.12
date: 1995/03/14 15:14:11;  author: john;  state: Exp;
Increased max scanline length to 640.
..
----------------------------
revision 1.11
date: 1994/11/27 12:56:39;  author: matt;  state: Exp;
Took out unneeded include of 3d.h
----------------------------
revision 1.10
date: 1994/11/18 22:50:25;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.9
date: 1994/11/09 16:35:02;  author: john;  state: Exp;
First version with working RLE bitmaps.
----------------------------
revision 1.8
date: 1994/06/09 13:15:17;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/06/07 11:47:02;  author: john;  state: Exp;
Added back in the fast code for scaling up bitmaps.
----------------------------
revision 1.6
date: 1994/02/18 15:32:36;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/01/22 14:35:01;  author: john;  state: Exp;
Added transparency as color index 255.
----------------------------
revision 1.4
date: 1994/01/17 16:59:12;  author: john;  state: Exp;
once again...
----------------------------
revision 1.3
date: 1994/01/17 16:51:17;  author: john;  state: Exp;
Added check so we don't draw outsibe
the source bitmap's v coordinate... kind
of a hack, but works.
----------------------------
revision 1.2
date: 1994/01/12 18:03:26;  author: john;  state: Exp;
The first iteration of fast scaler..
----------------------------
revision 1.1
date: 1994/01/11 14:48:42;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/scanline.c,v
Working file: 2d/scanline.c
head: 1.7
branch:
description: Graphical routines for drawing solid scanlines.
----------------------------
revision 1.7
date: 1994/11/18 22:50:48;  author: john;  state: Exp;
Changed a bunch of shorts to ints in calls.
----------------------------
revision 1.6
date: 1994/09/02 11:40:32;  author: john;  state: Exp;
fixed bug with urect scanline drakening still
only using 16 levels of fade.
----------------------------
revision 1.5
date: 1994/04/08 16:59:12;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.4
date: 1994/03/22 18:36:27;  author: john;  state: Exp;
Added darkening scanlines
----------------------------
revision 1.3
date: 1993/10/15 16:22:52;  author: john;  state: Exp;
y
----------------------------
revision 1.2
date: 1993/09/08 11:56:29;  author: john;  state: Exp;
neatened
----------------------------
revision 1.1
date: 1993/09/08 11:44:27;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/testg.c,v
Working file: 2d/testg.c
head: 1.19
branch:
description: Program to test the graphics package.
=============================================================================
RCS file: f:/miner/source/2d/tmapbits.c,v
Working file: 2d/tmapbits.c
head: 1.2
branch:
description: A sample bitmap to test functions with.
----------------------------
revision 1.2
date: 1993/10/15 16:23:38;  author: john;  state: Exp;
y
----------------------------
revision 1.1
date: 1993/09/08 11:44:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/tpoly.c,v
Working file: 2d/tpoly.c
head: 1.2
branch:
description: Same as polygon, but darkens...
----------------------------
revision 1.2
date: 1994/04/08 16:59:42;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.1
date: 1994/03/22 17:55:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/vesalib.c,v
Working file: 2d/vesalib.c
head: 1.3
branch:
description: Routines to access VESA video modes.
----------------------------
revision 1.3
date: 1994/11/07 12:07:42;  author: john;  state: Exp;
Made save/restore cursor work a bit better.
----------------------------
revision 1.2
date: 1994/09/29 10:09:26;  author: john;  state: Exp;
Initial version, but not used.
----------------------------
revision 1.1
date: 1994/09/19 11:54:45;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/vesalib.h,v
Working file: 2d/vesalib.h
head: 1.2
branch:
description: Prototypes for routines to access VESA video modes.
----------------------------
revision 1.2
date: 1994/09/29 10:09:38;  author: john;  state: Exp;
Initial version, but not used.
----------------------------
revision 1.1
date: 1994/09/19 11:55:05;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/vesatest.c,v
Working file: 2d/vesatest.c
head: 1.3
branch:
description: .
----------------------------
revision 1.3
date: 1993/12/21 11:40:47;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/12/09 17:14:14;  author: john;  state: Exp;
VESA test program.
----------------------------
revision 1.1
date: 1993/12/09 16:53:01;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/scale.c,v
Working file: 2d/scale.c
head: 1.12
branch:
description: Routines for scaling a bitmap.
----------------------------
revision 1.12
date: 1995/03/14 15:14:11;  author: john;  state: Exp;
Increased max scanline length to 640.
..
----------------------------
revision 1.11
date: 1994/11/27 12:56:39;  author: matt;  state: Exp;
Took out unneeded include of 3d.h
----------------------------
revision 1.10
date: 1994/11/18 22:50:25;  author: john;  state: Exp;
Changed shorts to ints in parameters.
----------------------------
revision 1.9
date: 1994/11/09 16:35:02;  author: john;  state: Exp;
First version with working RLE bitmaps.
----------------------------
revision 1.8
date: 1994/06/09 13:15:17;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1994/06/07 11:47:02;  author: john;  state: Exp;
Added back in the fast code for scaling up bitmaps.
----------------------------
revision 1.6
date: 1994/02/18 15:32:36;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1994/01/22 14:35:01;  author: john;  state: Exp;
Added transparency as color index 255.
----------------------------
revision 1.4
date: 1994/01/17 16:59:12;  author: john;  state: Exp;
once again...
----------------------------
revision 1.3
date: 1994/01/17 16:51:17;  author: john;  state: Exp;
Added check so we don't draw outsibe
the source bitmap's v coordinate... kind
of a hack, but works.
----------------------------
revision 1.2
date: 1994/01/12 18:03:26;  author: john;  state: Exp;
The first iteration of fast scaler..
----------------------------
revision 1.1
date: 1994/01/11 14:48:42;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/vecmat/vecmat.h,v
Working file: vecmat/vecmat.h
head: 1.37
branch:
description: Header file for vector/matrix library
----------------------------
revision 1.37
date: 1995/02/22 13:23:22;  author: john;  state: Exp;
Added the vms_vector_array structure, to access a vms_vector
with an array.
----------------------------
revision 1.36
date: 1995/02/22 12:34:33;  author: john;  state: Exp;
Took out anonymous unions.
----------------------------
revision 1.35
date: 1994/12/13 14:44:20;  author: matt;  state: Exp;
Added vm_vector_2_matrix_norm()
----------------------------
revision 1.34
date: 1994/09/11 19:22:55;  author: matt;  state: Exp;
Added vm_vec_normalized_dir_quick()
----------------------------
revision 1.33
date: 1994/08/04 19:45:38;  author: matt;  state: Exp;
Added option to make a bunch of functions (add, sub, dotprod) inline
----------------------------
revision 1.32
date: 1994/07/19 18:52:36;  author: matt;  state: Exp;
Added vm_vec_normalize_quick() and vm_vec_copy_normalize_quick()
----------------------------
revision 1.31
date: 1994/06/16 18:24:30;  author: matt;  state: Exp;
Added vm_vec_mag_quick()
----------------------------
revision 1.30
date: 1994/06/10 23:19:00;  author: matt;  state: Exp;
New register usage for vm_vec_ang_2_matrix()
----------------------------
revision 1.29
date: 1994/06/01 17:32:06;  author: matt;  state: Exp;
Fixed modify list for vm_vec_normalized_dir()
----------------------------
revision 1.28
date: 1994/05/19 12:07:20;  author: matt;  state: Exp;
Fixed globals and macros and added a constant
----------------------------
revision 1.27
date: 1994/05/19 09:19:15;  author: matt;  state: Exp;
Made vm_vec_normalized_dir() return mag of vector
----------------------------
revision 1.26
date: 1994/05/18 22:28:57;  author: matt;  state: Exp;
Added function vm_vec_normalized_dir()
Added C macros IS_ZERO_VEC(), vm_vec_zero(), and vm_set_identity()
Added C global static vars vmd_zero_vector & vmd_identity_matrix
----------------------------
revision 1.25
date: 1994/05/18 21:45:06;  author: matt;  state: Exp;
Added functions:
  vm_extract_angles_vector()
  vm_extract_angles_vector_normalized()
  vm_vec_copy_normalize()
----------------------------
revision 1.24
date: 1994/05/13 12:42:16;  author: matt;  state: Exp;
Added new function, vm_vec_dist_quick(), which does an approximation.
----------------------------
revision 1.23
date: 1994/03/30 13:37:34;  author: matt;  state: Exp;
Added prototype for vm_vec_scale_add(), and fixed typos
----------------------------
revision 1.22
date: 1994/03/30 13:29:42;  author: matt;  state: Exp;
Header for vm_vec_scale_add2()
----------------------------
revision 1.21
date: 1994/01/31 19:45:13;  author: matt;  state: Exp;
Added function vm_extract_angles_matrix()
----------------------------
revision 1.20
date: 1993/12/21 19:46:14;  author: matt;  state: Exp;
Added function vm_dist_to_plane()
----------------------------
revision 1.19
date: 1993/12/13 17:26:41;  author: matt;  state: Exp;
Added vm_vec_dist()
----------------------------
revision 1.18
date: 1993/12/02 12:45:11;  author: matt;  state: Exp;
New functions: vm_vec_copy_scale(), vm_vec_scale2()
Aliases: vm_transpose(), vm_vec_dot(), vm_vec_cross(), vm_copy_transpose()
----------------------------
revision 1.17
date: 1993/10/29 22:38:36;  author: matt;  state: Exp;
Changed matrix order, making direction vectors the rows
----------------------------
revision 1.16
date: 1993/10/25 11:49:57;  author: matt;  state: Exp;
Made vm_vec_delta_ang() take optional forward vector to return signed delta
----------------------------
revision 1.15
date: 1993/10/20 01:10:05;  author: matt;  state: Exp;
Added vm_vec_delta_ang(), vm_vec_delta_ang_norm(), and vm_vec_ang_2_matrix()
----------------------------
revision 1.14
date: 1993/10/17 17:02:52;  author: matt;  state: Exp;
vm_vector_2_matrix() now takes optional right vector
----------------------------
revision 1.13
date: 1993/10/12 19:31:39;  author: matt;  state: Exp;
Added IDENTITY_MATRIX constant
----------------------------
revision 1.12
date: 1993/10/08 18:10:16;  author: matt;  state: Exp;
Changed vm_vec_make() and vm_angvec_make() to be inline assembly 
functions, to get rid of compiler warnings.  Did not change vm_mat_make(),
which could still get warnings if the return value is unused.
----------------------------
revision 1.11
date: 1993/09/29 12:10:07;  author: matt;  state: Exp;
Changed modified regs in pragmas to include return register
----------------------------
revision 1.10
date: 1993/09/28 12:15:41;  author: matt;  state: Exp;
Added func vm_vector_2_matrix()
----------------------------
revision 1.9
date: 1993/09/24 21:18:38;  author: matt;  state: Exp;
Added vm_vec_avg(), vm_vec_avg4(), and vm_angvec_make().
Documented which functions could have dest==source
----------------------------
revision 1.8
date: 1993/09/20 14:56:11;  author: matt;  state: Exp;
Added new function, vm_vec_perp()
----------------------------
revision 1.7
date: 1993/09/20 14:27:42;  author: mike;  state: Exp;
unfix last fix which introduced a bug
----------------------------
revision 1.6
date: 1993/09/20 10:11:53;  author: mike;  state: Exp;
no changes
----------------------------
revision 1.5
date: 1993/09/20 09:58:58;  author: mike;  state: Exp;
Re-fix vm_vec_make
----------------------------
revision 1.4
date: 1993/09/20 09:41:21;  author: mike;  state: Exp;
Correct vm_vec_make and vm_mat_make macros to return the destination
as the value of the macro.
----------------------------
revision 1.3
date: 1993/09/17 11:23:47;  author: matt;  state: Exp;
Added row access (via xrow,yrow,zrow) to vms_matrix
Added macro vm_mat_make(), like vm_vec_make()
----------------------------
revision 1.2
date: 1993/09/17 11:10:32;  author: matt;  state: Exp;
Added vm_vec_add2() and vm_vec_sub2(), which take 2 args (dest==src0)
----------------------------
revision 1.1
date: 1993/09/16 20:10:01;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: h:/miner/source/xcolor/xcolor.c,v
head: 1.1
branch:
description: .
----------------------------
revision 1.1
date: 1994/01/24 11:09:24;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/cfile/cfile.h,v
Working file: cfile/cfile.h
head: 1.10
branch:
description: Prototypes for compressed file functions...
----------------------------
revision 1.10
date: 1995/03/13 15:16:47;  author: john;  state: Exp;
Added alternate directory stuff.
----------------------------
revision 1.9
date: 1995/02/01 20:56:40;  author: john;  state: Exp;
Added cfexist function
----------------------------
revision 1.8
date: 1995/01/21 17:53:41;  author: john;  state: Exp;
Added alternate pig file thing.
----------------------------
revision 1.7
date: 1994/12/12 13:19:47;  author: john;  state: Exp;
Made cfile work with fiellentth.
----------------------------
revision 1.6
date: 1994/12/08 19:02:52;  author: john;  state: Exp;
Added cfgets.
----------------------------
revision 1.5
date: 1994/12/07 21:34:07;  author: john;  state: Exp;
Stripped out compression stuff...
----------------------------
revision 1.4
date: 1994/07/13 00:16:53;  author: matt;  state: Exp;
Added include
----------------------------
revision 1.3
date: 1994/02/17 17:36:19;  author: john;  state: Exp;
Added CF_READ_MODE and CF_WRITE_MODE constants.
----------------------------
revision 1.2
date: 1994/02/15 12:52:08;  author: john;  state: Exp;
Crappy inbetween version
----------------------------
revision 1.1
date: 1994/02/15 10:54:23;  author: john;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1994/02/10 15:50:54;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/cfile/cfile.c,v
Working file: cfile/cfile.c
head: 1.7
branch:
description: Functions for accessing compressed files.
----------------------------
revision 1.7
date: 1994/04/13 23:44:59;  author: matt;  state: Exp;
When file cannot be opened, free up the buffer for that file.
----------------------------
revision 1.6
date: 1994/02/18 12:38:20;  author: john;  state: Exp;
Optimized a bit
----------------------------
revision 1.5
date: 1994/02/15 18:13:20;  author: john;  state: Exp;
Fixed more bugs.
----------------------------
revision 1.4
date: 1994/02/15 13:27:58;  author: john;  state: Exp;
Works ok...
----------------------------
revision 1.3
date: 1994/02/15 12:51:57;  author: john;  state: Exp;
Crappy inbetween version
----------------------------
revision 1.2
date: 1994/02/14 20:12:29;  author: john;  state: Exp;
First version working with new cfile stuff.
----------------------------
revision 1.1
date: 1994/02/14 15:51:33;  author: john;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1994/02/10 15:45:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: h:/miner/source/compress/test.c,v
head: 1.1
branch:
description: Test program...
----------------------------
revision 1.1
date: 1994/02/10 15:54:38;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/cfile/cfile.c,v
Working file: cfile/cfile.c
head: 1.24
branch:
description: Functions for accessing compressed files.
----------------------------
revision 1.24
date: 1995/03/15 14:20:27;  author: john;  state: Exp;
Added critical error checker.
----------------------------
revision 1.23
date: 1995/03/13 15:16:53;  author: john;  state: Exp;
Added alternate directory stuff.
----------------------------
revision 1.22
date: 1995/02/09 23:08:47;  author: matt;  state: Exp;
Increased the max number of files in hogfile to 250
----------------------------
revision 1.21
date: 1995/02/01 20:56:47;  author: john;  state: Exp;
Added cfexist function
----------------------------
revision 1.20
date: 1995/01/21 17:53:48;  author: john;  state: Exp;
Added alternate pig file thing.
----------------------------
revision 1.19
date: 1994/12/29 15:10:02;  author: john;  state: Exp;
Increased hogfile max files to 200.
----------------------------
revision 1.18
date: 1994/12/12 13:20:57;  author: john;  state: Exp;
Made cfile work with fiellentth.
----------------------------
revision 1.17
date: 1994/12/12 13:14:25;  author: john;  state: Exp;
Made cfiles prefer non-hog files.
----------------------------
revision 1.16
date: 1994/12/09 18:53:26;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.15
date: 1994/12/09 18:52:56;  author: john;  state: Exp;
Took out mem, error checking.
----------------------------
revision 1.14
date: 1994/12/09 18:10:31;  author: john;  state: Exp;
Speed up cfgets, which was slowing down the reading of
bitmaps.tbl, which was making POF loading look slow.
----------------------------
revision 1.13
date: 1994/12/09 17:53:51;  author: john;  state: Exp;
Added error checking to number of hogfiles..
----------------------------
revision 1.12
date: 1994/12/08 19:02:55;  author: john;  state: Exp;
Added cfgets.
----------------------------
revision 1.11
date: 1994/12/07 21:57:48;  author: john;  state: Exp;
Took out data dir.
----------------------------
revision 1.10
date: 1994/12/07 21:38:02;  author: john;  state: Exp;
Made cfile not return error..
----------------------------
revision 1.9
date: 1994/12/07 21:35:34;  author: john;  state: Exp;
Made it read from data directory.
----------------------------
revision 1.8
date: 1994/12/07 21:33:55;  author: john;  state: Exp;
Stripped out compression stuff...
----------------------------
revision 1.7
date: 1994/04/13 23:44:59;  author: matt;  state: Exp;
When file cannot be opened, free up the buffer for that file.
----------------------------
revision 1.6
date: 1994/02/18 12:38:20;  author: john;  state: Exp;
Optimized a bit
----------------------------
revision 1.5
date: 1994/02/15 18:13:20;  author: john;  state: Exp;
Fixed more bugs.
----------------------------
revision 1.4
date: 1994/02/15 13:27:58;  author: john;  state: Exp;
Works ok...
----------------------------
revision 1.3
date: 1994/02/15 12:51:57;  author: john;  state: Exp;
Crappy inbetween version
----------------------------
revision 1.2
date: 1994/02/14 20:12:29;  author: john;  state: Exp;
First version working with new cfile stuff.
----------------------------
revision 1.1
date: 1994/02/14 15:51:33;  author: john;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1994/02/10 15:45:12;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/cfile/nocfile.h,v
Working file: cfile/nocfile.h
head: 1.4
branch:
description: Prototypes to *NOT* use cfile, but use cfile calling parameters.
For debugging.
----------------------------
revision 1.4
date: 1994/12/09 17:53:52;  author: john;  state: Exp;
Added error checking to number of hogfiles..
----------------------------
revision 1.3
date: 1994/02/17 17:36:34;  author: john;  state: Exp;
Added CF_READ_MODE and CF_WRITE_MODE constants.
----------------------------
revision 1.2
date: 1994/02/15 12:52:08;  author: john;  state: Exp;
Crappy inbetween version
----------------------------
revision 1.1
date: 1994/02/15 09:51:00;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/clipper.asm,v
Working file: 3d/clipper.asm
head: 1.6
branch:
description: Source for clipper
----------------------------
revision 1.6
date: 1994/07/25 00:00:02;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.5
date: 1994/02/10 18:00:38;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.4
date: 1994/01/13 15:39:09;  author: mike;  state: Exp;
Change usage of Frame_count to _Frame_count
----------------------------
revision 1.3
date: 1993/11/04 18:48:39;  author: matt;  state: Exp;
Added system to only rotate points once per frame
----------------------------
revision 1.2
date: 1993/11/04 12:36:25;  author: mike;  state: Exp;
Add clipping for lighting value.
----------------------------
revision 1.1
date: 1993/10/29 22:20:27;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/draw.asm,v
Working file: 3d/draw.asm
head: 1.30
branch:
description: Source for drawing routines
----------------------------
revision 1.30
date: 1995/02/15 02:26:52;  author: matt;  state: Exp;
Put in added handling for odd clipping error
----------------------------
revision 1.29
date: 1995/02/10 16:41:41;  author: matt;  state: Exp;
Put in check for bad points after clip
----------------------------
revision 1.28
date: 1995/02/09 22:00:52;  author: matt;  state: Exp;
Removed dependence on divide overflow handler; we now check for overflow
before dividing.  This fixed problems on some TI chips.
----------------------------
revision 1.27
date: 1994/11/30 00:59:32;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.26
date: 1994/10/03 12:52:04;  author: matt;  state: Exp;
Fixed typo
----------------------------
revision 1.25
date: 1994/10/03 12:49:56;  author: matt;  state: Exp;
Took out unused routines & data
----------------------------
revision 1.24
date: 1994/07/24 23:59:34;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.23
date: 1994/05/30 11:36:26;  author: matt;  state: Exp;
Added g3_set_special_render() to allow a user to specify functions to
call for 2d draws.
----------------------------
revision 1.22
date: 1994/05/19 21:46:13;  author: matt;  state: Exp;
Moved texture lighting out of 3d and into the game
----------------------------
revision 1.21
date: 1994/05/13 17:06:18;  author: matt;  state: Exp;
Finished ripping out intersected side lighting code
----------------------------
revision 1.20
date: 1994/05/13 17:02:58;  author: matt;  state: Exp;
Took our special side lighting code
----------------------------
revision 1.19
date: 1994/04/19 18:45:19;  author: matt;  state: Exp;
Now call the clipped disk, which it should have done all along, but
John had only implemented the unclipped disk, and it clipped anyway.
----------------------------
revision 1.18
date: 1994/04/19 18:26:42;  author: matt;  state: Exp;
Added g3_draw_sphere() function.
----------------------------
revision 1.17
date: 1994/04/19 17:03:40;  author: matt;  state: Exp;
For polygons, call the texture-mapper's flat shader
----------------------------
revision 1.16
date: 1994/03/18 15:58:37;  author: matt;  state: Exp;
Fixed bug that caused light vals to be screwed up
----------------------------
revision 1.15
date: 1994/03/14 12:37:31;  author: matt;  state: Exp;
Made draw routines check for rotated points
----------------------------
revision 1.14
date: 1994/02/10 18:00:39;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.13
date: 1994/02/09 11:48:16;  author: matt;  state: Exp;
Changes return codes for drawing functions
----------------------------
revision 1.12
date: 1994/02/01 13:23:05;  author: matt;  state: Exp;
Added use_beam var to turn off beam lighting
----------------------------
revision 1.11
date: 1994/01/26 20:27:18;  author: mike;  state: Exp;
bright light on very near side.
----------------------------
revision 1.10
date: 1994/01/26 12:49:26;  author: matt;  state: Exp;
Made lighting computation a seperate function, g3_compute_lighting_value.
Note the unwieldy function name, courtesy of Mike.
----------------------------
revision 1.9
date: 1994/01/25 16:38:02;  author: yuan;  state: Exp;
Fixed beam_brightness
----------------------------
revision 1.8
date: 1994/01/24 11:08:49;  author: matt;  state: Exp;
Added beam_brightness variable
----------------------------
revision 1.7
date: 1994/01/22 18:22:09;  author: matt;  state: Exp;
New lighting stuff now done in 3d; g3_draw_tmap() takes lighting parm
----------------------------
revision 1.6
date: 1993/12/05 23:47:14;  author: matt;  state: Exp;
Added function g3_draw_line_ptrs()
----------------------------
revision 1.5
date: 1993/11/22 10:51:29;  author: matt;  state: Exp;
Changed texture map function comments to reflect uvl (not just uv) struct
----------------------------
revision 1.4
date: 1993/11/17 10:40:02;  author: matt;  state: Exp;
Added check for zero-length normal in do_facing_check
----------------------------
revision 1.3
date: 1993/11/04 18:49:14;  author: matt;  state: Exp;
Added system to only rotate points once per frame
----------------------------
revision 1.2
date: 1993/11/04 12:36:36;  author: mike;  state: Exp;
Add support for static lighting value.
----------------------------
revision 1.1
date: 1993/10/29 22:20:27;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/globvars.asm,v
Working file: 3d/globvars.asm
head: 1.6
branch:
description: Global variables for 3d system
----------------------------
revision 1.6
date: 1994/11/19 17:25:27;  author: matt;  state: Exp;
Took out unneeded var define
----------------------------
revision 1.5
date: 1994/07/25 00:00:03;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.4
date: 1994/01/28 15:23:23;  author: matt;  state: Exp;
Added _Matrix_scale so C can get at those vars
----------------------------
revision 1.3
date: 1994/01/13 15:38:29;  author: mike;  state: Exp;
rename Frame_count to _Frame_count, can you guess why?
----------------------------
revision 1.2
date: 1993/11/04 18:49:16;  author: matt;  state: Exp;
Added system to only rotate points once per frame
----------------------------
revision 1.1
date: 1993/10/29 22:20:27;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/horizon.asm,v
Working file: 3d/horizon.asm
head: 1.5
branch:
description: Source for horizon drawer
----------------------------
revision 1.5
date: 1994/06/14 18:14:40;  author: matt;  state: Exp;
Use texture-mapper flat shader
----------------------------
revision 1.4
date: 1994/02/10 18:00:42;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.3
date: 1994/01/22 18:22:16;  author: matt;  state: Exp;
Fixed bug in horizon bitmap code
----------------------------
revision 1.2
date: 1994/01/20 17:21:47;  author: matt;  state: Exp;
New function g3_compute_sky_polygon()
----------------------------
revision 1.1
date: 1994/01/14 17:22:08;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/instance.asm,v
Working file: 3d/instance.asm
head: 1.8
branch:
description: Code for handling instanced 3d objects
----------------------------
revision 1.8
date: 1994/07/29 18:16:16;  author: matt;  state: Exp;
Added instance by angles, and corrected parms for g3_init()
----------------------------
revision 1.7
date: 1994/07/25 00:00:02;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.6
date: 1994/06/16 17:52:31;  author: matt;  state: Exp;
If NULL passed for instance matrix, don't rotate (just do offset)
----------------------------
revision 1.5
date: 1994/06/01 18:10:22;  author: matt;  state: Exp;
Fixed register trash in g3_start_instance_matrix()
----------------------------
revision 1.4
date: 1994/03/25 17:09:20;  author: matt;  state: Exp;
Increase MAX_INSTANCE_DEPTH to 5 (from 3)
----------------------------
revision 1.3
date: 1994/02/10 18:00:43;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.2
date: 1994/01/24 14:08:45;  author: matt;  state: Exp;
Added code to this previously dull file
----------------------------
revision 1.1
date: 1994/01/23 15:22:52;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/interp.asm,v
Working file: 3d/interp.asm
head: 1.21
branch:
description: Polygon object interpreter
----------------------------
revision 1.21
date: 1994/10/26 23:57:49;  author: john;  state: Exp;
Took out gr_inverse_table
----------------------------
revision 1.20
date: 1994/09/26 14:43:31;  author: matt;  state: Exp;
Put in checks for faces with fewer than 3 vertices
----------------------------
revision 1.19
date: 1994/09/09 14:24:14;  author: matt;  state: Exp;
Added support for glowing textures, to add engine glow to Descent.
----------------------------
revision 1.18
date: 1994/08/26 16:42:03;  author: matt;  state: Exp;
Added check for how many textures used in an object
----------------------------
revision 1.17
date: 1994/07/29 18:29:17;  author: matt;  state: Exp;
Use instance-by-angles code, instead of building matrix here
----------------------------
revision 1.16
date: 1994/07/25 10:58:28;  author: matt;  state: Exp;
Fixed morph effect for new 3d point handling
----------------------------
revision 1.15
date: 1994/07/25 00:00:07;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.14
date: 1994/07/22 17:57:59;  author: matt;  state: Exp;
Changed the name of the rod functions, and took out some debugging code
----------------------------
revision 1.13
date: 1994/06/07 16:49:36;  author: matt;  state: Exp;
Made interpreter take lighting value as parm, rather than in global var
----------------------------
revision 1.12
date: 1994/05/31 22:11:52;  author: matt;  state: Exp;
Fixed morphing object lighting
----------------------------
revision 1.11
date: 1994/05/31 18:35:52;  author: matt;  state: Exp;
Added lighting back to polygon objects
----------------------------
revision 1.10
date: 1994/05/31 16:03:55;  author: matt;  state: Exp;
Made uvls right for triangulated faces in morphing objects
----------------------------
revision 1.9
date: 1994/05/30 22:48:34;  author: matt;  state: Exp;
Added support for morph effect
----------------------------
revision 1.8
date: 1994/05/19 23:12:04;  author: matt;  state: Exp;
Support new uvl value ranges
----------------------------
revision 1.7
date: 1994/04/29 15:39:46;  author: matt;  state: Exp;
Use ebx in one place because the assembler seemed to be using it anyway
even though I typed just bx.
----------------------------
revision 1.6
date: 1994/04/19 17:02:32;  author: matt;  state: Exp;
Made g3d_interp_outline var accessible by C
----------------------------
revision 1.5
date: 1994/03/30 10:22:40;  author: matt;  state: Exp;
Added outline option for polygon models
----------------------------
revision 1.4
date: 1994/03/25 18:23:51;  author: matt;  state: Exp;
Fixed a couple of subobject problems, and made g3_draw_polygon_model
take a pointer to a list of angvecs for subobj animation.
----------------------------
revision 1.3
date: 1994/03/18 16:07:57;  author: matt;  state: Exp;
Added subobject and rod bitmap opcodes
----------------------------
revision 1.2
date: 1994/03/15 21:23:04;  author: matt;  state: Exp;
Added code
----------------------------
revision 1.1
date: 1994/03/14 21:26:56;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/matrix.asm,v
Working file: 3d/matrix.asm
head: 1.4
branch:
description: Source for matrix setup & manipulation routines
----------------------------
revision 1.4
date: 1994/11/20 15:59:34;  author: matt;  state: Exp;
instance functions were trashing eax
----------------------------
revision 1.3
date: 1994/01/04 12:06:17;  author: matt;  state: Exp;
Made scale_matrix save and restore ecx, which it was trashing.
----------------------------
revision 1.2
date: 1993/11/04 18:49:16;  author: matt;  state: Exp;
Added system to only rotate points once per frame
----------------------------
revision 1.1
date: 1993/10/29 22:20:27;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/objects.asm,v
Working file: 3d/objects.asm
head: 1.5
branch:
description: Code to draw objects
----------------------------
revision 1.5
date: 1993/12/07 23:04:47;  author: matt;  state: Exp;
Misc changes.
NOTE: This file will not be used anymore.  See object.c in main.
----------------------------
revision 1.4
date: 1993/12/02 16:09:50;  author: matt;  state: Exp;
Removed debugging print to mono screen
----------------------------
revision 1.3
date: 1993/11/24 16:58:49;  author: matt;  state: Exp;
Changed bitmap number of cube object
----------------------------
revision 1.2
date: 1993/11/23 14:29:53;  author: matt;  state: Exp;
Fixed bitmap objects, hopefully.
----------------------------
revision 1.1
date: 1993/11/21 20:09:02;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/points.asm,v
Working file: 3d/points.asm
head: 1.13
branch:
description: Source for point definition, rotation, etc.
----------------------------
revision 1.13
date: 1995/02/09 22:00:05;  author: matt;  state: Exp;
Removed dependence on divide overflow handler; we now check for overflow
before dividing.  This fixed problems on some TI chips.
----------------------------
revision 1.12
date: 1994/11/11 19:22:06;  author: matt;  state: Exp;
Added new function, g3_calc_point_depth()
----------------------------
revision 1.11
date: 1994/07/25 00:00:04;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.10
date: 1994/07/21 09:53:32;  author: matt;  state: Exp;
Made g3_point_2_vec() take 2d coords relative to upper left, not center
----------------------------
revision 1.9
date: 1994/02/10 18:00:41;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.8
date: 1994/02/09 11:48:55;  author: matt;  state: Exp;
Added delta rotation functions
----------------------------
revision 1.7
date: 1994/01/13 15:39:39;  author: mike;  state: Exp;
Change usage of Frame_count to _Frame_count.
----------------------------
revision 1.6
date: 1993/12/21 20:35:35;  author: matt;  state: Exp;
Fixed bug that left register pushed if point was already projected in
g3_project_list()
----------------------------
revision 1.5
date: 1993/12/21 11:45:37;  author: matt;  state: Exp;
Fixed negative y bug in g3_point_2_vec()
----------------------------
revision 1.4
date: 1993/12/20 20:21:51;  author: matt;  state: Exp;
Added g3_point_2_vec()
----------------------------
revision 1.3
date: 1993/11/21 20:08:41;  author: matt;  state: Exp;
Added function g3_rotate_point()
----------------------------
revision 1.2
date: 1993/11/04 18:49:17;  author: matt;  state: Exp;
Added system to only rotate points once per frame
----------------------------
revision 1.1
date: 1993/10/29 22:20:27;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/rod.asm,v
Working file: 3d/rod.asm
head: 1.22
branch:
description: Code to draw rods (facing bitmaps).
----------------------------
revision 1.22
date: 1995/02/09 22:00:51;  author: matt;  state: Exp;
Removed dependence on divide overflow handler; we now check for overflow
before dividing.  This fixed problems on some TI chips.
----------------------------
revision 1.21
date: 1994/11/27 12:55:14;  author: matt;  state: Exp;
Tooks out some unused code
----------------------------
revision 1.20
date: 1994/09/01 15:34:49;  author: matt;  state: Exp;
Fixed stack mess-up when rod projection overflows
----------------------------
revision 1.19
date: 1994/09/01 10:41:46;  author: matt;  state: Exp;
Blob routine, renamed g3_draw_bitmap(), now takes seperate 3d width & height.
----------------------------
revision 1.18
date: 1994/08/01 17:23:27;  author: matt;  state: Exp;
Check for overflow after project in blob code
----------------------------
revision 1.17
date: 1994/07/25 15:47:13;  author: matt;  state: Exp;
Cleaned up code, and made long-broken flat-shaded rods work.
----------------------------
revision 1.16
date: 1994/07/25 00:00:05;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.15
date: 1994/07/22 17:58:01;  author: matt;  state: Exp;
Changed the name of the rod functions, and took out some debugging code
----------------------------
revision 1.14
date: 1994/07/21 12:49:41;  author: mike;  state: Exp;
Create _blob_vertices so powerups can be outlined when selected in editor.
----------------------------
revision 1.13
date: 1994/06/16 09:07:29;  author: matt;  state: Exp;
Move in UV values for rods to prevent the texture mapper from reading
past the edges of the bitmaps.
----------------------------
revision 1.12
date: 1994/05/31 18:35:29;  author: matt;  state: Exp;
Added light value to g3_draw_facing_bitmap()
----------------------------
revision 1.11
date: 1994/05/19 23:11:54;  author: matt;  state: Exp;
Support new uvl value ranges
----------------------------
revision 1.10
date: 1994/05/13 10:18:07;  author: matt;  state: Exp;
Fixed bug introduced last time
----------------------------
revision 1.9
date: 1994/05/11 10:10:35;  author: matt;  state: Exp;
Changed a little code in attempt to avoid overflows
----------------------------
revision 1.8
date: 1994/05/07 16:43:26;  author: matt;  state: Exp;
Made rods work right, maybe.
----------------------------
revision 1.7
date: 1994/03/23 10:25:04;  author: matt;  state: Exp;
Fixed stack messup with blob overflow, and removed debug_brk
----------------------------
revision 1.6
date: 1994/03/15 21:22:11;  author: matt;  state: Exp;
Put in check for div overflow in blob code
----------------------------
revision 1.5
date: 1994/02/21 11:04:15;  author: matt;  state: Exp;
Added check for zero-length vector
----------------------------
revision 1.4
date: 1994/02/15 17:37:23;  author: matt;  state: Exp;
New function, g3_draw_blob()
----------------------------
revision 1.3
date: 1994/02/11 20:15:04;  author: matt;  state: Exp;
Fixed matrix scale problem, removed unneeded debug_brk
----------------------------
revision 1.2
date: 1994/02/09 11:49:32;  author: matt;  state: Exp;
Added code for texture-mapped and flat-shaded rods
----------------------------
revision 1.1
date: 1994/02/02 11:27:21;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/setup.asm,v
Working file: 3d/setup.asm
head: 1.13
branch:
description: Source for setup,close,start & end frame routines
----------------------------
revision 1.13
date: 1995/02/09 22:00:53;  author: matt;  state: Exp;
Removed dependence on divide overflow handler; we now check for overflow
before dividing.  This fixed problems on some TI chips.
----------------------------
revision 1.12
date: 1994/11/10 21:29:48;  author: mike;  state: Exp;
call init_interface_vars_to_assembler.
----------------------------
revision 1.11
date: 1994/10/03 12:50:54;  author: matt;  state: Exp;
Fixed stupid mistake
----------------------------
revision 1.10
date: 1994/10/03 12:50:12;  author: matt;  state: Exp;
Took out unused routines & data
----------------------------
revision 1.9
date: 1994/07/25 00:00:05;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.8
date: 1994/04/19 18:26:43;  author: matt;  state: Exp;
Added g3_draw_sphere() function.
----------------------------
revision 1.7
date: 1994/03/15 21:21:58;  author: matt;  state: Exp;
Put in check for div overflow in blob code
----------------------------
revision 1.6
date: 1994/02/10 18:00:43;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.5
date: 1994/01/28 13:07:50;  author: matt;  state: Exp;
Added func, g3_get_view_pos_ptr_, sortof a hack, for the polygon objects.
----------------------------
revision 1.4
date: 1994/01/14 17:19:50;  author: matt;  state: Exp;
Added check for no points in start_frame()
----------------------------
revision 1.2
date: 1993/11/04 18:49:18;  author: matt;  state: Exp;
Added system to only rotate points once per frame
----------------------------
revision 1.1
date: 1993/10/29 22:20:27;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/3d.inc,v
Working file: 3d/3d.inc
head: 1.30
branch:
description: Header file for 3d library
----------------------------
revision 1.30
date: 1995/02/09 22:00:50;  author: matt;  state: Exp;
Removed dependence on divide overflow handler; we now check for overflow
before dividing.  This fixed problems on some TI chips.
----------------------------
revision 1.29
date: 1994/11/11 19:22:15;  author: matt;  state: Exp;
Added new function, g3_calc_point_depth()
----------------------------
revision 1.28
date: 1994/09/09 14:24:13;  author: matt;  state: Exp;
Added support for glowing textures, to add engine glow to Descent.
----------------------------
revision 1.27
date: 1994/09/01 10:42:26;  author: matt;  state: Exp;
Blob routine, renamed g3_draw_bitmap(), now takes seperate 3d width & height.
----------------------------
revision 1.26
date: 1994/07/29 18:15:53;  author: matt;  state: Exp;
Added instance by angles, and corrected parms for g3_init()
----------------------------
revision 1.25
date: 1994/07/25 00:00:01;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.24
date: 1994/07/22 17:57:57;  author: matt;  state: Exp;
Changed the name of the rod functions, and took out some debugging code
----------------------------
revision 1.23
date: 1994/06/07 16:49:35;  author: matt;  state: Exp;
Made interpreter take lighting value as parm, rather than in global var
----------------------------
revision 1.22
date: 1994/05/31 18:35:19;  author: matt;  state: Exp;
Added light value to g3_draw_facing_bitmap()
----------------------------
revision 1.21
date: 1994/05/30 22:48:15;  author: matt;  state: Exp;
Added support for morph effect
----------------------------
revision 1.20
date: 1994/05/30 11:36:25;  author: matt;  state: Exp;
Added g3_set_special_render() to allow a user to specify functions to
call for 2d draws.
----------------------------
revision 1.19
date: 1994/05/19 21:46:30;  author: matt;  state: Exp;
Moved texture lighting out of 3d and into the game
----------------------------
revision 1.18
date: 1994/04/19 18:26:41;  author: matt;  state: Exp;
Added g3_draw_sphere() function.
----------------------------
revision 1.17
date: 1994/03/25 18:22:39;  author: matt;  state: Exp;
g3_draw_polygon_model() now takes ptr to list of angles
----------------------------
revision 1.16
date: 1994/03/15 21:23:14;  author: matt;  state: Exp;
Added interpreter functions
----------------------------
revision 1.15
date: 1994/02/15 17:37:35;  author: matt;  state: Exp;
New function, g3_draw_blob()
----------------------------
revision 1.14
date: 1994/02/10 18:00:10;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.13
date: 1994/02/09 11:47:34;  author: matt;  state: Exp;
Added rod & delta point functions
----------------------------
revision 1.12
date: 1994/01/26 12:38:20;  author: matt;  state: Exp;
Added function g3_compute_lighting_value()
----------------------------
revision 1.11
date: 1994/01/24 14:08:24;  author: matt;  state: Exp;
Added instancing functions
----------------------------
revision 1.10
date: 1994/01/22 18:22:07;  author: matt;  state: Exp;
New lighting stuff now done in 3d; g3_draw_tmap() takes lighting parm
----------------------------
revision 1.9
date: 1994/01/20 17:21:46;  author: matt;  state: Exp;
New function g3_compute_sky_polygon()
----------------------------
revision 1.8
date: 1994/01/14 17:21:02;  author: matt;  state: Exp;
Added new function g3_draw_horizon()
----------------------------
revision 1.6
date: 1993/12/20 20:21:43;  author: matt;  state: Exp;
Added g3_point_2_vec()
----------------------------
revision 1.5
date: 1993/12/05 23:47:13;  author: matt;  state: Exp;
Added function g3_draw_line_ptrs()
----------------------------
revision 1.4
date: 1993/11/21 20:08:16;  author: matt;  state: Exp;
Added functions g3_rotate_point & g3_draw_object
----------------------------
revision 1.3
date: 1993/11/04 18:49:42;  author: matt;  state: Exp;
Made g3_init() have functionality of g3_set_points(), which I killed
----------------------------
revision 1.2
date: 1993/11/04 12:38:29;  author: mike;  state: Exp;
Add PF_LVS, flag for lighting value
----------------------------
revision 1.1
date: 1993/10/29 22:20:27;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/joy.asm,v
Working file: bios/joy.asm
head: 1.17
branch:
description: Contains routines for joystick interface.
----------------------------
revision 1.17
date: 1995/10/07 13:22:11;  author: john;  state: Exp;
Added new method of reading joystick that allows higher-priority
interrupts to go off.
----------------------------
revision 1.16
date: 1995/03/30 11:03:30;  author: john;  state: Exp;
Made -JoyBios read buttons using BIOS.
----------------------------
revision 1.15
date: 1995/02/14 11:39:36;  author: john;  state: Exp;
Added polled/bios joystick readers..
----------------------------
revision 1.14
date: 1995/01/29 18:36:00;  author: john;  state: Exp;
Made timer count in mode 2 instead of mode 3.
----------------------------
revision 1.13
date: 1994/12/28 15:32:21;  author: john;  state: Exp;
Added code to read joystick axis not all at one time.
----------------------------
revision 1.12
date: 1994/12/27 15:44:59;  author: john;  state: Exp;
Made the joystick timeout be at 1/100th of a second, 
regardless of CPU speed.
----------------------------
revision 1.11
date: 1994/11/15 12:04:40;  author: john;  state: Exp;
Cleaned up timer code a bit... took out unused functions
like timer_get_milliseconds, etc.
----------------------------
revision 1.10
date: 1994/07/01 10:55:54;  author: john;  state: Exp;
Fixed some bugs... added support for 4 axis.
----------------------------
revision 1.9
date: 1994/06/30 20:36:54;  author: john;  state: Exp;
Revamped joystick code.
----------------------------
revision 1.8
date: 1994/04/22 12:52:06;  author: john;  state: Exp;
=============================================================================
RCS file: f:/miner/source/bios/key.asm,v
Working file: bios/key.asm
head: 1.20
branch:
description: Contains routines to get, buffer, and check key presses.
----------------------------
revision 1.20
date: 1994/01/18 10:58:55;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.19
date: 1993/12/22 13:28:40;  author: john;  state: Exp;
Added back changes Matt made in r1.14
----------------------------
revision 1.18
date: 1993/12/22 13:18:32;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.17
date: 1993/12/20 16:48:47;  author: john;  state: Exp;
Put cli/sti around clear keybuffer in key_close
----------------------------
revision 1.16
date: 1993/12/20 15:39:13;  author: john;  state: Exp;
Tried to neaten handler code... also, moved some cli's and sti's around
trying to find bug.  Made the code call key_get_milliseconds instead
of timer_get_milliseconds, because we don't want the cli and sti
stuff in the interrupt handler.  
----------------------------
revision 1.15
date: 1993/12/02 10:54:48;  author: john;  state: Exp;
Made the Ctrl,Shift,Alt keys buffer like all the other keys.
----------------------------
revision 1.14
date: 1993/10/29 11:25:18;  author: matt;  state: Exp;
Made key_down_time() not accumulate time if shift,alt,ctrl down
----------------------------
revision 1.13
date: 1993/10/29 10:47:00;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1993/10/16 19:24:16;  author: matt;  state: Exp;
Added new function key_clear_times() & key_clear_counts()
----------------------------
revision 1.11
date: 1993/10/15 10:16:49;  author: john;  state: Exp;
bunch of stuff, mainly with detecting debugger.
----------------------------
revision 1.10
date: 1993/10/04 13:25:57;  author: john;  state: Exp;
Changed the way extended keys are processed.
----------------------------
revision 1.9
date: 1993/09/28 11:35:32;  author: john;  state: Exp;
added key_peekkey
----------------------------
revision 1.8
date: 1993/09/23 18:09:23;  author: john;  state: Exp;
fixed bug checking for DBG
----------------------------
revision 1.7
date: 1993/09/23 17:28:01;  author: john;  state: Exp;
made debug check look for DBG> instead of CONTROL
----------------------------
revision 1.6
date: 1993/09/20 17:08:19;  author: john;  state: Exp;
Made so that keys pressed in debugger don't get passed through to
the keyboard handler. I also discovered, but didn't fix a error
(page fault) caused by jumping back and forth between the debugger
and the program...
----------------------------
revision 1.5
date: 1993/09/17 09:58:12;  author: john;  state: Exp;
Added checks for already installed, not installed, etc.
----------------------------
revision 1.4
date: 1993/09/15 17:28:00;  author: john;  state: Exp;
Fixed bug in FlushBuffer that used CX before a REP instead of ECX.
----------------------------
revision 1.3
date: 1993/09/08 14:48:00;  author: john;  state: Exp;
made getch() return an int instead of a char that has shift states, etc.
----------------------------
revision 1.2
date: 1993/07/22 13:12:23;  author: john;  state: Exp;
fixed comment
,.
----------------------------
revision 1.1
date: 1993/07/10 13:10:42;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/key.asm,v
Working file: bios/key.asm
head: 1.20
branch:
description: Contains routines to get, buffer, and check key presses.
----------------------------
revision 1.20
date: 1994/01/18 10:58:55;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.19
date: 1993/12/22 13:28:40;  author: john;  state: Exp;
Added back changes Matt made in r1.14
----------------------------
revision 1.18
date: 1993/12/22 13:18:32;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.17
date: 1993/12/20 16:48:47;  author: john;  state: Exp;
Put cli/sti around clear keybuffer in key_close
----------------------------
revision 1.16
date: 1993/12/20 15:39:13;  author: john;  state: Exp;
Tried to neaten handler code... also, moved some cli's and sti's around
trying to find bug.  Made the code call key_get_milliseconds instead
of timer_get_milliseconds, because we don't want the cli and sti
stuff in the interrupt handler.  
----------------------------
revision 1.15
date: 1993/12/02 10:54:48;  author: john;  state: Exp;
Made the Ctrl,Shift,Alt keys buffer like all the other keys.
----------------------------
revision 1.14
date: 1993/10/29 11:25:18;  author: matt;  state: Exp;
Made key_down_time() not accumulate time if shift,alt,ctrl down
----------------------------
revision 1.13
date: 1993/10/29 10:47:00;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1993/10/16 19:24:16;  author: matt;  state: Exp;
Added new function key_clear_times() & key_clear_counts()
----------------------------
revision 1.11
date: 1993/10/15 10:16:49;  author: john;  state: Exp;
bunch of stuff, mainly with detecting debugger.
----------------------------
revision 1.10
date: 1993/10/04 13:25:57;  author: john;  state: Exp;
Changed the way extended keys are processed.
----------------------------
revision 1.9
date: 1993/09/28 11:35:32;  author: john;  state: Exp;
added key_peekkey
----------------------------
revision 1.8
date: 1993/09/23 18:09:23;  author: john;  state: Exp;
fixed bug checking for DBG
----------------------------
revision 1.7
date: 1993/09/23 17:28:01;  author: john;  state: Exp;
made debug check look for DBG> instead of CONTROL
----------------------------
revision 1.6
date: 1993/09/20 17:08:19;  author: john;  state: Exp;
Made so that keys pressed in debugger don't get passed through to
the keyboard handler. I also discovered, but didn't fix a error
(page fault) caused by jumping back and forth between the debugger
and the program...
----------------------------
revision 1.5
date: 1993/09/17 09:58:12;  author: john;  state: Exp;
Added checks for already installed, not installed, etc.
----------------------------
revision 1.4
date: 1993/09/15 17:28:00;  author: john;  state: Exp;
Fixed bug in FlushBuffer that used CX before a REP instead of ECX.
----------------------------
revision 1.3
date: 1993/09/08 14:48:00;  author: john;  state: Exp;
made getch() return an int instead of a char that has shift states, etc.
----------------------------
revision 1.2
date: 1993/07/22 13:12:23;  author: john;  state: Exp;
fixed comment
,.
----------------------------
revision 1.1
date: 1993/07/10 13:10:42;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/keys.inc,v
Working file: bios/keys.inc
head: 1.2
branch:
description: Scan code to ASCII conversions
----------------------------
revision 1.2
date: 1993/10/04 13:26:19;  author: john;  state: Exp;
changed the key def's.
----------------------------
revision 1.1
date: 1993/09/08 14:50:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/mouse.asm,v
Working file: bios/mouse.asm
head: 1.5
branch:
description: Contains routines for a mouse interface.
----------------------------
revision 1.5
date: 1994/04/29 12:14:12;  author: john;  state: Exp;
Locked all memory used during interrupts so that program
won't hang when using virtual memory.
----------------------------
revision 1.4
date: 1993/07/26 10:47:03;  author: john;  state: Exp;
added sub mouse_set_pos
----------------------------
revision 1.3
date: 1993/07/22 13:57:13;  author: john;  state: Exp;
aligned push/pops in mouse_set_limits
----------------------------
revision 1.2
date: 1993/07/22 13:14:43;  author: john;  state: Exp;
added mouse set limts sub
----------------------------
revision 1.1
date: 1993/07/10 13:10:43;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/oldkey.asm,v
Working file: bios/oldkey.asm
head: 1.2
branch:
description: Old assembly key stuff...
----------------------------
revision 1.2
date: 1994/02/17 15:55:59;  author: john;  state: Exp;
Initial version
----------------------------
revision 1.1
date: 1994/02/17 15:55:11;  author: john;  state: Exp;
Initial revision
----------------------------
revision 1.2
date: 1994/02/17 15:55:59;  author: john;  state: Exp;
Initial version
----------------------------
revision 1.20
date: 1994/01/18 10:58:55;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.19
date: 1993/12/22 13:28:40;  author: john;  state: Exp;
Added back changes Matt made in r1.14
----------------------------
revision 1.18
date: 1993/12/22 13:18:32;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.17
date: 1993/12/20 16:48:47;  author: john;  state: Exp;
Put cli/sti around clear keybuffer in key_close
----------------------------
revision 1.16
date: 1993/12/20 15:39:13;  author: john;  state: Exp;
Tried to neaten handler code... also, moved some cli's and sti's around
trying to find bug.  Made the code call key_get_milliseconds instead
of timer_get_milliseconds, because we don't want the cli and sti
stuff in the interrupt handler.  
----------------------------
revision 1.15
date: 1993/12/02 10:54:48;  author: john;  state: Exp;
Made the Ctrl,Shift,Alt keys buffer like all the other keys.
----------------------------
revision 1.14
date: 1993/10/29 11:25:18;  author: matt;  state: Exp;
Made key_down_time() not accumulate time if shift,alt,ctrl down
----------------------------
revision 1.13
date: 1993/10/29 10:47:00;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1993/10/16 19:24:16;  author: matt;  state: Exp;
Added new function key_clear_times() & key_clear_counts()
----------------------------
revision 1.11
date: 1993/10/15 10:16:49;  author: john;  state: Exp;
bunch of stuff, mainly with detecting debugger.
----------------------------
revision 1.10
date: 1993/10/04 13:25:57;  author: john;  state: Exp;
Changed the way extended keys are processed.
----------------------------
revision 1.9
date: 1993/09/28 11:35:32;  author: john;  state: Exp;
added key_peekkey
----------------------------
revision 1.8
date: 1993/09/23 18:09:23;  author: john;  state: Exp;
fixed bug checking for DBG
----------------------------
revision 1.7
date: 1993/09/23 17:28:01;  author: john;  state: Exp;
made debug check look for DBG> instead of CONTROL
----------------------------
revision 1.6
date: 1993/09/20 17:08:19;  author: john;  state: Exp;
Made so that keys pressed in debugger don't get passed through to
the keyboard handler. I also discovered, but didn't fix a error
(page fault) caused by jumping back and forth between the debugger
and the program...
----------------------------
revision 1.5
date: 1993/09/17 09:58:12;  author: john;  state: Exp;
Added checks for already installed, not installed, etc.
----------------------------
revision 1.4
date: 1993/09/15 17:28:00;  author: john;  state: Exp;
Fixed bug in FlushBuffer that used CX before a REP instead of ECX.
----------------------------
revision 1.3
date: 1993/09/08 14:48:00;  author: john;  state: Exp;
made getch() return an int instead of a char that has shift states, etc.
----------------------------
revision 1.2
date: 1993/07/22 13:12:23;  author: john;  state: Exp;
fixed comment
,.
----------------------------
revision 1.1
date: 1993/07/10 13:10:42;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/timer.asm,v
Working file: bios/timer.asm
head: 1.28
branch:
description: Routines for setting and using system timers
----------------------------
revision 1.28
date: 1995/02/15 01:36:56;  author: matt;  state: Exp;
Cleaned up code to avoid doing out 20,20 more than once
----------------------------
revision 1.27
date: 1995/02/14 11:39:37;  author: john;  state: Exp;
Fixed bug with joystick handler not having enough
stack space under Windows.
----------------------------
revision 1.26
date: 1995/02/09 21:51:39;  author: john;  state: Exp;
Made so that DOS timer interrupt gets called before interrupts are
enabled in timer interpt because not doing this cause conflicts with
ps2 style mice and smartdrv with write caching enabled that hangs the
program and trashes the FAT.
----------------------------
revision 1.25
date: 1995/02/04 15:39:33;  author: john;  state: Exp;
More time interrupt changes.
----------------------------
revision 1.24
date: 1995/02/03 23:25:21;  author: john;  state: Exp;
Made so that when interrupts are nested, the time interrupt still
calls the DOS one.
----------------------------
revision 1.23
date: 1995/01/29 19:00:42;  author: john;  state: Exp;
Made latching timer value more readable.
----------------------------
revision 1.22
date: 1995/01/17 10:34:53;  author: mike;  state: Exp;
prevent divide overflows.
----------------------------
revision 1.21
date: 1994/12/15 11:10:54;  author: john;  state: Exp;
Added code that should make DOS 18.2 callbacks 
a bit more accurate.
----------------------------
revision 1.20
date: 1994/12/10 12:47:34;  author: john;  state: Exp;
Made so that timer_get_fixed seconds and get_approx seconds are always equal.
----------------------------
revision 1.19
date: 1994/12/10 12:27:34;  author: john;  state: Exp;
Added timer_get_approx_seconds.
----------------------------
revision 1.18
date: 1994/12/10 12:07:14;  author: john;  state: Exp;
Added tick counter variable.
----------------------------
revision 1.17
date: 1994/12/04 11:55:16;  author: john;  state: Exp;
Made stick read at whatever rate the clock is at, not
at 18.2 times/second.
----------------------------
revision 1.16
date: 1994/11/28 15:24:10;  author: john;  state: Exp;
Cleaned up timer interrupt a bit.
----------------------------
revision 1.15
date: 1994/11/22 17:00:43;  author: john;  state: Exp;
Made the timer handler fill in ES along with DS.
The HMI drivers expect this.
----------------------------
revision 1.14
date: 1994/11/15 12:04:38;  author: john;  state: Exp;
Cleaned up timer code a bit... took out unused functions
like timer_get_milliseconds, etc.
----------------------------
revision 1.13
date: 1994/10/05 16:17:40;  author: john;  state: Exp;
Made interrupts more stable.
----------------------------
revision 1.12
date: 1994/09/29 18:29:57;  author: john;  state: Exp;
Enabled interrupts whil calling the user_function.
----------------------------
revision 1.11
date: 1994/09/23 16:00:31;  author: john;  state: Exp;
MAde the timer interrupt switch to a 4K stack
before calling the timer_function.
----------------------------
revision 1.10
date: 1994/09/22 16:09:21;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.9
date: 1994/04/29 12:13:48;  author: john;  state: Exp;
Locked all memory used during interrupts so that program
won't hang when using virtual memory.
----------------------------
revision 1.8
date: 1994/04/28 23:50:49;  author: john;  state: Exp;
Changed calling for init_timer.  Made the function that the
timer calls be a far function. All of this was done to make
our timer system compatible with the HMI sound stuff.
----------------------------
revision 1.7
date: 1994/02/17 15:57:15;  author: john;  state: Exp;
Changed key libary to C.
----------------------------
revision 1.6
date: 1994/01/18 20:19:17;  author: john;  state: Exp;
Fixed minor flaws with pending interrupts,
interfaced with joystick code.
----------------------------
revision 1.5
date: 1994/01/18 13:54:18;  author: john;  state: Exp;
Fixed a few miner flaws.
----------------------------
revision 1.4
date: 1994/01/18 10:58:25;  author: john;  state: Exp;
Added timer_get_fixed_seconds
----------------------------
revision 1.3
date: 1993/12/20 15:40:59;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/09/23 18:08:44;  author: john;  state: Exp;
added code so that timer_init can handle multiple calls.
added code so that atexit is called.
----------------------------
revision 1.1
date: 1993/07/10 13:10:43;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/joy.asm,v
Working file: bios/joy.asm
head: 1.16
branch:
description: Contains routines for joystick interface.
----------------------------
revision 1.16
date: 1995/03/30 11:03:30;  author: john;  state: Exp;
Made -JoyBios read buttons using BIOS.
----------------------------
revision 1.15
date: 1995/02/14 11:39:36;  author: john;  state: Exp;
Added polled/bios joystick readers..
----------------------------
revision 1.14
date: 1995/01/29 18:36:00;  author: john;  state: Exp;
Made timer count in mode 2 instead of mode 3.
----------------------------
revision 1.13
date: 1994/12/28 15:32:21;  author: john;  state: Exp;
Added code to read joystick axis not all at one time.
----------------------------
revision 1.12
date: 1994/12/27 15:44:59;  author: john;  state: Exp;
Made the joystick timeout be at 1/100th of a second, 
regardless of CPU speed.
----------------------------
revision 1.11
date: 1994/11/15 12:04:40;  author: john;  state: Exp;
Cleaned up timer code a bit... took out unused functions
like timer_get_milliseconds, etc.
----------------------------
revision 1.10
date: 1994/07/01 10:55:54;  author: john;  state: Exp;
Fixed some bugs... added support for 4 axis.
----------------------------
revision 1.9
date: 1994/06/30 20:36:54;  author: john;  state: Exp;
Revamped joystick code.
----------------------------
revision 1.8
date: 1994/04/22 12:52:06;  author: john;  state: Exp;
=============================================================================
RCS file: f:/miner/source/bios/timer.asm,v
Working file: bios/timer.asm
head: 1.28
branch:
description: Routines for setting and using system timers
----------------------------
revision 1.28
date: 1995/02/15 01:36:56;  author: matt;  state: Exp;
Cleaned up code to avoid doing out 20,20 more than once
----------------------------
revision 1.27
date: 1995/02/14 11:39:37;  author: john;  state: Exp;
Fixed bug with joystick handler not having enough
stack space under Windows.
----------------------------
revision 1.26
date: 1995/02/09 21:51:39;  author: john;  state: Exp;
Made so that DOS timer interrupt gets called before interrupts are
enabled in timer interpt because not doing this cause conflicts with
ps2 style mice and smartdrv with write caching enabled that hangs the
program and trashes the FAT.
----------------------------
revision 1.25
date: 1995/02/04 15:39:33;  author: john;  state: Exp;
More time interrupt changes.
----------------------------
revision 1.24
date: 1995/02/03 23:25:21;  author: john;  state: Exp;
Made so that when interrupts are nested, the time interrupt still
calls the DOS one.
----------------------------
revision 1.23
date: 1995/01/29 19:00:42;  author: john;  state: Exp;
Made latching timer value more readable.
----------------------------
revision 1.22
date: 1995/01/17 10:34:53;  author: mike;  state: Exp;
prevent divide overflows.
----------------------------
revision 1.21
date: 1994/12/15 11:10:54;  author: john;  state: Exp;
Added code that should make DOS 18.2 callbacks 
a bit more accurate.
----------------------------
revision 1.20
date: 1994/12/10 12:47:34;  author: john;  state: Exp;
Made so that timer_get_fixed seconds and get_approx seconds are always equal.
----------------------------
revision 1.19
date: 1994/12/10 12:27:34;  author: john;  state: Exp;
Added timer_get_approx_seconds.
----------------------------
revision 1.18
date: 1994/12/10 12:07:14;  author: john;  state: Exp;
Added tick counter variable.
----------------------------
revision 1.17
date: 1994/12/04 11:55:16;  author: john;  state: Exp;
Made stick read at whatever rate the clock is at, not
at 18.2 times/second.
----------------------------
revision 1.16
date: 1994/11/28 15:24:10;  author: john;  state: Exp;
Cleaned up timer interrupt a bit.
----------------------------
revision 1.15
date: 1994/11/22 17:00:43;  author: john;  state: Exp;
Made the timer handler fill in ES along with DS.
The HMI drivers expect this.
----------------------------
revision 1.14
date: 1994/11/15 12:04:38;  author: john;  state: Exp;
Cleaned up timer code a bit... took out unused functions
like timer_get_milliseconds, etc.
----------------------------
revision 1.13
date: 1994/10/05 16:17:40;  author: john;  state: Exp;
Made interrupts more stable.
----------------------------
revision 1.12
date: 1994/09/29 18:29:57;  author: john;  state: Exp;
Enabled interrupts whil calling the user_function.
----------------------------
revision 1.11
date: 1994/09/23 16:00:31;  author: john;  state: Exp;
MAde the timer interrupt switch to a 4K stack
before calling the timer_function.
----------------------------
revision 1.10
date: 1994/09/22 16:09:21;  author: john;  state: Exp;
Fixed some virtual memory lockdown problems with timer and
joystick.
----------------------------
revision 1.9
date: 1994/04/29 12:13:48;  author: john;  state: Exp;
Locked all memory used during interrupts so that program
won't hang when using virtual memory.
----------------------------
revision 1.8
date: 1994/04/28 23:50:49;  author: john;  state: Exp;
Changed calling for init_timer.  Made the function that the
timer calls be a far function. All of this was done to make
our timer system compatible with the HMI sound stuff.
----------------------------
revision 1.7
date: 1994/02/17 15:57:15;  author: john;  state: Exp;
Changed key libary to C.
----------------------------
revision 1.6
date: 1994/01/18 20:19:17;  author: john;  state: Exp;
Fixed minor flaws with pending interrupts,
interfaced with joystick code.
----------------------------
revision 1.5
date: 1994/01/18 13:54:18;  author: john;  state: Exp;
Fixed a few miner flaws.
----------------------------
revision 1.4
date: 1994/01/18 10:58:25;  author: john;  state: Exp;
Added timer_get_fixed_seconds
----------------------------
revision 1.3
date: 1993/12/20 15:40:59;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/09/23 18:08:44;  author: john;  state: Exp;
added code so that timer_init can handle multiple calls.
added code so that atexit is called.
----------------------------
revision 1.1
date: 1993/07/10 13:10:43;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/bios/mouse.asm,v
Working file: bios/mouse.asm
head: 1.5
branch:
description: Contains routines for a mouse interface.
----------------------------
revision 1.5
date: 1994/04/29 12:14:12;  author: john;  state: Exp;
Locked all memory used during interrupts so that program
won't hang when using virtual memory.
----------------------------
revision 1.4
date: 1993/07/26 10:47:03;  author: john;  state: Exp;
added sub mouse_set_pos
----------------------------
revision 1.3
date: 1993/07/22 13:57:13;  author: john;  state: Exp;
aligned push/pops in mouse_set_limits
----------------------------
revision 1.2
date: 1993/07/22 13:14:43;  author: john;  state: Exp;
added mouse set limts sub
----------------------------
revision 1.1
date: 1993/07/10 13:10:43;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/div/div0.inc,v
Working file: div/div0.inc
head: 1.1
branch:
description: Header file for div0 library
----------------------------
revision 1.1
date: 1993/10/13 17:19:57;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/div/div0.asm,v
Working file: div/div0.asm
head: 1.4
branch:
description: Divide by zero error handler functions
----------------------------
revision 1.4
date: 1995/02/07 17:55:58;  author: john;  state: Exp;
Made the debug counter variables public.
----------------------------
revision 1.3
date: 1994/01/14 15:34:12;  author: john;  state: Exp;
Added counters for number of overflows.
----------------------------
revision 1.2
date: 1993/10/26 17:25:45;  author: john;  state: Exp;
fixed bug in init, cx was being trashed.
----------------------------
revision 1.1
date: 1993/09/17 12:37:51;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/div/div0.asm,v
Working file: div/div0.asm
head: 1.1
branch:
description: Divide by zero error handler functions
----------------------------
revision 1.1
date: 1993/09/17 12:37:51;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/fix/fix.inc,v
Working file: fix/fix.inc
head: 1.7
branch:
description: Header for fixed-point library
----------------------------
revision 1.7
date: 1994/01/19 23:12:00;  author: matt;  state: Exp;
Made fix_atan2() left-handed, like our coordinate system
----------------------------
revision 1.6
date: 1993/10/20 01:08:49;  author: matt;  state: Exp;
Add fix_asin(), improved fix_atan2()
----------------------------
revision 1.5
date: 1993/10/19 23:53:36;  author: matt;  state: Exp;
Added fix_atan2()
----------------------------
revision 1.4
date: 1993/10/19 22:32:12;  author: matt;  state: Exp;
Added fix_acos()
----------------------------
revision 1.3
date: 1993/09/13 12:09:42;  author: matt;  state: Exp;
Added extf,extfa macros to generate externdef's of fixed-point types
----------------------------
revision 1.2
date: 1993/09/10 11:54:12;  author: matt;  state: Exp;
Added missing 'endif' at end of file
----------------------------
revision 1.1
date: 1993/08/24 12:59:36;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/fix/fix.asm,v
Working file: fix/fix.asm
head: 1.16
branch:
description: Fixed-point rotines
----------------------------
revision 1.16
date: 1994/11/30 00:59:40;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.15
date: 1994/11/16 18:05:01;  author: matt;  state: Exp;
Added error checking to atan2
----------------------------
revision 1.14
date: 1994/10/21 12:14:26;  author: matt;  state: Exp;
For acos & asin, saturate at 1 instead of generate error
----------------------------
revision 1.13
date: 1994/05/18 17:15:56;  author: matt;  state: Exp;
Allow sin & cos ptrs in C sincos func to be null
----------------------------
revision 1.12
date: 1994/02/10 21:23:08;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.11
date: 1994/01/19 23:11:26;  author: matt;  state: Exp;
Made fix_atan2() left-handed, like our coordinate system
----------------------------
revision 1.10
date: 1993/10/26 18:51:49;  author: matt;  state: Exp;
Fixed register trash in fix_atan2()
----------------------------
revision 1.9
date: 1993/10/20 01:09:01;  author: matt;  state: Exp;
Add fix_asin(), improved fix_atan2()
----------------------------
revision 1.8
date: 1993/10/19 23:53:48;  author: matt;  state: Exp;
Added fix_atan2()
----------------------------
revision 1.7
date: 1993/10/19 22:22:34;  author: matt;  state: Exp;
Added fix_acos()
----------------------------
revision 1.6
date: 1993/09/10 19:13:44;  author: matt;  state: Exp;
Fixed problem with quad_sqrt() when edx==0 and high bit of eax set
----------------------------
revision 1.5
date: 1993/08/24 13:00:17;  author: matt;  state: Exp;
Adopted new standard, and made assembly-callable routines not trash any regs
----------------------------
revision 1.4
date: 1993/08/12 14:43:34;  author: matt;  state: Exp;
Added rcsid
----------------------------
revision 1.3
date: 1993/08/06 15:59:49;  author: matt;  state: Exp;
Added check for high bit of low longword set in quad_sqrt
Changed long_sqrt to do longword moves and save the override
----------------------------
revision 1.2
date: 1993/08/04 19:56:03;  author: matt;  state: Exp;
Fixed mistake in quad_sqrt first quess code
----------------------------
revision 1.1
date: 1993/08/03 17:45:26;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/includes/types.inc,v
Working file: includes/types.inc
head: 1.2
branch:
description: Common types for use in Miner
----------------------------
revision 1.2
date: 1993/08/24 12:59:12;  author: matt;  state: Exp;
Removed some bogus typedef's
----------------------------
revision 1.1
date: 1993/08/24 12:50:47;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/includes/psmacros.inc,v
Working file: includes/psmacros.inc
head: 1.12
branch:
description: Useful macros.  Everyone should use these.
----------------------------
revision 1.12
date: 1994/12/06 14:32:19;  author: matt;  state: Exp;
Made mprintf turn off if NMONO set
----------------------------
revision 1.11
date: 1994/11/27 23:18:19;  author: matt;  state: Exp;
Made mprintf go away when debugging turned off
----------------------------
revision 1.10
date: 1994/03/25 18:00:34;  author: matt;  state: Exp;
Added imulc of 6
----------------------------
revision 1.9
date: 1994/02/10 18:00:58;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.8
date: 1993/11/22 23:47:06;  author: matt;  state: Exp;
debug macros were trashing eax
----------------------------
revision 1.7
date: 1993/11/04 12:39:25;  author: mike;  state: Exp;
Modify imulc macro to support fast multiply by 36
and multiply anything using imul, but give warning.
----------------------------
revision 1.6
date: 1993/10/19 21:17:31;  author: matt;  state: Exp;
Added abs_eax macro
----------------------------
revision 1.5
date: 1993/09/26 22:28:21;  author: matt;  state: Exp;
Removed extra register pushes in mprintf
Make DEBUG_ON all uppercase since we seem to have case sensitivity on
----------------------------
revision 1.4
date: 1993/09/26 19:22:30;  author: matt;  state: Exp;
Added imulc macro, to multiply a register by a constant.  It does not
at this time support arbitrary constants, only 0,1,3,5,9, and powers of 2
----------------------------
revision 1.3
date: 1993/09/13 11:50:57;  author: matt;  state: Exp;
Added 'b' & 'w', aliases for 'byte ptr' and 'word ptr'
----------------------------
revision 1.2
date: 1993/09/03 19:00:03;  author: matt;  state: Exp;
Added breakpoint macros
----------------------------
revision 1.1
date: 1993/08/24 12:51:52;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/div/div0.inc,v
Working file: div/div0.inc
head: 1.1
branch:
description: Header file for div0 library
----------------------------
revision 1.1
date: 1993/10/13 17:19:57;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/fix/fix.inc,v
Working file: fix/fix.inc
head: 1.7
branch:
description: Header for fixed-point library
----------------------------
revision 1.7
date: 1994/01/19 23:12:00;  author: matt;  state: Exp;
Made fix_atan2() left-handed, like our coordinate system
----------------------------
revision 1.6
date: 1993/10/20 01:08:49;  author: matt;  state: Exp;
Add fix_asin(), improved fix_atan2()
----------------------------
revision 1.5
date: 1993/10/19 23:53:36;  author: matt;  state: Exp;
Added fix_atan2()
----------------------------
revision 1.4
date: 1993/10/19 22:32:12;  author: matt;  state: Exp;
Added fix_acos()
----------------------------
revision 1.3
date: 1993/09/13 12:09:42;  author: matt;  state: Exp;
Added extf,extfa macros to generate externdef's of fixed-point types
----------------------------
revision 1.2
date: 1993/09/10 11:54:12;  author: matt;  state: Exp;
Added missing 'endif' at end of file
----------------------------
revision 1.1
date: 1993/08/24 12:59:36;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/gr.inc,v
Working file: 2d/gr.inc
head: 1.9
branch:
description: Header file for 2d library
----------------------------
revision 1.9
date: 1994/11/09 23:04:50;  author: mike;  state: Exp;
Add avg_color field.
----------------------------
revision 1.8
date: 1994/10/26 23:55:49;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.7
date: 1994/10/25 12:05:29;  author: john;  state: Exp;
Added gr_fade_table and gr_palette.
----------------------------
revision 1.6
date: 1994/03/15 22:24:31;  author: matt;  state: Exp;
Added gr_setcolor_ and gr_inverse_table
----------------------------
revision 1.5
date: 1994/03/14 16:56:05;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.4
date: 1994/02/04 13:21:12;  author: matt;  state: Exp;
Added extern for rotate_bitmap
----------------------------
revision 1.3
date: 1993/12/21 19:58:14;  author: john;  state: Exp;
added selector stuff
----------------------------
revision 1.2
date: 1993/10/15 16:26:24;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/10/15 16:21:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/includes/psmacros.inc,v
Working file: includes/psmacros.inc
head: 1.12
branch:
description: Useful macros.  Everyone should use these.
----------------------------
revision 1.12
date: 1994/12/06 14:32:19;  author: matt;  state: Exp;
Made mprintf turn off if NMONO set
----------------------------
revision 1.11
date: 1994/11/27 23:18:19;  author: matt;  state: Exp;
Made mprintf go away when debugging turned off
----------------------------
revision 1.10
date: 1994/03/25 18:00:34;  author: matt;  state: Exp;
Added imulc of 6
----------------------------
revision 1.9
date: 1994/02/10 18:00:58;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.8
date: 1993/11/22 23:47:06;  author: matt;  state: Exp;
debug macros were trashing eax
----------------------------
revision 1.7
date: 1993/11/04 12:39:25;  author: mike;  state: Exp;
Modify imulc macro to support fast multiply by 36
and multiply anything using imul, but give warning.
----------------------------
revision 1.6
date: 1993/10/19 21:17:31;  author: matt;  state: Exp;
Added abs_eax macro
----------------------------
revision 1.5
date: 1993/09/26 22:28:21;  author: matt;  state: Exp;
Removed extra register pushes in mprintf
Make DEBUG_ON all uppercase since we seem to have case sensitivity on
----------------------------
revision 1.4
date: 1993/09/26 19:22:30;  author: matt;  state: Exp;
Added imulc macro, to multiply a register by a constant.  It does not
at this time support arbitrary constants, only 0,1,3,5,9, and powers of 2
----------------------------
revision 1.3
date: 1993/09/13 11:50:57;  author: matt;  state: Exp;
Added 'b' & 'w', aliases for 'byte ptr' and 'word ptr'
----------------------------
revision 1.2
date: 1993/09/03 19:00:03;  author: matt;  state: Exp;
Added breakpoint macros
----------------------------
revision 1.1
date: 1993/08/24 12:51:52;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/includes/types.inc,v
Working file: includes/types.inc
head: 1.2
branch:
description: Common types for use in Miner
----------------------------
revision 1.2
date: 1993/08/24 12:59:12;  author: matt;  state: Exp;
Removed some bogus typedef's
----------------------------
revision 1.1
date: 1993/08/24 12:50:47;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/vecmat/vecmat.inc,v
Working file: vecmat/vecmat.inc
head: 1.21
branch:
description: Header file for vector/matrix library
----------------------------
revision 1.21
date: 1994/12/13 14:44:21;  author: matt;  state: Exp;
Added vm_vector_2_matrix_norm()
----------------------------
revision 1.20
date: 1994/09/11 19:23:04;  author: matt;  state: Exp;
Added vm_vec_normalized_dir_quick()
----------------------------
revision 1.19
date: 1994/07/19 18:52:55;  author: matt;  state: Exp;
Added vm_vec_normalize_quick() and vm_vec_copy_normalize_quick()
----------------------------
revision 1.18
date: 1994/06/16 18:24:31;  author: matt;  state: Exp;
Added vm_vec_mag_quick()
----------------------------
revision 1.17
date: 1994/05/19 12:07:20;  author: matt;  state: Exp;
Fixed globals and macros and added a constant
----------------------------
revision 1.16
date: 1994/05/18 22:28:55;  author: matt;  state: Exp;
Added function vm_vec_normalized_dir()
Added C macros IS_ZERO_VEC(), vm_vec_zero(), and vm_set_identity()
Added C global static vars vmd_zero_vector & vmd_identity_matrix
----------------------------
revision 1.15
date: 1994/05/18 21:45:05;  author: matt;  state: Exp;
Added functions:
  vm_extract_angles_vector()
  vm_extract_angles_vector_normalized()
  vm_vec_copy_normalize()
----------------------------
revision 1.14
date: 1994/05/13 12:42:09;  author: matt;  state: Exp;
Added new function, vm_vec_dist_quick(), which does an approximation.
----------------------------
revision 1.13
date: 1994/03/30 15:43:54;  author: matt;  state: Exp;
Added two functions, vm_vec_scale_add() & vm_vec_scale_add2()
----------------------------
revision 1.12
date: 1994/01/31 19:45:24;  author: matt;  state: Exp;
Added function vm_extract_angles_matrix()
----------------------------
revision 1.11
date: 1993/12/21 19:46:29;  author: matt;  state: Exp;
Added function vm_dist_to_plane()
----------------------------
revision 1.10
date: 1993/12/13 17:26:40;  author: matt;  state: Exp;
Added vm_vec_dist()
----------------------------
revision 1.9
date: 1993/12/02 12:44:04;  author: matt;  state: Exp;
New functions: vm_vec_copy_scale(), vm_vec_scale2()
----------------------------
revision 1.8
date: 1993/10/29 22:39:08;  author: matt;  state: Exp;
Changed matrix order, making direction vectors the rows
----------------------------
revision 1.7
date: 1993/10/25 11:49:58;  author: matt;  state: Exp;
Made vm_vec_delta_ang() take optional forward vector to return signed delta
----------------------------
revision 1.6
date: 1993/10/20 01:10:04;  author: matt;  state: Exp;
Added vm_vec_delta_ang(), vm_vec_delta_ang_norm(), and vm_vec_ang_2_matrix()
----------------------------
revision 1.5
date: 1993/09/28 12:16:04;  author: matt;  state: Exp;
Added func vm_vector_2_matrix()
----------------------------
revision 1.4
date: 1993/09/24 21:19:14;  author: matt;  state: Exp;
Added vm_vec_avg() and vm_vec_avg4()
----------------------------
revision 1.3
date: 1993/09/20 14:56:35;  author: matt;  state: Exp;
Added new function, vm_vec_perp()
----------------------------
revision 1.2
date: 1993/09/17 11:09:57;  author: matt;  state: Exp;
Added vm_vec_add2() and vm_vec_sub2(), which take 2 args (dest==src0)
----------------------------
revision 1.1
date: 1993/09/16 20:19:29;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/3d/3d.inc,v
Working file: 3d/3d.inc
head: 1.30
branch:
description: Header file for 3d library
----------------------------
revision 1.30
date: 1995/02/09 22:00:50;  author: matt;  state: Exp;
Removed dependence on divide overflow handler; we now check for overflow
before dividing.  This fixed problems on some TI chips.
----------------------------
revision 1.29
date: 1994/11/11 19:22:15;  author: matt;  state: Exp;
Added new function, g3_calc_point_depth()
----------------------------
revision 1.28
date: 1994/09/09 14:24:13;  author: matt;  state: Exp;
Added support for glowing textures, to add engine glow to Descent.
----------------------------
revision 1.27
date: 1994/09/01 10:42:26;  author: matt;  state: Exp;
Blob routine, renamed g3_draw_bitmap(), now takes seperate 3d width & height.
----------------------------
revision 1.26
date: 1994/07/29 18:15:53;  author: matt;  state: Exp;
Added instance by angles, and corrected parms for g3_init()
----------------------------
revision 1.25
date: 1994/07/25 00:00:01;  author: matt;  state: Exp;
Made 3d no longer deal with point numbers, but only with pointers.
----------------------------
revision 1.24
date: 1994/07/22 17:57:57;  author: matt;  state: Exp;
Changed the name of the rod functions, and took out some debugging code
----------------------------
revision 1.23
date: 1994/06/07 16:49:35;  author: matt;  state: Exp;
Made interpreter take lighting value as parm, rather than in global var
----------------------------
revision 1.22
date: 1994/05/31 18:35:19;  author: matt;  state: Exp;
Added light value to g3_draw_facing_bitmap()
----------------------------
revision 1.21
date: 1994/05/30 22:48:15;  author: matt;  state: Exp;
Added support for morph effect
----------------------------
revision 1.20
date: 1994/05/30 11:36:25;  author: matt;  state: Exp;
Added g3_set_special_render() to allow a user to specify functions to
call for 2d draws.
----------------------------
revision 1.19
date: 1994/05/19 21:46:30;  author: matt;  state: Exp;
Moved texture lighting out of 3d and into the game
----------------------------
revision 1.18
date: 1994/04/19 18:26:41;  author: matt;  state: Exp;
Added g3_draw_sphere() function.
----------------------------
revision 1.17
date: 1994/03/25 18:22:39;  author: matt;  state: Exp;
g3_draw_polygon_model() now takes ptr to list of angles
----------------------------
revision 1.16
date: 1994/03/15 21:23:14;  author: matt;  state: Exp;
Added interpreter functions
----------------------------
revision 1.15
date: 1994/02/15 17:37:35;  author: matt;  state: Exp;
New function, g3_draw_blob()
----------------------------
revision 1.14
date: 1994/02/10 18:00:10;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.13
date: 1994/02/09 11:47:34;  author: matt;  state: Exp;
Added rod & delta point functions
----------------------------
revision 1.12
date: 1994/01/26 12:38:20;  author: matt;  state: Exp;
Added function g3_compute_lighting_value()
----------------------------
revision 1.11
date: 1994/01/24 14:08:24;  author: matt;  state: Exp;
Added instancing functions
----------------------------
revision 1.10
date: 1994/01/22 18:22:07;  author: matt;  state: Exp;
New lighting stuff now done in 3d; g3_draw_tmap() takes lighting parm
----------------------------
revision 1.9
date: 1994/01/20 17:21:46;  author: matt;  state: Exp;
New function g3_compute_sky_polygon()
----------------------------
revision 1.8
date: 1994/01/14 17:21:02;  author: matt;  state: Exp;
Added new function g3_draw_horizon()
----------------------------
revision 1.6
date: 1993/12/20 20:21:43;  author: matt;  state: Exp;
Added g3_point_2_vec()
----------------------------
revision 1.5
date: 1993/12/05 23:47:13;  author: matt;  state: Exp;
Added function g3_draw_line_ptrs()
----------------------------
revision 1.4
date: 1993/11/21 20:08:16;  author: matt;  state: Exp;
Added functions g3_rotate_point & g3_draw_object
----------------------------
revision 1.3
date: 1993/11/04 18:49:42;  author: matt;  state: Exp;
Made g3_init() have functionality of g3_set_points(), which I killed
----------------------------
revision 1.2
date: 1993/11/04 12:38:29;  author: mike;  state: Exp;
Add PF_LVS, flag for lighting value
----------------------------
revision 1.1
date: 1993/10/29 22:20:27;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/cockpit.asm,v
Working file: main/cockpit.asm
head: 2.0
branch:
description: Routine to copy the 3d view to the screen, leaving out
parts that are in the cockpit.
----------------------------
revision 2.0
date: 1995/02/27 11:26:51;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/01/24 18:55:36;  author: john;  state: Exp;
initial version.
----------------------------
revision 1.1
date: 1994/01/24 17:58:16;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/int3hand.asm,v
Working file: main/int3hand.asm
head: 2.0
branch:
description: Rountine to handle int3's when debugger not present
----------------------------
revision 2.0
date: 1995/02/27 11:26:43;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1993/10/15 11:29:45;  author: matt;  state: Exp;
Made stack bigger
----------------------------
revision 1.1
date: 1993/10/15 11:27:45;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/ipx_esr.asm,v
Working file: main/ipx_esr.asm
head: 2.0
branch:
description: Ipx esr
----------------------------
revision 2.0
date: 1995/02/27 11:32:31;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/08/04 19:17:25;  author: john;  state: Exp;
Inbetween version of network stuff.
----------------------------
revision 1.1
date: 1994/08/02 11:41:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/main/soscodec.asm,v
Working file: main/soscodec.asm
head: 2.0
branch:
description: Routines for compressing digital sounds.
----------------------------
revision 2.0
date: 1995/02/27 11:29:36;  author: john;  state: Exp;
New version 2.0, which has no anonymous unions, builds with
Watcom 10.0, and doesn't require parsing BITMAPS.TBL.
----------------------------
revision 1.2
date: 1994/11/30 14:08:46;  author: john;  state: Exp;
First version.
----------------------------
revision 1.1
date: 1994/11/29 14:33:51;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/lightabs.asm,v
Working file: texmap/lightabs.asm
head: 1.3
branch:
description: Lighting tables for texture mapper.
----------------------------
revision 1.3
date: 1994/11/30 00:55:57;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/10/26 23:22:00;  author: mike;  state: Exp;
kill unused stuff.
----------------------------
revision 1.1
date: 1993/09/08 17:29:15;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_per.asm,v
Working file: texmap/tmap_per.asm
head: 1.18
branch:
description: Perspective texture mapper inner loop.
----------------------------
revision 1.18
date: 1994/05/03 11:08:32;  author: mike;  state: Exp;
Trap divide overflows.
----------------------------
revision 1.17
date: 1994/04/21 15:03:41;  author: mike;  state: Exp;
make faster.
----------------------------
revision 1.16
date: 1994/04/08 16:46:57;  author: john;  state: Exp;
Made 32 fade levels. Hacked.
----------------------------
revision 1.15
date: 1994/03/31 08:35:18;  author: mike;  state: Exp;
Fix quantized-by-4 bug in inner loop.
----------------------------
revision 1.14
date: 1994/03/14 17:41:14;  author: mike;  state: Exp;
Fix bug in unlighted version.
----------------------------
revision 1.13
date: 1994/03/14 15:45:14;  author: mike;  state: Exp;
streamline code.
----------------------------
revision 1.12
date: 1994/01/14 14:01:58;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1993/12/18 14:43:44;  author: john;  state: Exp;
Messed around with doing 1/z, the u*(1/z) and v*(1/z)
(Went from 23 fps to 21 fps... not good! )----------------------------
revision 1.10
date: 1993/12/17 16:14:17;  author: john;  state: Exp;
Split lighted/nonlighted, so there is no cmp lighting
in the inner loop. 
----------------------------
revision 1.9
date: 1993/12/17 12:34:29;  author: john;  state: Exp;
Made leftover bytes use linear approx instead of correct...
should save about 8 divides per scanline on average.
Also, took out anti-aliasing code and rearranged to
order of some instructions to help on 486 pipelining.
(The anti-aliasing code did *not* look good, so I
figure there was no reason to keep it in. )
----------------------------
revision 1.8
date: 1993/12/16 18:37:52;  author: mike;  state: Exp;
Align some stuff on 4 byte boundaries.
----------------------------
revision 1.7
date: 1993/11/30 08:44:18;  author: john;  state: Exp;
Made selector set check for < 64*64 bitmaps.
----------------------------
revision 1.6
date: 1993/11/23 17:25:26;  author: john;  state: Exp;
Added safety "and eax, 0fffh" in lighting lookup.
----------------------------
revision 1.5
date: 1993/11/23 15:08:52;  author: mike;  state: Exp;
Fixed lighting bug. 
----------------------------
revision 1.4
date: 1993/11/23 14:38:50;  author: john;  state: Exp;
optimized NORMAL code by switching EBX and ESI, so BH can be used in
the lighting process.
----------------------------
revision 1.3
date: 1993/11/23 14:30:53;  author: john;  state: Exp;
Made the perspective tmapper do 1/8 divides; added lighting.
----------------------------
revision 1.2
date: 1993/11/22 10:24:59;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:53;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmapfade.asm,v
Working file: texmap/tmapfade.asm
head: 1.6
branch:
description: .
----------------------------
revision 1.6
date: 1995/02/20 18:23:01;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.5
date: 1995/02/20 17:09:15;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.4
date: 1994/12/02 23:29:36;  author: mike;  state: Exp;
change jb/ja to jl/jg.
----------------------------
revision 1.3
date: 1994/11/30 00:57:36;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1994/10/06 18:38:49;  author: john;  state: Exp;
Added the ability to fade a scanline by calling gr_upoly_tmap
with Gr_scanline_darkening_level with a value < MAX_FADE_LEVELS.
----------------------------
revision 1.1
date: 1994/10/06 18:04:42;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_16.asm,v
Working file: texmap/tmap_16.asm
head: 1.4
branch:
description: 16 bits per pixel texture mapper
----------------------------
revision 1.4
date: 1994/11/30 00:56:32;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.3
date: 1994/11/12 16:39:16;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.2
date: 1993/11/22 10:23:49;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:17;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_16g.asm,v
Working file: texmap/tmap_16g.asm
head: 1.4
branch:
description: inner loop of rgb lighted linear texture mapper for 16 bits/pixel
----------------------------
revision 1.4
date: 1994/11/30 00:56:37;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.3
date: 1994/11/12 16:39:23;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.2
date: 1993/11/22 10:24:28;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:17;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_16l.asm,v
Working file: texmap/tmap_16l.asm
head: 1.4
branch:
description: inner loop of 16 bit per pixel lighted texture mapper
----------------------------
revision 1.4
date: 1994/11/30 00:56:39;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.3
date: 1994/11/12 16:39:31;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.2
date: 1993/11/22 10:24:32;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:20;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_16p.asm,v
Working file: texmap/tmap_16p.asm
head: 1.4
branch:
description: Perspective 16 bit per pixel texture mapper
----------------------------
revision 1.4
date: 1994/11/30 00:56:40;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.3
date: 1994/11/12 16:39:32;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.2
date: 1993/11/22 10:24:43;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:21;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_16r.asm,v
Working file: texmap/tmap_16r.asm
head: 1.4
branch:
description: inner loop of rgb lighted linear texture mapper for 16 bits/pixel
----------------------------
revision 1.4
date: 1994/11/30 00:56:41;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.3
date: 1994/11/12 16:39:33;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.2
date: 1993/11/22 10:24:47;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:45;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_per.asm,v
Working file: texmap/tmap_per.asm
head: 1.8
branch:
description: Perspective texture mapper inner loop.
----------------------------
revision 1.8
date: 1993/12/16 18:37:52;  author: mike;  state: Exp;
Align some stuff on 4 byte boundaries.
----------------------------
revision 1.7
date: 1993/11/30 08:44:18;  author: john;  state: Exp;
Made selector set check for < 64*64 bitmaps.
----------------------------
revision 1.6
date: 1993/11/23 17:25:26;  author: john;  state: Exp;
Added safety "and eax, 0fffh" in lighting lookup.
----------------------------
revision 1.5
date: 1993/11/23 15:08:52;  author: mike;  state: Exp;
Fixed lighting bug. 
----------------------------
revision 1.4
date: 1993/11/23 14:38:50;  author: john;  state: Exp;
optimized NORMAL code by switching EBX and ESI, so BH can be used in
the lighting process.
----------------------------
revision 1.3
date: 1993/11/23 14:30:53;  author: john;  state: Exp;
Made the perspective tmapper do 1/8 divides; added lighting.
----------------------------
revision 1.2
date: 1993/11/22 10:24:59;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:53;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_fl1.asm,v
Working file: texmap/tmap_fl1.asm
head: 1.6
branch:
description: Pseudo-flat shader.  Renders nothing for transparent, color #1 otherwise.
----------------------------
revision 1.6
date: 1995/02/20 18:22:08;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.5
date: 1994/12/04 20:37:11;  author: mike;  state: Exp;
fix bug caused by changed interface.
----------------------------
revision 1.4
date: 1994/11/12 16:39:34;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.3
date: 1994/05/03 11:08:48;  author: mike;  state: Exp;
who knows...
----------------------------
revision 1.2
date: 1994/04/21 15:04:08;  author: mike;  state: Exp;
Write the whole darn thing.
----------------------------
revision 1.1
date: 1994/04/21 13:50:26;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_flt.asm,v
Working file: texmap/tmap_flt.asm
head: 1.10
branch:
description: Flat shader derived from texture mapper (kind of slow)
----------------------------
revision 1.10
date: 1995/02/20 18:22:53;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.9
date: 1995/02/20 17:08:51;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.8
date: 1994/12/02 23:29:21;  author: mike;  state: Exp;
change jb/ja to jl/jg.
----------------------------
revision 1.7
date: 1994/11/12 16:39:35;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.6
date: 1994/08/09 11:27:53;  author: john;  state: Exp;
Added cthru mode.
----------------------------
revision 1.5
date: 1994/07/08 17:43:11;  author: john;  state: Exp;
Added flat-shaded-zbuffered polygon.
----------------------------
revision 1.4
date: 1994/04/08 16:25:43;  author: mike;  state: Exp;
optimize inner loop of flat shader.
----------------------------
revision 1.3
date: 1994/03/31 08:34:20;  author: mike;  state: Exp;
Optimized (well, speeded-up) inner loop for tmap-based flat shader.
----------------------------
revision 1.2
date: 1993/11/22 10:24:57;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:46;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_inc.asm,v
Working file: texmap/tmap_inc.asm
head: 1.10
branch:
description: Mike's include file for the texture mapper library.
----------------------------
revision 1.10
date: 1995/02/20 18:22:52;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.9
date: 1994/12/02 23:29:45;  author: mike;  state: Exp;
Add y_pointers.
----------------------------
revision 1.8
date: 1994/11/12 16:39:36;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.7
date: 1994/10/26 23:27:39;  author: john;  state: Exp;
Took out references to gr_inverse_table.
----------------------------
revision 1.6
date: 1994/10/26 23:21:55;  author: mike;  state: Exp;
kill unused stuff.
----------------------------
revision 1.5
date: 1994/07/27 18:39:20;  author: john;  state: Exp;
Took out references to blend table
----------------------------
revision 1.4
date: 1994/01/31 15:40:17;  author: mike;  state: Exp;
Add window_height.
----------------------------
revision 1.3
date: 1993/12/07 12:27:48;  author: john;  state: Exp;
Moved bmd_palette to gr_palette
----------------------------
revision 1.2
date: 1993/11/22 10:24:10;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:47;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_kl.asm,v
Working file: texmap/tmap_kl.asm
head: 1.3
branch:
description: Linear, lighted texture mapper inner loop with a constant lighting value.
----------------------------
revision 1.3
date: 1994/11/30 00:56:50;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.2
date: 1994/11/12 16:39:38;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.1
date: 1994/05/10 09:37:52;  author: mike;  state: Exp;
Initial revision
----------------------------
revision 1.1
date: 1993/09/08 17:29:52;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_ld.asm,v
Working file: texmap/tmap_ld.asm
head: 1.4
branch:
description: Inner loop of rgb lighted dithered linear texture mapper
----------------------------
revision 1.4
date: 1994/11/30 00:56:53;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.3
date: 1994/11/12 16:39:40;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.2
date: 1993/11/22 10:23:58;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:49;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_lin.asm,v
Working file: texmap/tmap_lin.asm
head: 1.3
branch:
description: Linearly interpolating texture mapper inner loop
----------------------------
revision 1.3
date: 1995/02/20 18:22:57;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.2
date: 1995/02/20 17:09:10;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.1
date: 1994/11/30 12:24:04;  author: mike;  state: Exp;
Initial revision
----------------------------
revision 1.6
date: 1994/11/12 16:39:40;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.5
date: 1994/02/10 21:24:43;  author: matt;  state: Exp;
Got rid of debug_on set
----------------------------
revision 1.4
date: 1994/01/31 15:39:53;  author: mike;  state: Exp;
Write additional inner loop for transparency.
----------------------------
revision 1.3
date: 1994/01/26 11:50:04;  author: john;  state: Exp;
Added transparency to linear unlighted texture mapper.
----------------------------
revision 1.2
date: 1993/11/22 10:24:36;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:50;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_ll.asm,v
Working file: texmap/tmap_ll.asm
head: 1.10
branch:
description: Linear, lighted texture mapper inner loop.
----------------------------
revision 1.10
date: 1995/02/20 18:22:54;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.9
date: 1995/02/20 17:09:06;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.8
date: 1994/11/19 23:52:56;  author: mike;  state: Exp;
rip out big unrolled loop to save 25K....remember when we cared more about speed?
----------------------------
revision 1.7
date: 1994/11/12 16:39:41;  author: mike;  state: Exp;
jae to ja.
----------------------------
revision 1.6
date: 1994/03/14 15:45:08;  author: mike;  state: Exp;
streamline code.
----------------------------
revision 1.5
date: 1994/01/24 13:13:12;  author: mike;  state: Exp;
dithering.
----------------------------
revision 1.4
date: 1994/01/14 14:02:47;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/12/17 20:00:16;  author: mike;  state: Exp;
Change default setting of dither_intensity_lighting from 1 to 0
----------------------------
revision 1.2
date: 1993/11/22 10:24:50;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:52;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_mul.asm,v
Working file: texmap/tmap_mul.asm
head: 1.4
branch:
description: Inner loop of 2 multiplies per 8 pixels texture mapper.
----------------------------
revision 1.4
date: 1994/11/30 00:56:56;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.3
date: 1994/11/12 16:41:00;  author: mike;  state: Exp;
jae -> ja.
----------------------------
revision 1.2
date: 1994/11/02 21:33:33;  author: john;  state: Exp;
Added Burger Bill's optimization, ie.. 2 muls per 8 pixels.
----------------------------
revision 1.1
date: 1994/11/02 20:57:36;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_p2.asm,v
Working file: texmap/tmap_p2.asm
head: 1.5
branch:
description: Perspective texture mapper with scan doubling inner loop.
----------------------------
revision 1.5
date: 1994/11/30 00:56:58;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.4
date: 1994/11/12 16:41:07;  author: mike;  state: Exp;
jae -> ja.
----------------------------
revision 1.3
date: 1994/03/14 15:44:42;  author: mike;  state: Exp;
streamline code.
----------------------------
revision 1.2
date: 1994/01/14 14:02:02;  author: mike;  state: Exp;
*** empty log message ***
=============================================================================
RCS file: f:/miner/source/texmap/tmap_per.asm,v
Working file: texmap/tmap_per.asm
head: 1.26
branch:
description: Perspective texture mapper inner loop.
----------------------------
revision 1.26
date: 1995/02/20 18:22:55;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.25
date: 1995/02/20 17:09:08;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.24
date: 1995/01/10 09:32:07;  author: mike;  state: Exp;
mostly fix garbage at end of scanline, but slow down by 1-4%.
----------------------------
revision 1.23
date: 1994/12/02 23:29:57;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.22
date: 1994/11/30 00:57:00;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.21
date: 1994/11/21 13:57:42;  author: mike;  state: Exp;
fix right side shear bug
----------------------------
revision 1.20
date: 1994/11/12 16:41:09;  author: mike;  state: Exp;
jae -> ja.
----------------------------
revision 1.19
date: 1994/10/27 19:40:00;  author: john;  state: Exp;
Made lighting table lookup be _gr_fade_table[eax] instead
of fs:[eax], which gets rig of a segment override that 
supposedly costs 1 clock on a 486.  Mainly, I wanted to verify
that the only reason we need selectors is for the source texture
data .
----------------------------
revision 1.18
date: 1994/05/03 11:08:32;  author: mike;  state: Exp;
Trap divide overflows.
----------------------------
revision 1.17
date: 1994/04/21 15:03:41;  author: mike;  state: Exp;
make faster.
----------------------------
revision 1.16
date: 1994/04/08 16:46:57;  author: john;  state: Exp;
Made 32 fade levels. Hacked.
----------------------------
revision 1.15
date: 1994/03/31 08:35:18;  author: mike;  state: Exp;
Fix quantized-by-4 bug in inner loop.
----------------------------
revision 1.14
date: 1994/03/14 17:41:14;  author: mike;  state: Exp;
Fix bug in unlighted version.
----------------------------
revision 1.13
date: 1994/03/14 15:45:14;  author: mike;  state: Exp;
streamline code.
----------------------------
revision 1.12
date: 1994/01/14 14:01:58;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1993/12/18 14:43:44;  author: john;  state: Exp;
Messed around with doing 1/z, the u*(1/z) and v*(1/z)
(Went from 23 fps to 21 fps... not good! )----------------------------
revision 1.10
date: 1993/12/17 16:14:17;  author: john;  state: Exp;
Split lighted/nonlighted, so there is no cmp lighting
in the inner loop. 
----------------------------
revision 1.9
date: 1993/12/17 12:34:29;  author: john;  state: Exp;
Made leftover bytes use linear approx instead of correct...
should save about 8 divides per scanline on average.
Also, took out anti-aliasing code and rearranged to
order of some instructions to help on 486 pipelining.
(The anti-aliasing code did *not* look good, so I
figure there was no reason to keep it in. )
----------------------------
revision 1.8
date: 1993/12/16 18:37:52;  author: mike;  state: Exp;
Align some stuff on 4 byte boundaries.
----------------------------
revision 1.7
date: 1993/11/30 08:44:18;  author: john;  state: Exp;
Made selector set check for < 64*64 bitmaps.
----------------------------
revision 1.6
date: 1993/11/23 17:25:26;  author: john;  state: Exp;
Added safety "and eax, 0fffh" in lighting lookup.
----------------------------
revision 1.5
date: 1993/11/23 15:08:52;  author: mike;  state: Exp;
Fixed lighting bug. 
----------------------------
revision 1.4
date: 1993/11/23 14:38:50;  author: john;  state: Exp;
optimized NORMAL code by switching EBX and ESI, so BH can be used in
the lighting process.
----------------------------
revision 1.3
date: 1993/11/23 14:30:53;  author: john;  state: Exp;
Made the perspective tmapper do 1/8 divides; added lighting.
----------------------------
revision 1.2
date: 1993/11/22 10:24:59;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:53;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_rgb.asm,v
Working file: texmap/tmap_rgb.asm
head: 1.4
branch:
description: RGB interpolating texture mapper.
----------------------------
revision 1.4
date: 1994/11/30 00:57:02;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.3
date: 1994/11/12 16:41:11;  author: mike;  state: Exp;
jae -> ja.
----------------------------
revision 1.2
date: 1993/11/22 10:25:04;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 17:29:54;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_skv.asm,v
Working file: texmap/tmap_skv.asm
head: 1.5
branch:
description: Vertical scanner for sky bitmap rendering.
----------------------------
revision 1.5
date: 1994/11/30 00:57:03;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.4
date: 1994/11/12 16:41:13;  author: mike;  state: Exp;
jae -> ja.
----------------------------
revision 1.3
date: 1994/05/24 11:03:12;  author: mike;  state: Exp;
Make work for any sized (power of 2) bitmap.
----------------------------
revision 1.2
date: 1994/01/31 15:42:14;  author: mike;  state: Exp;
Vertical scanning sky texture mapper (in inner loop).
----------------------------
revision 1.1
date: 1994/01/30 14:10:55;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_sky.asm,v
Working file: texmap/tmap_sky.asm
head: 1.5
branch:
description: Sky texture mapper.
----------------------------
revision 1.5
date: 1994/11/30 00:57:04;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.4
date: 1994/11/12 16:41:14;  author: mike;  state: Exp;
jae -> ja.
----------------------------
revision 1.3
date: 1994/03/25 17:08:48;  author: matt;  state: Exp;
Attempt to make this code work on wide windows, but I don't think
it did.
----------------------------
revision 1.2
date: 1994/01/18 10:49:54;  author: mike;  state: Exp;
Modified linear texture mapper for sky plotting.
----------------------------
revision 1.1
date: 1994/01/14 15:07:03;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/tmap_z.asm,v
Working file: texmap/tmap_z.asm
head: 1.4
branch:
description: Assembly routines to do a flat-shaded z-buffer tmap.
----------------------------
revision 1.4
date: 1994/11/30 00:57:06;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.3
date: 1994/11/12 16:41:14;  author: mike;  state: Exp;
jae -> ja.
----------------------------
revision 1.2
date: 1994/07/08 17:43:14;  author: john;  state: Exp;
Added flat-shaded-zbuffered polygon.
----------------------------
revision 1.1
date: 1994/07/08 10:58:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/vesa.asm,v
Working file: texmap/vesa.asm
head: 1.1
branch:
description: Routine to copy buffer to VESA memory.
----------------------------
revision 1.1
date: 1993/09/08 17:29:56;  author: mike;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/gr.inc,v
Working file: 2d/gr.inc
head: 1.9
branch:
description: Header file for 2d library
----------------------------
revision 1.9
date: 1994/11/09 23:04:50;  author: mike;  state: Exp;
Add avg_color field.
----------------------------
revision 1.8
date: 1994/10/26 23:55:49;  author: john;  state: Exp;
Took out roller; Took out inverse table.
----------------------------
revision 1.7
date: 1994/10/25 12:05:29;  author: john;  state: Exp;
Added gr_fade_table and gr_palette.
----------------------------
revision 1.6
date: 1994/03/15 22:24:31;  author: matt;  state: Exp;
Added gr_setcolor_ and gr_inverse_table
----------------------------
revision 1.5
date: 1994/03/14 16:56:05;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.4
date: 1994/02/04 13:21:12;  author: matt;  state: Exp;
Added extern for rotate_bitmap
----------------------------
revision 1.3
date: 1993/12/21 19:58:14;  author: john;  state: Exp;
added selector stuff
----------------------------
revision 1.2
date: 1993/10/15 16:26:24;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/10/15 16:21:18;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/lbitblt.asm,v
Working file: 2d/lbitblt.asm
head: 1.7
branch:
description: Bitblt from linear to linear
----------------------------
revision 1.7
date: 1994/08/12 17:38:28;  author: mike;  state: Exp;
Fix bug.
----------------------------
revision 1.6
date: 1994/08/11 17:59:33;  author: mike;  state: Exp;
Assembler versions for 3 rotations of merge functions.
----------------------------
revision 1.5
date: 1994/01/22 14:35:16;  author: john;  state: Exp;
Added transparency as color index 255.
----------------------------
revision 1.4
date: 1994/01/18 21:42:41;  author: john;  state: Exp;
unrolled loops in gr_merge_textures...
----------------------------
revision 1.3
date: 1994/01/18 10:56:04;  author: john;  state: Exp;
Added code to merge two ttextures.
----------------------------
revision 1.2
date: 1993/12/28 12:07:26;  author: john;  state: Exp;
initial version
----------------------------
revision 1.1
date: 1993/12/22 11:05:46;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/linear.asm,v
Working file: 2d/linear.asm
head: 1.20
branch:
description: Routines to access linear VGA memory
----------------------------
revision 1.20
date: 1994/11/28 17:08:30;  author: john;  state: Exp;
Took out some unused functions in linear.asm, moved
gr_linear_movsd from linear.asm to bitblt.c, made sure that
the code in ibiblt.c sets the direction flags before rep movsing.
----------------------------
revision 1.19
date: 1994/11/27 22:57:56;  author: john;  state: Exp;
Took out some code that was never called.
----------------------------
revision 1.18
date: 1994/09/12 14:40:16;  author: john;  state: Exp;
Neatend.
----------------------------
revision 1.17
date: 1994/07/27 18:30:30;  author: john;  state: Exp;
Took away the blending table.
----------------------------
revision 1.16
date: 1994/04/08 16:59:28;  author: john;  state: Exp;
Add fading poly's; Made palette fade 32 instead of 16.
----------------------------
revision 1.15
date: 1993/12/21 20:10:03;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.14
date: 1993/12/21 19:58:31;  author: john;  state: Exp;
added selector stuff
----------------------------
revision 1.13
date: 1993/12/21 11:40:51;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1993/12/09 15:01:52;  author: john;  state: Exp;
Changed palette stuff majorly
----------------------------
revision 1.11
date: 1993/12/08 16:41:02;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1993/12/08 11:50:17;  author: john;  state: Exp;
Fixed bug with gr_init
----------------------------
revision 1.9
date: 1993/12/07 12:32:12;  author: john;  state: Exp;
moved bmd_palette to gr_palette
----------------------------
revision 1.8
date: 1993/12/03 12:11:25;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1993/11/16 11:29:08;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.6
date: 1993/10/15 16:22:13;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.5
date: 1993/09/29 16:15:28;  author: john;  state: Exp;
added assembler linear_line
----------------------------
revision 1.4
date: 1993/09/26 18:59:27;  author: john;  state: Exp;
fade stuff
----------------------------
revision 1.3
date: 1993/09/21 14:00:59;  author: john;  state: Exp;
added code to save 43/50 line text modes.
----------------------------
revision 1.2
date: 1993/09/16 17:28:06;  author: john;  state: Exp;
added code to save/restore video mode
----------------------------
revision 1.1
date: 1993/09/08 11:41:30;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/modex.asm,v
Working file: 2d/modex.asm
head: 1.19
branch:
description: Routines to access ModeX VGA memory
----------------------------
revision 1.19
date: 1995/03/01 15:37:46;  author: john;  state: Exp;
Better ModeX support.
----------------------------
revision 1.18
date: 1994/11/24 13:24:20;  author: john;  state: Exp;
Made sure that some rep movs had the cld set first.
Took some unused functions out.
----------------------------
revision 1.17
date: 1994/09/22 18:15:02;  author: john;  state: Exp;
Made flip page wait for retrace.
----------------------------
revision 1.16
date: 1994/09/22 16:08:27;  author: john;  state: Exp;
Fixed some palette stuff.
----------------------------
revision 1.15
date: 1994/07/13 12:03:05;  author: john;  state: Exp;
Added assembly modex line-drawer.
----------------------------
revision 1.14
date: 1994/05/06 12:50:34;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.13
date: 1994/05/03 19:39:04;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1994/02/18 15:32:32;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.11
date: 1993/12/21 11:40:36;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.10
date: 1993/12/09 15:02:26;  author: john;  state: Exp;
Changed palette stuff majorly
----------------------------
revision 1.9
date: 1993/12/03 12:11:32;  author: john;  state: Exp;
fixed cx/ecx loop bugs.
----------------------------
revision 1.8
date: 1993/11/16 11:28:18;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1993/10/15 16:23:23;  author: john;  state: Exp;
y
----------------------------
revision 1.6
date: 1993/09/28 19:07:19;  author: john;  state: Exp;
stripped the waitforretrace out of fade to speed things up.
----------------------------
revision 1.5
date: 1993/09/26 18:58:58;  author: john;  state: Exp;
fade stuff
----------------------------
revision 1.4
date: 1993/09/21 14:01:15;  author: john;  state: Exp;
turned off video before mode set to reduce flicker.
----------------------------
revision 1.3
date: 1993/09/08 11:38:36;  author: john;  state: Exp;
changed rcs stuff at beginning.
=============================================================================
RCS file: f:/miner/source/2d/scalea.asm,v
Working file: 2d/scalea.asm
head: 1.2
branch:
description: Asm inner loop for scaler.
----------------------------
revision 1.2
date: 1994/01/12 18:02:52;  author: john;  state: Exp;
Asm code for the scaler... first iteration here
has compiled code that works!!
----------------------------
revision 1.1
date: 1994/01/12 12:20:11;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/temp.asm,v
Working file: 2d/temp.asm
head: 1.2
branch:
description: .
----------------------------
revision 1.2
date: 1994/01/18 10:56:48;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1994/01/12 14:38:08;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/tweak.inc,v
Working file: 2d/tweak.inc
head: 1.3
branch:
description: Parameters used by modex.asm to set various modex resolutions.
----------------------------
revision 1.3
date: 1993/11/16 11:28:09;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.2
date: 1993/10/15 16:23:18;  author: john;  state: Exp;
y
----------------------------
revision 1.1
date: 1993/09/08 11:41:09;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/vesa.asm,v
Working file: 2d/vesa.asm
head: 1.20
branch:
description: Routines to access VESA VGA memory
----------------------------
revision 1.20
date: 1994/07/27 15:43:37;  author: john;  state: Exp;
Fixed bug with allocation dos memory more than once.
----------------------------
revision 1.19
date: 1994/06/24 17:27:02;  author: john;  state: Exp;
Made rowsizes bigger than actual screen work with SVGA.
----------------------------
revision 1.18
date: 1994/05/31 11:10:45;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.17
date: 1994/05/06 12:50:21;  author: john;  state: Exp;
Added supertransparency; neatend things up; took out warnings.
----------------------------
revision 1.16
date: 1994/03/14 16:56:29;  author: john;  state: Exp;
Changed grs_bitmap structure to include bm_flags.
----------------------------
revision 1.15
date: 1994/02/02 11:27:22;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.14
date: 1994/01/25 11:40:46;  author: john;  state: Exp;
Added gr_check_mode function.
----------------------------
revision 1.13
date: 1994/01/13 14:41:51;  author: unknown;  state: Exp;
Fixed bug with Error 7 return Error 8.
----------------------------
revision 1.12
date: 1993/12/21 19:58:38;  author: john;  state: Exp;
made rep movsb in scanline be rep movsw
----------------------------
revision 1.11
date: 1993/12/09 16:05:51;  author: john;  state: Exp;
Made no VESA driver detection work correctly
----------------------------
revision 1.10
date: 1993/12/09 15:02:41;  author: john;  state: Exp;
Changed palette stuff majorly
----------------------------
revision 1.9
date: 1993/11/16 11:28:28;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.8
date: 1993/10/26 13:18:03;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.7
date: 1993/10/15 16:23:28;  author: john;  state: Exp;
y
----------------------------
revision 1.6
date: 1993/09/29 17:31:10;  author: john;  state: Exp;
optimized gr_vesa_pixel
----------------------------
revision 1.5
date: 1993/09/26 18:59:34;  author: john;  state: Exp;
fade stuff
----------------------------
revision 1.4
date: 1993/09/20 14:47:20;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.3
date: 1993/09/13 17:54:07;  author: john;  state: Exp;
Minor bug fix
----------------------------
revision 1.2
date: 1993/09/08 15:56:06;  author: john;  state: Exp;
Started adding DPMI support for SVGA paging.
----------------------------
revision 1.1
date: 1993/09/08 11:41:25;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/2d/vgaregs.inc,v
Working file: 2d/vgaregs.inc
head: 1.2
branch:
description: Readable descriptions of VGA ports.
----------------------------
revision 1.2
date: 1993/10/15 16:22:45;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.1
date: 1993/09/08 11:41:00;  author: john;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/vecmat/vecmat.inc,v
Working file: vecmat/vecmat.inc
head: 1.21
branch:
description: Header file for vector/matrix library
----------------------------
revision 1.21
date: 1994/12/13 14:44:21;  author: matt;  state: Exp;
Added vm_vector_2_matrix_norm()
----------------------------
revision 1.20
date: 1994/09/11 19:23:04;  author: matt;  state: Exp;
Added vm_vec_normalized_dir_quick()
----------------------------
revision 1.19
date: 1994/07/19 18:52:55;  author: matt;  state: Exp;
Added vm_vec_normalize_quick() and vm_vec_copy_normalize_quick()
----------------------------
revision 1.18
date: 1994/06/16 18:24:31;  author: matt;  state: Exp;
Added vm_vec_mag_quick()
----------------------------
revision 1.17
date: 1994/05/19 12:07:20;  author: matt;  state: Exp;
Fixed globals and macros and added a constant
----------------------------
revision 1.16
date: 1994/05/18 22:28:55;  author: matt;  state: Exp;
Added function vm_vec_normalized_dir()
Added C macros IS_ZERO_VEC(), vm_vec_zero(), and vm_set_identity()
Added C global static vars vmd_zero_vector & vmd_identity_matrix
----------------------------
revision 1.15
date: 1994/05/18 21:45:05;  author: matt;  state: Exp;
Added functions:
  vm_extract_angles_vector()
  vm_extract_angles_vector_normalized()
  vm_vec_copy_normalize()
----------------------------
revision 1.14
date: 1994/05/13 12:42:09;  author: matt;  state: Exp;
Added new function, vm_vec_dist_quick(), which does an approximation.
----------------------------
revision 1.13
date: 1994/03/30 15:43:54;  author: matt;  state: Exp;
Added two functions, vm_vec_scale_add() & vm_vec_scale_add2()
----------------------------
revision 1.12
date: 1994/01/31 19:45:24;  author: matt;  state: Exp;
Added function vm_extract_angles_matrix()
----------------------------
revision 1.11
date: 1993/12/21 19:46:29;  author: matt;  state: Exp;
Added function vm_dist_to_plane()
----------------------------
revision 1.10
date: 1993/12/13 17:26:40;  author: matt;  state: Exp;
Added vm_vec_dist()
----------------------------
revision 1.9
date: 1993/12/02 12:44:04;  author: matt;  state: Exp;
New functions: vm_vec_copy_scale(), vm_vec_scale2()
----------------------------
revision 1.8
date: 1993/10/29 22:39:08;  author: matt;  state: Exp;
Changed matrix order, making direction vectors the rows
----------------------------
revision 1.7
date: 1993/10/25 11:49:58;  author: matt;  state: Exp;
Made vm_vec_delta_ang() take optional forward vector to return signed delta
----------------------------
revision 1.6
date: 1993/10/20 01:10:04;  author: matt;  state: Exp;
Added vm_vec_delta_ang(), vm_vec_delta_ang_norm(), and vm_vec_ang_2_matrix()
----------------------------
revision 1.5
date: 1993/09/28 12:16:04;  author: matt;  state: Exp;
Added func vm_vector_2_matrix()
----------------------------
revision 1.4
date: 1993/09/24 21:19:14;  author: matt;  state: Exp;
Added vm_vec_avg() and vm_vec_avg4()
----------------------------
revision 1.3
date: 1993/09/20 14:56:35;  author: matt;  state: Exp;
Added new function, vm_vec_perp()
----------------------------
revision 1.2
date: 1993/09/17 11:09:57;  author: matt;  state: Exp;
Added vm_vec_add2() and vm_vec_sub2(), which take 2 args (dest==src0)
----------------------------
revision 1.1
date: 1993/09/16 20:19:29;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/vecmat/vecmat.asm,v
Working file: vecmat/vecmat.asm
head: 1.54
branch:
description: Source for vector/matrix library
----------------------------
revision 1.54
date: 1995/01/31 00:14:50;  author: matt;  state: Exp;
Took out int3 from dotprod overflow, since it saturates now
----------------------------
revision 1.53
date: 1994/12/14 18:29:33;  author: matt;  state: Exp;
Made dotprod overflow check stay in, and return saturated value
----------------------------
revision 1.52
date: 1994/12/14 12:34:13;  author: matt;  state: Exp;
Disabled now-unused vector_2_matrix_norm()
----------------------------
revision 1.51
date: 1994/12/13 16:55:13;  author: matt;  state: Exp;
Ripped out optimization from last version, which was bogus
----------------------------
revision 1.50
date: 1994/12/13 14:55:18;  author: matt;  state: Exp;
Use quick normalize in a couple of places where it was safe to do so
----------------------------
revision 1.49
date: 1994/12/13 14:44:12;  author: matt;  state: Exp;
Added vm_vector_2_matrix_norm()
----------------------------
revision 1.48
date: 1994/12/13 13:26:49;  author: matt;  state: Exp;
Fixed overflow check
----------------------------
revision 1.47
date: 1994/12/03 15:39:54;  author: matt;  state: Exp;
Gracefully handle some vector_2_matrix problems
----------------------------
revision 1.46
date: 1994/11/19 17:15:05;  author: matt;  state: Exp;
Assemble out some code not used in DESCENT
----------------------------
revision 1.45
date: 1994/11/17 11:41:05;  author: matt;  state: Exp;
Put handling in extract_angles_from_matrix to deal with bad matrices
----------------------------
revision 1.44
date: 1994/11/16 11:48:10;  author: matt;  state: Exp;
Added error checking to vm_extract_angles_matrix()
----------------------------
revision 1.43
date: 1994/09/19 22:00:10;  author: matt;  state: Exp;
Fixed register trash
----------------------------
revision 1.42
date: 1994/09/11 19:23:05;  author: matt;  state: Exp;
Added vm_vec_normalized_dir_quick()
----------------------------
revision 1.41
date: 1994/08/14 13:28:38;  author: matt;  state: Exp;
Put in check for zero-length vector in extract angles
----------------------------
revision 1.40
date: 1994/07/19 18:52:53;  author: matt;  state: Exp;
Added vm_vec_normalize_quick() and vm_vec_copy_normalize_quick()
----------------------------
revision 1.39
date: 1994/06/16 18:24:22;  author: matt;  state: Exp;
Added vm_vec_mag_quick()
----------------------------
revision 1.38
date: 1994/06/10 23:18:38;  author: matt;  state: Exp;
Added new code for vm_vec_ang_2_matrix() which may be better, but may
not be.
----------------------------
revision 1.37
date: 1994/05/22 18:17:29;  author: mike;  state: Exp;
Optimize vm_vec_dist_quick, using jns in place of abs_eax.
----------------------------
revision 1.36
date: 1994/05/19 12:07:04;  author: matt;  state: Exp;
Fixed globals and macros and added a constant
----------------------------
revision 1.35
date: 1994/05/19 09:19:00;  author: matt;  state: Exp;
Made vm_vec_normalized_dir() return mag of vector
----------------------------
revision 1.34
date: 1994/05/18 22:28:01;  author: matt;  state: Exp;
Added function vm_vec_normalized_dir()
Added C macros IS_ZERO_VEC(), vm_vec_zero(), and vm_set_identity()
Added C global static vars vmd_zero_vector & vmd_identity_matrix
----------------------------
revision 1.33
date: 1994/05/18 21:44:16;  author: matt;  state: Exp;
Added functions:
  vm_extract_angles_vector()
  vm_extract_angles_vector_normalized()
  vm_vec_copy_normalize()
----------------------------
revision 1.32
date: 1994/05/13 12:41:51;  author: matt;  state: Exp;
Added new function, vm_vec_dist_quick(), which does an approximation.
----------------------------
revision 1.31
date: 1994/05/04 17:41:31;  author: mike;  state: Exp;
Comment out debug_brk on null vector.
----------------------------
revision 1.30
date: 1994/04/15 21:41:31;  author: matt;  state: Exp;
Check for foward vector straigt up in extract angles routine
----------------------------
revision 1.29
date: 1994/03/30 15:45:05;  author: matt;  state: Exp;
Added two functions, vm_vec_scale_add() & vm_vec_scale_add2()
----------------------------
revision 1.28
date: 1994/02/26 19:23:35;  author: matt;  state: Exp;
Do an int3 when we get a null vector when computing surface normal
----------------------------
revision 1.27
date: 1994/02/10 18:29:45;  author: matt;  state: Exp;
Changed 'if DEBUG_ON' to 'ifndef NDEBUG'
----------------------------
revision 1.26
date: 1994/02/10 18:28:55;  author: matt;  state: Exp;
Fixed bugs in extract angles function
----------------------------
revision 1.25
date: 1994/01/31 22:46:07;  author: matt;  state: Exp;
Added vm_extract_angles_matrix() function
----------------------------
revision 1.24
date: 1994/01/30 19:29:55;  author: matt;  state: Exp;
Put in debug_brk when vm_vec_2_matrix got zero-length vector
----------------------------
revision 1.23
date: 1994/01/25 15:27:59;  author: matt;  state: Exp;
Added debugging check for dotprod overflow
----------------------------
revision 1.22
date: 1994/01/24 11:52:59;  author: matt;  state: Exp;
Added checking for dest==src for several functions where this is not allowed
----------------------------
revision 1.21
date: 1994/01/19 23:13:02;  author: matt;  state: Exp;
Fixed bug in vm_vec_ang_2_matrix()
----------------------------
revision 1.20
date: 1994/01/04 12:33:43;  author: mike;  state: Exp;
Prevent divide overflow in vm_vec_scale2
----------------------------
revision 1.19
date: 1993/12/21 19:46:26;  author: matt;  state: Exp;
Added function vm_dist_to_plane()
----------------------------
revision 1.18
date: 1993/12/13 17:26:23;  author: matt;  state: Exp;
Added vm_vec_dist()
----------------------------
revision 1.17
date: 1993/12/02 12:43:39;  author: matt;  state: Exp;
New functions: vm_vec_copy_scale(), vm_vec_scale2()
----------------------------
revision 1.16
date: 1993/10/29 22:39:29;  author: matt;  state: Exp;
Changed matrix order, making direction vectors the rows
----------------------------
revision 1.15
date: 1993/10/29 18:06:01;  author: matt;  state: Exp;
Fixed vm_vector_2_matrix() bug when forward vector was straight down
----------------------------
revision 1.14
date: 1993/10/26 18:51:26;  author: matt;  state: Exp;
Fixed some register trashes in vm_vec_ang_2_matrix()
----------------------------
revision 1.13
date: 1993/10/25 11:49:37;  author: matt;  state: Exp;
Made vm_vec_delta_ang() take optional forward vector to return signed delta
----------------------------
revision 1.12
date: 1993/10/20 01:09:42;  author: matt;  state: Exp;
Added vm_vec_delta_ang(), vm_vec_delta_ang_norm(), and vm_vec_ang_2_matrix()
----------------------------
revision 1.11
date: 1993/10/17 17:03:08;  author: matt;  state: Exp;
vm_vector_2_matrix() now takes optional right vector
----------------------------
revision 1.10
date: 1993/10/10 18:11:42;  author: matt;  state: Exp;
Changed angles_2_matrix so that heading & bank rotate in the 
correct directions.
----------------------------
revision 1.9
date: 1993/09/30 16:17:59;  author: matt;  state: Exp;
Fixed bug in vector_2_matrix() by adding another normalize
----------------------------
revision 1.8
date: 1993/09/29 10:51:58;  author: matt;  state: Exp;
Fixed bad register trashes in crossprod, perp, & normal
----------------------------
revision 1.7
date: 1993/09/28 12:16:46;  author: matt;  state: Exp;
Fixed bugs in cross product
Added func vm_vector_2_matrix()
----------------------------
revision 1.6
date: 1993/09/24 21:19:37;  author: matt;  state: Exp;
Added vm_vec_avg() and vm_vec_avg4()
----------------------------
revision 1.5
date: 1993/09/20 18:15:07;  author: matt;  state: Exp;
Trap zero-length vectors in vm_vec_normalize(), vm_vec_perp(), and vm_vec_normal()
----------------------------
revision 1.4
date: 1993/09/20 14:56:43;  author: matt;  state: Exp;
Fixed bug in vm_vec_normal(), made that routine normalize the results,
and added new function vm_vec_perp().
----------------------------
revision 1.3
date: 1993/09/20 10:12:06;  author: mike;  state: Exp;
no changes
----------------------------
revision 1.2
date: 1993/09/17 11:10:33;  author: matt;  state: Exp;
Added vm_vec_add2() and vm_vec_sub2(), which take 2 args (dest==src0)
----------------------------
revision 1.1
date: 1993/09/16 20:10:24;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/vecmat/vecmat.asm $ $Revision: 1.55,v
Working file: vecmat/vecmat.asm
head: 1.55
description: Source for vector/matrix library
----------------------------
revision 1.55
date: 1995/08/24 12:04:11;  author: matt;  state: Exp;
Fixed stack unbalance bug in vm_vec_scale2 when divisor was zero
=============================================================================
RCS file: f:/miner/source/bios/rbaudio.c,v
Working file: bios/rbaudio.c
head: 1.18
description: Redbook Audio Library  
----------------------------
revision 1.18
date: 1996/04/15 15:27:40;  author: samir;  state: Exp;
Play multiple tracks and PeekPlayStatus uses timer method!
----------------------------
revision 1.17
date: 1996/04/12 20:08:42;  author: samir;  state: Exp;
Added debugging info and Redbook / HSG detection
----------------------------
revision 1.16
date: 1996/04/12 19:13:29;  author: matt;  state: Exp;
Changed parameter name and added comments
----------------------------
revision 1.15
date: 1996/04/12 18:08:02;  author: samir;  state: Exp;
We now pass a cd drive letter to RBAInit.
----------------------------
revision 1.14
date: 1996/02/14 13:31:29;  author: samir;  state: Exp;
Fixed stupid bug that caused last track to never be played
----------------------------
revision 1.13
date: 1996/02/13 17:16:04;  author: samir;  state: Exp;
Added Pause and Resume Caps.
----------------------------
revision 1.12
date: 1996/01/11 10:08:01;  author: matt;  state: Exp;
RBARegisterCD wasn't checking SendRequest error code, so it was reporting
CD tracks when there was no CD in the drive.
----------------------------
revision 1.11
date: 1996/01/10 20:15:45;  author: samir;  state: Exp;
Changed behavior of RBACheckMediaChange to work
correctly, as well as calling this function in critical
RBA functions to take care of CD changes.
----------------------------
revision 1.10
date: 1996/01/10 18:30:49;  author: samir;  state: Exp;
Changed property of RBCheckMediaChange which would
not disable RBA if media had changed.  GetNumberOfTracks
returns num. of tracks or if media changed, re-registers
CD and then returns number of tracks.  If media has changed
RBAPlayTrack will return an error.
----------------------------
revision 1.9
date: 1995/08/01 19:30:11;  author: samir;  state: Exp;
Added ability to get number of tracks on CD via call.
----------------------------
revision 1.8
date: 1995/07/20 16:13:56;  author: samir;  state: Exp;
Doesn't quit if CD isn't Redbook.
----------------------------
revision 1.7
date: 1995/05/10 11:37:51;  author: samir;  state: Exp;
Checks whether CD-ROM in drive at start of game
----------------------------
revision 1.6
date: 1995/05/09 18:00:08;  author: samir;  state: Exp;
Error cleaned.
----------------------------
revision 1.5
date: 1995/05/09 17:57:43;  author: samir;  state: Exp;
No CD in Drive, then diable RBA
----------------------------
revision 1.4
date: 1995/05/09 17:12:24;  author: samir;  state: Exp;
Added user detection of Redbook Audio.
----------------------------
revision 1.3
date: 1995/05/09 12:04:57;  author: samir;  state: Exp;
Added ability to known when a CD is playing
and when it's stopped.
----------------------------
revision 1.2
date: 1995/05/08 11:33:37;  author: samir;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/texmap/ntmap.c,v
Working file: texmap/ntmap.c
head: 1.61
description: Start of conversion to new texture mapper.
----------------------------
revision 1.61
date: 1996/03/12 20:15:58;  author: jay;  state: Exp;
From JAY PATEL: changes for S3/Virge version
----------------------------
revision 1.60
date: 1996/02/21 18:18:53;  author: matt;  state: Exp;
From JOHN: changes to texture mapper, supposed to be slightly better & faster
----------------------------
revision 1.59
date: 1996/02/12 11:11:37;  author: jay;  state: Exp;
From JAY PATEL: code to add Diamond/S3 Virge support
----------------------------
revision 1.58
date: 1996/01/24 16:37:28;  author: champaign;  state: Exp;
From JOHN: texture mapper library cleaned up & optimized
----------------------------
revision 1.57
date: 1995/11/28 10:40:24;  author: matt;  state: Exp;
Allow screen heights up to 1024
----------------------------
revision 1.56
date: 1995/08/21 18:06:20;  author: matt;  state: Exp;
Allow screen height up to 768
----------------------------
revision 1.55
date: 1995/07/17 11:04:00;  author: matt;  state: Exp;
Added assert() for correct texture width
----------------------------
revision 1.54
date: 1995/05/26 16:08:03;  author: matt;  state: Exp;
Took out evil include of Descent main directory header file
----------------------------
revision 1.53
date: 1995/04/18 14:36:14;  author: matt;  state: Exp;
Moved window_clip vars to texmap library from Descent main source
----------------------------
revision 1.52
date: 1995/03/14 15:13:06;  author: john;  state: Exp;
Increased MAX_Y_Pointers to 480.
----------------------------
revision 1.51
date: 1995/02/23 14:25:09;  author: john;  state: Exp;
Added editor tmap.
----------------------------
revision 1.50
date: 1995/02/20 18:22:58;  author: john;  state: Exp;
Put all the externs in the assembly modules into tmap_inc.asm.
Also, moved all the C versions of the inner loops into a new module, 
scanline.c.
----------------------------
revision 1.49
date: 1995/02/20 17:09:11;  author: john;  state: Exp;
Added code so that you can build the tmapper with no assembly!
----------------------------
revision 1.48
date: 1995/01/06 11:11:30;  author: mike;  state: Exp;
even when not in editor, have 400 lines in texture map scanline table.
----------------------------
revision 1.47
date: 1994/12/15 16:43:25;  author: matt;  state: Exp;
Took out code only needed by editor
----------------------------
revision 1.46
date: 1994/12/09 22:35:37;  author: mike;  state: Exp;
fix bug in before call to asm_tmap_scanline_per causing write of pixel onto past right border onto left.
----------------------------
revision 1.45
date: 1994/12/06 16:31:06;  author: mike;  state: Exp;
fix bug in asm_tmap_scanline_matt interface.
----------------------------
revision 1.44
date: 1994/12/04 20:37:18;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.43
date: 1994/12/02 23:30:04;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.42
date: 1994/11/30 00:57:43;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.41
date: 1994/11/28 13:34:27;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.40
date: 1994/11/28 01:30:01;  author: mike;  state: Exp;
kill warning.
----------------------------
revision 1.39
date: 1994/11/28 01:28:59;  author: mike;  state: Exp;
optimizations.
----------------------------
revision 1.38
date: 1994/11/21 14:08:07;  author: john;  state: Exp;
Took out all multiple instead of divide code.
----------------------------
revision 1.37
date: 1994/11/19 15:21:52;  author: mike;  state: Exp;
rip out unused code.
----------------------------
revision 1.36
date: 1994/11/14 11:42:51;  author: mike;  state: Exp;
optimization.
----------------------------
revision 1.35
date: 1994/11/12 16:41:36;  author: mike;  state: Exp;
*** empty log message ***
----------------------------
revision 1.34
date: 1994/11/10 21:28:41;  author: mike;  state: Exp;
remove call to init_interface_vars_to_assembler.
----------------------------
revision 1.33
date: 1994/11/10 11:08:59;  author: mike;  state: Exp;
detail level stuff.
----------------------------
revision 1.32
date: 1994/11/09 22:55:52;  author: matt;  state: Exp;
Added variable Current_seg_depth for detail level optimization
----------------------------
revision 1.31
date: 1994/11/09 19:57:31;  author: john;  state: Exp;
Added texture rle caching.
----------------------------
revision 1.30
date: 1994/11/09 19:54:48;  author: mike;  state: Exp;
Call flat shader if Tmap_flat_flag set.
----------------------------
revision 1.29
date: 1994/11/02 21:33:31;  author: john;  state: Exp;
Added Burger Bill's optimization, ie.. 2 muls per 8 pixels.
----------------------------
revision 1.28
date: 1994/11/02 11:32:16;  author: john;  state: Exp;
Added code for c callable inner loop and code to 
test dividing out z0.
----------------------------
revision 1.27
date: 1994/10/28 20:54:32;  author: matt;  state: Exp;
Added error checking
----------------------------
revision 1.26
date: 1994/10/25 11:20:20;  author: mike;  state: Exp;
fix bug in lighting overflow checking for one scanline tall linear texture maps.
----------------------------
revision 1.25
date: 1994/08/03 15:40:33;  author: mike;  state: Exp;
Prevent divide overflows, decrease occurrence of precision-caused glitches.
----------------------------
revision 1.24
date: 1994/07/27 09:31:16;  author: mike;  state: Exp;
Fix concave texture map problem, decrease occurrence of unimportant int 3.
----------------------------
revision 1.23
date: 1994/06/17 12:23:31;  author: mike;  state: Exp;
Support non-lighted texture maps.
----------------------------
revision 1.22
date: 1994/06/11 08:10:24;  author: mike;  state: Exp;
Fix mysterious hang bug, lighting value was out of range.
----------------------------
revision 1.21
date: 1994/06/09 16:10:16;  author: mike;  state: Exp;
Change SC2000 from constant to variable.
=============================================================================
RCS file: f:/miner/source/vecmat/vecmat.h,v
Working file: vecmat/vecmat.h
head: 1.6
description: Header file for vector/matrix library
----------------------------
revision 1.6
date: 1993/09/20 10:11:53;  author: mike;  state: Exp;
no changes
----------------------------
revision 1.5
date: 1993/09/20 09:58:58;  author: mike;  state: Exp;
Re-fix vm_vec_make
----------------------------
revision 1.4
date: 1993/09/20 09:41:21;  author: mike;  state: Exp;
Correct vm_vec_make and vm_mat_make macros to return the destination
as the value of the macro.
----------------------------
revision 1.3
date: 1993/09/17 11:23:47;  author: matt;  state: Exp;
Added row access (via xrow,yrow,zrow) to vms_matrix
Added macro vm_mat_make(), like vm_vec_make()
----------------------------
revision 1.2
date: 1993/09/17 11:10:32;  author: matt;  state: Exp;
Added vm_vec_add2() and vm_vec_sub2(), which take 2 args (dest==src0)
----------------------------
revision 1.1
date: 1993/09/16 20:10:01;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/source/vga/vga.c,v
Working file: vga/vga.c
head: 1.14
description: VGA library code
----------------------------
revision 1.14
date: 1996/01/02 18:00:51;  author: matt;  state: Exp;
New parms for gr_init_screen
----------------------------
revision 1.13
date: 1995/12/19 13:46:05;  author: matt;  state: Exp;
Use symbolic constant for special 3dmax mode
----------------------------
revision 1.12
date: 1995/12/13 18:03:03;  author: matt;  state: Exp;
From JOHN: added code for special 3dbios mode
----------------------------
revision 1.11
date: 1995/12/13 16:28:54;  author: matt;  state: Exp;
Use more legal way of checking screen mode
----------------------------
revision 1.10
date: 1995/11/28 10:30:22;  author: matt;  state: Exp;
Added support for 1280x1024
----------------------------
revision 1.9
date: 1995/11/22 12:52:42;  author: matt;  state: Exp;
Changed numeric literals to symbolic constants
----------------------------
revision 1.8
date: 1995/11/16 12:00:17;  author: jed;  state: Exp;
killed some prototype stuff
----------------------------
revision 1.7
date: 1995/11/14 18:11:07;  author: jed;  state: Exp;
added code to support linear frame buffering
----------------------------
revision 1.6
date: 1995/08/30 21:11:26;  author: matt;  state: Exp;
Added global containing current VGA mode
----------------------------
revision 1.5
date: 1995/06/05 12:41:37;  author: samir;  state: Exp;
Moved gr_palette_clear from gr.c to vga.c
----------------------------
revision 1.4
date: 1995/05/31 10:54:26;  author: matt;  state: Exp;
Added RCS header
----------------------------
revision 1.2
date: 1994/02/17 15:55:59;  author: john;  state: Exp;
Initial version
----------------------------
revision 1.20
date: 1994/01/18 10:58:55;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.19
date: 1993/12/22 13:28:40;  author: john;  state: Exp;
Added back changes Matt made in r1.14
----------------------------
revision 1.18
date: 1993/12/22 13:18:32;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.17
date: 1993/12/20 16:48:47;  author: john;  state: Exp;
Put cli/sti around clear keybuffer in key_close
----------------------------
revision 1.16
date: 1993/12/20 15:39:13;  author: john;  state: Exp;
Tried to neaten handler code... also, moved some cli's and sti's around
trying to find bug.  Made the code call key_get_milliseconds instead
of timer_get_milliseconds, because we don't want the cli and sti
stuff in the interrupt handler.  
----------------------------
revision 1.15
date: 1993/12/02 10:54:48;  author: john;  state: Exp;
Made the Ctrl,Shift,Alt keys buffer like all the other keys.
----------------------------
revision 1.14
date: 1993/10/29 11:25:18;  author: matt;  state: Exp;
Made key_down_time() not accumulate time if shift,alt,ctrl down
----------------------------
revision 1.13
date: 1993/10/29 10:47:00;  author: john;  state: Exp;
*** empty log message ***
----------------------------
revision 1.12
date: 1993/10/16 19:24:16;  author: matt;  state: Exp;
Added new function key_clear_times() & key_clear_counts()
----------------------------
revision 1.11
date: 1993/10/15 10:16:49;  author: john;  state: Exp;
bunch of stuff, mainly with detecting debugger.
----------------------------
revision 1.10
date: 1993/10/04 13:25:57;  author: john;  state: Exp;
Changed the way extended keys are processed.
----------------------------
revision 1.9
date: 1993/09/28 11:35:32;  author: john;  state: Exp;
added key_peekkey
----------------------------
revision 1.8
date: 1993/09/23 18:09:23;  author: john;  state: Exp;
fixed bug checking for DBG
----------------------------
revision 1.7
date: 1993/09/23 17:28:01;  author: john;  state: Exp;
made debug check look for DBG> instead of CONTROL
----------------------------
revision 1.6
date: 1993/09/20 17:08:19;  author: john;  state: Exp;
Made so that keys pressed in debugger don't get passed through to
the keyboard handler. I also discovered, but didn't fix a error
(page fault) caused by jumping back and forth between the debugger
and the program...
----------------------------
revision 1.5
date: 1993/09/17 09:58:12;  author: john;  state: Exp;
Added checks for already installed, not installed, etc.
----------------------------
revision 1.4
date: 1993/09/15 17:28:00;  author: john;  state: Exp;
Fixed bug in FlushBuffer that used CX before a REP instead of ECX.
----------------------------
revision 1.3
date: 1993/09/08 14:48:00;  author: john;  state: Exp;
made getch() return an int instead of a char that has shift states, etc.
----------------------------
revision 1.2
date: 1993/07/22 13:12:23;  author: john;  state: Exp;
fixed comment
,.
----------------------------
revision 1.1
date: 1993/07/10 13:10:42;  author: matt;  state: Exp;
Initial revision
=============================================================================
RCS file: f:/miner/init/makefile.def,v
Working file: init/makefile.def
head: 1.98
description: Common makefile targets and rules for Miner
This file should be included by all Miner makefiles 
----------------------------
revision 1.98
date: 1996/12/04 18:29:50;  author: matt;  state: Exp;
Added support for keeping 3rd-party libraries in their own directories,
instead of in the normal lib directory.
----------------------------
revision 1.97
date: 1996/12/04 15:16:50;  author: matt;  state: Exp;
Added (commented-out) flags for newer DOS4GW
----------------------------
revision 1.96
date: 1996/08/27 10:59:50;  author: matt;  state: Exp;
Added support for causeway dos extender
----------------------------
revision 1.95
date: 1996/07/19 14:37:59;  author: matt;  state: Exp;
Fixed a couple small things
----------------------------
revision 1.94
date: 1996/07/03 18:43:49;  author: matt;  state: Exp;
Added support for win subdir of lib directory
----------------------------
revision 1.93
date: 1996/07/03 18:04:11;  author: matt;  state: Exp;
Look in \miner\source\lib\win before looking in \miner\source\lib
----------------------------
revision 1.92
date: 1996/06/17 16:30:02;  author: samir;  state: Exp;
Added DLL make capabilities for NT/95
----------------------------
revision 1.91
date: 1996/06/11 14:49:20;  author: samir;  state: Exp;
Win95: eliminated switch that allowed compat libs with 10.0. 
(otherwise can't link in new Windows 95 API funcs)
----------------------------
revision 1.90
date: 1996/06/07 15:26:30;  author: samir;  state: Exp;
under watcom 10.6, use win95 system
----------------------------
revision 1.89
date: 1996/05/23 18:10:36;  author: matt;  state: Exp;
Fixed no_mono target, which broke no_debug if listed after it
----------------------------
revision 1.88
date: 1996/05/23 18:09:01;  author: matt;  state: Exp;
Added option to make bound version that doesn't force VM usage
----------------------------
revision 1.87
date: 1996/01/31 22:22:51;  author: matt;  state: Exp;
Default Cflags always had stack check disabled, do turning on stack
checking didn't do anything.
----------------------------
revision 1.86
date: 1996/01/29 11:37:15;  author: matt;  state: Exp;
Put in support for TurboC
----------------------------
revision 1.85
date: 1995/12/06 15:55:59;  author: matt;  state: Exp;
Added option to disable optimized builds in a makefile
----------------------------
revision 1.84
date: 1995/10/26 18:18:22;  author: samir;  state: Exp;
Made all windows libraries and headers for Descent in 
minerlocal\source\lib\win
----------------------------
revision 1.83
date: 1995/10/24 14:21:49;  author: samir;  state: Exp;
Took out WIN32_LEAN_AND_MEAN.
----------------------------
revision 1.82
date: 1995/10/02 11:11:32;  author: matt;  state: Exp;
Changed addpath parms to pass path relative to current drive
----------------------------
revision 1.81
date: 1995/09/01 11:59:28;  author: samir;  state: Exp;
Added lean and mean Win32.
----------------------------
revision 1.80
date: 1995/08/14 17:52:13;  author: matt;  state: Exp;
Allow asm includes to be upper- or lower-case
----------------------------
revision 1.79
date: 1995/08/14 17:22:25;  author: matt;  state: Exp;
Changed some stuff for Windows
----------------------------
revision 1.78
date: 1995/05/24 16:47:37;  author: matt;  state: Exp;
Added support for building win32 programs
----------------------------
revision 1.77
date: 1995/05/24 12:31:15;  author: matt;  state: Exp;
Allowed DOS4GPATH to either specify path+filename, or just path
----------------------------
revision 1.76
date: 1995/04/19 12:09:49;  author: matt;  state: Exp;
Added support for Symantec C compiler
----------------------------
revision 1.75
date: 1995/04/06 18:24:49;  author: matt;  state: Exp;
Added option to disable 'update' target
----------------------------
revision 1.74
date: 1995/04/06 18:20:44;  author: matt;  state: Exp;
Added stuff (several weeks ago) for building windows executable
----------------------------
revision 1.73
date: 1995/02/06 22:58:40;  author: matt;  state: Exp;
Allow multiple 'clean:' targets
----------------------------
revision 1.72
date: 1995/01/18 18:02:15;  author: matt;  state: Exp;
Added support for TASM (instead of MASM)
----------------------------
revision 1.71
date: 1994/12/09 18:49:41;  author: matt;  state: Exp;
Added no_mono option
----------------------------
revision 1.70
date: 1994/12/06 18:36:00;  author: matt;  state: Exp;
Added global_aflags
----------------------------
revision 1.69
date: 1994/11/27 20:12:09;  author: matt;  state: Exp;
Made case of install targ extensions insignificant
----------------------------
revision 1.68
date: 1994/11/21 13:56:26;  author: matt;  state: Exp;
Bound version now prints dos4gw banner
----------------------------
revision 1.67
date: 1994/11/21 13:55:57;  author: matt;  state: Exp;
Let subsystems have multiple targets
----------------------------
revision 1.66
date: 1994/10/28 10:58:30;  author: matt;  state: Exp;
Made bound version turn virtual mem on, and banner off
----------------------------
revision 1.65
date: 1994/10/27 19:24:49;  author: matt;  state: Exp;
Changed optimization & stack options (change actually made 8-26-94)
----------------------------
revision 1.64
date: 1994/08/12 20:59:46;  author: matt;  state: Exp;
Made 'make <prog>' work again, when <prog> is the name without an extension.
Make 'install' exit with error if any target got an rcs warning.
----------------------------
revision 1.63
date: 1994/07/19 15:07:20;  author: mike;  state: Exp;
Cause "make optimize" to optimize for Pentium with /5r option.
(default is, and previous was, /4r)
----------------------------
revision 1.62
date: 1994/07/19 14:15:33;  author: mike;  state: Exp;
Add /5r option to optimize5
----------------------------
revision 1.61
date: 1994/06/14 11:18:25;  author: matt;  state: Exp;
Added support for cflags global to makefile
----------------------------
revision 1.60
date: 1994/05/02 15:49:14;  author: matt;  state: Exp;
Added target 'bind' which creates *.bnd files for all exes
----------------------------
revision 1.59
date: 1994/04/22 13:13:42;  author: matt;  state: Exp;
Added list of sources that always is built optimized
Removed move of log headers
----------------------------
revision 1.58
date: 1994/04/01 11:42:51;  author: matt;  state: Exp;
Added flags for assembly, and when NDEBUG is set, use /d
=============================================================================
RCS file: f:/miner/init/makefile.def,v
Working file: init/makefile.def
head: 1.98
description: Common makefile targets and rules for Miner
This file should be included by all Miner makefiles 
----------------------------
revision 1.98
date: 1996/12/04 18:29:50;  author: matt;  state: Exp;
Added support for keeping 3rd-party libraries in their own directories,
instead of in the normal lib directory.
----------------------------
revision 1.97
date: 1996/12/04 15:16:50;  author: matt;  state: Exp;
Added (commented-out) flags for newer DOS4GW
----------------------------
revision 1.96
date: 1996/08/27 10:59:50;  author: matt;  state: Exp;
Added support for causeway dos extender
----------------------------
revision 1.95
date: 1996/07/19 14:37:59;  author: matt;  state: Exp;
Fixed a couple small things
----------------------------
revision 1.94
date: 1996/07/03 18:43:49;  author: matt;  state: Exp;
Added support for win subdir of lib directory
----------------------------
revision 1.93
date: 1996/07/03 18:04:11;  author: matt;  state: Exp;
Look in \miner\source\lib\win before looking in \miner\source\lib
----------------------------
revision 1.92
date: 1996/06/17 16:30:02;  author: samir;  state: Exp;
Added DLL make capabilities for NT/95
----------------------------
revision 1.91
date: 1996/06/11 14:49:20;  author: samir;  state: Exp;
Win95: eliminated switch that allowed compat libs with 10.0. 
(otherwise can't link in new Windows 95 API funcs)
----------------------------
revision 1.90
date: 1996/06/07 15:26:30;  author: samir;  state: Exp;
under watcom 10.6, use win95 system
----------------------------
revision 1.89
date: 1996/05/23 18:10:36;  author: matt;  state: Exp;
Fixed no_mono target, which broke no_debug if listed after it
----------------------------
revision 1.88
date: 1996/05/23 18:09:01;  author: matt;  state: Exp;
Added option to make bound version that doesn't force VM usage
----------------------------
revision 1.87
date: 1996/01/31 22:22:51;  author: matt;  state: Exp;
Default Cflags always had stack check disabled, do turning on stack
checking didn't do anything.
----------------------------
revision 1.86
date: 1996/01/29 11:37:15;  author: matt;  state: Exp;
Put in support for TurboC
----------------------------
revision 1.85
date: 1995/12/06 15:55:59;  author: matt;  state: Exp;
Added option to disable optimized builds in a makefile
----------------------------
revision 1.84
date: 1995/10/26 18:18:22;  author: samir;  state: Exp;
Made all windows libraries and headers for Descent in 
minerlocal\source\lib\win
----------------------------
revision 1.83
date: 1995/10/24 14:21:49;  author: samir;  state: Exp;
Took out WIN32_LEAN_AND_MEAN.
----------------------------
revision 1.82
date: 1995/10/02 11:11:32;  author: matt;  state: Exp;
Changed addpath parms to pass path relative to current drive
----------------------------
revision 1.81
date: 1995/09/01 11:59:28;  author: samir;  state: Exp;
Added lean and mean Win32.
----------------------------
revision 1.80
date: 1995/08/14 17:52:13;  author: matt;  state: Exp;
Allow asm includes to be upper- or lower-case
----------------------------
revision 1.79
date: 1995/08/14 17:22:25;  author: matt;  state: Exp;
Changed some stuff for Windows
----------------------------
revision 1.78
date: 1995/05/24 16:47:37;  author: matt;  state: Exp;
Added support for building win32 programs
----------------------------
revision 1.77
date: 1995/05/24 12:31:15;  author: matt;  state: Exp;
Allowed DOS4GPATH to either specify path+filename, or just path
----------------------------
revision 1.76
date: 1995/04/19 12:09:49;  author: matt;  state: Exp;
Added support for Symantec C compiler
----------------------------
revision 1.75
date: 1995/04/06 18:24:49;  author: matt;  state: Exp;
Added option to disable 'update' target
----------------------------
revision 1.74
date: 1995/04/06 18:20:44;  author: matt;  state: Exp;
Added stuff (several weeks ago) for building windows executable
----------------------------
revision 1.73
date: 1995/02/06 22:58:40;  author: matt;  state: Exp;
Allow multiple 'clean:' targets
----------------------------
revision 1.72
date: 1995/01/18 18:02:15;  author: matt;  state: Exp;
Added support for TASM (instead of MASM)
----------------------------
revision 1.71
date: 1994/12/09 18:49:41;  author: matt;  state: Exp;
Added no_mono option
----------------------------
revision 1.70
date: 1994/12/06 18:36:00;  author: matt;  state: Exp;
Added global_aflags
----------------------------
revision 1.69
date: 1994/11/27 20:12:09;  author: matt;  state: Exp;
Made case of install targ extensions insignificant
----------------------------
revision 1.68
date: 1994/11/21 13:56:26;  author: matt;  state: Exp;
Bound version now prints dos4gw banner
----------------------------
revision 1.67
date: 1994/11/21 13:55:57;  author: matt;  state: Exp;
Let subsystems have multiple targets
----------------------------
revision 1.66
date: 1994/10/28 10:58:30;  author: matt;  state: Exp;
Made bound version turn virtual mem on, and banner off
----------------------------
revision 1.65
date: 1994/10/27 19:24:49;  author: matt;  state: Exp;
Changed optimization & stack options (change actually made 8-26-94)
----------------------------
revision 1.64
date: 1994/08/12 20:59:46;  author: matt;  state: Exp;
Made 'make <prog>' work again, when <prog> is the name without an extension.
Make 'install' exit with error if any target got an rcs warning.
----------------------------
revision 1.63
date: 1994/07/19 15:07:20;  author: mike;  state: Exp;
Cause "make optimize" to optimize for Pentium with /5r option.
(default is, and previous was, /4r)
----------------------------
revision 1.62
date: 1994/07/19 14:15:33;  author: mike;  state: Exp;
Add /5r option to optimize5
----------------------------
revision 1.61
date: 1994/06/14 11:18:25;  author: matt;  state: Exp;
Added support for cflags global to makefile
----------------------------
revision 1.60
date: 1994/05/02 15:49:14;  author: matt;  state: Exp;
Added target 'bind' which creates *.bnd files for all exes
----------------------------
revision 1.59
date: 1994/04/22 13:13:42;  author: matt;  state: Exp;
Added list of sources that always is built optimized
Removed move of log headers
----------------------------
revision 1.58
date: 1994/04/01 11:42:51;  author: matt;  state: Exp;
Added flags for assembly, and when NDEBUG is set, use /d
